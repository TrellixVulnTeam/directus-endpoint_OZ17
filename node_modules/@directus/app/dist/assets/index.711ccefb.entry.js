var nd=Object.defineProperty,ld=Object.defineProperties;var od=Object.getOwnPropertyDescriptors;var $a=Object.getOwnPropertySymbols;var ad=Object.prototype.hasOwnProperty,id=Object.prototype.propertyIsEnumerable;var oo=(e,t,n)=>t in e?nd(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ve=(e,t)=>{for(var n in t||(t={}))ad.call(t,n)&&oo(e,n,t[n]);if($a)for(var n of $a(t))id.call(t,n)&&oo(e,n,t[n]);return e},Ie=(e,t)=>ld(e,od(t));var Ct=(e,t,n)=>(oo(e,typeof t!="symbol"?t+"":t,n),n);import{d as Rt,s as Kt,c as rd,l as z,r as D,b as sd,e as dd,f as ud,g as cd,h as pd,i as md,j as fd,k as _d,B as Ca,p as fn,n as vd,o as yd,q as hd,t as Z,u as ae,v as V,w as c,y as m,z as F,A as d,C as a,D as he,E as $,F as w,G as at,H as ke,I as dt,J as ut,K as At,L as vt,M as Fe,N as ie,O as Te,P as M,Q as Nt,R as de,S as He,T as nt,U as lt,V as ft,W as P,X as Sl,Y as nn,Z as it,_ as A,$ as Sa,a0 as gd,a1 as se,a2 as Wt,a3 as Jt,a4 as C,a5 as Mn,a6 as Ve,a7 as ze,a8 as xe,a9 as et,aa as _n,ab as bd,ac as wd,ad as kd,ae as ao,af as Fa,ag as Va,ah as Aa,ai as Pt,aj as io,ak as Fl,al as Ia,am as Ea,an as Vl,ao as ro,ap as $d,aq as Cd,ar as Xt,as as Da,at as Al,au as Pa,av as Sd,aw as Fd,ax as Tt,ay as Vd,az as Ad,aA as Id,aB as so,aC as Ta,aD as Je,aE as bt,aF as Oa,aG as Ed,aH as Ot,aI as uo,aJ as Dd,aK as Bt,aL as co,aM as La,aN as Il,aO as ja,aP as po,aQ as Pd,aR as Ra,aS as Td,aT as Od,aU as Ld,aV as jd,aW as Rd,aX as Md,aY as Ud,aZ as Nd,a_ as Bd,a$ as qd,b0 as zd,b1 as Kd,b2 as Wd,b3 as Hd,b4 as Gd,b5 as Ma,b6 as Ua,b7 as mo,b8 as El,b9 as Zd,ba as tl,bb as Jd,bc as Xd,bd as Yd,be as Qd,bf as xd,bg as eu,bh as tu,bi as nu,bj as lu,bk as ou,bl as au,bm as Na,bn as iu,bo as ru,bp as su,bq as du,br as uu,bs as Mt,bt as cu,bu as fo,bv as Yt,bw as pu,bx as Ba,by as qa,bz as Un,bA as za,bB as Qt,bC as mu,bD as fu,bE as _u,bF as _o,bG as Ka,bH as vu,bI as yu,bJ as hu,bK as gu,bL as bu,bM as wu,bN as ku,bO as $u,bP as Cu,bQ as Su,bR as Fu}from"./vendor.3b903562.js";import{u as Ge,a as vn,d as kn,b as _t,g as St,S as Vu,A as Au,E as Iu,c as Eu,e as Dl,f as It,h as Ze,m as Du,i as Pl,j as Tl}from"./use-sync.c510d0f0.js";const Pu=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))l(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const r of u.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&l(r)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerpolicy&&(u.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?u.credentials="include":o.crossorigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function l(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}};Pu();const Tu="9.11.1",Et=Rt({id:"appStore",state:()=>({sidebarOpen:window.innerWidth>=1430,notificationsDrawerOpen:!1,fullScreen:!1,hydrated:!1,hydrating:!1,error:null,authenticated:!1,accessTokenExpiry:0,basemap:"OpenStreetMap"})}),Ou="modulepreload",Wa={},Lu="",N=function(t,n){return!n||n.length===0?t():Promise.all(n.map(l=>{if(l=`${Lu}${l}`,l in Wa)return;Wa[l]=!0;const o=l.endsWith(".css"),u=o?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const r=document.createElement("link");if(r.rel=o?"stylesheet":Ou,o||(r.as="script",r.crossOrigin=""),r.href=l,document.head.appendChild(r),o)return new Promise((i,s)=>{r.addEventListener("load",i),r.addEventListener("error",s)})})).then(()=>t())},ju=Kt([]),Ha=Kt([]);function Ol(){return{displays:Ha,displaysRaw:ju}}function yn(e){return e?Ha.value.find(({id:t})=>t===e):void 0}const Ru=Kt([]),Ga=Kt([]);function $n(){return{interfaces:Ga,interfacesRaw:Ru}}function Lt(e){return e?Ga.value.find(({id:t})=>t===e):void 0}const Mu=Kt([]),Za=Kt([]);function nl(){return{panels:Za,panelsRaw:Mu}}function Ja(e){return e?Za.value.find(({id:t})=>t===e):void 0}const Uu=Kt([]),Xa=Kt([]);function Cn(){return{layouts:Xa,layoutsRaw:Uu}}function Ya(e){return e?Xa.value.find(({id:t})=>t===e):void 0}const Nu=Kt([]),Bu=Kt([]);function Ll(){return{modules:Bu,modulesRaw:Nu}}var qu={"en-US":{short:{year:"numeric",month:"short",day:"numeric"},long:{year:"numeric",month:"short",day:"numeric",weekday:"short",hour:"numeric",minute:"numeric",hour12:!0}},"bg-BG":{short:{year:"numeric",month:"numeric",day:"numeric"},long:{year:"numeric",month:"short",day:"numeric",weekday:"short",hour:"numeric",minute:"numeric",hour12:!1}},"cs-CZ":{short:{year:"numeric",month:"short",day:"numeric"},long:{year:"numeric",month:"short",day:"numeric",weekday:"short",hour:"numeric",minute:"numeric",hour12:!1}},"de-DE":{short:{year:"numeric",month:"short",day:"numeric"},long:{year:"numeric",month:"short",day:"numeric",weekday:"short",hour:"numeric",minute:"numeric",hour12:!1}},"fr-FR":{short:{year:"numeric",month:"short",day:"numeric"},long:{year:"numeric",month:"short",day:"numeric",weekday:"short",hour:"numeric",minute:"numeric",hour12:!1}},"it-IT":{short:{year:"numeric",month:"short",day:"numeric"},long:{year:"numeric",month:"short",day:"numeric",weekday:"short",hour:"numeric",minute:"numeric",hour12:!1}},"ms-MY":{short:{year:"numeric",month:"short",day:"numeric"},long:{year:"numeric",month:"short",day:"numeric",weekday:"short",hour:"numeric",minute:"numeric",hour12:!1}},"nl-NL":{short:{year:"numeric",month:"short",day:"numeric"},long:{year:"numeric",month:"short",day:"numeric",weekday:"short",hour:"numeric",minute:"numeric",hour12:!1}},"pl-PL":{short:{year:"numeric",month:"short",day:"numeric"},long:{year:"numeric",month:"short",day:"numeric",weekday:"short",hour:"numeric",minute:"numeric",hour12:!1}},"pt-BR":{short:{year:"numeric",month:"short",day:"numeric"},long:{year:"numeric",month:"short",day:"numeric",weekday:"short",hour:"numeric",minute:"numeric",hour12:!1}},"ru-RU":{short:{year:"numeric",month:"short",day:"numeric"},long:{year:"numeric",month:"short",day:"numeric",weekday:"short",hour:"numeric",minute:"numeric",hour12:!1}},"zh-CN":{short:{year:"numeric",month:"short",day:"numeric"},long:{year:"numeric",month:"short",day:"numeric",weekday:"short",hour:"numeric",minute:"numeric",hour12:!0}}},zu={"en-US":{currency:{style:"currency",currency:"USD",notation:"standard"},decimal:{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2},percent:{style:"percent",useGrouping:!1}}},k={identifier:"Identifier",avatar:"Avatar",application:"Application",default_provider:"Default",published:"Published",draft:"Draft",archived:"Archived",modules:"Modules",module_bar:"Module Bar",reset_width:"Reset Width",tile_size:"Tile Size",edit_field:"Edit Field",conditions:"Conditions",maps:"Maps",switch_user:"Switch User",item_creation:"Item Creation",item_revision:"Item Revision",enter_a_name:"Enter a Name...",duplicate_field:"Duplicate Field",half_width:"Half Width",full_width:"Full Width",group:"Group",export_items:"Export Items",and:"And",or:"Or",fill_width:"Fill Width",field_name_translations:"Field Name Translations",enter_password_to_enable_tfa:"Enter your password to enable Two-Factor Authentication",add_field:"Add Field",role_name:"Role Name",branch:"Branch",leaf:"Leaf",indeterminate:"Indeterminate",edit_collection:"Edit Collection",exclusive:"Exclusive",children:"Children",db_only_click_to_configure:"Database Only: Click to Configure",show_active_items:"Show Active Items",show_archived_items:"Show Archived Items",show_all_items:"Show All Items",edited:"Value Edited",required:"Required",required_for_app_access:"Required for App Access",requires_value:"Requires value",create_preset:"Create Preset",create_panel:"Create Panel",create_role:"Create Role",create_user:"Create User",delete_panel:"Delete Panel",create_webhook:"Create Webhook",create_translation_string:"Create Translation String",no_translation_string:"No Translation Strings",no_translation_string_copy:"There are no translation strings yet.",translation_string_key_placeholder:"Translation string key...",translation_string_translations_placeholder:"Add a new translation",edit_translation_string:"Edit Translation String",delete_translation_string_copy:'Are you sure you want to delete the translation string "{key}"? This action can not be undone.',invite_users:"Invite Users",invite:"Invite",email_already_invited:'Email "{email}" has already been invited',subject:"Subject",inbox:"Inbox",emails:"Emails",connection_excellent:"Excellent Connection",connection_good:"Good Connection",connection_fair:"Fair Connection",connection_poor:"Poor Connection",primary:"Primary",rename_folder:"Rename Folder",delete_folder:"Delete Folder",prefix:"Prefix",suffix:"Suffix",reset_bookmark:"Reset Bookmark",update_bookmark:"Update Bookmark",delete_bookmark:"Delete Bookmark",delete_bookmark_copy:'Are you sure you want to delete the "{bookmark}" bookmark? This action cannot be undone.',delete_personal_bookmark:"Delete Personal Bookmark",delete_role_bookmark:"Delete Role Bookmark",delete_global_bookmark:"Delete Global Bookmark",logoutReason:{SIGN_OUT:"Signed out",SESSION_EXPIRED:"Session expired"},public_label:"Public",public_description:"Controls what API data is available without authenticating.",admin_description:"Initial administrative role with unrestricted App/API access.",not_allowed:"Not Allowed",directus_version:"Directus Version",node_version:"Node Version",node_uptime:"Node Uptime",os_type:"OS Type",os_version:"OS Version",os_uptime:"OS Uptime",os_totalmem:"OS Memory",archive:"Archive",archive_confirm:"Are you sure you want to archive this item?",archive_confirm_count:"No Items Selected | Are you sure you want to archive this item? | Are you sure you want to archive these {count} items?",reset_system_permissions_to:"Reset System Permissions to:",reset_system_permissions_copy:"This action will overwrite any custom permissions you may have applied to the system collections. Are you sure?",the_following_are_minimum_permissions:'The following are minimum permissions required when "App Access" is enabled. You can extend permissions beyond this, but not below.',app_access_minimum:"App Access Minimum",recommended_defaults:"Recommended Defaults",unarchive:"Unarchive",unarchive_confirm:"Are you sure you want to unarchive this item?",nested_files_folders_will_be_moved:"Nested files and folders will be moved one level up.",validation_errors_notice:"The following fields have invalid values:",validationError:{eq:"Value has to be {valid}",neq:"Value can't be {invalid}",in:"Value has to be one of {valid}",nin:"Value can't be one of {invalid}",contains:"Value has to contain {substring}",ncontains:"Value can't contain {substring}",gt:"Value has to be greater than {valid}",gte:"Value has to be greater than or equal to {valid}",lt:"Value has to be less than {valid}",lte:"Value has to be less than or equal to {valid}",empty:"Value has to be empty",nempty:"Value can't be empty",null:"Value has to be null",nnull:"Value can't be null",required:"Value is required",unique:"Value has to be unique",regex:"Value doesn't have the correct format"},all_access:"All Access",no_access:"No Access",use_custom:"Use Custom",nullable:"Nullable",allow_null_value:"Allow NULL value",allow_multiple:"Allow Multiple",allow_multiple_to_be_open:"Allow Multiple to be Opened",enter_value_to_replace_nulls:"Please enter a new value to replace any NULLs currently within this field.",field_standard:"Standard",field_presentation:"Presentation & Aliases",field_file:"Single File",field_files:"Multiple Files",field_m2o:"M2O Relationship",field_m2a:"M2A Relationship",field_o2m:"O2M Relationship",field_m2m:"M2M Relationship",field_translations:"Translations",field_group:"Field Group",item_permissions:"Item Permissions",field_permissions:"Field Permissions",field_validation:"Field Validation",field_presets:"Field Presets",permissions_for_role:"Items the {role} Role can {action}.",fields_for_role:"Fields the {role} Role can {action}.",validation_for_role:"Field {action} rules the {role} Role must obey.",presets_for_role:"Field value defaults for the {role} Role.",presentation_and_aliases:"Presentation & Aliases",revision_post_create:"Here is what this item looked like when it was created.",revision_post_update:"Here is what this item looked like after the update.",changes_made:"Below are the specific changes made in this revision.",no_relational_data:"Keep in mind that relational data is not included here.",hide_field:"Hide Field",hide_field_on_detail:"Hide Field on Detail",show_field_on_detail:"Show Field on Detail",delete_field:"Delete Field",fields_and_layout:"Fields & Layout",field_create_success:'Created Field: "{field}"',field_update_success:'Updated Field: "{field}"',duplicate_where_to:"Where would you like to duplicate this field to?",language:"Language",language_placeholder:"Select a language...",aggregate_function:"Aggregate Function",aggregate_precision:"Aggregate Precision",group_aggregation:"Group Aggregation",group_precision:"Group Precision",global:"Global",admins_have_all_permissions:"Admins have all permissions",camera:"Camera",show_zero:"Show Zero",create_in_advanced_field_creation_mode:"Create Field in Advanced Mode",continue_in_advanced_field_creation_mode:"Continue in Advanced Field Creation Mode",validation:"Validation",sum:"Sum",sum_distinct:"Sum Distinct",avg:"Average",avg_distinct:"Average Distinct",count:"Count",count_distinct:"Count Distinct",min:"Min",max:"Max",exposure:"Exposure",shutter:"Shutter",iso:"ISO",focal_length:"Focal Length",schema_setup_key:"This field's database column name and API key",create_field:"Create Field",creating_new_field:"New Field ({collection})",field_in_collection:"{field} ({collection})",reset_page_preferences:"Reset Page Preferences",hidden_field:"Hidden Field",hidden_on_detail:"Hidden on Detail",disabled_editing_value:"Disable editing value",key:"Key",alias:"Alias",bigInteger:"Big Integer",boolean:"Boolean",date:"Date",date_range:"Date Range",datetime:"DateTime",dateTime:"DateTime",precision:"Precision",decimal:"Decimal",float:"Float",integer:"Integer",json:"JSON",xml:"XML",string:"String",text:"Text",time:"Time",timestamp:"Timestamp",uuid:"UUID",hash:"Hash",geometry:"Geometry (All)","geometry.Point":"Point","geometry.LineString":"LineString","geometry.Polygon":"Polygon","geometry.MultiPoint":"MultiPoint","geometry.MultiLineString":"MultiLineString","geometry.MultiPolygon":"MultiPolygon",not_available_for_type:"Not Available for this Type",create_translations:"Create Translations",auto_refresh:"Auto Refresh",refresh_interval:"Refresh Interval",no_refresh:"Do not refresh",refresh_interval_seconds:"Refresh Instantly | Every Second | Every {seconds} Seconds",refresh_interval_minutes:"Every Minute | Every {minutes} Minutes",auto_generate:"Auto-Generate",this_will_auto_setup_fields_relations:"This will automatically setup all required fields and relations.",click_here:"Click here",to_manually_setup_translations:"to manually setup translations.",click_to_manage_translated_fields:"There are no translated fields yet. Click here to create them. | There is one translated field. Click here to manage it. | There are {count} translated fields. Click here to manage them.",fields_group:"Fields Group",no_collections_found:"No collections found.",new_data_alert:"The following will be created within your Data Model:",search_collection:"Search Collection...",new_field:"New Field",new_collection:"New Collection",add_m2o_to_collection:'Add M2O to "{collection}"',add_o2m_to_collection:'Add O2M to "{collection}"',add_m2m_to_collection:'Add M2M to "{collection}"',choose_a_type:"Choose a Type...",determined_by_relationship:"Determined by Relationship",add_note:"Add a helpful note for users...",add_link:"Add Link",custom_link:"Custom Link",default_value:"Default Value",standard_field:"Standard Field",single_file:"Single File",multiple_files:"Multiple Files",m2o_relationship:"Many to One Relationship",o2m_relationship:"One to Many Relationship",m2m_relationship:"Many to Many Relationship",m2a_relationship:"Many to Any Relationship",invalid_item:"Invalid Item",next:"Next",field_name:"Field Name",translations:"Translations",no_translations:"No Translations",note:"Note",enter_a_value:"Enter a value...",enter_a_placeholder:"Enter a placeholder...",length:"Length",soft_length:"Soft Limit",precision_scale:"Precision & Scale",readonly:"Readonly",unique:"Unique",updated_on:"Updated On",updated_by:"Updated By",primary_key:"Primary Key",foreign_key:"Foreign Key",finish_setup:"Finish Setup",dismiss:"Dismiss",raw_value:"Raw value",copy_raw_value:"Copy Raw Value",copy_raw_value_success:"Copied",copy_raw_value_fail:"Copy Failed",paste_raw_value:"Paste Raw Value",paste_raw_value_success:"Pasted",paste_raw_value_fail:"Paste Failed",view_raw_value:"View Raw Value",edit_raw_value:"Edit Raw Value",enter_raw_value:"Enter raw value...",clear_value:"Clear Value",clear_changes:"Clear Changes",reset_to_default:"Reset to Default",undo_changes:"Undo Changes",notifications:"Notifications",show_all_activity:"Show All Activity",page_not_found:"Page Not Found",page_not_found_body:"The page you are looking for doesn't seem to exist.",confirm_revert:"Confirm Revert",confirm_revert_body:"This will revert the item to the selected state.",display:"Display",settings_update_success:"Settings updated",title:"Title",revision_delta_created:"Created",revision_delta_created_externally:"Created Externally",revision_delta_updated:"Updated 1 Field | Updated {count} Fields",revision_delta_deleted:"Deleted",revision_delta_reverted:"Reverted",revision_delta_other:"Revision",revision_delta_by:"{date} by {user}",presentation_text_values_cannot_be_reimported:"Uses presentation text, values can not be re-imported.",download_page_as_csv:"Download Page as CSV",private_user:"Private User",creation_preview:"Creation Preview",revision_preview:"Revision Preview",updates_made:"Updates Made",leave_comment:"Leave a comment...",post_comment_success:"Comment posted",post_comment_updated:"Comment updated",item_create_success:"Item Created | Items Created",item_update_success:"Item Updated | Items Updated",item_delete_success:"Item Deleted | Items Deleted",this_collection:"This Collection",related_collection:"Related Collection",related_collections:"Related Collections",translations_collection:"Translation Collection",languages_collection:"Languages Collection",import_data_input_placeholder:"CSV or JSON...",import_data_button:"Start Import",import_data_indeterminate:"Importing Data...",import_data_success:"Data successfully imported from {filename}",import_data_error:"This file's data structure doesn't match the collection.",label_import:"Import",label_export:"Export",import_export:"Import / Export",format:"Format",last_page:"Last Page",last_access:"Last Access",fill_template:"Fill with Template Value",a_unique_table_name:"A unique table name...",a_unique_column_name:"A unique column name...",enable_custom_values:"Enable custom values",submit:"Submit",move_to_folder:"Move to Folder",move:"Move",system:"System",add_field_related:"Add Field to Related Collection",interface_label:"Interface",today:"Today",yesterday:"Yesterday",delete_comment:"Delete Comment",delete_share:"Delete Share",functions:{year:"Year",month:"Month",week:"Week",day:"Day",weekday:"Weekday",hour:"Hour",minute:"Minute",second:"Second",count:"Count"},"date-fns_date":"PPP","date-fns_time":"h:mm:ss a","date-fns_time_no_seconds":"h:mm a","date-fns_time_24hour":"HH:mm:ss","date-fns_time_no_seconds_24hour":"HH:mm","date-fns_date_short":"MMM d, u","date-fns_time_short":"h:mma","date-fns_date_short_no_year":"MMM d",minutes:"Minutes",hours:"Hours",month:"Month",year:"Year",select_all:"Select All",months:{january:"January",february:"February",march:"March",april:"April",may:"May",june:"June",july:"July",august:"August",september:"September",october:"October",november:"November",december:"December"},drag_mode:"Drag Mode",cancel_crop:"Cancel Crop",original:"Original",url:"URL",import_label:"Import",file_details:"File Details",dimensions:"Dimensions",size:"Size",created:"Created",modified:"Modified",checksum:"Checksum",owner:"Owner",edited_by:"Edited by",folder:"Folder",zoom:"Zoom",download:"Download",open:"Open",open_in_new_window:"Open in New Window",open_folder:'Open "{folder}" folder',foreground_color:"Foreground Color",background_color:"Background Color",upload_from_device:"Upload File from Device",choose_from_library:"Choose File from Library",import_from_url:"Import File from URL",replace_from_device:"Replace File from Device",replace_from_library:"Replace File from Library",replace_from_url:"Replace File from URL",no_file_selected:"No File Selected",download_file:"Download File",open_file_in_tab:"Open file in new tab",start_export:"Start Export",not_available_for_local_downloads:"Not available for local downloads",exporting_all_items_in_collection:"Exporting all {total} items within {collection}.",exporting_limited_items_in_collection:"Exporting {limit} out of {total} items within {collection}.",exporting_no_items_to_export:"No items to export. Adjust the exporting configuration below.",exporting_download_hint:"Once completed, this {format} file will automatically be downloaded to your device.",exporting_batch_hint:"This export will be processed in batches, and once completed, the {format} file will be saved to the File Library.",exporting_batch_hint_forced:"Due to the large number of items, this export must be processed in batches, and once completed, the {format} file will be saved to the File Library.",collection_key:"Collection Key",name:"Name",primary_key_field:"Primary Key Field",type:"Type",creating_new_collection:"Creating New Collection",created_by:"Created By",created_on:"Created On",creating_collection_info:"Name the collection and setup its unique \u201Ckey\u201D field...",creating_collection_system:"Enable and rename any of these optional fields.",auto_increment_integer:"Auto-incremented integer",auto_increment_big_integer:"Auto-incremented big integer",generated_uuid:"Generated UUID",manual_string:"Manually entered string",save_and_create_new:"Save and Create New",save_and_stay:"Save and Stay",save_as_copy:"Save as Copy",add_existing:"Add Existing",creating_items:"Creating Items",enable_create_button:"Enable Create Button",selecting_items:"Selecting Items",enable_select_button:"Enable Select Button",comments:"Comments",no_comments:"No Comments Yet",click_to_expand:"Click to Expand",select_item:"Select Item",no_items:"No items",search_items:"Search items...",disabled:"Disabled",information:"Information",report_bug:"Report Bug",request_feature:"Request Feature",interface_not_found:'Interface "{interface}" not found.',reset_interface:"Reset Interface",display_not_found:'Display "{display}" not found.',reset_display:"Reset Display","list-m2a":"Builder (M2A)",item_count:"No Items | One Item | {count} Items",no_items_copy:"There are no items in this collection yet.",file_count:"No Files | One File | {count} Files",no_files_copy:"There are no files here.",user_count:"No Users | One User | {count} Users",no_users_copy:"There are no users in this role yet.",webhooks_count:"No Webhooks | One Webhook | {count} Webhooks",no_webhooks_copy:"No webhooks have been configured yet. Get started by creating one below.",no_notifications:"No Notifications",no_notifications_copy:"You're all caught up!",activity_log:"Activity Log",all_items:"All Items",any:"Any",csv:"CSV",no_collections:"No Collections",create_collection:"Create Collection",no_collections_copy_admin:"You don\u2019t have any Collections yet. Click the button below to get started.",no_collections_copy:"You don\u2019t have any Collections yet. Please contact your system administrator.",relationship_not_setup:"The relationship hasn't been configured correctly",display_template_not_setup:"The display template option is misconfigured",collection_field_not_setup:"The collection field option is misconfigured",select_a_collection:"Select a Collection",select_a_field:"Select a Field",active:"Active",move_to:"Move To...",copy:"Copy",copy_to:"Copy To...",no_other_dashboards_copy:"You don't have any other Dashboards yet.",inactive:"Inactive",users:"Users",activity:"Activity",activity_item:"Activity Item",action:"Action",ip_address:"IP Address",user_agent:"User Agent",webhooks:"Webhooks",decimals:"Decimals",value_decimals:"Value Decimals",min_value:"Min Value",max_value:"Max Value",automatic:"Automatic",field_width:"Field Width",add_filter:"Add Filter",upper_limit:"Upper limit...",lower_limit:"Lower limit...",user_directory:"User Directory",documentation:"Documentation",sidebar:"Sidebar",duration:"Duration",charset:"Charset",second:"second",file_moved:"File Moved",collection_created:"Collection Created",modified_on:"Modified On",card_size:"Card Size",sort_field:"Sort Field",add_sort_field:"Add Sort Field",sort:"Sort",status:"Status",remove:"Remove",toggle_manual_sorting:"Toggle Manual Sorting",bookmark_doesnt_exist:"Bookmark Doesn't Exist",bookmark_doesnt_exist_copy:"The bookmark you're trying to open couldn't be found.",bookmark_doesnt_exist_cta:"Return to collection",select_an_item:"Select an item...",edit:"Edit",enabled:"Enabled",disable_tfa:"Disable 2FA",tfa_scan_code:"Scan the code in your authenticator app to finish setting up 2FA",enter_otp_to_disable_tfa:"Enter the OTP to disable 2FA",create_account:"Create Account",account_created_successfully:"Account Created Successfully",auto_fill:"Auto Fill",corresponding_field:"Corresponding Field",errors:{COLLECTION_NOT_FOUND:"Collection doesn't exist",FIELD_NOT_FOUND:"Field not found",FORBIDDEN:"Forbidden",INVALID_CREDENTIALS:"Wrong username or password",INVALID_OTP:"Wrong one-time password",INVALID_PAYLOAD:"Invalid payload",INVALID_PROVIDER:"User belongs to a different auth provider",INVALID_QUERY:"Invalid query",INVALID_USER:"Failed to authenticate user",ITEM_LIMIT_REACHED:"Item limit reached",ITEM_NOT_FOUND:"Item not found",ROUTE_NOT_FOUND:"Not found",RECORD_NOT_UNIQUE:"Duplicate value detected",USER_SUSPENDED:"User Suspended",CONTAINS_NULL_VALUES:"Field contains null values",UNPROCESSABLE_ENTITY:"Unprocessable entity",INTERNAL_SERVER_ERROR:"Unexpected Error",NOT_NULL_VIOLATION:"Value can't be null",ILLEGAL_ASSET_TRANSFORMATION:"Image source too large to preview",VALUE_TOO_LONG:"Value is too long",VALUE_OUT_OF_RANGE:"Value is out of range",INVALID_FOREIGN_KEY:"Invalid foreign key",UNKNOWN:"Unexpected Error"},security:"Security",value_hashed:"Value Securely Hashed",bookmark_name:"Bookmark name...",create_bookmark:"Create Bookmark",edit_bookmark:"Edit Bookmark",edit_personal_bookmark:"Edit Personal Bookmark",edit_role_bookmark:"Edit Role Bookmark",edit_global_bookmark:"Edit Global Bookmark",cannot_edit_role_bookmarks:"Can't Edit Role Bookmarks",cannot_edit_global_bookmarks:"Can't Edit Global Bookmarks",bookmarks:"Bookmarks",presets:"Presets",unexpected_error:"Unexpected Error",unexpected_error_copy:"An unexpected error has occurred. Please try again later.",copy_details:"Copy Details",no_app_access:"No App Access",no_app_access_copy:"This user isn't allowed to use the admin app.",password_reset_sent:"We've sent you a secure link to reset your password",password_reset_successful:"Password successfully reset",back:"Back",filter:"Filter",editing_image:"Editing Image",square:"Square",free:"Free",flip_horizontal:"Flip Horizontal",flip_vertical:"Flip Vertical",aspect_ratio:"Aspect Ratio",rotate:"Rotate",all_users:"All Users",delete_collection:"Delete Collection",update_collection_success:"Updated Collection",delete_collection_success:"Deleted Collection",make_collection_visible:"Make Collection Visible",make_collection_hidden:"Make Collection Hidden",make_folder_visible:"Make Folder Visible",make_folder_hidden:"Make Folder Hidden",goto_collection_content:"View Content",start_end_of_count_items:"{start}-{end} of {count} items",start_end_of_count_filtered_items:"{start}-{end} of {count} filtered items",one_item:"1 item",one_filtered_item:"1 filtered item",delete_collection_are_you_sure:"Are you sure you want to delete this collection? This will delete the collection and all items in it. This action is permanent.",delete_folder_are_you_sure:"Are you sure you want to delete this folder? Nested folders and collections will be moved to the top most level.",collections_shown:"Collections Shown",visible_collections:"Visible Collections",hidden_collections:"Hidden Collections",show_hidden_collections:"Show Hidden Collections",hide_hidden_collections:"Hide Hidden Collections",show_header:"Show Header",unmanaged_collections:"Unconfigured Collections",system_collections:"System Collections",placeholder:"Placeholder",icon_left:"Icon Left",icon_right:"Icon Right",count_other_revisions:"{count} Other Revisions",font:"Font",sans_serif:"Sans Serif",serif:"Serif",monospace:"Monospace",divider:"Divider",color:"Color",circle:"Circle",empty_item:"Empty Item",log_in_with:"Log In with {provider}",conditional_styles:"Conditional Styles",advanced_settings:"Advanced Settings",advanced_filter:"Advanced Filter",delete_advanced_filter:"Delete Filter",change_advanced_filter_operator:"Change Operator",advanced:"Advanced",operators:{eq:"Equals",neq:"Doesn't equal",lt:"Less than",gt:"Greater than",lte:"Less than or equal to",gte:"Greater than or equal to",in:"Is one of",nin:"Is not one of",null:"Is null",nnull:"Isn't null",contains:"Contains",ncontains:"Doesn't contain",icontains:"Contains (insensitive)",starts_with:"Starts with",nstarts_with:"Doesn't start with",ends_with:"Ends with",nends_with:"Doesn't end with",between:"Is between",nbetween:"Isn't between",empty:"Is empty",nempty:"Isn't empty",all:"Contains these keys",has:"Contains some of these keys",intersects:"Intersects",nintersects:"Doesn't intersect",intersects_bbox:"Intersects bounding box",nintersects_bbox:"Doesn't intersect bounding box",regex:"Matches RegExp"},custom_validation_message:"Custom Validation Message",loading:"Loading...",drop_to_upload:"Drop to Upload",item:"Item",items:"Items",upload_file:"Upload File",upload_file_indeterminate:"Uploading File...",upload_file_success:"File Uploaded",upload_files_indeterminate:"Uploading files {done}/{total}",upload_files_success:"{count} Files Uploaded",upload_pending:"Upload Pending",drag_file_here:"Drag & Drop a File Here",click_to_browse:"Click to Browse",interface_options:"Interface Options",layout_options:"Layout Options",rows:"Rows",columns:"Columns",collection_setup:"Collection Setup",optional_system_fields:"Optional System Fields",value_unique:"Value has to be unique",all_activity:"All Activity",create_item:"Create Item",display_template:"Display Template",language_display_template:"Language Display Template",translations_display_template:"Translations Display Template",n_items_selected:"No Items Selected | 1 Item Selected | {n} Items Selected",per_page:"Per Page",all_files:"All Files",my_files:"My Files",recent_files:"Recent Files",create_folder:"Create Folder",edit_folder:"Edit Folder",folder_name:"Folder Name...",folder_key:"Folder Key...",add_file:"Add File",replace_file:"Replace File",no_results:"No Results",no_results_copy:"Adjust or clear search filters to see results.",clear_filters:"Clear Filters",saves_automatically:"Saves Automatically",role:"Role",edit_role:"Edit Role",rule:"Rule",user:"User",no_presets:"No Presets",no_presets_copy:"No presets or bookmarks have been saved yet.",no_presets_cta:"Add Preset",presets_only:"Presets Only",create:"Create",on_create:"On Create",on_update:"On Update",read:"Read",update:"Update",select_fields:"Select Fields",format_text:"Format Text",format_value:"Format Value",abbreviate_value:"Abbreviate Value",operator:"Operator",bold:"Bold",toggle:"Toggle",icon_on:"Icon On",icon_off:"Icon Off",label:"Label",insights:"Insights",dashboard:"Dashboard",panel:"Panel",panel_options:"Panel Options",panel_header:"Panel Header",panel_name_placeholder:"Name this panel...",panel_note_placeholder:"Optional details about this panel...",panel_delete_confirm:"Are you sure you want to delete this panel? This action can not be undone.",dashboard_delete_confirm:"Are you sure you want to delete this dashboard? This action can not be undone.",edit_dashboard:"Edit Dashboard",delete_dashboard:"Delete Dashboard",visible:"Visible",prefix_placeholder:"Text before value...",suffix_placeholder:"Text after value...",decimals_placeholder:"Number of decimal places...",no_dashboards:"No Dashboards",no_dashboards_copy:"You don\u2019t have any Dashboards yet.",no_data:"No Data",create_dashboard:"Create Dashboard",dashboard_name:"Dashboard Name",full_screen:"Full Screen",full_text_search:"Full-Text Search",edit_panels:"Edit Panels",center_align:"Center Align",left_align:"Left Align",right_align:"Right Align",fit_to_screen:"Fit to Screen",image_url:"Image Url",alt_text:"Alternative Text",media:"Media",quality:"Quality",width:"Width",height:"Height",source:"Source",url_placeholder:"Enter an url...",display_text:"Display Text",display_text_placeholder:"Enter a display text...",interface_group_text_and_numbers:"Text & Numbers",interface_group_selection:"Selection",interface_group_relational:"Relational",interface_group_presentation:"Presentation",interface_group_groups:"Groups",interface_group_other:"Other",tooltip:"Tooltip",tooltip_placeholder:"Enter a tooltip...",unlimited:"Unlimited",open_link_in:"Open link in",new_tab:"New tab",current_tab:"Current tab",save_image:"Save Image",save_media:"Save Media",wysiwyg_options:{aligncenter:"Align Center",alignjustify:"Align Justify",alignleft:"Align Left",alignnone:"Align None",alignright:"Align Right",forecolor:"Foreground Color",backcolor:"Background Color",bold:"Bold",italic:"Italic",underline:"Underline",strikethrough:"Strikethrough",subscript:"Subscript",superscript:"Superscript",codeblock:"Code",blockquote:"Blockquote",bullist:"Bullet List",numlist:"Numbered List",hr:"Horizontal Rule",link:"Add/Edit Link",unlink:"Remove Link",media:"Add/Edit Media",image:"Add/Edit Image",copy:"Copy",cut:"Cut",paste:"Paste",heading:"Heading",h1:"Heading 1",h2:"Heading 2",h3:"Heading 3",h4:"Heading 4",h5:"Heading 5",h6:"Heading 6",fontselect:"Select Font",fontsizeselect:"Select Font Size",indent:"Indent",outdent:"Outdent",undo:"Undo",redo:"Redo",remove:"Remove",removeformat:"Remove Format",selectall:"Select All",table:"Table",visualaid:"View invisible elements",source_code:"Edit Source Code",fullscreen:"Full Screen",directionality:"Directionality"},dropdown:"Dropdown",choices:"Choices",choices_option_configured_incorrectly:"Choices configured incorrectly",deselect:"Deselect",deselect_all:"Deselect All",other:"Other...",adding_user:"Adding User",unknown_user:"Unknown User",creating_in:"Creating Item in {collection}",editing_in:"Editing Item in {collection}",viewing_in:"Viewing Item in {collection}",creating_unit:"Creating {unit}",editing_unit:"Editing {unit}",editing_in_batch:"Batch Editing {count} Items",no_options_available:"No options available",settings_data_model:"Data Model",settings_permissions:"Roles & Permissions",settings_project:"Project Settings",settings_webhooks:"Webhooks",settings_presets:"Presets & Bookmarks",settings_translation_strings:"Translation Strings",one_or_more_options_are_missing:"One or more options are missing",scope:"Scope",select:"Select...",layout:"Layout",tree_view:"Tree View",changes_are_permanent:"Changes are permanent",preset_name_placeholder:"Serves as default when empty...",preset_search_placeholder:"Search query...",editing_preset:"Editing Preset",layout_preview:"Layout Preview",layout_setup:"Layout Setup",unsaved_changes:"Unsaved Changes",unsaved_changes_copy:"Are you sure you want to leave this page?",discard_changes:"Discard Changes",discard_all_changes:"Discard All Changes",discard_changes_copy:"Are you sure you want to discard all the changes made?",show_x_axis:"Show X Axis",show_y_axis:"Show Y Axis",keep_editing:"Keep Editing",page_help_collections_overview:"**Collections Overview** \u2014 List of all collections you have access to.",page_help_collections_collection:"**Browse Items** \u2014 Lists all {collection} items you have access to. Customize layout, filters, and sorting to tailor your view, and even save bookmarks of these different configurations for quick access.",page_help_collections_item:"**Item Detail** \u2014 A form for viewing and managing this item. This sidebar also contains a full history of revisions, and embedded comments.",page_help_activity_collection:"**Browse Activity** \u2014 A comprehensive listing of all your user's system and content activity.",page_help_docs_global:"**Documentation Overview** \u2014 Docs tailored specifically to this project's version and schema.",page_help_files_collection:"**File Library** \u2014 Lists all file assets uploaded to this project. Customize layout, filters, and sorting to tailor your view, and even save bookmarks of these different configurations for quick access.",page_help_files_item:"**File Detail** \u2014 A form for managing file metadata, editing the original asset, and updating access settings.",page_help_settings_project:"**Project Settings** \u2014 Your project's global configuration options.",page_help_settings_datamodel_collections:"**Data Model: Collections** \u2014 Lists all collections available. This includes visible, hidden, and system collections, as well as unmanaged database tables that can be added.",page_help_settings_datamodel_fields:"**Data Model: Collection** \u2014 A form for managing this collection and its fields.",page_help_settings_roles_collection:"**Browse Roles** \u2014 Lists the Admin, Public and custom User Roles.",page_help_settings_roles_item:"**Role Detail** \u2014 Manage a role's permissions and other settings.",page_help_settings_presets_collection:"**Browse Presets** \u2014 Lists all presets in the project, including: user, role, and global bookmarks, as well as default views.",page_help_settings_presets_item:"**Preset Detail** \u2014 A form for managing bookmarks and default collection presets.",page_help_settings_webhooks_collection:"**Browse Webhooks** \u2014 Lists all webhooks within the project.",page_help_settings_webhooks_item:"**Webhook Detail** \u2014 A form for creating and managing project webhooks.",page_help_settings_translation_strings_collection:"**Browse Translation Strings** \u2014 Lists all translation strings within the project.",page_help_users_collection:"**User Directory** \u2014 Lists all system users within this project.",page_help_users_item:"**User Detail** \u2014 Manage your account information, or view the details of other users.",page_help_insights_overview:"**Insights** \u2014 List of dashboards you have access to.",page_help_insights_dashboard:"**Dashboard** \u2014 Workspace for managing one or more panels",activity_feed:"Activity Feed",add_new:"Add New",create_new:"Create New",all:"All",none:"None",no_layout_collection_selected_yet:"No layout/collection selected yet",batch_delete_confirm:"No items have been selected | Are you sure you want to delete this item? This action can not be undone. | Are you sure you want to delete these {count} items? This action can not be undone.",cancel:"Cancel",no_upscale:"Don't upscale images",collection:"Collection",collections:"Collections",content:"Content",singleton:"Singleton",singleton_label:"Treat as single object",system_fields_locked:"System fields are locked and can't be edited",directus_collection:{directus_activity:"Accountability logs for all events",directus_collections:"Additional collection configuration and metadata",directus_dashboards:"Dashboards within the Insights module",directus_fields:"Additional field configuration and metadata",directus_files:"Metadata for all managed file assets",directus_folders:"Provides virtual directories for files",directus_migrations:"What version of the database you're using",directus_panels:"Individual panels within Insights dashboards",directus_permissions:"Access permissions for each role",directus_notifications:"Notifications sent to users",directus_presets:"Presets for collection defaults and bookmarks",directus_relations:"Relationship configuration and metadata",directus_revisions:"Data snapshots for all activity",directus_roles:"Permission groups for system users",directus_sessions:"User session information",directus_settings:"Project configuration options",directus_shares:"Tracks externally shared items",directus_users:"System users for the platform",directus_webhooks:"Configuration for event-based HTTP requests"},fields:{directus_activity:{item:"Item Primary Key",action:"Action",collection:"Collection",timestamp:"Action On",user:"Action By",comment:"Comment",user_agent:"User Agent",ip:"IP Address",revisions:"Revisions"},directus_collections:{collection:"Collection",icon:"Icon",note:"Note",color:"Color",display_template:"Display Template",hidden:"Hidden",singleton:"Singleton",translations:"Collection Naming Translations",archive_app_filter:"Archive App Filter",archive_value:"Archive Value",unarchive_value:"Unarchive Value",sort_field:"Sort Field",accountability:"Activity & Revision Tracking",archive_field:"Archive Field",item_duplication_fields:"Item Duplication Fields"},directus_files:{$thumbnail:"Thumbnail",title:"Title",description:"Description",tags:"Tags",location:"Location",storage:"Storage",filename_disk:"Filename (Disk)",filename_download:"Filename (Download)",metadata:"Metadata",type:"Mime Type",filesize:"Filesize",modified_by:"Modified By",modified_on:"Modified On",created_on:"Created On",created_by:"Created By",embed:"Embed",uploaded_by:"Uploaded By",folder:"Folder",width:"Width",uploaded_on:"Uploaded On",height:"Height",charset:"Charset",duration:"Duration"},directus_users:{first_name:"First Name",last_name:"Last Name",email:"Email",password:"Password",avatar:"Avatar",location:"Location",title:"Title",description:"Description",tags:"Tags",user_preferences:"User Preferences",language:"Language",theme:"Theme",theme_auto:"Automatic (Based on System)",theme_light:"Light Mode",theme_dark:"Dark Mode",tfa_secret:"Two-Factor Authentication",admin_options:"Admin Options",status:"Status",status_draft:"Draft",status_invited:"Invited",status_active:"Active",status_suspended:"Suspended",status_archived:"Archived",role:"Role",token:"Token",token_placeholder:"Enter a secure access token...",provider:"Provider",external_identifier:"External Identifier",last_page:"Last Page",last_access:"Last Access",email_notifications:"Email Notifications"},directus_settings:{jpg:"JPEG",png:"PNG",webP:"WebP",tiff:"Tiff",mapping:"Mapping",basemaps:"Basemaps",basemaps_raster:"Raster",basemaps_tile:"Raster TileJSON",basemaps_style:"Mapbox Style",mapbox_key:"Mapbox Access Token",mapbox_placeholder:"pk.eyJ1Ijo.....",attribution:"Attribution",attribution_placeholder:"\xA9 OpenStreetMap contributors",transforms_note:"The Sharp method name and its arguments. See https://sharp.pixelplumbing.com/api-constructor for more information.",additional_transforms:"Additional Transformations",project_name:"Project Name",project_descriptor:"Project Descriptor",project_url:"Project URL",project_color:"Project Color",project_logo:"Project Logo",default_language:"Default Language",branding:"Branding & Style",public_foreground:"Public Foreground",public_background:"Public Background",public_note:"Public Note",auth_password_policy:"Auth Password Policy",auth_login_attempts:"Auth Login Attempts",files_and_thumbnails:"Files & Storage",storage_default_folder:"Default Folder",storage_asset_presets:"Transformation Presets",storage_asset_transform:"Allowed Transformations",overrides:"App Overrides",custom_css:"Custom CSS",module_bar:"Module Bar",transformations_all:"Allow all transformations",transformations_none:"Disable transformations",transformations_presets:"Limit transformations to presets below"},directus_shares:{name:"Name",role:"Role",password:"Password",date_start:"Date Start",date_end:"Date End",max_uses:"Max Uses",times_used:"Times Used"},directus_fields:{collection:"Collection Name",icon:"Collection Icon",note:"Note",hidden:"Hidden",singleton:"Singleton",translation:"Field Name Translations",display_template:"Template"},directus_roles:{name:"Role Name",icon:"Role Icon",description:"Description",app_access:"App Access",admin_access:"Admin Access",ip_access:"IP Access",enforce_tfa:"Require 2FA",users:"Users in Role",module_list:"Module Navigation"},directus_webhooks:{name:"Name",method:"Method",status:"Status",data:"Data",header:"Header",value:"Value",headers:"Request Headers",data_label:"Send Event Data",triggers:"Triggers",actions:"Actions",collections:"Collections"}},field_options:{directus_settings:{project_name_placeholder:"My project...",project_color_note:"Login & Logo Background",project_logo_note:"White 40x40 SVG/PNG",public_note_placeholder:"A short, public message that supports markdown formatting...",security_divider_title:"Security",auth_password_policy:{none_text:"None \u2013 Not Recommended",weak_text:"Weak \u2013 Minimum 8 Characters",strong_text:"Strong \u2013 Upper / Lowercase / Numbers / Special"},storage_asset_presets:{fit_label:"Fit",upscaling:"Upscaling",fit:{contain_text:"Contain (preserve aspect ratio)",cover_text:"Cover (forces exact size)",fit_text:"Fit inside",outside_text:"Fit outside"}},additional_transforms:"Additional Transformations",transforms_note:"The Sharp method name and its arguments. See https://sharp.pixelplumbing.com/api-constructor for more information.",mapbox_key:"Mapbox Access Token",mapbox_placeholder:"pk.eyJ1Ijo.....",basemaps:"Basemaps",basemaps_name_placeholder:"Enter the basemap name...",basemaps_raster:"Raster",basemaps_tile:"Raster TileJSON",basemaps_style:"Mapbox Style",files_divider_title:"Files & Thumbnails",overrides_divider_title:"App Overrides"},directus_activity:{login:"Login",create:"Create",update:"Update",delete:"Delete"},directus_collections:{track_activity_revisions:"Track Activity & Revisions",only_track_activity:"Only Track Activity",do_not_track_anything:"Do Not Track Anything",collection_setup:"Collection Setup",note_placeholder:"A description of this collection...",hidden_label:"Hide within the App",singleton:"Treat as single object",language:"Language",translation:"Translation",translation_placeholder:"Enter a translation...",collection_name:"Collection Name",singular_unit:"Singular Unit",plural_unit:"Plural Unit",archive_divider:"Archive",archive_field_placeholder:"Choose a field...",archive_app_filter:"Enable App Archive Filter",archive_value:"Value set when archiving...",unarchive_value:"Value set when unarchiving...",sort_divider:"Sort",sort_field:"Choose a field...",accountability_divider:"Accountability",duplication_divider:"Duplication"},directus_files:{title:"A unique title...",description:"An optional description...",location:"An optional location...",storage_divider:"File Naming",filename_disk:"Name on disk storage...",filename_download:"Name when downloading..."},directus_roles:{name:"The unique name for this role...",description:"A description of this role...",ip_access:"Add allowed IP addresses, leave empty to allow all...",fields:{icon_name:"Icon",name_name:"Name",name_placeholder:"Enter a title...",link_name:"Link",link_placeholder:"Relative or absolute URL..."},collections_name:"Collections",collections_addLabel:"Add Collection..."},directus_users:{preferences_divider:"User Preferences",dropdown_auto:"Automatic (Based on System)",dropdown_light:"Light Mode",dropdown_dark:"Dark Mode",admin_divider:"Admin Options",status_dropdown_draft:"Draft",status_dropdown_invited:"Invited",status_dropdown_active:"Active",status_dropdown_suspended:"Suspended",status_dropdown_archived:"Archived",token:"Enter a secure access token..."},directus_webhooks:{status_options_active:"Active",status_options_inactive:"Inactive",data_label:"Send Event Data",triggers_divider:"Triggers",actions_create:"Create",actions_update:"Update",actions_delete:"Delete",actions_login:"Login",headers:{header:"Header",value:"Value",add:"Add Header"}}},no_fields_in_collection:'There are no fields in "{collection}" yet',no_value:"No value",do_nothing:"Do Nothing",generate_and_save_uuid:"Generate and Save UUID",save_current_user_id:"Save Current User ID",save_current_user_role:"Save Current User Role",save_current_datetime:"Save Current Date/Time",always_open:"Always Open",start_open:"Start Open",start_collapsed:"Start Collapsed",block:"Block",inline:"Inline",comment:"Comment",shares:"Shares",unlimited_usage:"Unlimited usage",uses_left:"No uses left | 1 use left | {n} uses left",no_shares:"No shares to show",new_share:"New Share",expired:"Expired",upcoming:"Upcoming",share:"Share",share_item:"Share Item",shared_with_you:"An item has been shared with you",shared_enter_passcode:"Enter your passcode to continue...",shared_leave_blank_for_unlimited:"Leave blank for unlimited",shared_times_remaining:"This link can only be used {n} times",shared_last_remaining:"This link can only be used once",shared_uses_left:"For added security, this shared page has been configured with a limited number of views. There are currently {n} views remaining, after which, the page will no longer be accessible.",share_access_page:"Access Shared Page",share_access_not_found:"This shared page either does not exist or has already exceeded the maximum number of allowed uses.",share_access_not_found_desc:"Please contact an authorized user of this project to request access.",share_access_not_found_title:"Unknown Share Page",share_copy_link:"Copy Link",share_copy_link_success:"Link Copied",share_copy_link_error:"Unable to Copy Link",share_send_link:"Send Link",relational_triggers:"Relational Triggers",referential_action_field_label_m2o:"On Delete of {collection}...",referential_action_field_label_o2m:"On Deselect of {collection}...",referential_action_no_action:"Prevent the deletion",referential_action_cascade:"Delete the {collection} item (cascade)",referential_action_set_null:"Nullify the {field} field",referential_action_set_default:"Set {field} to its default value",choose_action:"Choose Action",continue_label:"Continue",continue_as:"{name} is currently authenticated. If you recognize this account, press continue.",editing_role:"{role} Role",creating_webhook:"Creating Webhook",default_label:"Default",delete_label:"Delete",delete_are_you_sure:"This action is permanent and can not be undone. Are you sure you would like to proceed?",delete_field_are_you_sure:'Are you sure you want to delete the field "{field}"? This action can not be undone.',description:"Description",done:"Done",duplicate:"Duplicate",limit:"Limit",email:"Email",embed:"Embed",fallback_icon:"Fallback Icon",field:"Field | Fields",file:"File",file_library:"File Library",forgot_password:"Forgot Password",hidden:"Hidden",hidden_in_group:"Hidden in {group}",icon:"Icon",info:"Info",normal:"Normal",success:"Success",warning:"Warning",danger:"Danger",colors:{purple:"Purple",blue:"Blue",green:"Green",yellow:"Yellow",orange:"Orange",red:"Red",black:"Black",gray:"Gray",white:"White"},junction_collection:"Junction Collection",latency:"Latency",login:"Log in",my_activity:"My Activity",not_authenticated:"Not Authenticated",authenticated:"Authenticated",options:"Options",otp:"One-Time Password",password:"Password",permissions:"Permissions",relationship:"Relationship",reset:"Reset",reset_password:"Reset Password",revisions:"Revisions",no_revisions:"No Revisions Yet",revert:"Revert",save:"Save",schema:"Schema",search:"Search",select_existing:"Select Existing",select_field_type:"Select a field type",select_interface:"Select an interface",settings:"Settings",sign_in:"Sign In",sign_out:"Sign Out",sign_out_confirm:"Are you sure you want to sign out?",something_went_wrong:"Something went wrong.",sort_direction:"Sort Direction",export_location:"Export Location",export_started:"Export Started",export_started_copy:"Your export has started. You'll be notified when it's ready to download.",sort_asc:"Sort Ascending",sort_desc:"Sort Descending",template:"Template",require_value_to_be_set:"Require value to be set",translation:"Translation",translation_placeholder:"Enter a translation...",value:"Value",view_project:"View Project",weeks:{},report_error:"Report Error",start:"Start",interfaces:{filter:{name:"Filter",description:"Configure a filter object.",add_filter:"Add Filter",add_group:"And / Or group",add_value:"Add Value",logic_type_and:"AND",logic_type_or:"OR",all:"All",any:"Any",and:"and",of_the_following:"of the following",no_rules:"No configured rules",change_value:"Click to change value",placeholder:"Drag rules here"},fields:{name:"Fields"},"group-accordion":{name:"Accordion",description:"Display fields or groups as accordion sections",start:"Start",all_closed:"All Closed",first_opened:"First Opened",all_opened:"All Opened",accordion_mode:"Accordion Mode",max_one_section_open:"Max 1 Section Open"},"presentation-links":{"presentation-links":"Button Links",links:"Links",description:"Configurable link buttons for launching dynamic URLs",style:"Style",primary:"Primary",link:"Links",button:"Buttons",error:"Cannot perform action"},"select-multiple-checkbox":{checkboxes:"Checkboxes",description:"Choose between multiple options via checkboxes",allow_other:"Allow Other",show_more:"Show {count} more",items_shown:"Items Shown"},"select-multiple-checkbox-tree":{name:"Checkboxes (Tree)",description:"Choose between multiple options via nested checkboxes",value_combining:"Value Combining",value_combining_note:"Controls what value is stored when nested selections are made.",show_all:"Show All",show_selected:"Show Selected"},"input-code":{code:"Code",description:"Write or share code snippets",line_number:"Line Number",line_wrapping:"Line Wrapping",placeholder:"Enter code here..."},"system-collection":{collection:"Collection",description:"Select between existing collections",include_system_collections:"Include System Collections"},"system-collections":{collections:"Collections",description:"Select between existing collections",include_system_collections:"Include System Collections"},"select-color":{color:"Color",description:"Enter or select a color value",placeholder:"Choose a color...",preset_colors:"Preset Colors",opacity:"Opacity",preset_colors_add_label:"Add new color...",name_placeholder:"Enter color name..."},datetime:{datetime:"Datetime",description:"Enter dates and times",include_seconds:"Include Seconds",set_to_now:"Set to Now",use_24:"Use 24-Hour Format",placeholder:"Choose a datetime..."},"system-display-template":{"display-template":"Display Template",description:"Mix static text and dynamic field values",collection_field:"Collection field",collection_field_not_setup:"The collection field option is misconfigured",select_a_collection:"Select a Collection"},"presentation-divider":{divider:"Divider",description:"Label and divide fields into sections",title_placeholder:"Enter a title, or leave blank to only show a line...",inline_title:"Inline Title",inline_title_label:"Show title inside line",margin_top:"Margin Top",margin_top_label:"Increase Top Margin"},"select-dropdown":{description:"Select a value from a dropdown",choices_placeholder:"Add a new choice",allow_other:"Allow Other",allow_other_label:"Allow Other Values",allow_none:"Allow None",allow_none_label:"Allow No Selection",choices_name_placeholder:"Enter a name...",choices_value_placeholder:"Enter a value..."},"select-multiple-dropdown":{"select-multiple-dropdown":"Dropdown (Multiple)",description:"Select multiple values from a dropdown"},file:{file:"File",description:"Select or upload a file"},files:{files:"Files",description:"Select or upload multiple files"},"input-hash":{hash:"Hash",description:"Enter a value to be hashed",masked:"Masked",masked_label:"Hide the true values"},"select-icon":{icon:"Icon",description:"Select an icon from a dropdown",search_for_icon:"Search for icon..."},"file-image":{image:"Image",description:"Select or upload an image",crop:"Crop to Fit",crop_label:"Crop image as needed"},"system-interface":{interface:"Interface",description:"Select an existing interface",placeholder:"Select an interface..."},"system-interface-options":{"interface-options":"Interface Options",description:"A modal for selecting options of an interface"},"list-m2m":{"many-to-many":"Many to Many",description:"Select multiple related junction items",display_template_configure_notice:"You can configure the display template after creating this field."},"select-dropdown-m2o":{"many-to-one":"Many to One",description:"Select a single related item",display_template:"Display Template"},"input-rich-text-md":{markdown:"Markdown",description:"Enter and preview markdown",edit:"Edit",preview:"Preview",editorFont:"Editor Font",previewFont:"Preview Font",customSyntax:"Custom Blocks",customSyntax_label:"Add custom syntax types",customSyntax_add:"Add custom syntax",box:"Block / Inline",imageToken:"Static Access Token",imageToken_label:"Static access token is appended to the assets' URL"},map:{map:"Map",description:"Select a location on a map",zoom:"Zoom",geometry_type:"Geometry Type",geometry_format:"Geometry Format",default_view:"Default View",invalid_options:"Invalid options",invalid_format:"Invalid format ({format})",unexpected_geometry:"Expected {expected}, got {got}.",fit_bounds:"Fit view to data",native:"Native",geojson:"GeoJSON",lnglat:"Longitude, Latitude",wkt:"WKT",wkb:"WKB",click_to_select:"Click to select {geometry}"},"presentation-notice":{notice:"Notice",description:"Display a short notice",text:"Enter notice content here..."},"list-o2m":{"one-to-many":"One to Many",description:"Select multiple related items",no_collection:"The collection could not be found"},"system-folder":{folder:"Folder",description:"Select a folder",field_hint:"Folder for uploaded files. Does not affect existing files.",root_name:"File Library Root",system_default:"System Defaults"},"select-radio":{"radio-buttons":"Radio Buttons",description:"Select one of multiple choices"},list:{repeater:"Repeater",description:"Create multiple entries of the same structure",edit_fields:"Edit Fields",add_label:'"Create New" Label',field_name_placeholder:"Enter field name...",field_note_placeholder:"Enter field note...",incompatible_data:"The current data is not compatible with the repeater interface and will be overridden when adding items to the repeater"},slider:{slider:"Slider",description:"Select a number using a slider",always_show_value:"Always show value"},tags:{tags:"Tags",description:"Select or add tags",whitespace:"Whitespace",hyphen:"Replace with hyphen",underscore:"Replace with underscore",remove:"Remove whitespace",capitalization:"Capitalization",uppercase:"Convert Uppercase",lowercase:"Convert Lowercase",auto_formatter:"Use Title Auto-Formatter",alphabetize:"Alphabetize",alphabetize_label:"Force Alphabetical Order",add_tags:"Add a tag and press Enter..."},input:{input:"Input",description:"Manually enter a value",trim:"Trim",trim_label:"Trim the start and end",mask:"Masked",mask_label:"Hide the real value",clear:"Cleared Value",clear_label:"Save as empty string",minimum_value:"Minimum Value",maximum_value:"Maximum Value",step_interval:"Step Interval",slug:"Slugify",slug_label:"Make entered value URL safe"},"input-multiline":{textarea:"Textarea",description:"Enter multiline plain-text"},"input-translated-string":{"input-translated-string":"Translated Strings",description:"Select or add translation string",search_placeholder:"Search...",new_translation_string:"New Translation String"},boolean:{toggle:"Toggle",description:"Switch between on and off",color_on:"Color On",color_off:"Color Off",label_placeholder:"Enter a label...",label_default:"Enabled"},translations:{display_template:"Display Template",no_collection:"No Collection",toggle_split_view:"Toggle Split View",language_field:"Language Indicator Field"},"list-o2m-tree-view":{description:"Tree view for nested recursive one-to-many items",recursive_only:"The tree view interface only works for recursive relationships."},user:{user:"User",description:"Select an existing directus user",select_mode:"Select Mode",modes:{auto:"Auto",dropdown:"Dropdown",modal:"Modal"}},"input-rich-text-html":{wysiwyg:"WYSIWYG",description:"A rich-text editor writing HTML content",toolbar:"Toolbar",custom_formats:"Custom Formats",options_override:"Options Override",folder_note:"Folder for uploaded files. Does not affect existing files.",imageToken:"Static Access Token",imageToken_label:"Static access token is appended to the assets' URL"},"input-autocomplete-api":{"input-autocomplete-api":"Autocomplete Input (API)",description:"A search typeahead for external API values.",results_path:"Results Path",value_path:"Value Path",text_path:"Text Path",trigger:"Trigger",rate:"Rate"},"group-raw":{name:"Raw Group",description:"Render the fields as-is"},"group-detail":{name:"Detail Group",description:"Render the fields as a collapsable section",show_header:"Show Group Header",header_icon:"Header Icon",header_color:"Header Color",start_open:"Start Open",start_closed:"Start Closed"}},displays:{translations:{translations:"Translations",description:"Preview translations",enable:"Enable",user_language:"Use Current User Language",default_language:"Default Language",language_field:"Language Indicator Field"},boolean:{boolean:"Boolean",description:"Display on and off states",label_on:"Label On",label_on_placeholder:"Enter an on label...",label_off:"Label Off",label_off_placeholder:"Enter an off label...",icon_on:"Icon On",icon_off:"Icon Off",color_on:"Color On",color_off:"Color Off"},collection:{collection:"Collection",description:"Display a collection",icon_label:"Show the collection's icon"},color:{color:"Color",description:"Display a colored dot",default_color:"Default Color"},datetime:{datetime:"Datetime",description:"Display values related to time",format:"Format",format_note:"The custom format accepts the __[Date Field Symbol Table](https://www.unicode.org/reports/tr35/tr35-dates.html#Date_Field_Symbol_Table)__",long:"Long",short:"Short",relative:"Relative",relative_label:"Show relative time, eg: 5 minutes ago"},file:{file:"File",description:"Display files"},filesize:{filesize:"File Size",description:"Display the size of a file"},"formatted-value":{"formatted-value":"Formatted Value",description:"Display a formatted version of the text",format:"Format",format_label:"Auto format",font:"Font",font_sans_serif:"Sans serif",font_serif:"Serif",font_monospace:"Monospace",bold:"Bold",bold_label:"Use bold style",italic:"Italic",italic_label:"Use italic style",prefix:"Prefix",prefix_label:"Prepend text",suffix:"Suffix",suffix_label:"Appended Text",color:"Color",background:"Background",icon:"Icon",border:"Border",border_label:"Show border",text:"Text",text_placeholder:"Optional value override..."},"formatted-json-value":{"formatted-json-value":"Formatted JSON value",description:"Display a formatted version of the object"},icon:{icon:"Icon",description:"Display an icon",filled:"Filled",filled_label:"Use the filled variant"},image:{image:"Image",description:"Display a tiny image preview",circle:"Circle",circle_label:"Display as a circle"},labels:{labels:"Labels",description:"Display either a single or a list of labels",default_foreground:"Default Foreground",default_background:"Default Background",format_label:"Format each label",show_as_dot:"Show As Dot",choices_value_placeholder:"Enter a value...",choices_text_placeholder:"Enter a text..."},"mime-type":{"mime-type":"MIME Type",description:"Show the MIME-Type of a file",extension_only:"Extension Only",extension_only_label:"Only show the file extension"},rating:{rating:"Rating",description:"Visualize a number as stars relative to the max-value",simple:"Simple",simple_label:"Show stars in a simple format"},raw:{raw:"Raw Value"},"related-values":{"related-values":"Related Values",description:"Display relative values",display_template_configure_notice:"You can configure the display template after creating this field."},user:{user:"User",description:"Display a directus user",avatar:"Avatar",name:"Name",both:"Both",circle_label:"Show user in a circle"}},layouts:{cards:{cards:"Cards",image_source:"Image Source",image_fit:"Image Fit",crop:"Crop",contain:"Contain",title:"Title",subtitle:"Subtitle"},tabular:{tabular:"Table",spacing:"Spacing",comfortable:"Comfortable",compact:"Compact",cozy:"Cozy"},calendar:{calendar:"Calendar",start_date_field:"Start Date Field",end_date_field:"End Date Field",optional:"Optional",first_day:"First Day of the Week"},map:{map:"Map",basemap:"Basemap",layers:"Layers",cluster_options:"Clustering options",cluster:"Cluster Nearby Data",cluster_radius:"Cluster radius",cluster_minpoints:"Cluster minimum size",cluster_maxzoom:"Maximum zoom for clustering",field:"Geospatial Field",invalid_geometry:"Invalid geometry",find_location:"Find location...",default_template:"Using Collection Default...",no_compatible_fields:"No compatible fields"},kanban:{name:"Kanban,",group_field:"Group By,",group_field_placeholder:"Field to group by...,",group_title:"Group Title,",group_title_placeholder:"Field for group titles...,",title:"Card Title,",title_placeholder:"Optional title field...,",text:"Card Text,",text_placeholder:"Optional text field...,",date:"Card Date,",date_placeholder:"Optional date field...,",tags:"Card Tags,",tags_placeholder:"Optional tags field...,",user:"Card User,",user_placeholder:"Optional user field...,",image:"Card Image,",image_placeholder:"Optional image field...,",image_fit:"Card Image Fit,",crop:"Crop,",advanced:"Advanced,",edit_group:"Edit Group,",delete_group:"Delete Group,",add_group:"Add Group,",add_group_placeholder:"Enter a new group title...,",show_ungrouped:"Show Ungrouped,",show:"Show,",no_group:"No Group,",not_all_loaded:"Could only load the first 1000 items."}},panels:{metric:{name:"Metric",description:"Show a single value based on a query",field:"Field"},time_series:{name:"Time Series",description:"Render a line chart based on values over time",date_field:"Date Field",value_field:"Value Field",fill_type:"Fill Type",curve_type:"Curve Type"},label:{name:"Label",description:"Show some text"},list:{name:"List",description:"Filter and list fields from a collection"},barchart:{name:"Bar Chart",description:"Bar or column charts for comparing groups of values",select_field:"You must select a field.",select_collection:"You must select a collection.",select_x_axis:"You must select an X-Axis.",function:"Function",horizontal:"Horizontal",x_axis_grouping:"X-Axis Group Aggregation",x_axis:"X-Axis",y_axis_function:"Y-Axis Function",y_axis:"Y-Axis",show_x_axis:"Show X-Axis",show_y_axis:"Show Y-Axis",show_data_label:"Show Data Label",group_by:"Grouped By",group_and_function:"You must include or omit both a group and a function.",y_axis_NaN:"The Y axis must be a number.",y_axis_conditional_one:"The value for condition",y_axis_conditional_two:"must be a number."},linechart:{name:"Line Chart",description:"Line chart for comparing change of a field.",select_field:"You must select a field.",select_collection:"You must select a collection.",select_x_axis:"You must select an X-Axis.",function:"Function",x_axis:"X-Axis",x_axis_decimals:"X-Axis Decimals",disabled_no_grouping:"Disabled when no grouping is selected.",y_axis:"Y-Axis",datasets:"Datasets",show_legend:"Show Legend",show_marker:"Show Tooltip Marker",include_dataset:"You must include atleast one dataset.",include_y_axis:"You must include a Y-Axis for each dataset when no group is specified.",group_and_function:"You must include or omit both a group and a function.",smooth:"Smooth",straight:"Straight",step_line:"Step Line"},meter:{description:"Meter for tracking values",name:"Meter",arc:"Arc",stroke_width:"Stroke Width",select_max_value:"You must select a maximum value.",max_greater_than_zero:"The maximum must be greater than 0.",select_field:"You must select a field.",select_collection:"You must select a collection.",function:"Function",thin:"Thin",medium:"Medium",broad:"Broad"},piechart:{name:"Pie or Donut Chart",description:"Circular chart showing the ratios of groups on a column.",function:"Function",donut:"Donut",labels:"Show Labels",legend:"Show Legend",right:"Right",bottom:"Bottom",monochrome:"Monochrome",monochrome_color:"Monochrome Color"}}},Ku=k.identifier,Wu=k.avatar,Hu=k.application,Gu=k.default_provider,Zu=k.published,Ju=k.draft,Xu=k.archived,Yu=k.modules,Qu=k.module_bar,xu=k.reset_width,ec=k.tile_size,tc=k.edit_field,nc=k.conditions,lc=k.maps,oc=k.switch_user,ac=k.item_creation,ic=k.item_revision,rc=k.enter_a_name,sc=k.duplicate_field,dc=k.half_width,uc=k.full_width,cc=k.group,pc=k.export_items,mc=k.and,fc=k.or,_c=k.fill_width,vc=k.field_name_translations,yc=k.enter_password_to_enable_tfa,hc=k.add_field,gc=k.role_name,bc=k.branch,wc=k.leaf,kc=k.indeterminate,$c=k.edit_collection,Cc=k.exclusive,Sc=k.children,Fc=k.db_only_click_to_configure,Vc=k.show_active_items,Ac=k.show_archived_items,Ic=k.show_all_items,Ec=k.edited,Dc=k.required,Pc=k.required_for_app_access,Tc=k.requires_value,Oc=k.create_preset,Lc=k.create_panel,jc=k.create_role,Rc=k.create_user,Mc=k.delete_panel,Uc=k.create_webhook,Nc=k.create_translation_string,Bc=k.no_translation_string,qc=k.no_translation_string_copy,zc=k.translation_string_key_placeholder,Kc=k.translation_string_translations_placeholder,Wc=k.edit_translation_string,Hc=k.delete_translation_string_copy,Gc=k.invite_users,Zc=k.invite,Jc=k.email_already_invited,Xc=k.subject,Yc=k.inbox,Qc=k.emails,xc=k.connection_excellent,ep=k.connection_good,tp=k.connection_fair,np=k.connection_poor,lp=k.primary,op=k.rename_folder,ap=k.delete_folder,ip=k.prefix,rp=k.suffix,sp=k.reset_bookmark,dp=k.update_bookmark,up=k.delete_bookmark,cp=k.delete_bookmark_copy,pp=k.delete_personal_bookmark,mp=k.delete_role_bookmark,fp=k.delete_global_bookmark,_p=k.logoutReason,vp=k.public_label,yp=k.public_description,hp=k.admin_description,gp=k.not_allowed,bp=k.directus_version,wp=k.node_version,kp=k.node_uptime,$p=k.os_type,Cp=k.os_version,Sp=k.os_uptime,Fp=k.os_totalmem,Vp=k.archive,Ap=k.archive_confirm,Ip=k.archive_confirm_count,Ep=k.reset_system_permissions_to,Dp=k.reset_system_permissions_copy,Pp=k.the_following_are_minimum_permissions,Tp=k.app_access_minimum,Op=k.recommended_defaults,Lp=k.unarchive,jp=k.unarchive_confirm,Rp=k.nested_files_folders_will_be_moved,Mp=k.validation_errors_notice,Up=k.validationError,Np=k.all_access,Bp=k.no_access,qp=k.use_custom,zp=k.nullable,Kp=k.allow_null_value,Wp=k.allow_multiple,Hp=k.allow_multiple_to_be_open,Gp=k.enter_value_to_replace_nulls,Zp=k.field_standard,Jp=k.field_presentation,Xp=k.field_file,Yp=k.field_files,Qp=k.field_m2o,xp=k.field_m2a,em=k.field_o2m,tm=k.field_m2m,nm=k.field_translations,lm=k.field_group,om=k.item_permissions,am=k.field_permissions,im=k.field_validation,rm=k.field_presets,sm=k.permissions_for_role,dm=k.fields_for_role,um=k.validation_for_role,cm=k.presets_for_role,pm=k.presentation_and_aliases,mm=k.revision_post_create,fm=k.revision_post_update,_m=k.changes_made,vm=k.no_relational_data,ym=k.hide_field,hm=k.hide_field_on_detail,gm=k.show_field_on_detail,bm=k.delete_field,wm=k.fields_and_layout,km=k.field_create_success,$m=k.field_update_success,Cm=k.duplicate_where_to,Sm=k.language,Fm=k.language_placeholder,Vm=k.aggregate_function,Am=k.aggregate_precision,Im=k.group_aggregation,Em=k.group_precision,Dm=k.global,Pm=k.admins_have_all_permissions,Tm=k.camera,Om=k.show_zero,Lm=k.create_in_advanced_field_creation_mode,jm=k.continue_in_advanced_field_creation_mode,Rm=k.validation,Mm=k.sum,Um=k.sum_distinct,Nm=k.avg,Bm=k.avg_distinct,qm=k.count,zm=k.count_distinct,Km=k.min,Wm=k.max,Hm=k.exposure,Gm=k.shutter,Zm=k.iso,Jm=k.focal_length,Xm=k.schema_setup_key,Ym=k.create_field,Qm=k.creating_new_field,xm=k.field_in_collection,ef=k.reset_page_preferences,tf=k.hidden_field,nf=k.hidden_on_detail,lf=k.disabled_editing_value,of=k.key,af=k.alias,rf=k.bigInteger,sf=k.boolean,df=k.date,uf=k.date_range,cf=k.datetime,pf=k.dateTime,mf=k.precision,ff=k.decimal,_f=k.float,vf=k.integer,yf=k.json,hf=k.xml,gf=k.string,bf=k.text,wf=k.time,kf=k.timestamp,$f=k.uuid,Cf=k.hash,Sf=k.geometry,Ff=k.not_available_for_type,Vf=k.create_translations,Af=k.auto_refresh,If=k.refresh_interval,Ef=k.no_refresh,Df=k.refresh_interval_seconds,Pf=k.refresh_interval_minutes,Tf=k.auto_generate,Of=k.this_will_auto_setup_fields_relations,Lf=k.click_here,jf=k.to_manually_setup_translations,Rf=k.click_to_manage_translated_fields,Mf=k.fields_group,Uf=k.no_collections_found,Nf=k.new_data_alert,Bf=k.search_collection,qf=k.new_field,zf=k.new_collection,Kf=k.add_m2o_to_collection,Wf=k.add_o2m_to_collection,Hf=k.add_m2m_to_collection,Gf=k.choose_a_type,Zf=k.determined_by_relationship,Jf=k.add_note,Xf=k.add_link,Yf=k.custom_link,Qf=k.default_value,xf=k.standard_field,e_=k.single_file,t_=k.multiple_files,n_=k.m2o_relationship,l_=k.o2m_relationship,o_=k.m2m_relationship,a_=k.m2a_relationship,i_=k.invalid_item,r_=k.next,s_=k.field_name,d_=k.translations,u_=k.no_translations,c_=k.note,p_=k.enter_a_value,m_=k.enter_a_placeholder,f_=k.length,__=k.soft_length,v_=k.precision_scale,y_=k.readonly,h_=k.unique,g_=k.updated_on,b_=k.updated_by,w_=k.primary_key,k_=k.foreign_key,$_=k.finish_setup,C_=k.dismiss,S_=k.raw_value,F_=k.copy_raw_value,V_=k.copy_raw_value_success,A_=k.copy_raw_value_fail,I_=k.paste_raw_value,E_=k.paste_raw_value_success,D_=k.paste_raw_value_fail,P_=k.view_raw_value,T_=k.edit_raw_value,O_=k.enter_raw_value,L_=k.clear_value,j_=k.clear_changes,R_=k.reset_to_default,M_=k.undo_changes,U_=k.notifications,N_=k.show_all_activity,B_=k.page_not_found,q_=k.page_not_found_body,z_=k.confirm_revert,K_=k.confirm_revert_body,W_=k.display,H_=k.settings_update_success,G_=k.title,Z_=k.revision_delta_created,J_=k.revision_delta_created_externally,X_=k.revision_delta_updated,Y_=k.revision_delta_deleted,Q_=k.revision_delta_reverted,x_=k.revision_delta_other,ev=k.revision_delta_by,tv=k.presentation_text_values_cannot_be_reimported,nv=k.download_page_as_csv,lv=k.private_user,ov=k.creation_preview,av=k.revision_preview,iv=k.updates_made,rv=k.leave_comment,sv=k.post_comment_success,dv=k.post_comment_updated,uv=k.item_create_success,cv=k.item_update_success,pv=k.item_delete_success,mv=k.this_collection,fv=k.related_collection,_v=k.related_collections,vv=k.translations_collection,yv=k.languages_collection,hv=k.import_data_input_placeholder,gv=k.import_data_button,bv=k.import_data_indeterminate,wv=k.import_data_success,kv=k.import_data_error,$v=k.label_import,Cv=k.label_export,Sv=k.import_export,Fv=k.format,Vv=k.last_page,Av=k.last_access,Iv=k.fill_template,Ev=k.a_unique_table_name,Dv=k.a_unique_column_name,Pv=k.enable_custom_values,Tv=k.submit,Ov=k.move_to_folder,Lv=k.move,jv=k.system,Rv=k.add_field_related,Mv=k.interface_label,Uv=k.today,Nv=k.yesterday,Bv=k.delete_comment,qv=k.delete_share,zv=k.functions,Kv=k.minutes,Wv=k.hours,Hv=k.month,Gv=k.year,Zv=k.select_all,Jv=k.months,Xv=k.drag_mode,Yv=k.cancel_crop,Qv=k.original,xv=k.url,ey=k.import_label,ty=k.file_details,ny=k.dimensions,ly=k.size,oy=k.created,ay=k.modified,iy=k.checksum,ry=k.owner,sy=k.edited_by,dy=k.folder,uy=k.zoom,cy=k.download,py=k.open,my=k.open_in_new_window,fy=k.open_folder,_y=k.foreground_color,vy=k.background_color,yy=k.upload_from_device,hy=k.choose_from_library,gy=k.import_from_url,by=k.replace_from_device,wy=k.replace_from_library,ky=k.replace_from_url,$y=k.no_file_selected,Cy=k.download_file,Sy=k.open_file_in_tab,Fy=k.start_export,Vy=k.not_available_for_local_downloads,Ay=k.exporting_all_items_in_collection,Iy=k.exporting_limited_items_in_collection,Ey=k.exporting_no_items_to_export,Dy=k.exporting_download_hint,Py=k.exporting_batch_hint,Ty=k.exporting_batch_hint_forced,Oy=k.collection_key,Ly=k.name,jy=k.primary_key_field,Ry=k.type,My=k.creating_new_collection,Uy=k.created_by,Ny=k.created_on,By=k.creating_collection_info,qy=k.creating_collection_system,zy=k.auto_increment_integer,Ky=k.auto_increment_big_integer,Wy=k.generated_uuid,Hy=k.manual_string,Gy=k.save_and_create_new,Zy=k.save_and_stay,Jy=k.save_as_copy,Xy=k.add_existing,Yy=k.creating_items,Qy=k.enable_create_button,xy=k.selecting_items,eh=k.enable_select_button,th=k.comments,nh=k.no_comments,lh=k.click_to_expand,oh=k.select_item,ah=k.no_items,ih=k.search_items,rh=k.disabled,sh=k.information,dh=k.report_bug,uh=k.request_feature,ch=k.interface_not_found,ph=k.reset_interface,mh=k.display_not_found,fh=k.reset_display,_h=k.item_count,vh=k.no_items_copy,yh=k.file_count,hh=k.no_files_copy,gh=k.user_count,bh=k.no_users_copy,wh=k.webhooks_count,kh=k.no_webhooks_copy,$h=k.no_notifications,Ch=k.no_notifications_copy,Sh=k.activity_log,Fh=k.all_items,Vh=k.any,Ah=k.csv,Ih=k.no_collections,Eh=k.create_collection,Dh=k.no_collections_copy_admin,Ph=k.no_collections_copy,Th=k.relationship_not_setup,Oh=k.display_template_not_setup,Lh=k.collection_field_not_setup,jh=k.select_a_collection,Rh=k.select_a_field,Mh=k.active,Uh=k.move_to,Nh=k.copy,Bh=k.copy_to,qh=k.no_other_dashboards_copy,zh=k.inactive,Kh=k.users,Wh=k.activity,Hh=k.activity_item,Gh=k.action,Zh=k.ip_address,Jh=k.user_agent,Xh=k.webhooks,Yh=k.decimals,Qh=k.value_decimals,xh=k.min_value,eg=k.max_value,tg=k.automatic,ng=k.field_width,lg=k.add_filter,og=k.upper_limit,ag=k.lower_limit,ig=k.user_directory,rg=k.documentation,sg=k.sidebar,dg=k.duration,ug=k.charset,cg=k.second,pg=k.file_moved,mg=k.collection_created,fg=k.modified_on,_g=k.card_size,vg=k.sort_field,yg=k.add_sort_field,hg=k.sort,gg=k.status,bg=k.remove,wg=k.toggle_manual_sorting,kg=k.bookmark_doesnt_exist,$g=k.bookmark_doesnt_exist_copy,Cg=k.bookmark_doesnt_exist_cta,Sg=k.select_an_item,Fg=k.edit,Vg=k.enabled,Ag=k.disable_tfa,Ig=k.tfa_scan_code,Eg=k.enter_otp_to_disable_tfa,Dg=k.create_account,Pg=k.account_created_successfully,Tg=k.auto_fill,Og=k.corresponding_field,Lg=k.errors,jg=k.security,Rg=k.value_hashed,Mg=k.bookmark_name,Ug=k.create_bookmark,Ng=k.edit_bookmark,Bg=k.edit_personal_bookmark,qg=k.edit_role_bookmark,zg=k.edit_global_bookmark,Kg=k.cannot_edit_role_bookmarks,Wg=k.cannot_edit_global_bookmarks,Hg=k.bookmarks,Gg=k.presets,Zg=k.unexpected_error,Jg=k.unexpected_error_copy,Xg=k.copy_details,Yg=k.no_app_access,Qg=k.no_app_access_copy,xg=k.password_reset_sent,e1=k.password_reset_successful,t1=k.back,n1=k.filter,l1=k.editing_image,o1=k.square,a1=k.free,i1=k.flip_horizontal,r1=k.flip_vertical,s1=k.aspect_ratio,d1=k.rotate,u1=k.all_users,c1=k.delete_collection,p1=k.update_collection_success,m1=k.delete_collection_success,f1=k.make_collection_visible,_1=k.make_collection_hidden,v1=k.make_folder_visible,y1=k.make_folder_hidden,h1=k.goto_collection_content,g1=k.start_end_of_count_items,b1=k.start_end_of_count_filtered_items,w1=k.one_item,k1=k.one_filtered_item,$1=k.delete_collection_are_you_sure,C1=k.delete_folder_are_you_sure,S1=k.collections_shown,F1=k.visible_collections,V1=k.hidden_collections,A1=k.show_hidden_collections,I1=k.hide_hidden_collections,E1=k.show_header,D1=k.unmanaged_collections,P1=k.system_collections,T1=k.placeholder,O1=k.icon_left,L1=k.icon_right,j1=k.count_other_revisions,R1=k.font,M1=k.sans_serif,U1=k.serif,N1=k.monospace,B1=k.divider,q1=k.color,z1=k.circle,K1=k.empty_item,W1=k.log_in_with,H1=k.conditional_styles,G1=k.advanced_settings,Z1=k.advanced_filter,J1=k.delete_advanced_filter,X1=k.change_advanced_filter_operator,Y1=k.advanced,Q1=k.operators,x1=k.custom_validation_message,eb=k.loading,tb=k.drop_to_upload,nb=k.item,lb=k.items,ob=k.upload_file,ab=k.upload_file_indeterminate,ib=k.upload_file_success,rb=k.upload_files_indeterminate,sb=k.upload_files_success,db=k.upload_pending,ub=k.drag_file_here,cb=k.click_to_browse,pb=k.interface_options,mb=k.layout_options,fb=k.rows,_b=k.columns,vb=k.collection_setup,yb=k.optional_system_fields,hb=k.value_unique,gb=k.all_activity,bb=k.create_item,wb=k.display_template,kb=k.language_display_template,$b=k.translations_display_template,Cb=k.n_items_selected,Sb=k.per_page,Fb=k.all_files,Vb=k.my_files,Ab=k.recent_files,Ib=k.create_folder,Eb=k.edit_folder,Db=k.folder_name,Pb=k.folder_key,Tb=k.add_file,Ob=k.replace_file,Lb=k.no_results,jb=k.no_results_copy,Rb=k.clear_filters,Mb=k.saves_automatically,Ub=k.role,Nb=k.edit_role,Bb=k.rule,qb=k.user,zb=k.no_presets,Kb=k.no_presets_copy,Wb=k.no_presets_cta,Hb=k.presets_only,Gb=k.create,Zb=k.on_create,Jb=k.on_update,Xb=k.read,Yb=k.update,Qb=k.select_fields,xb=k.format_text,e0=k.format_value,t0=k.abbreviate_value,n0=k.operator,l0=k.bold,o0=k.toggle,a0=k.icon_on,i0=k.icon_off,r0=k.label,s0=k.insights,d0=k.dashboard,u0=k.panel,c0=k.panel_options,p0=k.panel_header,m0=k.panel_name_placeholder,f0=k.panel_note_placeholder,_0=k.panel_delete_confirm,v0=k.dashboard_delete_confirm,y0=k.edit_dashboard,h0=k.delete_dashboard,g0=k.visible,b0=k.prefix_placeholder,w0=k.suffix_placeholder,k0=k.decimals_placeholder,$0=k.no_dashboards,C0=k.no_dashboards_copy,S0=k.no_data,F0=k.create_dashboard,V0=k.dashboard_name,A0=k.full_screen,I0=k.full_text_search,E0=k.edit_panels,D0=k.center_align,P0=k.left_align,T0=k.right_align,O0=k.fit_to_screen,L0=k.image_url,j0=k.alt_text,R0=k.media,M0=k.quality,U0=k.width,N0=k.height,B0=k.source,q0=k.url_placeholder,z0=k.display_text,K0=k.display_text_placeholder,W0=k.interface_group_text_and_numbers,H0=k.interface_group_selection,G0=k.interface_group_relational,Z0=k.interface_group_presentation,J0=k.interface_group_groups,X0=k.interface_group_other,Y0=k.tooltip,Q0=k.tooltip_placeholder,x0=k.unlimited,e2=k.open_link_in,t2=k.new_tab,n2=k.current_tab,l2=k.save_image,o2=k.save_media,a2=k.wysiwyg_options,i2=k.dropdown,r2=k.choices,s2=k.choices_option_configured_incorrectly,d2=k.deselect,u2=k.deselect_all,c2=k.other,p2=k.adding_user,m2=k.unknown_user,f2=k.creating_in,_2=k.editing_in,v2=k.viewing_in,y2=k.creating_unit,h2=k.editing_unit,g2=k.editing_in_batch,b2=k.no_options_available,w2=k.settings_data_model,k2=k.settings_permissions,$2=k.settings_project,C2=k.settings_webhooks,S2=k.settings_presets,F2=k.settings_translation_strings,V2=k.one_or_more_options_are_missing,A2=k.scope,I2=k.select,E2=k.layout,D2=k.tree_view,P2=k.changes_are_permanent,T2=k.preset_name_placeholder,O2=k.preset_search_placeholder,L2=k.editing_preset,j2=k.layout_preview,R2=k.layout_setup,M2=k.unsaved_changes,U2=k.unsaved_changes_copy,N2=k.discard_changes,B2=k.discard_all_changes,q2=k.discard_changes_copy,z2=k.show_x_axis,K2=k.show_y_axis,W2=k.keep_editing,H2=k.page_help_collections_overview,G2=k.page_help_collections_collection,Z2=k.page_help_collections_item,J2=k.page_help_activity_collection,X2=k.page_help_docs_global,Y2=k.page_help_files_collection,Q2=k.page_help_files_item,x2=k.page_help_settings_project,ew=k.page_help_settings_datamodel_collections,tw=k.page_help_settings_datamodel_fields,nw=k.page_help_settings_roles_collection,lw=k.page_help_settings_roles_item,ow=k.page_help_settings_presets_collection,aw=k.page_help_settings_presets_item,iw=k.page_help_settings_webhooks_collection,rw=k.page_help_settings_webhooks_item,sw=k.page_help_settings_translation_strings_collection,dw=k.page_help_users_collection,uw=k.page_help_users_item,cw=k.page_help_insights_overview,pw=k.page_help_insights_dashboard,mw=k.activity_feed,fw=k.add_new,_w=k.create_new,vw=k.all,yw=k.none,hw=k.no_layout_collection_selected_yet,gw=k.batch_delete_confirm,bw=k.cancel,ww=k.no_upscale,kw=k.collection,$w=k.collections,Cw=k.content,Sw=k.singleton,Fw=k.singleton_label,Vw=k.system_fields_locked,Aw=k.directus_collection,Iw=k.fields,Ew=k.field_options,Dw=k.no_fields_in_collection,Pw=k.no_value,Tw=k.do_nothing,Ow=k.generate_and_save_uuid,Lw=k.save_current_user_id,jw=k.save_current_user_role,Rw=k.save_current_datetime,Mw=k.always_open,Uw=k.start_open,Nw=k.start_collapsed,Bw=k.block,qw=k.inline,zw=k.comment,Kw=k.shares,Ww=k.unlimited_usage,Hw=k.uses_left,Gw=k.no_shares,Zw=k.new_share,Jw=k.expired,Xw=k.upcoming,Yw=k.share,Qw=k.share_item,xw=k.shared_with_you,ek=k.shared_enter_passcode,tk=k.shared_leave_blank_for_unlimited,nk=k.shared_times_remaining,lk=k.shared_last_remaining,ok=k.shared_uses_left,ak=k.share_access_page,ik=k.share_access_not_found,rk=k.share_access_not_found_desc,sk=k.share_access_not_found_title,dk=k.share_copy_link,uk=k.share_copy_link_success,ck=k.share_copy_link_error,pk=k.share_send_link,mk=k.relational_triggers,fk=k.referential_action_field_label_m2o,_k=k.referential_action_field_label_o2m,vk=k.referential_action_no_action,yk=k.referential_action_cascade,hk=k.referential_action_set_null,gk=k.referential_action_set_default,bk=k.choose_action,wk=k.continue_label,kk=k.continue_as,$k=k.editing_role,Ck=k.creating_webhook,Sk=k.default_label,Fk=k.delete_label,Vk=k.delete_are_you_sure,Ak=k.delete_field_are_you_sure,Ik=k.description,Ek=k.done,Dk=k.duplicate,Pk=k.limit,Tk=k.email,Ok=k.embed,Lk=k.fallback_icon,jk=k.field,Rk=k.file,Mk=k.file_library,Uk=k.forgot_password,Nk=k.hidden,Bk=k.hidden_in_group,qk=k.icon,zk=k.info,Kk=k.normal,Wk=k.success,Hk=k.warning,Gk=k.danger,Zk=k.colors,Jk=k.junction_collection,Xk=k.latency,Yk=k.login,Qk=k.my_activity,xk=k.not_authenticated,e$=k.authenticated,t$=k.options,n$=k.otp,l$=k.password,o$=k.permissions,a$=k.relationship,i$=k.reset,r$=k.reset_password,s$=k.revisions,d$=k.no_revisions,u$=k.revert,c$=k.save,p$=k.schema,m$=k.search,f$=k.select_existing,_$=k.select_field_type,v$=k.select_interface,y$=k.settings,h$=k.sign_in,g$=k.sign_out,b$=k.sign_out_confirm,w$=k.something_went_wrong,k$=k.sort_direction,$$=k.export_location,C$=k.export_started,S$=k.export_started_copy,F$=k.sort_asc,V$=k.sort_desc,A$=k.template,I$=k.require_value_to_be_set,E$=k.translation,D$=k.translation_placeholder,P$=k.value,T$=k.view_project,O$=k.weeks,L$=k.report_error,j$=k.start,R$=k.interfaces,M$=k.displays,U$=k.layouts,N$=k.panels,B$=Object.freeze(Object.defineProperty({__proto__:null,default:k,identifier:Ku,avatar:Wu,application:Hu,default_provider:Gu,published:Zu,draft:Ju,archived:Xu,modules:Yu,module_bar:Qu,reset_width:xu,tile_size:ec,edit_field:tc,conditions:nc,maps:lc,switch_user:oc,item_creation:ac,item_revision:ic,enter_a_name:rc,duplicate_field:sc,half_width:dc,full_width:uc,group:cc,export_items:pc,and:mc,or:fc,fill_width:_c,field_name_translations:vc,enter_password_to_enable_tfa:yc,add_field:hc,role_name:gc,branch:bc,leaf:wc,indeterminate:kc,edit_collection:$c,exclusive:Cc,children:Sc,db_only_click_to_configure:Fc,show_active_items:Vc,show_archived_items:Ac,show_all_items:Ic,edited:Ec,required:Dc,required_for_app_access:Pc,requires_value:Tc,create_preset:Oc,create_panel:Lc,create_role:jc,create_user:Rc,delete_panel:Mc,create_webhook:Uc,create_translation_string:Nc,no_translation_string:Bc,no_translation_string_copy:qc,translation_string_key_placeholder:zc,translation_string_translations_placeholder:Kc,edit_translation_string:Wc,delete_translation_string_copy:Hc,invite_users:Gc,invite:Zc,email_already_invited:Jc,subject:Xc,inbox:Yc,emails:Qc,connection_excellent:xc,connection_good:ep,connection_fair:tp,connection_poor:np,primary:lp,rename_folder:op,delete_folder:ap,prefix:ip,suffix:rp,reset_bookmark:sp,update_bookmark:dp,delete_bookmark:up,delete_bookmark_copy:cp,delete_personal_bookmark:pp,delete_role_bookmark:mp,delete_global_bookmark:fp,logoutReason:_p,public_label:vp,public_description:yp,admin_description:hp,not_allowed:gp,directus_version:bp,node_version:wp,node_uptime:kp,os_type:$p,os_version:Cp,os_uptime:Sp,os_totalmem:Fp,archive:Vp,archive_confirm:Ap,archive_confirm_count:Ip,reset_system_permissions_to:Ep,reset_system_permissions_copy:Dp,the_following_are_minimum_permissions:Pp,app_access_minimum:Tp,recommended_defaults:Op,unarchive:Lp,unarchive_confirm:jp,nested_files_folders_will_be_moved:Rp,validation_errors_notice:Mp,validationError:Up,all_access:Np,no_access:Bp,use_custom:qp,nullable:zp,allow_null_value:Kp,allow_multiple:Wp,allow_multiple_to_be_open:Hp,enter_value_to_replace_nulls:Gp,field_standard:Zp,field_presentation:Jp,field_file:Xp,field_files:Yp,field_m2o:Qp,field_m2a:xp,field_o2m:em,field_m2m:tm,field_translations:nm,field_group:lm,item_permissions:om,field_permissions:am,field_validation:im,field_presets:rm,permissions_for_role:sm,fields_for_role:dm,validation_for_role:um,presets_for_role:cm,presentation_and_aliases:pm,revision_post_create:mm,revision_post_update:fm,changes_made:_m,no_relational_data:vm,hide_field:ym,hide_field_on_detail:hm,show_field_on_detail:gm,delete_field:bm,fields_and_layout:wm,field_create_success:km,field_update_success:$m,duplicate_where_to:Cm,language:Sm,language_placeholder:Fm,aggregate_function:Vm,aggregate_precision:Am,group_aggregation:Im,group_precision:Em,global:Dm,admins_have_all_permissions:Pm,camera:Tm,show_zero:Om,create_in_advanced_field_creation_mode:Lm,continue_in_advanced_field_creation_mode:jm,validation:Rm,sum:Mm,sum_distinct:Um,avg:Nm,avg_distinct:Bm,count:qm,count_distinct:zm,min:Km,max:Wm,exposure:Hm,shutter:Gm,iso:Zm,focal_length:Jm,schema_setup_key:Xm,create_field:Ym,creating_new_field:Qm,field_in_collection:xm,reset_page_preferences:ef,hidden_field:tf,hidden_on_detail:nf,disabled_editing_value:lf,key:of,alias:af,bigInteger:rf,boolean:sf,date:df,date_range:uf,datetime:cf,dateTime:pf,precision:mf,decimal:ff,float:_f,integer:vf,json:yf,xml:hf,string:gf,text:bf,time:wf,timestamp:kf,uuid:$f,hash:Cf,geometry:Sf,not_available_for_type:Ff,create_translations:Vf,auto_refresh:Af,refresh_interval:If,no_refresh:Ef,refresh_interval_seconds:Df,refresh_interval_minutes:Pf,auto_generate:Tf,this_will_auto_setup_fields_relations:Of,click_here:Lf,to_manually_setup_translations:jf,click_to_manage_translated_fields:Rf,fields_group:Mf,no_collections_found:Uf,new_data_alert:Nf,search_collection:Bf,new_field:qf,new_collection:zf,add_m2o_to_collection:Kf,add_o2m_to_collection:Wf,add_m2m_to_collection:Hf,choose_a_type:Gf,determined_by_relationship:Zf,add_note:Jf,add_link:Xf,custom_link:Yf,default_value:Qf,standard_field:xf,single_file:e_,multiple_files:t_,m2o_relationship:n_,o2m_relationship:l_,m2m_relationship:o_,m2a_relationship:a_,invalid_item:i_,next:r_,field_name:s_,translations:d_,no_translations:u_,note:c_,enter_a_value:p_,enter_a_placeholder:m_,length:f_,soft_length:__,precision_scale:v_,readonly:y_,unique:h_,updated_on:g_,updated_by:b_,primary_key:w_,foreign_key:k_,finish_setup:$_,dismiss:C_,raw_value:S_,copy_raw_value:F_,copy_raw_value_success:V_,copy_raw_value_fail:A_,paste_raw_value:I_,paste_raw_value_success:E_,paste_raw_value_fail:D_,view_raw_value:P_,edit_raw_value:T_,enter_raw_value:O_,clear_value:L_,clear_changes:j_,reset_to_default:R_,undo_changes:M_,notifications:U_,show_all_activity:N_,page_not_found:B_,page_not_found_body:q_,confirm_revert:z_,confirm_revert_body:K_,display:W_,settings_update_success:H_,title:G_,revision_delta_created:Z_,revision_delta_created_externally:J_,revision_delta_updated:X_,revision_delta_deleted:Y_,revision_delta_reverted:Q_,revision_delta_other:x_,revision_delta_by:ev,presentation_text_values_cannot_be_reimported:tv,download_page_as_csv:nv,private_user:lv,creation_preview:ov,revision_preview:av,updates_made:iv,leave_comment:rv,post_comment_success:sv,post_comment_updated:dv,item_create_success:uv,item_update_success:cv,item_delete_success:pv,this_collection:mv,related_collection:fv,related_collections:_v,translations_collection:vv,languages_collection:yv,import_data_input_placeholder:hv,import_data_button:gv,import_data_indeterminate:bv,import_data_success:wv,import_data_error:kv,label_import:$v,label_export:Cv,import_export:Sv,format:Fv,last_page:Vv,last_access:Av,fill_template:Iv,a_unique_table_name:Ev,a_unique_column_name:Dv,enable_custom_values:Pv,submit:Tv,move_to_folder:Ov,move:Lv,system:jv,add_field_related:Rv,interface_label:Mv,today:Uv,yesterday:Nv,delete_comment:Bv,delete_share:qv,functions:zv,minutes:Kv,hours:Wv,month:Hv,year:Gv,select_all:Zv,months:Jv,drag_mode:Xv,cancel_crop:Yv,original:Qv,url:xv,import_label:ey,file_details:ty,dimensions:ny,size:ly,created:oy,modified:ay,checksum:iy,owner:ry,edited_by:sy,folder:dy,zoom:uy,download:cy,open:py,open_in_new_window:my,open_folder:fy,foreground_color:_y,background_color:vy,upload_from_device:yy,choose_from_library:hy,import_from_url:gy,replace_from_device:by,replace_from_library:wy,replace_from_url:ky,no_file_selected:$y,download_file:Cy,open_file_in_tab:Sy,start_export:Fy,not_available_for_local_downloads:Vy,exporting_all_items_in_collection:Ay,exporting_limited_items_in_collection:Iy,exporting_no_items_to_export:Ey,exporting_download_hint:Dy,exporting_batch_hint:Py,exporting_batch_hint_forced:Ty,collection_key:Oy,name:Ly,primary_key_field:jy,type:Ry,creating_new_collection:My,created_by:Uy,created_on:Ny,creating_collection_info:By,creating_collection_system:qy,auto_increment_integer:zy,auto_increment_big_integer:Ky,generated_uuid:Wy,manual_string:Hy,save_and_create_new:Gy,save_and_stay:Zy,save_as_copy:Jy,add_existing:Xy,creating_items:Yy,enable_create_button:Qy,selecting_items:xy,enable_select_button:eh,comments:th,no_comments:nh,click_to_expand:lh,select_item:oh,no_items:ah,search_items:ih,disabled:rh,information:sh,report_bug:dh,request_feature:uh,interface_not_found:ch,reset_interface:ph,display_not_found:mh,reset_display:fh,item_count:_h,no_items_copy:vh,file_count:yh,no_files_copy:hh,user_count:gh,no_users_copy:bh,webhooks_count:wh,no_webhooks_copy:kh,no_notifications:$h,no_notifications_copy:Ch,activity_log:Sh,all_items:Fh,any:Vh,csv:Ah,no_collections:Ih,create_collection:Eh,no_collections_copy_admin:Dh,no_collections_copy:Ph,relationship_not_setup:Th,display_template_not_setup:Oh,collection_field_not_setup:Lh,select_a_collection:jh,select_a_field:Rh,active:Mh,move_to:Uh,copy:Nh,copy_to:Bh,no_other_dashboards_copy:qh,inactive:zh,users:Kh,activity:Wh,activity_item:Hh,action:Gh,ip_address:Zh,user_agent:Jh,webhooks:Xh,decimals:Yh,value_decimals:Qh,min_value:xh,max_value:eg,automatic:tg,field_width:ng,add_filter:lg,upper_limit:og,lower_limit:ag,user_directory:ig,documentation:rg,sidebar:sg,duration:dg,charset:ug,second:cg,file_moved:pg,collection_created:mg,modified_on:fg,card_size:_g,sort_field:vg,add_sort_field:yg,sort:hg,status:gg,remove:bg,toggle_manual_sorting:wg,bookmark_doesnt_exist:kg,bookmark_doesnt_exist_copy:$g,bookmark_doesnt_exist_cta:Cg,select_an_item:Sg,edit:Fg,enabled:Vg,disable_tfa:Ag,tfa_scan_code:Ig,enter_otp_to_disable_tfa:Eg,create_account:Dg,account_created_successfully:Pg,auto_fill:Tg,corresponding_field:Og,errors:Lg,security:jg,value_hashed:Rg,bookmark_name:Mg,create_bookmark:Ug,edit_bookmark:Ng,edit_personal_bookmark:Bg,edit_role_bookmark:qg,edit_global_bookmark:zg,cannot_edit_role_bookmarks:Kg,cannot_edit_global_bookmarks:Wg,bookmarks:Hg,presets:Gg,unexpected_error:Zg,unexpected_error_copy:Jg,copy_details:Xg,no_app_access:Yg,no_app_access_copy:Qg,password_reset_sent:xg,password_reset_successful:e1,back:t1,filter:n1,editing_image:l1,square:o1,free:a1,flip_horizontal:i1,flip_vertical:r1,aspect_ratio:s1,rotate:d1,all_users:u1,delete_collection:c1,update_collection_success:p1,delete_collection_success:m1,make_collection_visible:f1,make_collection_hidden:_1,make_folder_visible:v1,make_folder_hidden:y1,goto_collection_content:h1,start_end_of_count_items:g1,start_end_of_count_filtered_items:b1,one_item:w1,one_filtered_item:k1,delete_collection_are_you_sure:$1,delete_folder_are_you_sure:C1,collections_shown:S1,visible_collections:F1,hidden_collections:V1,show_hidden_collections:A1,hide_hidden_collections:I1,show_header:E1,unmanaged_collections:D1,system_collections:P1,placeholder:T1,icon_left:O1,icon_right:L1,count_other_revisions:j1,font:R1,sans_serif:M1,serif:U1,monospace:N1,divider:B1,color:q1,circle:z1,empty_item:K1,log_in_with:W1,conditional_styles:H1,advanced_settings:G1,advanced_filter:Z1,delete_advanced_filter:J1,change_advanced_filter_operator:X1,advanced:Y1,operators:Q1,custom_validation_message:x1,loading:eb,drop_to_upload:tb,item:nb,items:lb,upload_file:ob,upload_file_indeterminate:ab,upload_file_success:ib,upload_files_indeterminate:rb,upload_files_success:sb,upload_pending:db,drag_file_here:ub,click_to_browse:cb,interface_options:pb,layout_options:mb,rows:fb,columns:_b,collection_setup:vb,optional_system_fields:yb,value_unique:hb,all_activity:gb,create_item:bb,display_template:wb,language_display_template:kb,translations_display_template:$b,n_items_selected:Cb,per_page:Sb,all_files:Fb,my_files:Vb,recent_files:Ab,create_folder:Ib,edit_folder:Eb,folder_name:Db,folder_key:Pb,add_file:Tb,replace_file:Ob,no_results:Lb,no_results_copy:jb,clear_filters:Rb,saves_automatically:Mb,role:Ub,edit_role:Nb,rule:Bb,user:qb,no_presets:zb,no_presets_copy:Kb,no_presets_cta:Wb,presets_only:Hb,create:Gb,on_create:Zb,on_update:Jb,read:Xb,update:Yb,select_fields:Qb,format_text:xb,format_value:e0,abbreviate_value:t0,operator:n0,bold:l0,toggle:o0,icon_on:a0,icon_off:i0,label:r0,insights:s0,dashboard:d0,panel:u0,panel_options:c0,panel_header:p0,panel_name_placeholder:m0,panel_note_placeholder:f0,panel_delete_confirm:_0,dashboard_delete_confirm:v0,edit_dashboard:y0,delete_dashboard:h0,visible:g0,prefix_placeholder:b0,suffix_placeholder:w0,decimals_placeholder:k0,no_dashboards:$0,no_dashboards_copy:C0,no_data:S0,create_dashboard:F0,dashboard_name:V0,full_screen:A0,full_text_search:I0,edit_panels:E0,center_align:D0,left_align:P0,right_align:T0,fit_to_screen:O0,image_url:L0,alt_text:j0,media:R0,quality:M0,width:U0,height:N0,source:B0,url_placeholder:q0,display_text:z0,display_text_placeholder:K0,interface_group_text_and_numbers:W0,interface_group_selection:H0,interface_group_relational:G0,interface_group_presentation:Z0,interface_group_groups:J0,interface_group_other:X0,tooltip:Y0,tooltip_placeholder:Q0,unlimited:x0,open_link_in:e2,new_tab:t2,current_tab:n2,save_image:l2,save_media:o2,wysiwyg_options:a2,dropdown:i2,choices:r2,choices_option_configured_incorrectly:s2,deselect:d2,deselect_all:u2,other:c2,adding_user:p2,unknown_user:m2,creating_in:f2,editing_in:_2,viewing_in:v2,creating_unit:y2,editing_unit:h2,editing_in_batch:g2,no_options_available:b2,settings_data_model:w2,settings_permissions:k2,settings_project:$2,settings_webhooks:C2,settings_presets:S2,settings_translation_strings:F2,one_or_more_options_are_missing:V2,scope:A2,select:I2,layout:E2,tree_view:D2,changes_are_permanent:P2,preset_name_placeholder:T2,preset_search_placeholder:O2,editing_preset:L2,layout_preview:j2,layout_setup:R2,unsaved_changes:M2,unsaved_changes_copy:U2,discard_changes:N2,discard_all_changes:B2,discard_changes_copy:q2,show_x_axis:z2,show_y_axis:K2,keep_editing:W2,page_help_collections_overview:H2,page_help_collections_collection:G2,page_help_collections_item:Z2,page_help_activity_collection:J2,page_help_docs_global:X2,page_help_files_collection:Y2,page_help_files_item:Q2,page_help_settings_project:x2,page_help_settings_datamodel_collections:ew,page_help_settings_datamodel_fields:tw,page_help_settings_roles_collection:nw,page_help_settings_roles_item:lw,page_help_settings_presets_collection:ow,page_help_settings_presets_item:aw,page_help_settings_webhooks_collection:iw,page_help_settings_webhooks_item:rw,page_help_settings_translation_strings_collection:sw,page_help_users_collection:dw,page_help_users_item:uw,page_help_insights_overview:cw,page_help_insights_dashboard:pw,activity_feed:mw,add_new:fw,create_new:_w,all:vw,none:yw,no_layout_collection_selected_yet:hw,batch_delete_confirm:gw,cancel:bw,no_upscale:ww,collection:kw,collections:$w,content:Cw,singleton:Sw,singleton_label:Fw,system_fields_locked:Vw,directus_collection:Aw,fields:Iw,field_options:Ew,no_fields_in_collection:Dw,no_value:Pw,do_nothing:Tw,generate_and_save_uuid:Ow,save_current_user_id:Lw,save_current_user_role:jw,save_current_datetime:Rw,always_open:Mw,start_open:Uw,start_collapsed:Nw,block:Bw,inline:qw,comment:zw,shares:Kw,unlimited_usage:Ww,uses_left:Hw,no_shares:Gw,new_share:Zw,expired:Jw,upcoming:Xw,share:Yw,share_item:Qw,shared_with_you:xw,shared_enter_passcode:ek,shared_leave_blank_for_unlimited:tk,shared_times_remaining:nk,shared_last_remaining:lk,shared_uses_left:ok,share_access_page:ak,share_access_not_found:ik,share_access_not_found_desc:rk,share_access_not_found_title:sk,share_copy_link:dk,share_copy_link_success:uk,share_copy_link_error:ck,share_send_link:pk,relational_triggers:mk,referential_action_field_label_m2o:fk,referential_action_field_label_o2m:_k,referential_action_no_action:vk,referential_action_cascade:yk,referential_action_set_null:hk,referential_action_set_default:gk,choose_action:bk,continue_label:wk,continue_as:kk,editing_role:$k,creating_webhook:Ck,default_label:Sk,delete_label:Fk,delete_are_you_sure:Vk,delete_field_are_you_sure:Ak,description:Ik,done:Ek,duplicate:Dk,limit:Pk,email:Tk,embed:Ok,fallback_icon:Lk,field:jk,file:Rk,file_library:Mk,forgot_password:Uk,hidden:Nk,hidden_in_group:Bk,icon:qk,info:zk,normal:Kk,success:Wk,warning:Hk,danger:Gk,colors:Zk,junction_collection:Jk,latency:Xk,login:Yk,my_activity:Qk,not_authenticated:xk,authenticated:e$,options:t$,otp:n$,password:l$,permissions:o$,relationship:a$,reset:i$,reset_password:r$,revisions:s$,no_revisions:d$,revert:u$,save:c$,schema:p$,search:m$,select_existing:f$,select_field_type:_$,select_interface:v$,settings:y$,sign_in:h$,sign_out:g$,sign_out_confirm:b$,something_went_wrong:w$,sort_direction:k$,export_location:$$,export_started:C$,export_started_copy:S$,sort_asc:F$,sort_desc:V$,template:A$,require_value_to_be_set:I$,translation:E$,translation_placeholder:D$,value:P$,view_project:T$,weeks:O$,report_error:L$,start:j$,interfaces:R$,displays:M$,layouts:U$,panels:N$},Symbol.toStringTag,{value:"Module"}));const Be=rd({legacy:!1,locale:"en-US",fallbackLocale:"en-US",messages:{"en-US":k},silentTranslationWarn:!0,datetimeFormats:qu,numberFormats:zu}),Qa=["en-US"];function xt(e){var u,r,i,s,p;const t=Be.global.t("unexpected_error");let n=e;if(typeof e=="object"&&(n=(p=(s=(i=(r=(u=e==null?void 0:e.response)==null?void 0:u.data)==null?void 0:r.errors)==null?void 0:i[0])==null?void 0:s.extensions)==null?void 0:p.code),!e||!n===void 0)return t;const l=`errors.${n}`;return Be.global.te(l)===!1?t:Be.global.t(l)}function ll(e){let t=e;return typeof e=="string"&&e.startsWith("$t:")&&(t=Be.global.t(e.replace("$t:",""))),t}function Dt(e){const t=z.exports.cloneDeep(e);return Object.entries(t).forEach(([n,l])=>{l&&typeof l=="object"&&(t[n]=Dt(l)),l&&typeof l=="string"&&(t[n]=ll(l))}),t}var xa={"af-ZA":"Afrikaans (South Africa)","ar-SA":"Arabic (Saudi Arabia)","bn-IN":"Bengali (India)","br-FR":"Breton (France)","bg-BG":"Bulgarian (Bulgaria)","ca-ES":"Catalan (Spain)","zh-CN":"Chinese (Simplified)","hr-HR":"Croatian (Croatia)","cs-CZ":"Czech (Czech Republic)","da-DK":"Danish (Denmark)","nl-NL":"Dutch (Netherlands)","en-CA":"English (Canada)","en-GB":"English (United Kingdom)","en-US":"English (United States)","et-EE":"Estonian (Estonia)","fo-FO":"Faroese (Faroe Islands)","fi-FI":"Finnish (Finland)","fr-CA":"French (Canada)","fr-FR":"French (France)","ka-GE":"Georgian (Georgia)","de-DE":"German (Germany)","el-GR":"Greek (Greece)","he-IL":"Hebrew (Israel)","hi-IN":"Hindi (India)","hu-HU":"Hungarian (Hungary)","is-IS":"Icelandic (Iceland)","id-ID":"Indonesian (Indonesia)","it-IT":"Italian (Italy)","ja-JP":"Japanese (Japan)","ko-KR":"Korean (Korea)","lt-LT":"Lithuanian (Lithuania)","ms-MY":"Malay (Malaysia)","mn-MN":"Mongolian (Mongolia)","no-NO":"Norwegian (Norway)","fa-IR":"Farsi (Iran)","pl-PL":"Polish (Poland)","pt-BR":"Portuguese (Brazil)","pt-PT":"Portuguese (Portugal)","ro-RO":"Romanian (Romania)","ru-RU":"Russian (Russian Federation)","sr-SP":"Serbian (Cyrillic) (Serbia and Montenegro)","sr-CS":"Serbian (Latin) (Serbia and Montenegro)","si-LK":"Sinhala (Sri Lanka)","sk-SK":"Slovak (Slovakia)","sl-SI":"Slovenian (Slovenia)","es-ES":"Spanish (Spain)","es-419":"Spanish (Latin America)","es-cl":"Spanish (Chile)","sv-SE":"Swedish (Sweden)","zh-TW":"Taiwanese Mandarin (Taiwan)","th-TH":"Thai (Thailand)","tr-TR":"Turkish (Turkey)","uk-UA":"Ukrainian (Ukraine)","vi-VN":"Vietnamese (Vietnam)"};let vo;function Pe(e){var l,o,u,r,i,s,p,f,_,v;vo||(vo=gl());const t=((i=(r=(u=(o=(l=e.response)==null?void 0:l.data)==null?void 0:o.errors)==null?void 0:u[0])==null?void 0:r.extensions)==null?void 0:i.code)||((s=e==null?void 0:e.extensions)==null?void 0:s.code)||"UNKNOWN",n=((v=(_=(f=(p=e.response)==null?void 0:p.data)==null?void 0:f.errors)==null?void 0:_[0])==null?void 0:v.message)||e.message||void 0;console.warn(e),vo.add({title:Be.global.t(`errors.${t}`),text:n,type:"error",dialog:!0,error:e})}let ln=null,qt=null,on=null;function ol(){ln===null&&(ln=D(!1)),on===null&&(on=D(null)),qt===null&&(qt=D(null));const e=D(!1);return{loading:ln,error:on,translationStrings:qt,refresh:n,updating:e,update:l,mergeTranslationStringsForLanguage:o};async function t(){if(ln!==null&&qt!==null&&on!==null){ln.value=!0,on.value=null;try{const s=await me.get("/settings",{params:{fields:["translation_strings"]}}),{translation_strings:p}=s.data.data;p&&(qt.value=p.map(f=>{var _;return{key:f.key,translations:i((_=f.translations)!=null?_:null)}}))}catch(s){on.value=s}finally{ln.value=!1}}}async function n(){ln!==null&&qt!==null&&on!==null&&(ln.value=!1,on.value=null,await t())}async function l(s){if(ln===null||qt===null||on===null)return;e.value=!0;const f=u([...s]).map(_=>({key:_.key,translations:r(_.translations)}));try{const _=await me.patch("/settings",{translation_strings:f});if(_.data.data.translation_strings){qt.value=_.data.data.translation_strings.map(y=>{var g;return{key:y.key,translations:i((g=y.translations)!=null?g:null)}});const{currentUser:v}=Ye();v&&"language"in v&&v.language?o(v.language):o("en-US")}}catch(_){Pe(_)}finally{e.value=!1}}function o(s){if(!(qt==null?void 0:qt.value))return;const p=qt.value.reduce((f,_)=>{if(!_.key||!_.translations)return f;const v=_.translations.find(y=>y.language===s);return!v||!v.translation?f:Ie(ve({},f),{[_.key]:v.translation})},{});Be.global.mergeLocaleMessage(s,p)}function u(s){return[...new Map(s.map(p=>[p.key,p])).values()]}function r(s){return!s||s&&s.length===0?{}:s.reduce((p,f)=>Ie(ve({},p),{[f.language]:f.translation}),{})}function i(s){return!s||Object.keys(s).length===0?[]:Object.entries(s).map(([p,f])=>({language:p,translation:f}))}}function q$(e){switch(e){case"./translations/af-ZA.yaml":return N(()=>import("./af-ZA.ea7e1890.js"),[]);case"./translations/ar-SA.yaml":return N(()=>import("./ar-SA.3eb89e83.js"),[]);case"./translations/bg-BG.yaml":return N(()=>import("./bg-BG.3cee3da1.js"),[]);case"./translations/bn-IN.yaml":return N(()=>import("./bn-IN.1385676c.js"),[]);case"./translations/br-FR.yaml":return N(()=>import("./br-FR.986ec639.js"),[]);case"./translations/ca-ES.yaml":return N(()=>import("./ca-ES.34596b68.js"),[]);case"./translations/cs-CZ.yaml":return N(()=>import("./cs-CZ.0a7d946d.js"),[]);case"./translations/da-DK.yaml":return N(()=>import("./da-DK.eafe971e.js"),[]);case"./translations/de-DE.yaml":return N(()=>import("./de-DE.e7decfad.js"),[]);case"./translations/el-GR.yaml":return N(()=>import("./el-GR.6cae7a1c.js"),[]);case"./translations/en-CA.yaml":return N(()=>import("./en-CA.111f28d7.js"),[]);case"./translations/en-GB.yaml":return N(()=>import("./en-GB.a1107f0b.js"),[]);case"./translations/en-US.yaml":return N(()=>Promise.resolve().then(function(){return B$}),void 0);case"./translations/es-419.yaml":return N(()=>import("./es-419.39bb29ff.js"),[]);case"./translations/es-CL.yaml":return N(()=>import("./es-CL.25194b00.js"),[]);case"./translations/es-ES.yaml":return N(()=>import("./es-ES.4d20beff.js"),[]);case"./translations/et-EE.yaml":return N(()=>import("./et-EE.98069bd5.js"),[]);case"./translations/fa-IR.yaml":return N(()=>import("./fa-IR.117c6e4d.js"),[]);case"./translations/fi-FI.yaml":return N(()=>import("./fi-FI.6cd45ca4.js"),[]);case"./translations/fo-FO.yaml":return N(()=>import("./fo-FO.ffe478b0.js"),[]);case"./translations/fr-CA.yaml":return N(()=>import("./fr-CA.a3d698e2.js"),[]);case"./translations/fr-FR.yaml":return N(()=>import("./fr-FR.91bf5a0c.js"),[]);case"./translations/he-IL.yaml":return N(()=>import("./he-IL.bc84c4a0.js"),[]);case"./translations/hi-IN.yaml":return N(()=>import("./hi-IN.93e9208a.js"),[]);case"./translations/hr-HR.yaml":return N(()=>import("./hr-HR.51d2055f.js"),[]);case"./translations/hu-HU.yaml":return N(()=>import("./hu-HU.f8950e75.js"),[]);case"./translations/id-ID.yaml":return N(()=>import("./id-ID.ca6d20b9.js"),[]);case"./translations/is-IS.yaml":return N(()=>import("./is-IS.de933c2f.js"),[]);case"./translations/it-IT.yaml":return N(()=>import("./it-IT.7fa03fbc.js"),[]);case"./translations/ja-JP.yaml":return N(()=>import("./ja-JP.08e6d3fa.js"),[]);case"./translations/ka-GE.yaml":return N(()=>import("./ka-GE.0bf65322.js"),[]);case"./translations/ko-KR.yaml":return N(()=>import("./ko-KR.30f60079.js"),[]);case"./translations/ku-TR.yaml":return N(()=>import("./ku-TR.9eee23ff.js"),[]);case"./translations/lt-LT.yaml":return N(()=>import("./lt-LT.6a535ee7.js"),[]);case"./translations/mn-MN.yaml":return N(()=>import("./mn-MN.ae109212.js"),[]);case"./translations/ms-MY.yaml":return N(()=>import("./ms-MY.8f7b6e20.js"),[]);case"./translations/nl-NL.yaml":return N(()=>import("./nl-NL.bbb6b3b0.js"),[]);case"./translations/no-NO.yaml":return N(()=>import("./no-NO.a66d336d.js"),[]);case"./translations/pl-PL.yaml":return N(()=>import("./pl-PL.b97e6b0a.js"),[]);case"./translations/pt-BR.yaml":return N(()=>import("./pt-BR.92a32af8.js"),[]);case"./translations/pt-PT.yaml":return N(()=>import("./pt-PT.f0cdce40.js"),[]);case"./translations/ro-RO.yaml":return N(()=>import("./ro-RO.83d12aa1.js"),[]);case"./translations/ru-RU.yaml":return N(()=>import("./ru-RU.ab488b3a.js"),[]);case"./translations/si-LK.yaml":return N(()=>import("./si-LK.f9ef55b1.js"),[]);case"./translations/sk-SK.yaml":return N(()=>import("./sk-SK.5761e1d9.js"),[]);case"./translations/sl-SI.yaml":return N(()=>import("./sl-SI.5337e803.js"),[]);case"./translations/sr-CS.yaml":return N(()=>import("./sr-CS.c4a5b89f.js"),[]);case"./translations/sr-SP.yaml":return N(()=>import("./sr-SP.e7aaced7.js"),[]);case"./translations/sv-SE.yaml":return N(()=>import("./sv-SE.95898df0.js"),[]);case"./translations/th-TH.yaml":return N(()=>import("./th-TH.f44de68e.js"),[]);case"./translations/tr-TR.yaml":return N(()=>import("./tr-TR.bafc0664.js"),[]);case"./translations/uk-UA.yaml":return N(()=>import("./uk-UA.8be80c84.js"),[]);case"./translations/vi-VN.yaml":return N(()=>import("./vi-VN.2e3953bd.js"),[]);case"./translations/zh-CN.yaml":return N(()=>import("./zh-CN.dcde1064.js"),[]);case"./translations/zh-TW.yaml":return N(()=>import("./zh-TW.edfb1fce.js"),[]);default:return new Promise(function(t,n){(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(n.bind(null,new Error("Unknown variable dynamic import: "+e)))})}}const{modules:z$,modulesRaw:K$}=Ll(),{layouts:W$,layoutsRaw:H$}=Cn(),{interfaces:G$,interfacesRaw:Z$}=$n(),{panels:J$,panelsRaw:X$}=nl(),{displays:Y$,displaysRaw:Q$}=Ol();async function yo(e){const t=Xe(),n=Me(),{mergeTranslationStringsForLanguage:l}=ol();if(Object.keys(xa).includes(e)===!1)console.warn(`"${e}" is not an available language in the Directus app.`);else{if(Qa.includes(e)===!1)try{const{default:o}=await q$(`./translations/${e}.yaml`);Be.global.mergeLocaleMessage(e,o),Qa.push(e)}catch(o){console.warn(o)}Be.global.locale.value=e,document.querySelector("html").setAttribute("lang",e)}return z$.value=Dt(K$.value),W$.value=Dt(H$.value),G$.value=Dt(Z$.value),J$.value=Dt(X$.value),Y$.value=Dt(Q$.value),t.translateCollections(),n.translateFields(),l(e),!0}function x$(e,t){var n;e=z.exports.clone(e);const l=/^((?:-|\+)?\d*?\.?\d+?) *?(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|months?|mth|mo|years?|yrs?|y)?$/i.exec(t.trim());if(!l||!l[1])return;const o=parseFloat(l[1]);switch(((n=l[2])!==null&&n!==void 0?n:"days").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return _d(e,o);case"months":case"month":case"mth":case"mo":return fd(e,o);case"weeks":case"week":case"w":return md(e,o);case"days":case"day":case"d":return pd(e,o);case"hours":case"hour":case"hrs":case"hr":case"h":return cd(e,o);case"minutes":case"minute":case"mins":case"min":case"m":return ud(e,o);case"seconds":case"second":case"secs":case"sec":case"s":return dd(e,o);case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return sd(e,o);default:return}}function Nn(e,t,n){if(Array.isArray(e))return e.map(function(l,o){return z.exports.isObjectLike(l)?Nn(l,t,n):t.call(n,l,o)});if(z.exports.isObjectLike(e)){const l={};for(const o in e){const u=e[o];z.exports.isObjectLike(u)?l[o]=Nn(u,t,n):l[o]=t.call(n,u,o)}return l}else return e}const Ut=Ca.extend({type:"string",base:Ca.string(),messages:{"string.contains":"{{#label}} must contain [{{#substring}}]","string.ncontains":"{{#label}} can't contain [{{#substring}}]"},rules:{contains:{args:[{name:"substring",ref:!0,assert:e=>typeof e=="string",message:"must be a string"}],method(e){return this.$_addRule({name:"contains",args:{substring:e}})},validate(e,t,{substring:n}){return e.includes(n)===!1?t.error("string.contains",{substring:n}):e}},ncontains:{args:[{name:"substring",ref:!0,assert:e=>typeof e=="string",message:"must be a string"}],method(e){return this.$_addRule({name:"ncontains",args:{substring:e}})},validate(e,t,{substring:n}){return e.includes(n)===!0?t.error("string.ncontains",{substring:n}):e}}}}),e8={requireAll:!1};function ei(e,t){var n,l;e=e||{},t=z.exports.merge({},e8,t);const o={},u=Object.keys(e)[0];if(!u)throw new Error(`[generateJoi] Filter doesn't contain field key. Passed filter: ${JSON.stringify(e)}`);const r=Object.values(e)[0];if(!r)throw new Error(`[generateJoi] Filter doesn't contain filter rule. Passed filter: ${JSON.stringify(e)}`);if(((n=Object.keys(r)[0])===null||n===void 0?void 0:n.startsWith("_"))===!1)o[u]=Ut.object({[u]:ei(r,t)});else{const i=Object.keys(r)[0],s=Object.values(r)[0],p=()=>{var y;return(y=o[u])!==null&&y!==void 0?y:Ut.any()},f=()=>{var y;return(y=o[u])!==null&&y!==void 0?y:Ut.string()},_=()=>{var y;return(y=o[u])!==null&&y!==void 0?y:Ut.number()},v=()=>{var y;return(y=o[u])!==null&&y!==void 0?y:Ut.date()};if(i==="_eq"&&(o[u]=p().equal(s)),i==="_neq"&&(o[u]=p().not(s)),i==="_contains"&&(s==null?o[u]=Ut.any().equal(!0):o[u]=f().contains(s)),i==="_ncontains"&&(s==null?o[u]=Ut.any().equal(!0):o[u]=f().ncontains(s)),i==="_starts_with"&&(s==null?o[u]=Ut.any().equal(!0):o[u]=f().pattern(new RegExp(`^${z.exports.escapeRegExp(s)}.*`),{name:"starts_with"})),i==="_nstarts_with"&&(s==null?o[u]=Ut.any().equal(!0):o[u]=f().pattern(new RegExp(`^${z.exports.escapeRegExp(s)}.*`),{name:"starts_with",invert:!0})),i==="_ends_with"&&(s==null?o[u]=Ut.any().equal(!0):o[u]=f().pattern(new RegExp(`.*${z.exports.escapeRegExp(s)}$`),{name:"ends_with"})),i==="_nends_with"&&(s==null?o[u]=Ut.any().equal(!0):o[u]=f().pattern(new RegExp(`.*${z.exports.escapeRegExp(s)}$`),{name:"ends_with",invert:!0})),i==="_in"&&(o[u]=p().equal(...s)),i==="_nin"&&(o[u]=p().not(...s)),i==="_gt"){const y=s instanceof Date||Number.isNaN(Number(s));o[u]=y?v().greater(s):_().greater(Number(s))}if(i==="_gte"){const y=s instanceof Date||Number.isNaN(Number(s));o[u]=y?v().min(s):_().min(Number(s))}if(i==="_lt"){const y=s instanceof Date||Number.isNaN(Number(s));o[u]=y?v().less(s):_().less(Number(s))}if(i==="_lte"){const y=s instanceof Date||Number.isNaN(Number(s));o[u]=y?v().max(s):_().max(Number(s))}if(i==="_null"&&(o[u]=p().valid(null)),i==="_nnull"&&(o[u]=p().invalid(null)),i==="_empty"&&(o[u]=p().valid("")),i==="_nempty"&&(o[u]=p().invalid("")),i==="_between")if(s.every(y=>Number.isSafeInteger(Number(y instanceof Date?NaN:y)))){const y=s;o[u]=_().min(Number(y[0])).max(Number(y[1]))}else{const y=s;o[u]=v().min(y[0]).max(y[1])}if(i==="_nbetween")if(s.every(y=>Number.isSafeInteger(Number(y instanceof Date?NaN:y)))){const y=s;o[u]=_().less(Number(y[0])).greater(Number(y[1]))}else{const y=s;o[u]=v().less(y[0]).greater(y[1])}if(i==="_submitted"&&(o[u]=p().required()),i==="_regex")if(s==null)o[u]=Ut.any().equal(!0);else{const y=typeof s=="string"?s.startsWith("/")&&s.endsWith("/"):!1;o[u]=f().regex(new RegExp(y?s.slice(1,-1):s))}}return o[u]=(l=o[u])!==null&&l!==void 0?l:Ut.any(),t.requireAll&&(o[u]=o[u].required()),Ut.object(o).unknown()}function t8(e){return e.schema?"table":e.meta?"alias":"unknown"}function ti(e,t){const n=(t==null?void 0:t.includeValidation)?["regex"]:[];switch(e){case"binary":case"hash":case"string":case"csv":return["contains","ncontains","icontains","starts_with","nstarts_with","ends_with","nends_with","eq","neq","empty","nempty","null","nnull","in","nin",...n];case"uuid":return["eq","neq","null","nnull","in","nin"];case"json":return["null","nnull"];case"boolean":return["eq","neq","null","nnull"];case"bigInteger":case"integer":case"decimal":case"float":return["eq","neq","lt","lte","gt","gte","between","nbetween","null","nnull","in","nin"];case"dateTime":case"date":case"time":return["eq","neq","null","nnull","lt","lte","gt","gte","between","nbetween","null","nnull","in","nin"];case"geometry":return["null","nnull","intersects","nintersects","intersects_bbox","nintersects_bbox"];default:return["contains","ncontains","eq","neq","lt","lte","gt","gte","between","nbetween","empty","nempty","null","nnull","in","nin",...n]}}function n8(e){switch(e){case"dateTime":case"timestamp":return["year","month","week","day","weekday","hour","minute","second"];case"date":return["year","month","week","day","weekday"];case"time":return["hour","minute","second"];case"json":return["count"];case"alias":return["count"];default:return[]}}function ni(e){return{year:"integer",month:"integer",week:"integer",day:"integer",weekday:"integer",hour:"integer",minute:"integer",second:"integer",count:"integer"}[e]}const l8=["$NOW","$CURRENT_USER","$CURRENT_ROLE"];function o8(e){return typeof e=="string"&&l8.some(t=>e.startsWith(t))}const a8=["alias","bigInteger","boolean","date","dateTime","decimal","float","integer","json","string","text","time","timestamp","binary","uuid","hash","csv","geometry","geometry.Point","geometry.LineString","geometry.Polygon","geometry.MultiPoint","geometry.MultiLineString","geometry.MultiPolygon","unknown"],li=["Point","LineString","Polygon","MultiPoint","MultiLineString","MultiPolygon"],i8=["standard","file","files","m2o","o2m","m2m","m2a","presentation","translations","group"],ho=/\(([^)]+)\)/;function jl(e,t,n="and"){return e?t?{[`_${n}`]:[e,t]}:e:t}function Bn(e){return typeof e=="string"?e.split(","):Array.isArray(e)?e:[e]}function go(e,t,n={}){var l;if(e==null)return null;if(!z.exports.isObjectLike(e))return{_eq:bo(e,t,n)};const o=Object.entries(e).map(u=>r8(u,t,n));return o.length===0?{}:o.length===1?(l=o[0])!==null&&l!==void 0?l:null:{_and:o}}function r8([e,t],n,l){return["_or","_and"].includes(String(e))?{[e]:t.map(o=>go(o,n,l))}:["_in","_nin","_between","_nbetween"].includes(String(e))?{[e]:Bn(t).flatMap(o=>bo(o,n,l))}:String(e).startsWith("_")?{[e]:bo(t,n,l)}:{[e]:go(t,n,l)}}function bo(e,t,n){return e==="true"?!0:e==="false"?!1:e==="null"||e==="NULL"?null:o8(e)?s8(e,t,n):e}function s8(e,t,n){var l,o,u;if(e.startsWith("$NOW")){if(e.includes("(")&&e.includes(")")){const r=(l=e.match(ho))===null||l===void 0?void 0:l[1];return r?x$(new Date,r):new Date}return new Date}if(e.startsWith("$CURRENT_USER"))return e==="$CURRENT_USER"?(o=t==null?void 0:t.user)!==null&&o!==void 0?o:null:wo(n,e,null);if(e.startsWith("$CURRENT_ROLE"))return e==="$CURRENT_ROLE"?(u=t==null?void 0:t.role)!==null&&u!==void 0?u:null:wo(n,e,null)}function wo(e,t,n){const[l,...o]=t.split("."),u=Array.isArray(e)?e.map(r=>r[l]):e==null?void 0:e[l];return o.length>0?wo(u,o.join("."),n):u!=null?u:n}const d8={year:u8,month:c8,week:p8,day:m8,weekday:f8,hour:_8,minute:v8,second:y8,count:h8};function u8(e){return fn(e).getUTCFullYear()}function c8(e){return fn(e).getUTCMonth()+1}function p8(e){return vd(fn(e))}function m8(e){return yd(fn(e))}function f8(e){return hd(fn(e))}function _8(e){return fn(e).getUTCHours()}function v8(e){return fn(e).getUTCMinutes()}function y8(e){return fn(e).getUTCSeconds()}function h8(e){return Array.isArray(e)?e.length:null}function g8(e,t){const n=z.exports.cloneDeep(e);return l(t),n;function l(o,u){var r;for(const[i,s]of Object.entries(o)){const p=u?u+"."+i:i;if(i.startsWith("_")===!1&&z.exports.isPlainObject(s)&&l(s,p),i.includes("(")&&i.includes(")")){const f=i.split("(")[0],_=(r=i.match(ho))===null||r===void 0?void 0:r[1];if(!_||!f)continue;const v=u?u+"."+_:_,y=z.exports.get(n,v);z.exports.set(n,p,d8[f](y))}}}}function Rl(e,t,n){const l=[];if(Object.keys(e)[0]==="_and"){const o=Object.values(e)[0],u=z.exports.flatten(o.map(r=>Rl(r,t,n))).filter(r=>r);l.push(...u)}else if(Object.keys(e)[0]==="_or"){const o=Object.values(e)[0],u=z.exports.flatten(o.map(i=>Rl(i,t,n)));o.length===u.length&&l.push(...u)}else{const o=g8(t,e),u=ei(e,n),{error:r}=u.validate(o,{abortEarly:!1});r&&l.push(r)}return l}function ko(e,t=0,n=["K","M","B","T"]){const l=e<0;e=Math.abs(e);let o=String(e);if(e>=1e3){const u=Math.pow(10,t);for(let r=n.length-1;r>=0;r--){const i=Math.pow(10,(r+1)*3);if(i<=e){e=Math.round(e*u/i)/u,e===1e3&&r<n.length-1&&(e=1,r++),o=e.toFixed(t)+n[r];break}}}return l&&(o=`-${o}`),o}function jt(e){return e.startsWith("directus_")?`/${e.substring(9)}`:`/items/${e}`}function Ft(e){return e?e.first_name&&e.last_name?`${e.first_name} ${e.last_name}`:e.first_name?e.first_name:e.email?e.email:Be.global.t("unknown_user"):Be.global.t("unknown_user")}const Ye=Rt({id:"userStore",state:()=>({currentUser:null,loading:!1,error:null}),getters:{fullName(){return this.currentUser===null||"share"in this.currentUser?null:Ft(this.currentUser)},isAdmin(){var e;return((e=this.currentUser)==null?void 0:e.role.admin_access)===!0||!1}},actions:{async hydrate(){this.loading=!0;try{const e=["id","language","first_name","last_name","email","last_page","theme","avatar.id","role.admin_access","role.app_access","role.id"],{data:t}=await me.get("/users/me",{params:{fields:e}});this.currentUser=t.data}catch(e){this.error=e}finally{this.loading=!1}},async dehydrate(){this.$reset()},async trackPage(e){const t=ia(),n=performance.now();await me.patch("/users/me/track/page",{last_page:e});const l=performance.now();t.save({timestamp:new Date,latency:l-n}),this.currentUser&&!("share"in this.currentUser)&&(this.currentUser.last_page=e)}}});var H=(e,t)=>{const n=e.__vccOpts||e;for(const[l,o]of t)n[l]=o;return n};const b8=Z({props:{filter:{type:Object,default:null}},emits:["update:filter"],setup(e,{emit:t}){const{t:n}=ae(),l=Ye(),o=V(()=>{var p;return(p=l.currentUser)==null?void 0:p.id}),u=V(()=>{var p,f;return(f=Object.keys((p=e.filter)!=null?p:{})[0])!=null?f:null}),r=V(()=>{var p,f,_;return(_=(f=Object.values((p=e.filter)!=null?p:{})[0])==null?void 0:f._eq)!=null?_:null});return{t:n,currentUserID:o,setNavFilter:i,clearNavFilter:s,filterField:u,filterValue:r};function i(p,f){t("update:filter",{[p]:{_eq:f}})}function s(){t("update:filter",null)}}});function w8(e,t,n,l,o,u){const r=c("v-icon"),i=c("v-list-item-icon"),s=c("v-text-overflow"),p=c("v-list-item-content"),f=c("v-list-item"),_=c("v-divider"),v=c("v-list");return m(),F(v,{nav:""},{default:d(()=>[a(f,{clickable:"",active:!e.filterField,onClick:e.clearNavFilter},{default:d(()=>[a(i,null,{default:d(()=>[a(r,{name:"access_time"})]),_:1}),a(p,null,{default:d(()=>[a(s,{text:e.t("all_activity")},null,8,["text"])]),_:1})]),_:1},8,["active","onClick"]),a(f,{clickable:"",active:e.filterField==="user"&&e.filterValue===e.currentUserID,onClick:t[0]||(t[0]=y=>e.setNavFilter("user",e.currentUserID))},{default:d(()=>[a(i,null,{default:d(()=>[a(r,{name:"face"})]),_:1}),a(p,null,{default:d(()=>[a(s,{text:e.t("my_activity")},null,8,["text"])]),_:1})]),_:1},8,["active"]),a(_),a(f,{clickable:"",active:e.filterField==="action"&&e.filterValue==="create",onClick:t[1]||(t[1]=y=>e.setNavFilter("action","create"))},{default:d(()=>[a(i,null,{default:d(()=>[a(r,{name:"add"})]),_:1}),a(p,null,{default:d(()=>[a(s,{text:e.t("create")},null,8,["text"])]),_:1})]),_:1},8,["active"]),a(f,{clickable:"",active:e.filterField==="action"&&e.filterValue==="update",onClick:t[2]||(t[2]=y=>e.setNavFilter("action","update"))},{default:d(()=>[a(i,null,{default:d(()=>[a(r,{name:"check"})]),_:1}),a(p,null,{default:d(()=>[a(s,{text:e.t("update")},null,8,["text"])]),_:1})]),_:1},8,["active"]),a(f,{clickable:"",active:e.filterField==="action"&&e.filterValue==="delete",onClick:t[3]||(t[3]=y=>e.setNavFilter("action","delete"))},{default:d(()=>[a(i,null,{default:d(()=>[a(r,{name:"clear"})]),_:1}),a(p,null,{default:d(()=>[a(s,{text:e.t("delete_label")},null,8,["text"])]),_:1})]),_:1},8,["active"]),a(f,{clickable:"",active:e.filterField==="action"&&e.filterValue==="comment",onClick:t[4]||(t[4]=y=>e.setNavFilter("action","comment"))},{default:d(()=>[a(i,null,{default:d(()=>[a(r,{name:"chat_bubble_outline"})]),_:1}),a(p,null,{default:d(()=>[a(s,{text:e.t("comment")},null,8,["text"])]),_:1})]),_:1},8,["active"]),a(f,{clickable:"",active:e.filterField==="action"&&e.filterValue==="login",onClick:t[5]||(t[5]=y=>e.setNavFilter("action","login"))},{default:d(()=>[a(i,null,{default:d(()=>[a(r,{name:"login"})]),_:1}),a(p,null,{default:d(()=>[a(s,{text:e.t("login")},null,8,["text"])]),_:1})]),_:1},8,["active"])]),_:1})}var k8=H(b8,[["render",w8]]);function qn(e,t=D(null),n=!1){const l=On(),o=Ye(),u=D(!1),r=V(()=>t.value?!!l.getBookmark(t.value):!1),i=D({});q();const s=D(!0),p=V(()=>i.value.user===o.currentUser.id),f=async j=>{if(n)return;u.value=!0;const U=await l.savePreset(j||i.value);return i.value=Ie(ve({},i.value),{id:U.id,user:U.user}),s.value=!0,u.value=!1,U},_=z.exports.debounce(async()=>{f()},450);function v(){if(r.value){const j=l.getBookmark(Number(t.value));s.value=z.exports.isEqual(i.value,j)}else _()}function y(j,U){i.value=z.exports.assign({},i.value,j),U?f():v()}he([e,t],()=>{q()}),l.$subscribe(()=>{q()});const g=V({get(){var j;return((j=i.value.layout_options)==null?void 0:j[b.value])||null},set(j){const{layout_options:U}=i.value;y({layout_options:z.exports.assign({},U,{[b.value]:j})})}}),h=V({get(){var j;return((j=i.value.layout_query)==null?void 0:j[b.value])||null},set(j){const{layout_query:U}=i.value;y({layout_query:z.exports.assign({},U,{[b.value]:j})})}}),b=V({get:()=>i.value.layout||"tabular",set:j=>y({layout:j})}),S=V({get:()=>{var j;return(j=i.value.filter)!=null?j:null},set:j=>y({filter:j})}),I=V({get:()=>i.value.refresh_interval||null,set:j=>y({refresh_interval:j})}),E=V({get:()=>i.value.search||null,set:j=>y({search:j})}),R=V({get:()=>{var j;return ll((j=i.value)==null?void 0:j.bookmark)||null},set:j=>y({bookmark:j},!0)});return{bookmarkExists:r,layout:b,layoutOptions:g,layoutQuery:h,filter:S,search:E,refreshInterval:I,savePreset:f,saveCurrentAsBookmark:T,bookmarkTitle:R,resetPreset:L,bookmarkSaved:s,bookmarkIsMine:p,busy:u,clearLocalSave:O,localPreset:i};function O(){const j=l.getBookmark(Number(t.value));j&&(i.value=ve({},j)),s.value=!0}async function L(){y({layout_query:null,layout_options:null,layout:"tabular",filter:null,search:null,refresh_interval:null},!0)}function q(){const j={layout:"tabular"};t.value===null?z.exports.assign(j,l.getPresetForCollection(e.value)):r.value&&z.exports.assign(j,l.getBookmark(Number(t.value))),i.value=j}async function T(j){const U=ve(ve({},i.value),j);return U.id&&delete U.id,U.user=o.currentUser.id,await f(U)}}const $8=Z({props:{modelValue:{type:String,default:"tabular"}},emits:["update:modelValue"],setup(e,{emit:t}){const{t:n}=ae(),{layouts:l}=Cn(),o=V(()=>{var r;return(r=Ya(e.modelValue))!=null?r:Ya("tabular")}),u=Ge(e,"modelValue",t);return{t:n,currentLayout:o,layouts:l,layout:u}}}),C8={class:"layout-options"},S8={class:"field"},F8={class:"type-label"};function V8(e,t,n,l,o,u){const r=c("v-icon"),i=c("v-select"),s=c("sidebar-detail");return m(),F(s,{icon:"layers",title:e.t("layout_options")},{default:d(()=>[$("div",C8,[$("div",S8,[$("div",F8,w(e.t("layout")),1),a(i,{modelValue:e.layout,"onUpdate:modelValue":t[0]||(t[0]=p=>e.layout=p),items:e.layouts,"item-text":"name","item-value":"id","item-icon":"icon"},at({_:2},[e.currentLayout.icon?{name:"prepend",fn:d(()=>[a(r,{name:e.currentLayout.icon},null,8,["name"])])}:void 0]),1032,["modelValue","items"])]),ke(e.$slots,"default",{},void 0,!0)])]),_:3},8,["title"])}var zn=H($8,[["render",V8],["__scopeId","data-v-4f5e1a28"]]);function oi(e){return e==null||e===void 0}function en(e){return e!=null}function Sn(e){const t=D(0),n=D(0),l=new ResizeObserver(([o])=>{t.value=o.contentRect.width,n.value=o.contentRect.height});return dt(()=>{const o=ut(e)?e.value:e;en(o)&&l.observe(o)}),At(()=>{l.disconnect()}),{width:t,height:n}}const A8=Z({props:{modelValue:{type:String,default:null},collection:{type:String,required:!0},filter:{type:Object,default:null}},emits:["update:modelValue","update:filter"],setup(e,{emit:t}){const{t:n}=ae(),l=D(null),o=D(e.modelValue!==null),u=D(!1),r=D(!1),i=vt("main-element"),s=D(),{width:p}=Sn(i),{width:f}=Sn(s);he([p,f],()=>{var E;if(!s.value)return;const h=s.value.parentElement,b=h.offsetWidth-4;f.value>b?s.value.style.borderTopLeftRadius=f.value>b+22?22+"px":f.value-b+"px":s.value.style.borderTopLeftRadius="0px";const S=(E=i==null?void 0:i.value)==null?void 0:E.firstElementChild;if(!S)return;const I=h.getBoundingClientRect().right-(S.getBoundingClientRect().left+Number(window.getComputedStyle(S).paddingLeft.replace("px","")));s.value.style.maxWidth=I>b?`${String(I)}px`:"0px"},{immediate:!0}),he(o,h=>{h===!0&&l.value!==null&&l.value.focus()});const _=V(()=>{if(!e.filter)return 0;let h=[];return b(e.filter),h.length;function b(S){for(const[I,E]of Object.entries(S))I==="_and"||I==="_or"?E.forEach(b):I.startsWith("_")?h.push(I):z.exports.isObject(E)&&b(E)}});return{t:n,active:o,disable:y,input:l,emitValue:g,activeFilterCount:_,filterActive:u,onClickOutside:v,filterBorder:r,filterElement:s};function v(h){return!(h.path||h.composedPath()).some(S=>{var I;return(I=S==null?void 0:S.classList)==null?void 0:I.contains("v-menu-content")})}function y(){o.value=!1,u.value=!1}function g(){var b;if(!l.value)return;const h=(b=l.value)==null?void 0:b.value;t("update:modelValue",h)}}}),I8=["value","placeholder"],E8={ref:"filterElement",class:"filter"};function D8(e,t,n,l,o,u){const r=c("v-icon"),i=c("interface-system-filter"),s=c("transition-expand"),p=c("v-badge"),f=Fe("tooltip"),_=Fe("click-outside");return m(),F(p,{bottom:"",right:"",class:"search-badge",value:e.activeFilterCount,disabled:!e.activeFilterCount||e.filterActive},{default:d(()=>[ie($("div",{class:de(["search-input",{active:e.active,"filter-active":e.filterActive,"has-content":!!e.modelValue,"filter-border":e.filterBorder}]),onClick:t[7]||(t[7]=v=>e.active=!0)},[ie(a(r,{name:"search",class:"icon-search",clickable:!e.active},null,8,["clickable"]),[[f,e.active?null:e.t("search"),void 0,{bottom:!0}]]),$("input",{ref:"input",value:e.modelValue,placeholder:e.t("search_items"),onInput:t[0]||(t[0]=(...v)=>e.emitValue&&e.emitValue(...v)),onPaste:t[1]||(t[1]=(...v)=>e.emitValue&&e.emitValue(...v))},null,40,I8),e.modelValue?(m(),F(r,{key:0,clickable:"",class:"icon-empty",name:"close",onClick:t[2]||(t[2]=Te(v=>e.$emit("update:modelValue",null),["stop"]))})):M("",!0),ie(a(r,{clickable:"",class:"icon-filter",name:"filter_list",onClick:t[3]||(t[3]=v=>e.filterActive=!e.filterActive)},null,512),[[f,e.t("filter"),void 0,{bottom:!0}]]),a(s,{onBeforeEnter:t[5]||(t[5]=v=>e.filterBorder=!0),onAfterLeave:t[6]||(t[6]=v=>e.filterBorder=!1)},{default:d(()=>[ie($("div",E8,[a(i,{class:"filter-input",inline:"",value:e.filter,"collection-name":e.collection,onInput:t[4]||(t[4]=v=>e.$emit("update:filter",v))},null,8,["value","collection-name"])],512),[[Nt,e.filterActive]])]),_:1})],2),[[_,{handler:e.disable,middleware:e.onClickOutside}]])]),_:1},8,["value","disabled"])}var Fn=H(A8,[["render",D8],["__scopeId","data-v-e2cc7c6e"]]);const P8=Z({name:"ActivityCollection",components:{ActivityNavigation:k8,LayoutSidebarDetail:zn,SearchInput:Fn},props:{primaryKey:{type:String,default:null}},setup(){const{t:e}=ae(),{layout:t,layoutOptions:n,layoutQuery:l,filter:o,search:u}=qn(D("directus_activity")),{breadcrumb:r}=p(),{layoutWrapper:i}=vn(t),s=D(null);return{t:e,breadcrumb:r,layout:t,layoutWrapper:i,layoutOptions:n,layoutQuery:l,search:u,filter:o,roleFilter:s,mergeFilters:jl};function p(){return{breadcrumb:V(()=>[{name:e("collection",2),to:"/content"}])}}}}),T8={class:"page-description"};function O8(e,t,n,l,o,u){const r=c("v-icon"),i=c("v-button"),s=c("search-input"),p=c("activity-navigation"),f=c("v-info"),_=c("router-view"),v=c("sidebar-detail"),y=c("layout-sidebar-detail"),g=c("private-view"),h=Fe("md");return m(),F(He(e.layoutWrapper),{"layout-options":e.layoutOptions,"onUpdate:layout-options":t[4]||(t[4]=b=>e.layoutOptions=b),"layout-query":e.layoutQuery,"onUpdate:layout-query":t[5]||(t[5]=b=>e.layoutQuery=b),filter:e.mergeFilters(e.filter,e.roleFilter),"filter-user":e.filter,"filter-system":e.roleFilter,search:e.search,"show-select":"none",collection:"directus_activity"},{default:d(({layoutState:b})=>[a(g,{title:e.t("activity_feed")},{"title-outer:prepend":d(()=>[a(i,{class:"header-icon",rounded:"",disabled:"",icon:"",secondary:""},{default:d(()=>[a(r,{name:"access_time"})]),_:1})]),"actions:prepend":d(()=>[(m(),F(He(`layout-actions-${e.layout}`),nt(lt(b)),null,16))]),actions:d(()=>[a(s,{modelValue:e.search,"onUpdate:modelValue":t[0]||(t[0]=S=>e.search=S),filter:e.filter,"onUpdate:filter":t[1]||(t[1]=S=>e.filter=S),collection:"directus_activity"},null,8,["modelValue","filter"])]),navigation:d(()=>[a(p,{filter:e.roleFilter,"onUpdate:filter":t[2]||(t[2]=S=>e.roleFilter=S)},null,8,["filter"])]),sidebar:d(()=>[a(v,{icon:"info_outline",title:e.t("information"),close:""},{default:d(()=>[ie($("div",T8,null,512),[[h,e.t("page_help_activity_collection")]])]),_:1},8,["title"]),a(y,{modelValue:e.layout,"onUpdate:modelValue":t[3]||(t[3]=S=>e.layout=S)},{default:d(()=>[(m(),F(He(`layout-options-${e.layout}`),nt(lt(b)),null,16))]),_:2},1032,["modelValue"]),(m(),F(He(`layout-sidebar-${e.layout}`),nt(lt(b)),null,16))]),default:d(()=>[(m(),F(He(`layout-${e.layout}`),ft(b,{class:"layout"}),{"no-results":d(()=>[a(f,{title:e.t("no_results"),icon:"search",center:""},{default:d(()=>[P(w(e.t("no_results_copy")),1)]),_:1},8,["title"])]),"no-items":d(()=>[a(f,{title:e.t("item_count",0),icon:"access_time",center:""},{default:d(()=>[P(w(e.t("no_items_copy")),1)]),_:1},8,["title"])]),_:2},1040)),a(_,{name:"detail","primary-key":e.primaryKey},null,8,["primary-key"])]),_:2},1032,["title"])]),_:1},8,["layout-options","layout-query","filter","filter-user","filter-system","search"])}var L8=H(P8,[["render",O8],["__scopeId","data-v-40e36dc2"]]);const ai=Symbol();function Vn(){const e=D(!1);let t;const n=new Promise(o=>{t=o});return dt(()=>{e.value=!0}),Sl(()=>(e.value=!1,n)),nn(ai,l),e;function l(){t()}}function j8(){return vt(ai,void 0)}const R8=Z({name:"ActivityDetail",props:{primaryKey:{type:String,required:!0}},setup(e){const{t,te:n}=ae(),l=it(),o=Vn(),u=D(),r=D(!1),i=D(null),s=V(()=>{if(!(!u.value||u.value.collection.startsWith("directus_")))return`/content/${u.value.collection}/${encodeURIComponent(u.value.item)}`});return he(()=>e.primaryKey,p,{immediate:!0}),{t,isOpen:o,item:u,loading:r,error:i,close:f,openItemLink:s,userName:Ft};async function p(){r.value=!0;try{const _=await me.get(`/activity/${e.primaryKey}`,{params:{fields:["user.id","user.email","user.first_name","user.last_name","action","timestamp","ip","user_agent","collection","item"]}});u.value=_.data.data,u.value&&(n(`field_options.directus_activity.${u.value.action}`)&&(u.value.action=t(`field_options.directus_activity.${u.value.action}`)),u.value.timestamp=new Date(u.value.timestamp).toLocaleString(Be.global.locale.value))}catch(_){i.value=_}finally{r.value=!1}}function f(){l.push("/activity")}}}),M8={key:1,class:"content"},U8={key:2,class:"content"},N8={class:"type-label"},B8={class:"type-label"},q8={class:"type-label"},z8={class:"type-label"},K8={class:"type-label"},W8={class:"type-label"},H8={class:"type-label"};function G8(e,t,n,l,o,u){const r=c("v-progress-circular"),i=c("v-notice"),s=c("user-popover"),p=c("v-icon"),f=c("v-button"),_=c("v-drawer"),v=Fe("tooltip");return m(),F(_,{"model-value":e.isOpen,title:e.t("activity_item"),"onUpdate:modelValue":e.close,onCancel:e.close},{actions:d(()=>[e.openItemLink?ie((m(),F(f,{key:0,to:e.openItemLink,icon:"",rounded:""},{default:d(()=>[a(p,{name:"launch"})]),_:1},8,["to"])),[[v,e.t("open"),void 0,{bottom:!0}]]):M("",!0),ie(a(f,{to:"/activity",icon:"",rounded:""},{default:d(()=>[a(p,{name:"check"})]),_:1},512),[[v,e.t("done"),void 0,{bottom:!0}]])]),default:d(()=>[e.loading?(m(),F(r,{key:0,indeterminate:""})):e.error?(m(),A("div",M8,[a(i,{type:"danger"},{default:d(()=>[P(w(e.error),1)]),_:1})])):(m(),A("div",U8,[$("p",N8,w(e.t("user"))+":",1),e.item.user?(m(),F(s,{key:0,user:e.item.user.id},{default:d(()=>[P(w(e.userName(e.item.user)),1)]),_:1},8,["user"])):M("",!0),$("p",B8,w(e.t("action"))+":",1),$("p",null,w(e.item.action),1),$("p",q8,w(e.t("date"))+":",1),$("p",null,w(e.item.timestamp),1),$("p",z8,w(e.t("ip_address"))+":",1),$("p",null,w(e.item.ip),1),$("p",K8,w(e.t("user_agent"))+":",1),$("p",null,w(e.item.user_agent),1),$("p",W8,w(e.t("collection"))+":",1),$("p",null,w(e.item.collection),1),$("p",H8,w(e.t("item"))+":",1),$("p",null,w(e.item.item),1)]))]),_:1},8,["model-value","title","onUpdate:modelValue","onCancel"])}var Z8=H(R8,[["render",G8],["__scopeId","data-v-4615f290"]]),J8=kn({id:"activity",hidden:!0,name:"$t:activity",icon:"notifications",routes:[{name:"activity-collection",path:"",component:L8,props:!0,children:[{name:"activity-item",path:":primaryKey",components:{detail:Z8}}]}]}),X8=Object.freeze(Object.defineProperty({__proto__:null,default:J8},Symbol.toStringTag,{value:"Module"}));function $o(e,t){const n=new URLSearchParams(e.split("?")[1]||"");for(const[l,o]of Object.entries(t))n.set(l,o);return e.split("?")[0]+"?"+n}const hn=()=>Sa(gd);hn.displayName="router-passthrough";let Co,Kn;function ii(e){const t=Xe();return Kn||(Kn=D(t.collections.filter(n=>{var l,o;return((l=n.meta)==null?void 0:l.collapse)==="open"||((o=n.meta)==null?void 0:o.collapse)==="locked"}).map(({collection:n})=>n))),Co===void 0&&(Co=D(!1)),he(e,n=>{var u;if(n===null)return;let l=t.getCollection(n);const o=[];for(;(u=l==null?void 0:l.meta)==null?void 0:u.group;)Kn.value.includes(l.meta.group)===!1&&o.push(l.meta.group),l=t.getCollection(l.meta.group);Kn.value=[...Kn.value,...o]},{immediate:!0}),{showHidden:Co,activeGroups:Kn}}const Y8=Z({props:{icon:{type:String,default:"label"},color:{type:String,default:"var(--foreground-normal)"},name:{type:String,required:!0},search:{type:String,default:null}}});function Q8(e,t,n,l,o,u){const r=c("v-icon"),i=c("v-list-item-icon"),s=c("v-text-overflow"),p=c("v-list-item-content");return m(),A(se,null,[a(i,null,{default:d(()=>{var f;return[a(r,{name:(f=e.icon)!=null?f:"label",color:e.color},null,8,["name","color"])]}),_:1}),a(p,null,{default:d(()=>[a(s,{text:e.name,highlight:e.search},null,8,["text","highlight"])]),_:1})],64)}var x8=H(Y8,[["render",Q8]]);const e3={class:"fields"},t3=Z({props:{bookmark:null},setup(e){const t=e,{t:n}=ae(),l=it(),o=Wt(),{currentUser:u,isAdmin:r}=Ye(),i=On(),s=V(()=>t.bookmark.user===u.id),p=V(()=>s.value||r),f=V(()=>t.bookmark.user&&!t.bookmark.role?"personal":!t.bookmark.user&&t.bookmark.role?"role":"global"),{editActive:_,editValue:v,editSave:y,editSaving:g,editCancel:h}=R(),{deleteActive:b,deleteSave:S,deleteSaving:I}=O(),E=V(()=>ll(t.bookmark.bookmark));function R(){var B,K,J,Y;const L=D(!1),q=Jt({name:t.bookmark.bookmark,icon:(K=(B=t.bookmark)==null?void 0:B.icon)!=null?K:"bookmark_outline",color:(Y=(J=t.bookmark)==null?void 0:J.color)!=null?Y:null}),T=D(!1);return{editActive:L,editValue:q,editSave:j,editSaving:T,editCancel:U};async function j(){T.value=!0;try{await i.savePreset(Ie(ve({},t.bookmark),{bookmark:q.name,icon:q.icon,color:q.color})),L.value=!1}catch(W){Pe(W)}finally{T.value=!1}}function U(){var W,G,Q,X;L.value=!1,q.name=t.bookmark.bookmark,q.icon=(G=(W=t.bookmark)==null?void 0:W.icon)!=null?G:"bookmark_outline",q.color=(X=(Q=t.bookmark)==null?void 0:Q.color)!=null?X:null}}function O(){const L=D(!1),q=D(!1);return{deleteActive:L,deleteSave:T,deleteSaving:q};async function T(){var j;q.value=!0;try{let U=null;((j=o.query)==null?void 0:j.bookmark)&&+o.query.bookmark===t.bookmark.id&&(U=`/content/${t.bookmark.collection}`),await i.delete([t.bookmark.id]),L.value=!1,U&&l.replace(U)}catch(U){Pe(U)}finally{q.value=!1}}}return(L,q)=>{const T=c("v-icon"),j=c("v-list-item-icon"),U=c("v-text-overflow"),B=c("v-list-item-content"),K=c("v-list-item"),J=c("v-list"),Y=c("v-menu"),W=c("v-card-title"),G=c("interface-system-input-translated-string"),Q=c("interface-select-icon"),X=c("interface-select-color"),ee=c("v-card-text"),le=c("v-button"),te=c("v-card-actions"),re=c("v-card"),ye=c("v-dialog"),fe=Fe("tooltip");return m(),F(K,{to:`/content/${e.bookmark.collection}?bookmark=${e.bookmark.id}`,query:"",class:"bookmark",clickable:"",onContextmenu:q[9]||(q[9]=Te(()=>{},["stop"]))},{default:d(()=>[a(j,null,{default:d(()=>[a(T,{name:e.bookmark.icon,color:e.bookmark.color},null,8,["name","color"])]),_:1}),a(B,null,{default:d(()=>[a(U,{text:C(E)},null,8,["text"])]),_:1}),a(Y,{placement:"bottom-start","show-arrow":""},{activator:d(({toggle:ue})=>[ie(a(T,{name:C(p)?"more_vert":"lock",clickable:C(p),small:"",class:"ctx-toggle",onClick:Te(_e=>C(p)?ue():null,["prevent"])},null,8,["name","clickable","onClick"]),[[fe,!C(p)&&C(n)(`cannot_edit_${C(f)}_bookmarks`),void 0,{bottom:!0}]])]),default:d(()=>[a(J,null,{default:d(()=>[a(K,{clickable:"",to:C(f)!=="personal"?`/settings/presets/${e.bookmark.id}`:void 0,onClick:q[0]||(q[0]=ue=>C(f)==="personal"?_.value=!0:void 0)},{default:d(()=>[a(j,null,{default:d(()=>[a(T,{name:"edit",outline:""})]),_:1}),a(B,null,{default:d(()=>[a(U,{text:C(n)(`edit_${C(f)}_bookmark`)},null,8,["text"])]),_:1})]),_:1},8,["to"]),a(K,{clickable:"",class:"danger",onClick:q[1]||(q[1]=ue=>b.value=!0)},{default:d(()=>[a(j,null,{default:d(()=>[a(T,{name:"delete",outline:""})]),_:1}),a(B,null,{default:d(()=>[a(U,{text:C(n)(`delete_${C(f)}_bookmark`)},null,8,["text"])]),_:1})]),_:1})]),_:1})]),_:1}),a(ye,{modelValue:C(_),"onUpdate:modelValue":q[5]||(q[5]=ue=>ut(_)?_.value=ue:null),persistent:"",onEsc:C(h)},{default:d(()=>[a(re,null,{default:d(()=>[a(W,null,{default:d(()=>[P(w(C(n)("edit_personal_bookmark")),1)]),_:1}),a(ee,null,{default:d(()=>[$("div",e3,[a(G,{value:C(v).name,class:"full",autofocus:"",onInput:q[2]||(q[2]=ue=>C(v).name=ue),onKeyup:Mn(C(y),["enter"])},null,8,["value","onKeyup"]),a(Q,{width:"half",value:C(v).icon,onInput:q[3]||(q[3]=ue=>C(v).icon=ue)},null,8,["value"]),a(X,{width:"half",value:C(v).color,onInput:q[4]||(q[4]=ue=>C(v).color=ue)},null,8,["value"])])]),_:1}),a(te,null,{default:d(()=>[a(le,{secondary:"",onClick:C(h)},{default:d(()=>[P(w(C(n)("cancel")),1)]),_:1},8,["onClick"]),a(le,{disabled:C(v).name===null,loading:C(g),onClick:C(y)},{default:d(()=>[P(w(C(n)("save")),1)]),_:1},8,["disabled","loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue","onEsc"]),a(ye,{modelValue:C(b),"onUpdate:modelValue":q[7]||(q[7]=ue=>ut(b)?b.value=ue:null),persistent:"",onEsc:q[8]||(q[8]=ue=>b.value=!1)},{default:d(()=>[a(re,null,{default:d(()=>[a(W,null,{default:d(()=>[P(w(C(n)("delete_bookmark_copy",{bookmark:e.bookmark.bookmark})),1)]),_:1}),a(te,null,{default:d(()=>[a(le,{secondary:"",onClick:q[6]||(q[6]=ue=>b.value=!1)},{default:d(()=>[P(w(C(n)("cancel")),1)]),_:1}),a(le,{loading:C(I),kind:"danger",onClick:C(S)},{default:d(()=>[P(w(C(n)("delete_label")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["to"])}}});var n3=H(t3,[["__scopeId","data-v-00ca4132"]]);const l3=Z({name:"NavigationItem",components:{NavigationItemContent:x8,NavigationBookmark:n3},props:{collection:{type:Object,required:!0},showHidden:{type:Boolean,default:!1},search:{type:String,default:null}},setup(e){const{t}=ae(),{isAdmin:n}=Ye(),l=Xe(),o=On(),u=V(()=>_(e.collection)),r=V(()=>v(e.collection)),i=V(()=>u.value.length>0||r.value.length>0),s=V(()=>e.collection.schema?`/content/${e.collection.collection}`:""),p=V(()=>{if(!e.search||e.search.length<3)return!0;const y=e.search.toLowerCase();return h(e.collection)||g(u.value,r.value);function g(S,I){return S.some(E=>{const R=_(E),O=v(E);return h(E)||g(R,O)})||I.some(E=>b(E))}function h(S){return S.collection.includes(y)||S.name.toLowerCase().includes(y)}function b(S){var I;return(I=S.bookmark)==null?void 0:I.toLowerCase().includes(y)}}),f=V(()=>n);return{childCollections:u,childBookmarks:r,isGroup:i,to:s,matchesSearch:p,isAdmin:n,t,hasContextMenu:f};function _(y){let g=l.collections.filter(h=>{var b;return((b=h.meta)==null?void 0:b.group)===y.collection});return e.showHidden===!1&&(g=g.filter(h=>{var b;return((b=h.meta)==null?void 0:b.hidden)!==!0})),z.exports.orderBy(g,["meta.sort","collection"])}function v(y){return o.bookmarks.filter(g=>g.collection===y.collection)}}});function o3(e,t,n,l,o,u){var I,E;const r=c("navigation-item-content"),i=c("navigation-item",!0),s=c("navigation-bookmark"),p=c("v-list-group"),f=c("v-list-item"),_=c("v-icon"),v=c("v-list-item-icon"),y=c("v-text-overflow"),g=c("v-list-item-content"),h=c("v-list"),b=c("v-menu"),S=Fe("context-menu");return m(),A(se,null,[e.isGroup&&e.matchesSearch?ie((m(),F(p,{key:0,to:e.to,scope:"content-navigation",value:e.collection.collection,query:"","arrow-placement":((I=e.collection.meta)==null?void 0:I.collapse)==="locked"?!1:"after"},{activator:d(()=>{var R,O;return[a(r,{search:e.search,name:e.collection.name,icon:(R=e.collection.meta)==null?void 0:R.icon,color:(O=e.collection.meta)==null?void 0:O.color},null,8,["search","name","icon","color"])]}),default:d(()=>[(m(!0),A(se,null,Ve(e.childCollections,R=>(m(),F(i,{key:R.collection,collection:R,search:e.search},null,8,["collection","search"]))),128)),(m(!0),A(se,null,Ve(e.childBookmarks,R=>(m(),F(s,{key:R.id,bookmark:R},null,8,["bookmark"]))),128))]),_:1},8,["to","value","arrow-placement"])),[[S,"contextMenu"]]):e.matchesSearch?ie((m(),F(f,{key:1,to:e.to,value:e.collection.collection,class:de({hidden:(E=e.collection.meta)==null?void 0:E.hidden}),query:""},{default:d(()=>{var R,O;return[a(r,{search:e.search,name:e.collection.name,icon:(R=e.collection.meta)==null?void 0:R.icon,color:(O=e.collection.meta)==null?void 0:O.color},null,8,["search","name","icon","color"])]}),_:1},8,["to","value","class"])),[[S,e.hasContextMenu?"contextMenu":null]]):M("",!0),e.hasContextMenu?(m(),F(b,{key:2,ref:"contextMenu","show-arrow":"",placement:"bottom-start"},{default:d(()=>[a(h,null,{default:d(()=>[e.isAdmin?(m(),F(f,{key:0,clickable:"",to:`/settings/data-model/${e.collection.collection}`},{default:d(()=>[a(v,null,{default:d(()=>[a(_,{name:"list_alt"})]),_:1}),a(g,null,{default:d(()=>[a(y,{text:e.t("edit_collection")},null,8,["text"])]),_:1})]),_:1},8,["to"])):M("",!0)]),_:1})]),_:1},512)):M("",!0)],64)}var a3=H(l3,[["render",o3],["__scopeId","data-v-3a890f15"]]);const i3=Z({components:{NavigationItem:a3},props:{currentCollection:{type:String,default:null}},setup(e){const{t}=ae(),{currentCollection:n}=ze(e),{activeGroups:l,showHidden:o}=ii(n),u=D(""),r=Xe(),i=V(()=>{const _=o.value?r.allCollections:r.visibleCollections;return z.exports.orderBy(_.filter(v=>{var y;return z.exports.isNil((y=v==null?void 0:v.meta)==null?void 0:y.group)}),["meta.sort","collection"])}),s=V(()=>r.visibleCollections.length>5),p=V(()=>r.visibleCollections.length>20),f=V(()=>r.allCollections.length>r.visibleCollections.length);return{t,activeGroups:l,showHidden:o,rootItems:i,dense:s,search:u,showSearch:p,hasHiddenCollections:f}}}),r3={class:"content-navigation-wrapper"},s3={key:0,class:"search-input"};function d3(e,t,n,l,o,u){const r=c("v-input"),i=c("navigation-item"),s=c("v-icon"),p=c("v-list-item-icon"),f=c("v-text-overflow"),_=c("v-list-item-content"),v=c("v-list-item"),y=c("v-menu"),g=c("v-list"),h=Fe("context-menu");return m(),A("div",r3,[e.showSearch?(m(),A("div",s3,[a(r,{modelValue:e.search,"onUpdate:modelValue":t[0]||(t[0]=b=>e.search=b),type:"search",placeholder:e.t("search_collection")},null,8,["modelValue","placeholder"])])):M("",!0),ie(a(g,{modelValue:e.activeGroups,"onUpdate:modelValue":t[2]||(t[2]=b=>e.activeGroups=b),scope:"content-navigation",class:"content-navigation",tabindex:"-1",nav:"",mandatory:!1,dense:e.dense},{default:d(()=>[(m(!0),A(se,null,Ve(e.rootItems,b=>(m(),F(i,{key:b.collection,"show-hidden":e.showHidden,collection:b,search:e.search},null,8,["show-hidden","collection","search"]))),128)),e.hasHiddenCollections?(m(),F(y,{key:0,ref:"contextMenu","show-arrow":"",placement:"bottom-start"},{default:d(()=>[a(v,{clickable:"",onClick:t[1]||(t[1]=b=>e.showHidden=!e.showHidden)},{default:d(()=>[a(p,null,{default:d(()=>[a(s,{name:e.showHidden?"visibility_off":"visibility"},null,8,["name"])]),_:1}),a(_,null,{default:d(()=>[a(f,{text:e.showHidden?e.t("hide_hidden_collections"):e.t("show_hidden_collections")},null,8,["text"])]),_:1})]),_:1})]),_:1},512)):M("",!0)]),_:1},8,["modelValue","dense"]),[[h,"contextMenu"]])])}var Ml=H(i3,[["render",d3],["__scopeId","data-v-970f0324"]]);const u3=Z({components:{ContentNavigation:Ml},setup(){const{t:e}=ae();return{t:e}}}),c3={class:"not-found"};function p3(e,t,n,l,o,u){const r=c("content-navigation"),i=c("v-info"),s=c("private-view");return m(),F(s,{title:e.t("page_not_found")},{navigation:d(()=>[a(r)]),default:d(()=>[$("div",c3,[a(i,{title:e.t("page_not_found"),icon:"not_interested"},{default:d(()=>[P(w(e.t("page_not_found_body")),1)]),_:1},8,["title"])])]),_:1},8,["title"])}var So=H(u3,[["render",p3],["__scopeId","data-v-cc545b6a"]]);const m3=Z({props:{collection:{type:String,default:null},archive:{type:String,default:null}},setup(e){const{t}=ae(),n=it(),l=D(e.archive),o=[{text:t("show_active_items"),value:null},{text:t("show_archived_items"),value:"archived"},{text:t("show_all_items"),value:"all"}],u=V(()=>l.value!==null);return he(()=>l.value,()=>{l.value===null?n.push(`/content/${e.collection}`):n.push(`/content/${e.collection}?${l.value}`)}),{t,active:u,selectedItem:l,items:o}}}),f3={class:"fields"},_3={class:"field full"};function v3(e,t,n,l,o,u){const r=c("v-radio"),i=c("sidebar-detail");return m(),F(i,{icon:"archive",title:e.t("archive"),badge:e.active},{default:d(()=>[$("div",f3,[$("div",_3,[(m(!0),A(se,null,Ve(e.items,s=>(m(),F(r,{key:s.value,value:s.value,label:s.text,"model-value":e.selectedItem,"onUpdate:modelValue":t[0]||(t[0]=p=>e.selectedItem=p)},null,8,["value","label","model-value"]))),128))])])]),_:1},8,["title","badge"])}var y3=H(m3,[["render",v3],["__scopeId","data-v-4f18ad5e"]]);const h3=Z({props:{modelValue:{type:Number,default:null}},emits:["update:modelValue","refresh"],setup(e,{emit:t}){const{t:n}=ae(),l=V({get(){return e.modelValue},set(i){t("update:modelValue",i)}}),o=D(null);he(l,i=>{o.value!==null&&clearInterval(o.value),i!==null&&i>0&&(o.value=setInterval(()=>{t("refresh")},i*1e3))},{immediate:!0});const u=V(()=>[null,10,30,60,300].map(s=>s===null?{text:n("no_refresh"),value:null}:s>=60&&s%60==0?{text:n("refresh_interval_minutes",{minutes:s/60},s/60),value:s}:{text:n("refresh_interval_seconds",{seconds:s},s),value:s})),r=V(()=>l.value!==null);return{t:n,active:r,interval:l,items:u}}}),g3={class:"fields"},b3={class:"field full"},w3={class:"type-label"};function k3(e,t,n,l,o,u){const r=c("v-select"),i=c("sidebar-detail");return m(),F(i,{icon:e.active?"sync":"sync_disabled",title:e.t("auto_refresh"),badge:e.active},{default:d(()=>[$("div",g3,[$("div",b3,[$("p",w3,w(e.t("refresh_interval")),1),a(r,{modelValue:e.interval,"onUpdate:modelValue":t[0]||(t[0]=s=>e.interval=s),items:e.items},null,8,["modelValue","items"])])])]),_:1},8,["icon","title","badge"])}var ri=H(h3,[["render",k3],["__scopeId","data-v-3c22b9bc"]]);function tt(){const t=window.location.pathname.split("/"),n=t.indexOf("admin");return t.slice(0,n).join("/")+"/"}function $3(){const t=window.location.href.split("/"),n=t.indexOf("admin");return t.slice(0,n).join("/")+"/"}let Fo;function yt(e){Fo||(Fo=gl()),Fo.add(e)}var C3={"audio/aac":"aac","application/x-abiword":"abw","application/x-freearc":"arc","video/x-msvideo":"avi","application/vnd.amazon.ebook":"azw","application/octet-stream":"file","image/bmp":"bmp","application/x-bzip":"bz","application/x-bzip2":"bz2","application/x-csh":"csh","text/css":"css","text/csv":"csv","application/msword":"doc","application/sql":"sql","application/vnd.openxmlformats-officedocument.wordprocessingml.document":"docx","application/vnd.ms-fontobject":"eot","application/epub+zip":"epub","application/gzip":"gz","image/gif":"gif","text/html":"html","image/vnd.microsoft.icon":"ico","text/calendar":"ics","application/java-archive":"jar","image/jpeg":"jpg","text/javascript":"js","application/json":"json","application/ld+json":"jsonld","audio/midi audio/x-midi":"midi","audio/mpeg":"mp3","video/mpeg":"mpeg","audio/mp4":"mp4","video/mp4":"mp4","application/mp4":"mp4","application/vnd.apple.installer+xml":"mpkg","application/vnd.oasis.opendocument.presentation":"odp","application/vnd.oasis.opendocument.spreadsheet":"ods","application/vnd.oasis.opendocument.text":"odt","audio/ogg":"oga","video/ogg":"ogv","application/ogg":"ogx","audio/opus":"opus","font/otf":"otf","image/png":"png","application/pdf":"pdf","application/x-httpd-php":"php","application/vnd.ms-powerpoint":"ppt","application/vnd.openxmlformats-officedocument.presentationml.presentation":"pptx","application/vnd.rar":"rar","application/rtf":"rtf","application/x-sh":"sh","image/svg+xml":"svg","application/x-shockwave-flash":"swf","application/x-tar":"tar","image/tiff":"tiff","video/mp2t":"ts","font/ttf":"ttf","text/plain":"txt","application/vnd.visio":"vsd","audio/wav":"wav","audio/webm":"weba","video/webm":"webm","image/webp":"webp","font/woff":"woff","font/woff2":"woff2","application/xhtml+xml":"xhtml","application/vnd.ms-excel":"xls","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":"xlsx","application/xml":"xml","application/vnd.mozilla.xul+xml":"xul","application/zip":"zip","video/3gpp":"3gp","video/3gpp2":"3g2","audio/3gpp":"3gp","audio/3gpp2":"3g2","application/x-7z-compressed":"7z"},S3={"application/vnd.hzn-3d-crossword":"3D Crossword Plugin","video/3gpp":"3GP","video/3gpp2":"3GP2","application/vnd.mseq":"3GPP MSEQ File","application/vnd.3m.post-it-notes":"3M Post It Notes","application/vnd.3gpp.pic-bw-large":"3rd Generation Partnership Project - Pic Large","application/vnd.3gpp.pic-bw-small":"3rd Generation Partnership Project - Pic Small","application/vnd.3gpp.pic-bw-var":"3rd Generation Partnership Project - Pic Var","application/vnd.3gpp2.tcap":"3rd Generation Partnership Project - Transaction Capabilities Application Part","application/x-7z-compressed":"7-Zip","application/x-abiword":"AbiWord","application/x-ace-compressed":"Ace Archive","application/vnd.americandynamics.acc":"Active Content Compression","application/vnd.acucobol":"ACU Cobol","application/vnd.acucorp":"ACU Cobol","audio/adpcm":"Adaptive differential pulse-code modulation","application/x-authorware-bin":"Adobe (Macropedia) Authorware - Binary File","application/x-authorware-map":"Adobe (Macropedia) Authorware - Map","application/x-authorware-seg":"Adobe (Macropedia) Authorware - Segment File","application/vnd.adobe.air-application-installer-package+zip":"Adobe AIR Application","application/x-shockwave-flash":"Adobe Flash","application/vnd.adobe.fxp":"Adobe Flex Project","application/pdf":"PDF","application/sql":"SQL","application/vnd.cups-ppd":"Adobe PostScript Printer Description File Format","application/x-director":"Adobe Shockwave Player","application/vnd.adobe.xdp+xml":"Adobe XML Data Package","application/vnd.adobe.xfdf":"Adobe XML Forms Data Format","audio/x-aac":"Advanced Audio Coding (AAC)","application/vnd.ahead.space":"Ahead AIR Application","application/vnd.airzip.filesecure.azf":"AirZip FileSECURE","application/vnd.airzip.filesecure.azs":"AirZip FileSECURE","application/vnd.amazon.ebook":"Amazon Kindle eBook format","application/vnd.amiga.ami":"AmigaDE","application/andrew-inset":"Andrew Toolkit","application/vnd.android.package-archive":"Android Package Archive","application/vnd.anser-web-certificate-issue-initiation":"ANSER-WEB Terminal Client - Certificate Issue","application/vnd.anser-web-funds-transfer-initiation":"ANSER-WEB Terminal Client - Web Funds Transfer","application/vnd.antix.game-component":"Antix Game Player","application/x-apple-diskimage":"Apple Disk Image","application/vnd.apple.installer+xml":"Apple Installer Package","application/applixware":"Applixware","application/vnd.hhe.lesson-player":"Archipelago Lesson Player","application/vnd.aristanetworks.swi":"Arista Networks Software Image","text/x-asm":"Assembler Source File","application/atomcat+xml":"Atom Publishing Protocol","application/atomsvc+xml":"Atom Publishing Protocol Service Document","application/atom+xml":"Atom Syndication Format","application/pkix-attr-cert":"Attribute Certificate","audio/x-aiff":"AIFF","video/x-msvideo":"AVI","application/vnd.audiograph":"Audiograph","image/vnd.dxf":"AutoCAD DXF","model/vnd.dwf":"Autodesk Design Web Format (DWF)","text/plain-bas":"BAS Partitur Format","application/x-bcpio":"Binary CPIO Archive","application/octet-stream":"Binary Data","image/bmp":"Bitmap Image","application/x-bittorrent":"BitTorrent","application/vnd.rim.cod":"Blackberry COD File","application/vnd.blueice.multipass":"Blueice Research Multipass","application/vnd.bmi":"BMI Drawing Data Interchange","application/x-sh":"Bourne Shell Script","image/prs.btif":"BTIF","application/vnd.businessobjects":"BusinessObjects","application/x-bzip":"Bzip Archive","application/x-bzip2":"Bzip2 Archive","application/x-csh":"C Shell Script","text/x-c":"C Source File","application/vnd.chemdraw+xml":"CambridgeSoft Chem Draw","text/css":"Cascading Style Sheets (CSS)","chemical/x-cdx":"ChemDraw eXchange file","chemical/x-cml":"Chemical Markup Language","chemical/x-csml":"Chemical Style Markup Language","application/vnd.contact.cmsg":"CIM Database","application/vnd.claymore":"Claymore Data Files","application/vnd.clonk.c4group":"Clonk Game","image/vnd.dvb.subtitle":"Close Captioning - Subtitle","application/cdmi-capability":"Cloud Data Management Interface (CDMI) - Capability","application/cdmi-container":"Cloud Data Management Interface (CDMI) - Container","application/cdmi-domain":"Cloud Data Management Interface (CDMI) - Domain","application/cdmi-object":"Cloud Data Management Interface (CDMI) - Object","application/cdmi-queue":"Cloud Data Management Interface (CDMI) - Queue","application/vnd.cluetrust.cartomobile-config":"ClueTrust CartoMobile - Config","application/vnd.cluetrust.cartomobile-config-pkg":"ClueTrust CartoMobile - Config Package","image/x-cmu-raster":"CMU Image","model/vnd.collada+xml":"COLLADA","text/csv":"CSV","application/mac-compactpro":"Compact Pro","application/vnd.wap.wmlc":"Compiled Wireless Markup Language (WMLC)","image/cgm":"Computer Graphics Metafile","x-conference/x-cooltalk":"CoolTalk","image/x-cmx":"Corel Metafile Exchange (CMX)","application/vnd.xara":"CorelXARA","application/vnd.cosmocaller":"CosmoCaller","application/x-cpio":"CPIO Archive","application/vnd.crick.clicker":"CrickSoftware - Clicker","application/vnd.crick.clicker.keyboard":"CrickSoftware - Clicker - Keyboard","application/vnd.crick.clicker.palette":"CrickSoftware - Clicker - Palette","application/vnd.crick.clicker.template":"CrickSoftware - Clicker - Template","application/vnd.crick.clicker.wordbank":"CrickSoftware - Clicker - Wordbank","application/vnd.criticaltools.wbs+xml":"Critical Tools - PERT Chart EXPERT","application/vnd.rig.cryptonote":"CryptoNote","chemical/x-cif":"Crystallographic Interchange Format","chemical/x-cmdf":"CrystalMaker Data Format","application/cu-seeme":"CU-SeeMe","application/prs.cww":"CU-Writer","text/vnd.curl":"Curl - Applet","text/vnd.curl.dcurl":"Curl - Detached Applet","text/vnd.curl.mcurl":"Curl - Manifest File","text/vnd.curl.scurl":"Curl - Source Code","application/vnd.curl.car":"CURL Applet","application/vnd.curl.pcurl":"CURL Applet","application/vnd.yellowriver-custom-menu":"CustomMenu","application/dssc+der":"Data Structure for the Security Suitability of Cryptographic Algorithms","application/dssc+xml":"Data Structure for the Security Suitability of Cryptographic Algorithms","application/x-debian-package":"Debian Package","audio/vnd.dece.audio":"DECE Audio","image/vnd.dece.graphic":"DECE Graphic","video/vnd.dece.hd":"DECE High Definition Video","video/vnd.dece.mobile":"DECE Mobile Video","video/vnd.uvvu.mp4":"DECE MP4","video/vnd.dece.pd":"DECE PD Video","video/vnd.dece.sd":"DECE SD Video","video/vnd.dece.video":"DECE Video","application/x-dvi":"DVI","application/vnd.fdsn.seed":"Digital Seismograph Networks - SEED Datafiles","application/x-dtbook+xml":"Digital Talking Book","application/x-dtbresource+xml":"Digital Talking Book - Resource File","application/vnd.dvb.ait":"Digital Video Broadcasting","application/vnd.dvb.service":"Digital Video Broadcasting","audio/vnd.digital-winds":"Digital Winds Music","image/vnd.djvu":"DjVu","application/xml-dtd":"Document Type Definition","application/vnd.dolby.mlp":"Dolby Meridian Lossless Packing","application/x-doom":"Doom Video Game","application/vnd.dpgraph":"DPGraph","audio/vnd.dra":"DRA Audio","application/vnd.dreamfactory":"DreamFactory","audio/vnd.dts":"DTS Audio","audio/vnd.dts.hd":"DTS High Definition Audio","image/vnd.dwg":"DWG Drawing","application/vnd.dynageo":"DynaGeo","application/ecmascript":"ECMAScript","application/vnd.ecowin.chart":"EcoWin Chart","image/vnd.fujixerox.edmics-mmr":"EDMICS 2000","image/vnd.fujixerox.edmics-rlc":"EDMICS 2000","application/exi":"Efficient XML Interchange","application/vnd.proteus.magazine":"EFI Proteus","application/epub+zip":"Electronic Publication","message/rfc822":"Email Message","application/vnd.enliven":"Enliven Viewer","application/vnd.is-xpr":"Express by Infoseek","image/vnd.xiff":"eXtended Image File Format (XIFF)","application/vnd.xfdl":"Extensible Forms Description Language","application/emma+xml":"Extensible MultiModal Annotation","application/vnd.ezpix-album":"EZPix Secure Photo Album","application/vnd.ezpix-package":"EZPix Secure Photo Album","image/vnd.fst":"FAST Search & Transfer ASA","video/vnd.fvt":"FAST Search & Transfer ASA","image/vnd.fastbidsheet":"FastBid Sheet","application/vnd.denovo.fcselayout-link":"FCS Express Layout Link","video/x-f4v":"Flash Video","video/x-flv":"Flash Video","image/vnd.fpx":"FlashPix","image/vnd.net-fpx":"FlashPix","text/vnd.fmi.flexstor":"FLEXSTOR","video/x-fli":"FLI/FLC Animation Format","application/vnd.fluxtime.clip":"FluxTime Clip","application/vnd.fdf":"Forms Data Format","text/x-fortran":"Fortran Source File","application/vnd.mif":"FrameMaker Interchange Format","application/vnd.framemaker":"FrameMaker Normal Format","image/x-freehand":"FreeHand MX","application/vnd.fsc.weblaunch":"Friendly Software Corporation","application/vnd.frogans.fnc":"Frogans Player","application/vnd.frogans.ltf":"Frogans Player","application/vnd.fujixerox.ddd":"Fujitsu - Xerox 2D CAD Data","application/vnd.fujixerox.docuworks":"Fujitsu - Xerox DocuWorks","application/vnd.fujixerox.docuworks.binder":"Fujitsu - Xerox DocuWorks Binder","application/vnd.fujitsu.oasys":"Fujitsu Oasys","application/vnd.fujitsu.oasys2":"Fujitsu Oasys","application/vnd.fujitsu.oasys3":"Fujitsu Oasys","application/vnd.fujitsu.oasysgp":"Fujitsu Oasys","application/vnd.fujitsu.oasysprs":"Fujitsu Oasys","application/x-futuresplash":"FutureSplash Animator","application/vnd.fuzzysheet":"FuzzySheet","image/g3fax":"G3 Fax Image","application/vnd.gmx":"GameMaker ActiveX","model/vnd.gtw":"Gen-Trix Studio","application/vnd.genomatix.tuxedo":"Genomatix Tuxedo Framework","application/vnd.geogebra.file":"GeoGebra","application/vnd.geogebra.tool":"GeoGebra","model/vnd.gdl":"Geometric Description Language (GDL)","application/vnd.geometry-explorer":"GeoMetry Explorer","application/vnd.geonext":"GEONExT and JSXGraph","application/vnd.geoplan":"GeoplanW","application/vnd.geospace":"GeospacW","application/x-font-ghostscript":"Ghostscript Font","application/x-font-bdf":"Glyph Bitmap Distribution Format","application/x-gtar":"GNU Tar Files","application/x-texinfo":"GNU Texinfo Document","application/x-gnumeric":"Gnumeric","application/vnd.google-earth.kml+xml":"Google Earth - KML","application/vnd.google-earth.kmz":"Google Earth - Zipped KML","application/vnd.grafeq":"GrafEq","image/gif":"GIF","text/vnd.graphviz":"Graphviz","application/vnd.groove-account":"Groove - Account","application/vnd.groove-help":"Groove - Help","application/vnd.groove-identity-message":"Groove - Identity Message","application/vnd.groove-injector":"Groove - Injector","application/vnd.groove-tool-message":"Groove - Tool Message","application/vnd.groove-tool-template":"Groove - Tool Template","application/vnd.groove-vcard":"Groove - Vcard","video/h261":"H.261","video/h263":"H.263","video/h264":"H.264","application/vnd.hp-hpid":"Hewlett Packard Instant Delivery","application/vnd.hp-hps":"Hewlett-Packard's WebPrintSmart","application/x-hdf":"Hierarchical Data Format","audio/vnd.rip":"Hit'n'Mix","application/vnd.hbci":"Homebanking Computer Interface (HBCI)","application/vnd.hp-jlyt":"HP Indigo Digital Press - Job Layout Language","application/vnd.hp-pcl":"HP Printer Command Language","application/vnd.hp-hpgl":"HP-GL/2 and HP RTL","application/vnd.yamaha.hv-script":"HV Script","application/vnd.yamaha.hv-dic":"HV Voice Dictionary","application/vnd.yamaha.hv-voice":"HV Voice Parameter","application/vnd.hydrostatix.sof-data":"Hydrostatix Master Suite","application/hyperstudio":"Hyperstudio","application/vnd.hal+xml":"Hypertext Application Language","text/html":"HTML","application/vnd.ibm.rights-management":"IBM DB2 Rights Manager","application/vnd.ibm.secure-container":"IBM Electronic Media Management System - Secure Container","text/calendar":"iCalendar","application/vnd.iccprofile":"ICC profile","image/x-icon":"Icon Image","application/vnd.igloader":"igLoader","image/ief":"Image Exchange Format","application/vnd.immervision-ivp":"ImmerVision PURE Players","application/vnd.immervision-ivu":"ImmerVision PURE Players","application/reginfo+xml":"IMS Networks","text/vnd.in3d.3dml":"In3D - 3DML","text/vnd.in3d.spot":"In3D - 3DML","model/iges":"Initial Graphics Exchange Specification (IGES)","application/vnd.intergeo":"Interactive Geometry Software","application/vnd.cinderella":"Interactive Geometry Software Cinderella","application/vnd.intercon.formnet":"Intercon FormNet","application/vnd.isac.fcs":"International Society for Advancement of Cytometry","application/ipfix":"Internet Protocol Flow Information Export","application/pkix-cert":"Internet Public Key Infrastructure - Certificate","application/pkixcmp":"Internet Public Key Infrastructure - Certificate Management Protocole","application/pkix-crl":"Internet Public Key Infrastructure - Certificate Revocation Lists","application/pkix-pkipath":"Internet Public Key Infrastructure - Certification Path","application/vnd.insors.igm":"IOCOM Visimeet","application/vnd.ipunplugged.rcprofile":"IP Unplugged Roaming Client","application/vnd.irepository.package+xml":"iRepository / Lucidoc Editor","text/vnd.sun.j2me.app-descriptor":"J2ME App Descriptor","application/java-archive":"Java Archive","application/java-vm":"Java Bytecode File","application/x-java-jnlp-file":"Java Network Launching Protocol","application/java-serialized-object":"Java Serialized Object","text/x-java-source,java":"Java Source File","application/javascript":"JavaScript","application/json":"JSON","application/vnd.joost.joda-archive":"Joda Archive","video/jpm":"JPG","image/jpeg":"JPG","image/x-citrix-jpeg":"JPG","image/pjpeg":"JPG","video/jpeg":"JPGVideo","application/vnd.kahootz":"Kahootz","application/vnd.chipnuts.karaoke-mmd":"Karaoke on Chipnuts Chipsets","application/vnd.kde.karbon":"KDE KOffice Office Suite - Karbon","application/vnd.kde.kchart":"KDE KOffice Office Suite - KChart","application/vnd.kde.kformula":"KDE KOffice Office Suite - Kformula","application/vnd.kde.kivio":"KDE KOffice Office Suite - Kivio","application/vnd.kde.kontour":"KDE KOffice Office Suite - Kontour","application/vnd.kde.kpresenter":"KDE KOffice Office Suite - Kpresenter","application/vnd.kde.kspread":"KDE KOffice Office Suite - Kspread","application/vnd.kde.kword":"KDE KOffice Office Suite - Kword","application/vnd.kenameaapp":"Kenamea App","application/vnd.kidspiration":"Kidspiration","application/vnd.kinar":"Kinar Applications","application/vnd.kodak-descriptor":"Kodak Storyshare","application/vnd.las.las+xml":"Laser App Enterprise","application/x-latex":"LaTeX","application/vnd.llamagraphics.life-balance.desktop":"Life Balance - Desktop Edition","application/vnd.llamagraphics.life-balance.exchange+xml":"Life Balance - Exchange Format","application/vnd.jam":"Lightspeed Audio Lab","application/vnd.lotus-1-2-3":"Lotus 1-2-3","application/vnd.lotus-approach":"Lotus Approach","application/vnd.lotus-freelance":"Lotus Freelance","application/vnd.lotus-notes":"Lotus Notes","application/vnd.lotus-organizer":"Lotus Organizer","application/vnd.lotus-screencam":"Lotus Screencam","application/vnd.lotus-wordpro":"Lotus Wordpro","audio/vnd.lucent.voice":"Lucent Voice","audio/x-mpegurl":"M3U (Multimedia Playlist)","video/x-m4v":"M4v","application/mac-binhex40":"Macintosh BinHex 4.0","application/vnd.macports.portpkg":"MacPorts Port System","application/vnd.osgeo.mapguide.package":"MapGuide DBXML","application/marc":"MARC Formats","application/marcxml+xml":"MARC21 XML Schema","application/mxf":"Material Exchange Format","application/vnd.wolfram.player":"Mathematica Notebook Player","application/mathematica":"Mathematica Notebooks","application/mathml+xml":"Mathematical Markup Language","application/mbox":"Mbox database files","application/vnd.medcalcdata":"MedCalc","application/mediaservercontrol+xml":"Media Server Control Markup Language","application/vnd.mediastation.cdkey":"MediaRemote","application/vnd.mfer":"Medical Waveform Encoding Format","application/vnd.mfmp":"Melody Format for Mobile Platform","model/mesh":"Mesh Data Type","application/mads+xml":"Metadata Authority  Description Schema","application/mets+xml":"Metadata Encoding and Transmission Standard","application/mods+xml":"Metadata Object Description Schema","application/metalink4+xml":"Metalink","application/vnd.mcd":"Micro CADAM Helix D&D","application/vnd.micrografx.flo":"Micrografx","application/vnd.micrografx.igx":"Micrografx iGrafx Professional","application/vnd.eszigno3+xml":"MICROSEC e-Szign\xA2","application/x-msaccess":"Access","video/x-ms-asf":"MS ASF","application/x-msdownload":"MS App","application/vnd.ms-artgalry":"MS Artgalry","application/vnd.ms-cab-compressed":"MS Cabinet File","application/vnd.ms-ims":"MS Class Server","application/x-ms-application":"MS ClickOnce","application/x-msclip":"MS Clipboard Clip","image/vnd.ms-modi":"MS Document Imaging Format","application/vnd.ms-fontobject":"MS Embedded OpenType","application/vnd.ms-excel":"Excel","application/vnd.ms-excel.addin.macroenabled.12":"MS Excel - Add-In File","application/vnd.ms-excel.sheet.binary.macroenabled.12":"MS Excel - Binary Workbook","application/vnd.ms-excel.template.macroenabled.12":"MS Excel - Macro-Enabled Template File","application/vnd.ms-excel.sheet.macroenabled.12":"MS Excel - Macro-Enabled Workbook","application/vnd.ms-htmlhelp":"MS Html Help File","application/x-mscardfile":"MS Information Card","application/vnd.ms-lrm":"MS Learning Resource Module","application/x-msmediaview":"MS MediaView","application/x-msmoney":"MS Money","application/vnd.openxmlformats-officedocument.presentationml.presentation":"MS Office - OOXML - Presentation","application/vnd.openxmlformats-officedocument.presentationml.slide":"MS Office - OOXML - Presentation (Slide)","application/vnd.openxmlformats-officedocument.presentationml.slideshow":"MS Office - OOXML - Presentation (Slideshow)","application/vnd.openxmlformats-officedocument.presentationml.template":"MS Office - OOXML - Presentation Template","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":"MS Office - OOXML - Spreadsheet","application/vnd.openxmlformats-officedocument.spreadsheetml.template":"MS Office - OOXML - Spreadsheet Template","application/vnd.openxmlformats-officedocument.wordprocessingml.document":"MS Office - OOXML - Word Document","application/vnd.openxmlformats-officedocument.wordprocessingml.template":"MS Office - OOXML - Word Document Template","application/x-msbinder":"MS Office Binder","application/vnd.ms-officetheme":"MS Office System Release Theme","application/onenote":"OneNote","audio/vnd.ms-playready.media.pya":"MS PlayReady Ecosystem","video/vnd.ms-playready.media.pyv":"MS PlayReady Ecosystem Video","application/vnd.ms-powerpoint":"PowerPoint","application/vnd.ms-powerpoint.addin.macroenabled.12":"PowerPoint - Add-in file","application/vnd.ms-powerpoint.slide.macroenabled.12":"PowerPoint - Macro-Enabled Open XML Slide","application/vnd.ms-powerpoint.presentation.macroenabled.12":"PowerPoint - Macro-Enabled Presentation File","application/vnd.ms-powerpoint.slideshow.macroenabled.12":"PowerPoint - Macro-Enabled Slide Show File","application/vnd.ms-powerpoint.template.macroenabled.12":"PowerPoint - Macro-Enabled Template File","application/vnd.ms-project":"MS Project","application/x-mspublisher":"MS Publisher","application/x-msschedule":"MS Schedule+","application/x-silverlight-app":"MS Silverlight","application/vnd.ms-pki.stl":"MS Trust UI Provider - Certificate Trust Link","application/vnd.ms-pki.seccat":"MS Trust UI Provider - Security Catalog","application/vnd.visio":"Visio","application/vnd.visio2013":"Visio 2013","video/x-ms-wm":"MS Windows Media","audio/x-ms-wma":"WMA","audio/x-ms-wax":"MS Windows Media Audio Redirector","video/x-ms-wmx":"MS Windows Media Audio/Video Playlist","application/x-ms-wmd":"MS Windows Media Player Download Package","application/vnd.ms-wpl":"MS Windows Media Player Playlist","application/x-ms-wmz":"MS Windows Media Player Skin Package","video/x-ms-wmv":"WMV","video/x-ms-wvx":"MS Windows Media Video Playlist","application/x-msmetafile":"MS Windows Metafile","application/x-msterminal":"MS Windows Terminal Services","application/msword":"Word","application/vnd.ms-word.document.macroenabled.12":"MS Word - Macro-Enabled Document","application/vnd.ms-word.template.macroenabled.12":"MS Word - Macro-Enabled Template","application/x-mswrite":"MS Wordpad","application/vnd.ms-works":"MS Works","application/x-ms-xbap":"MS XAML Browser Application","application/vnd.ms-xpsdocument":"MS XML Paper Specification","audio/midi":"MIDI","application/vnd.ibm.minipay":"MiniPay","application/vnd.ibm.modcap":"MO:DCA-P","application/vnd.jcp.javame.midlet-rms":"Mobile Information Device Profile","application/vnd.tmobile-livetv":"MobileTV","application/x-mobipocket-ebook":"Mobipocket","application/vnd.mobius.mbk":"Mobius Management Systems - Basket file","application/vnd.mobius.dis":"Mobius Management Systems - Distribution Database","application/vnd.mobius.plc":"Mobius Management Systems - Policy Definition Language File","application/vnd.mobius.mqy":"Mobius Management Systems - Query File","application/vnd.mobius.msl":"Mobius Management Systems - Script Language","application/vnd.mobius.txf":"Mobius Management Systems - Topic Index File","application/vnd.mobius.daf":"Mobius Management Systems - UniversalArchive","text/vnd.fly":"mod_fly / fly.cgi","application/vnd.mophun.certificate":"Mophun Certificate","application/vnd.mophun.application":"Mophun VM","video/mj2":"Motion JPEG 2000","audio/mpeg":"MPEG Audio","video/vnd.mpegurl":"MPEG Url","video/mpeg":"MPEG","application/mp21":"MPEG-21","audio/mp4":"MP4 Audio","video/mp4":"MP4 Video","application/mp4":"MP4","application/vnd.apple.mpegurl":"Multimedia Playlist Unicode","application/vnd.musician":"MUsical Score Interpreted Code Invented for the ASCII designation of Notation","application/vnd.muvee.style":"Muvee Automatic Video Editing","application/xv+xml":"MXML","application/vnd.nokia.n-gage.data":"N-Gage Game Data","application/vnd.nokia.n-gage.symbian.install":"N-Gage Game Installer","application/x-dtbncx+xml":"Navigation Control file for XML (for ePub)","application/x-netcdf":"Network Common Data Form (NetCDF)","application/vnd.neurolanguage.nlu":"neuroLanguage","application/vnd.dna":"New Moon Liftoff/DNA","application/vnd.noblenet-directory":"NobleNet Directory","application/vnd.noblenet-sealer":"NobleNet Sealer","application/vnd.noblenet-web":"NobleNet Web","application/vnd.nokia.radio-preset":"Nokia Radio Application - Preset","application/vnd.nokia.radio-presets":"Nokia Radio Application - Preset","text/n3":"Notation3","application/vnd.novadigm.edm":"Novadigm's RADIA and EDM products","application/vnd.novadigm.edx":"Novadigm's RADIA and EDM products","application/vnd.novadigm.ext":"Novadigm's RADIA and EDM products","application/vnd.flographit":"NpGraphIt","audio/vnd.nuera.ecelp4800":"Nuera ECELP 4800","audio/vnd.nuera.ecelp7470":"Nuera ECELP 7470","audio/vnd.nuera.ecelp9600":"Nuera ECELP 9600","application/oda":"Office Document Architecture","application/ogg":"Ogg","audio/ogg":"Ogg Audio","video/ogg":"Ogg Video","application/vnd.oma.dd2+xml":"OMA Download Agents","application/vnd.oasis.opendocument.text-web":"Open Document Text Web","application/oebps-package+xml":"Open eBook Publication Structure","application/vnd.intu.qbo":"Open Financial Exchange","application/vnd.openofficeorg.extension":"Open Office Extension","application/vnd.yamaha.openscoreformat":"Open Score Format","audio/webm":"WebM Audio","video/webm":"WebM Video","application/vnd.oasis.opendocument.chart":"OpenDocument Chart","application/vnd.oasis.opendocument.chart-template":"OpenDocument Chart Template","application/vnd.oasis.opendocument.database":"OpenDocument Database","application/vnd.oasis.opendocument.formula":"OpenDocument Formula","application/vnd.oasis.opendocument.formula-template":"OpenDocument Formula Template","application/vnd.oasis.opendocument.graphics":"OpenDocument Graphics","application/vnd.oasis.opendocument.graphics-template":"OpenDocument Graphics Template","application/vnd.oasis.opendocument.image":"OpenDocument Image","application/vnd.oasis.opendocument.image-template":"OpenDocument Image Template","application/vnd.oasis.opendocument.presentation":"OpenDocument Presentation","application/vnd.oasis.opendocument.presentation-template":"OpenDocument Presentation Template","application/vnd.oasis.opendocument.spreadsheet":"OpenDocument Spreadsheet","application/vnd.oasis.opendocument.spreadsheet-template":"OpenDocument Spreadsheet Template","application/vnd.oasis.opendocument.text":"OpenDocument Text","application/vnd.oasis.opendocument.text-master":"OpenDocument Text Master","application/vnd.oasis.opendocument.text-template":"OpenDocument Text Template","image/ktx":"OpenGL Textures (KTX)","application/vnd.sun.xml.calc":"OpenOffice - Calc (Spreadsheet)","application/vnd.sun.xml.calc.template":"OpenOffice - Calc Template (Spreadsheet)","application/vnd.sun.xml.draw":"OpenOffice - Draw (Graphics)","application/vnd.sun.xml.draw.template":"OpenOffice - Draw Template (Graphics)","application/vnd.sun.xml.impress":"OpenOffice - Impress (Presentation)","application/vnd.sun.xml.impress.template":"OpenOffice - Impress Template (Presentation)","application/vnd.sun.xml.math":"OpenOffice - Math (Formula)","application/vnd.sun.xml.writer":"OpenOffice - Writer (Text - HTML)","application/vnd.sun.xml.writer.global":"OpenOffice - Writer (Text - HTML)","application/vnd.sun.xml.writer.template":"OpenOffice - Writer Template (Text - HTML)","application/x-font-otf":"OpenType Font File","application/vnd.yamaha.openscoreformat.osfpvg+xml":"OSFPVG","application/vnd.osgi.dp":"OSGi Deployment Package","application/vnd.palm":"PalmOS Data","text/x-pascal":"Pascal Source File","application/vnd.pawaafile":"PawaaFILE","application/vnd.hp-pclxl":"PCL 6 Enhanced (Formerly PCL XL)","application/vnd.picsel":"Pcsel eFIF File","image/x-pcx":"PCX Image","image/vnd.adobe.photoshop":"Photoshop Document","application/pics-rules":"PICSRules","image/x-pict":"PICT Image","application/x-chat":"pIRCh","application/pkcs10":"PKCS #10 - Certification Request Standard","application/x-pkcs12":"PKCS #12 - Personal Information Exchange Syntax Standard","application/pkcs7-mime":"PKCS #7 - Cryptographic Message Syntax Standard","application/pkcs7-signature":"PKCS #7 - Cryptographic Message Syntax Standard","application/x-pkcs7-certreqresp":"PKCS #7 - Cryptographic Message Syntax Standard (Certificate Request Response)","application/x-pkcs7-certificates":"PKCS #7 - Cryptographic Message Syntax Standard (Certificates)","application/pkcs8":"PKCS #8 - Private-Key Information Syntax Standard","application/vnd.pocketlearn":"PocketLearn Viewers","image/x-portable-anymap":"Portable Anymap Image","image/x-portable-bitmap":"Portable Bitmap Format","application/x-font-pcf":"Portable Compiled Format","application/font-tdpfr":"Portable Font Resource","application/x-chess-pgn":"Portable Game Notation (Chess Games)","image/x-portable-graymap":"Portable Graymap Format","image/png":"PNG","image/x-citrix-png":"PNG","image/x-png":"PNG","image/x-portable-pixmap":"Portable Pixmap Format","application/pskc+xml":"Portable Symmetric Key Container","application/vnd.ctc-posml":"PosML","application/postscript":"PostScript","application/x-font-type1":"PostScript Fonts","application/vnd.powerbuilder6":"PowerBuilder","application/pgp-encrypted":"Pretty Good Privacy","application/pgp-signature":"Pretty Good Privacy - Signature","application/vnd.previewsystems.box":"Preview Systems ZipLock/VBox","application/vnd.pvi.ptid1":"Princeton Video Image","application/pls+xml":"Pronunciation Lexicon Specification","application/vnd.pg.format":"Proprietary P&G Standard Reporting System","application/vnd.pg.osasli":"Proprietary P&G Standard Reporting System","text/prs.lines.tag":"PRS Lines Tag","application/x-font-linux-psf":"PSF Fonts","application/vnd.publishare-delta-tree":"PubliShare Objects","application/vnd.pmi.widget":"Qualcomm's Plaza Mobile Internet","application/vnd.quark.quarkxpress":"QuarkXpress","application/vnd.epson.esf":"QUASS Stream Player","application/vnd.epson.msf":"QUASS Stream Player","application/vnd.epson.ssf":"QUASS Stream Player","application/vnd.epson.quickanime":"QuickAnime Player","application/vnd.intu.qfx":"Quicken","video/quicktime":"Quicktime Video","application/x-rar-compressed":"RAR Archive","audio/x-pn-realaudio":"Real Audio Sound","audio/x-pn-realaudio-plugin":"Real Audio Sound","application/rsd+xml":"Really Simple Discovery","application/vnd.rn-realmedia":"RealMedia","application/vnd.realvnc.bed":"RealVNC","application/vnd.recordare.musicxml":"Recordare Applications","application/vnd.recordare.musicxml+xml":"Recordare Applications","application/relax-ng-compact-syntax":"Relax NG Compact Syntax","application/vnd.data-vision.rdz":"RemoteDocs R-Viewer","application/rdf+xml":"Resource Description Framework","application/vnd.cloanto.rp9":"RetroPlatform Player","application/vnd.jisp":"RhymBox","application/rtf":"Rich Text","text/richtext":"Rich Text","application/vnd.route66.link66+xml":"ROUTE 66 Location Based Services","application/rss+xml":"RSS","application/shf+xml":"S Hexdump Format","application/vnd.sailingtracker.track":"SailingTracker","image/svg+xml":"SVG","application/vnd.sus-calendar":"ScheduleUs","application/sru+xml":"Search/Retrieve via URL Response Format","application/set-payment-initiation":"Secure Electronic Transaction - Payment","application/set-registration-initiation":"Secure Electronic Transaction - Registration","application/vnd.sema":"Secured eMail","application/vnd.semd":"Secured eMail","application/vnd.semf":"Secured eMail","application/vnd.seemail":"SeeMail","application/x-font-snf":"Server Normal Format","application/scvp-vp-request":"Server-Based Certificate Validation Protocol - Validation Policies - Request","application/scvp-vp-response":"Server-Based Certificate Validation Protocol - Validation Policies - Response","application/scvp-cv-request":"Server-Based Certificate Validation Protocol - Validation Request","application/scvp-cv-response":"Server-Based Certificate Validation Protocol - Validation Response","application/sdp":"Session Description Protocol","text/x-setext":"Setext","video/x-sgi-movie":"SGI Movie","application/vnd.shana.informed.formdata":"Shana Informed Filler","application/vnd.shana.informed.formtemplate":"Shana Informed Filler","application/vnd.shana.informed.interchange":"Shana Informed Filler","application/vnd.shana.informed.package":"Shana Informed Filler","application/thraud+xml":"Sharing Transaction Fraud Data","application/x-shar":"Shell Archive","image/x-rgb":"Silicon Graphics RGB Bitmap","application/vnd.epson.salt":"SimpleAnimeLite Player","application/vnd.accpac.simply.aso":"Simply Accounting","application/vnd.accpac.simply.imp":"Simply Accounting - Data Import","application/vnd.simtech-mindmapper":"SimTech MindMapper","application/vnd.commonspace":"Sixth Floor Media - CommonSpace","application/vnd.yamaha.smaf-audio":"SMAF Audio","application/vnd.smaf":"SMAF File","application/vnd.yamaha.smaf-phrase":"SMAF Phrase","application/vnd.smart.teacher":"SMART Technologies Apps","application/vnd.svd":"SourceView Document","application/sparql-query":"SPARQL - Query","application/sparql-results+xml":"SPARQL - Results","application/srgs":"Speech Recognition Grammar Specification","application/srgs+xml":"Speech Recognition Grammar Specification - XML","application/ssml+xml":"Speech Synthesis Markup Language","application/vnd.koan":"SSEYO Koan Play File","text/sgml":"SGML","application/vnd.stardivision.calc":"StarOffice - Calc","application/vnd.stardivision.draw":"StarOffice - Draw","application/vnd.stardivision.impress":"StarOffice - Impress","application/vnd.stardivision.math":"StarOffice - Math","application/vnd.stardivision.writer":"StarOffice - Writer","application/vnd.stardivision.writer-global":"StarOffice - Writer  (Global)","application/vnd.stepmania.stepchart":"StepMania","application/x-stuffit":"Stuffit Archive","application/x-stuffitx":"Stuffit Archive","application/vnd.solent.sdkm+xml":"SudokuMagic","application/vnd.olpc-sugar":"Sugar Linux Application Bundle","audio/basic":"Sun Audio - Au file format","application/vnd.wqd":"SundaHus WQ","application/vnd.symbian.install":"Symbian Install Package","application/smil+xml":"Synchronized Multimedia Integration Language","application/vnd.syncml+xml":"SyncML","application/vnd.syncml.dm+wbxml":"SyncML - Device Management","application/vnd.syncml.dm+xml":"SyncML - Device Management","application/x-sv4cpio":"System V Release 4 CPIO Archive","application/x-sv4crc":"System V Release 4 CPIO Checksum Data","application/sbml+xml":"Systems Biology Markup Language","text/tab-separated-values":"Tab Separated Values","image/tiff":"TIFF","application/vnd.tao.intent-module-archive":"Tao Intent","application/x-tar":"Tar File","application/x-tcl":"Tcl Script","application/x-tex":"TeX","application/x-tex-tfm":"TeX Font Metric","application/tei+xml":"Text Encoding and Interchange","text/plain":"Text","application/vnd.spotfire.dxp":"TIBCO Spotfire","application/vnd.spotfire.sfs":"TIBCO Spotfire","application/timestamped-data":"Time Stamped Data Envelope","application/vnd.trid.tpt":"TRI Systems Config","application/vnd.triscape.mxs":"Triscape Map Explorer","text/troff":"troff","application/vnd.trueapp":"True BASIC","application/x-font-ttf":"TrueType Font","text/turtle":"Turtle (Terse RDF Triple Language)","application/vnd.umajin":"UMAJIN","application/vnd.uoml+xml":"Unique Object Markup Language","application/vnd.unity":"Unity 3d","application/vnd.ufdl":"Universal Forms Description Language","text/uri-list":"URI Resolution Services","application/vnd.uiq.theme":"User Interface Quartz - Theme (Symbian)","application/x-ustar":"Ustar (Uniform Standard Tape Archive)","text/x-uuencode":"UUEncode","text/x-vcalendar":"vCalendar","text/x-vcard":"vCard","application/x-cdlink":"Video CD","application/vnd.vsf":"Viewport+","model/vrml":"Virtual Reality Modeling Language","application/vnd.vcx":"VirtualCatalog","model/vnd.mts":"Virtue MTS","model/vnd.vtu":"Virtue VTU","application/vnd.visionary":"Visionary","video/vnd.vivo":"Vivo","application/ccxml+xml,":"Voice Browser Call Control","application/voicexml+xml":"VoiceXML","application/x-wais-source":"WAIS Source","application/vnd.wap.wbxml":"WAP Binary XML (WBXML)","image/vnd.wap.wbmp":"WBMP","audio/x-wav":"WAV","application/davmount+xml":"Web Distributed Authoring and Versioning","application/x-font-woff":"WOFF","application/wspolicy+xml":"Web Services Policy","image/webp":"WebP","application/vnd.webturbo":"WebTurbo","application/widget":"Widget Packaging and XML Configuration","application/winhlp":"WinHelp","text/vnd.wap.wml":"WML","text/vnd.wap.wmlscript":"WMLScript","application/vnd.wap.wmlscriptc":"WMLScript","application/vnd.wordperfect":"Wordperfect","application/vnd.wt.stf":"Worldtalk","application/wsdl+xml":"WSDL","image/x-xbitmap":"X BitMap","image/x-xpixmap":"X PixMap","image/x-xwindowdump":"X Window Dump","application/x-x509-ca-cert":"X.509 Certificate","application/x-xfig":"Xfig","application/xhtml+xml":"XHTML","application/xml":"XML","application/xcap-diff+xml":"XML Configuration Access Protocol - XCAP Diff","application/xenc+xml":"XML Encryption Syntax and Processing","application/patch-ops-error+xml":"XML Patch Framework","application/resource-lists+xml":"XML Resource Lists","application/rls-services+xml":"XML Resource Lists","application/resource-lists-diff+xml":"XML Resource Lists Diff","application/xslt+xml":"XML Transformations","application/xop+xml":"XML-Binary Optimized Packaging","application/x-xpinstall":"XPInstall - Mozilla","application/xspf+xml":"XSPF - XML Shareable Playlist Format","application/vnd.mozilla.xul+xml":"XUL - XML User Interface Language","chemical/x-xyz":"XYZ File Format","text/yaml":"YAML","application/yang":"YANG Data Modeling Language","application/yin+xml":"YIN (YANG - XML)","application/vnd.zul":"Z.U.L. Geometry","application/zip":"Zip Archive","application/vnd.handheld-entertainment+xml":"ZVUE Media Manager","application/vnd.zzazz.deck+xml":"Zzazz Deck"};function an(e,t=!1){return t?C3[e]||null:S3[e]||null}const F3=Z({name:"FolderPickerListItem",props:{folder:{type:Object,required:!0},currentFolder:{type:String,default:null},clickHandler:{type:Function,default:()=>{}},disabled:{type:Boolean,default:!1},disabledFolders:{type:Array,default:()=>[]}}}),V3={class:"folder-picker-list-item"};function A3(e,t,n,l,o,u){const r=c("v-icon"),i=c("v-list-item-icon"),s=c("v-list-item-content"),p=c("v-list-item"),f=c("folder-picker-list-item",!0),_=c("v-list-group");return m(),A("div",V3,[e.folder.children.length===0?(m(),F(p,{key:0,clickable:"",active:e.currentFolder===e.folder.id,disabled:e.disabled,onClick:t[0]||(t[0]=v=>e.clickHandler(e.folder.id))},{default:d(()=>[a(i,null,{default:d(()=>[a(r,{name:e.currentFolder===e.folder.id?"folder_open":"folder"},null,8,["name"])]),_:1}),a(s,null,{default:d(()=>[P(w(e.folder.name),1)]),_:1})]),_:1},8,["active","disabled"])):(m(),F(_,{key:1,clickable:"",active:e.currentFolder===e.folder.id,disabled:e.disabled,onClick:t[1]||(t[1]=v=>e.clickHandler(e.folder.id))},{activator:d(()=>[a(i,null,{default:d(()=>[a(r,{name:e.currentFolder===e.folder.id?"folder_open":"folder"},null,8,["name"])]),_:1}),a(s,null,{default:d(()=>[P(w(e.folder.name),1)]),_:1})]),default:d(()=>[(m(!0),A(se,null,Ve(e.folder.children,v=>(m(),F(f,{key:v.id,folder:v,"current-folder":e.currentFolder,"click-handler":e.clickHandler,disabled:e.disabledFolders.includes(v.id),"disabled-folders":e.disabledFolders},null,8,["folder","current-folder","click-handler","disabled","disabled-folders"]))),128))]),_:1},8,["active","disabled"]))])}var I3=H(F3,[["render",A3]]);const E3=Z({components:{FolderPickerListItem:I3},props:{disabledFolders:{type:Array,default:()=>[]},modelValue:{type:String,default:null}},emits:["update:modelValue"],setup(e){const{t}=ae(),n=D(!1),l=D([]),o=V(()=>{return l.value.filter(y=>y.parent===null).map(y=>Ie(ve({},y),{children:v(y)}));function v(y){return l.value.filter(g=>g.parent===y.id).map(g=>Ie(ve({},g),{children:v(g)}))}}),u=[],r=l.value.find(v=>v.id===e.modelValue);r&&r.parent&&_(r.parent);const i=["root"];for(const v of u)i.includes(v)===!1&&i.push(v);const s=V(()=>l.value.find(v=>v.id===e.modelValue)||{}),p=D(i);return f(),{t,loading:n,folders:l,tree:o,selectedFolder:s,openFolders:p};async function f(){if(!(l.value.length>0)){n.value=!0;try{const v=await me.get("/folders",{params:{limit:-1,sort:"name"}});l.value=v.data.data}catch(v){Pe(v)}finally{n.value=!1}}}function _(v){if(!l.value)return;u.push(v);const y=l.value.find(g=>g.id===v);y&&y.parent&&_(y.parent)}}}),D3={key:1,class:"folder-picker"};function P3(e,t,n,l,o,u){const r=c("v-skeleton-loader"),i=c("v-icon"),s=c("v-list-item-icon"),p=c("v-list-item-content"),f=c("folder-picker-list-item"),_=c("v-list-group"),v=c("v-item-group"),y=c("v-list");return e.loading?(m(),F(r,{key:0})):(m(),A("div",D3,[a(y,null,{default:d(()=>[a(v,{modelValue:e.openFolders,"onUpdate:modelValue":t[1]||(t[1]=g=>e.openFolders=g),scope:"folder-picker",multiple:""},{default:d(()=>[a(_,{"disable-groupable-parent":"",clickable:"",active:e.modelValue===null,scope:"folder-picker",value:"root",onClick:t[0]||(t[0]=g=>e.$emit("update:modelValue",null))},{activator:d(()=>[a(s,null,{default:d(()=>[a(i,{name:"folder_special",outline:""})]),_:1}),a(p,null,{default:d(()=>[P(w(e.t("file_library")),1)]),_:1})]),default:d(()=>[(m(!0),A(se,null,Ve(e.tree,g=>(m(),F(f,{key:g.id,folder:g,"current-folder":e.modelValue,"click-handler":h=>e.$emit("update:modelValue",h),disabled:e.disabledFolders.includes(g.id),"disabled-folders":e.disabledFolders},null,8,["folder","current-folder","click-handler","disabled","disabled-folders"]))),128))]),_:1},8,["active"])]),_:1},8,["modelValue"])]),_:1})]))}var Ul=H(E3,[["render",P3],["__scopeId","data-v-aeea4842"]]);const T3=e=>(xe("data-v-3968c689"),e=e(),et(),e),O3={class:"fields"},L3={class:"field full"},j3={key:0,class:"uploading"},R3={class:"type-text"},M3={key:0},U3={class:"type-label"},N3={key:0,class:"extension"},B3=T3(()=>$("label",{for:"import-file",class:"import-file-label"},null,-1)),q3={class:"field full"},z3={class:"field full"},K3={class:"export-fields"},W3={class:"field half-left"},H3={class:"type-label"},G3={class:"field half-right"},Z3={class:"type-label"},J3={class:"field half-left"},X3={class:"type-label"},Y3={class:"field half-right"},Q3={class:"type-label"},x3={class:"field half-left"},e4={class:"type-label"},t4={class:"field half-right"},n4={class:"type-label"},l4={class:"field full"},o4={class:"type-label"},a4={class:"field full"},i4={class:"type-label"},r4={class:"field full"},s4={class:"type-label"},d4=Z({props:{collection:null,layoutQuery:{default:void 0},filter:{default:void 0},search:{default:void 0}},emits:["refresh","download"],setup(e,{emit:t}){var te,re,ye,fe,ue,_e,ce;const n=e,{t:l,n:o}=ae(),{collection:u}=ze(n),r=D(null),i=D(null),{uploading:s,progress:p,importing:f,uploadFile:_}=W(),v=D(!1),y=V(()=>i.value===null?null:an(i.value.type,!0)),{primaryKeyField:g,fields:h,info:b}=_t(u),S=Jt({limit:(re=(te=n.layoutQuery)==null?void 0:te.limit)!=null?re:25,filter:n.filter,search:n.search,fields:(ue=(ye=n.layoutQuery)==null?void 0:ye.fields)!=null?ue:(fe=h.value)==null?void 0:fe.map(oe=>oe.field),sort:`${(ce=(_e=g.value)==null?void 0:_e.field)!=null?ce:""}`});he(()=>n.layoutQuery,()=>{var oe,ne,x,pe,ge;S.limit=(ne=(oe=n.layoutQuery)==null?void 0:oe.limit)!=null?ne:25,((x=n.layoutQuery)==null?void 0:x.fields)&&(S.fields=(pe=n.layoutQuery)==null?void 0:pe.fields),((ge=n.layoutQuery)==null?void 0:ge.sort)&&(Array.isArray(n.layoutQuery.sort)?S.sort=n.layoutQuery.sort[0]:S.sort=n.layoutQuery.sort)},{immediate:!0}),he([()=>n.filter,()=>n.search],([oe,ne])=>{S.filter=oe,S.search=ne},{immediate:!0});const I=D("csv"),E=D("download"),R=D(),O=V(()=>{var ne;return((ne=S.limit)!=null?ne:L.value)>=2500});he(()=>S.limit,()=>{O.value&&(E.value="files")});const L=D(),q=D(!1),T=z.exports.debounce(async()=>{q.value=!0;try{const oe=await me.get(jt(u.value),{params:Ie(ve({},S),{aggregate:{count:["*"]}})}).then(ne=>{var x,pe;if((pe=(x=ne.data.data)==null?void 0:x[0])==null?void 0:pe.count)return Number(ne.data.data[0].count)});L.value=oe}finally{q.value=!1}},250);T(),he(S,()=>{T()}),he(g,oe=>{var ne;S.sort=(ne=oe==null?void 0:oe.field)!=null?ne:""});const j=V({get(){return S.sort.startsWith("-")?"DESC":"ASC"},set(oe){oe==="ASC"?S.sort.startsWith("-")&&(S.sort=S.sort.substring(1)):S.sort.startsWith("-")===!1&&(S.sort=`-${S.sort}`)}}),U=V({get(){return S.sort.startsWith("-")?S.sort.substring(1):S.sort},set(oe){S.sort=oe}}),B=D(!1);function K(oe){var x;const ne=(x=oe.target)==null?void 0:x.files;ne&&ne.length>0&&(i.value=ne.item(0))}function J(){r.value&&(r.value.value=""),i.value=null}function Y(){_(i.value)}function W(){const oe=D(!1),ne=D(!1),x=D(0);return{uploading:oe,progress:x,importing:ne,uploadFile:pe};async function pe(ge){oe.value=!0,ne.value=!1,x.value=0;const $e=new FormData;$e.append("file",ge);try{await me.post(`/utils/import/${u.value}`,$e,{onUploadProgress:we=>{const be=Math.floor(we.loaded*100/we.total);x.value=be,ne.value=be===100}}),J(),t("refresh"),yt({title:l("import_data_success",{filename:ge.name})})}catch{yt({title:l("import_data_error"),type:"error"})}finally{oe.value=!1,ne.value=!1,x.value=0}}}function G(){E.value==="download"?Q():X()}function Q(){const oe=u.value.startsWith("directus_")?`${u.value.substring(9)}`:`items/${u.value}`,ne=tt()+oe;let x={access_token:me.defaults.headers.common.Authorization.substring(7),export:I.value};S.sort&&S.sort!==""&&(x.sort=S.sort),S.fields&&(x.fields=S.fields),S.limit&&(x.limit=S.limit),S.search&&(x.search=S.search),S.filter&&(x.filter=S.filter),S.search&&(x.search=S.search);const pe=me.getUri({url:ne,params:x});window.open(pe)}async function X(){B.value=!0;try{await me.post(`/utils/export/${u.value}`,{query:ve(ve({},S),S.sort&&S.sort!==""&&{sort:[S.sort]}),format:I.value,file:{folder:R.value}}),v.value=!1,yt({title:l("export_started"),text:l("export_started_copy"),type:"success",icon:"file_download"})}catch(oe){Pe(oe)}finally{B.value=!1}}const{hasPermission:ee}=Vt(),le=V(()=>ee(u.value,"create"));return(oe,ne)=>{const x=c("v-progress-linear"),pe=c("v-icon"),ge=c("v-input"),$e=c("v-button"),we=c("v-divider"),be=c("v-select"),De=c("v-notice"),qe=c("interface-system-field"),Ke=c("interface-system-filter"),je=c("interface-system-fields"),Ue=c("v-drawer"),Le=c("sidebar-detail"),Ee=Fe("tooltip");return m(),F(Le,{icon:"import_export",title:C(l)("import_export")},{default:d(()=>[$("div",O3,[C(le)?(m(),A(se,{key:0},[$("div",L3,[C(s)||C(f)?(m(),A("div",j3,[$("div",R3,[$("span",null,w(C(f)?C(l)("import_data_indeterminate"):C(l)("upload_file_indeterminate")),1),C(f)?M("",!0):(m(),A("span",M3,w(C(p))+"%",1))]),a(x,{indeterminate:C(f),value:C(p),rounded:""},null,8,["indeterminate","value"])])):(m(),A(se,{key:1},[$("p",U3,w(C(l)("label_import")),1),a(ge,{clickable:""},{prepend:d(()=>[$("div",{class:de(["preview",{"has-file":i.value}])},[C(y)?(m(),A("span",N3,w(C(y)),1)):(m(),F(pe,{key:1,name:"folder_open"}))],2)]),input:d(()=>[$("input",{id:"import-file",ref:(Ce,Ne)=>{Ne.fileInput=Ce,r.value=Ce},type:"file",accept:"text/csv, application/json",hidden:"",onChange:K},null,544),B3,$("span",{class:de(["import-file-text",{"no-file":!i.value}])},w(i.value?i.value.name:C(l)("import_data_input_placeholder")),3)]),append:d(()=>[i.value?ie((m(),F(pe,{key:0,class:"deselect",name:"close",onClick:Te(J,["stop"])},null,8,["onClick"])),[[Ee,C(l)("deselect")]]):(m(),F(pe,{key:1,name:"attach_file"}))]),_:1})],64))]),$("div",q3,[a($e,{small:"","full-width":"",disabled:!i.value,loading:C(s)||C(f),onClick:Y},{default:d(()=>[P(w(C(l)("import_data_button")),1)]),_:1},8,["disabled","loading"])]),a(we)],64)):M("",!0),$("div",z3,[a($e,{small:"","full-width":"",onClick:ne[0]||(ne[0]=Ce=>v.value=!0)},{default:d(()=>[P(w(C(l)("export_items")),1)]),_:1}),ie($("button",{class:"download-local",onClick:ne[1]||(ne[1]=Ce=>oe.$emit("download"))},[P(w(C(l)("download_page_as_csv")),1)],512),[[Ee,C(l)("presentation_text_values_cannot_be_reimported"),void 0,{bottom:!0}]])])]),a(Ue,{modelValue:v.value,"onUpdate:modelValue":ne[11]||(ne[11]=Ce=>v.value=Ce),title:C(l)("export_items"),icon:"import_export",persistent:"",onEsc:ne[12]||(ne[12]=Ce=>v.value=!1),onCancel:ne[13]||(ne[13]=Ce=>v.value=!1)},{actions:d(()=>[ie(a($e,{rounded:"",icon:"",loading:B.value,onClick:G},{default:d(()=>[a(pe,{name:E.value==="download"?"download":"start"},null,8,["name"])]),_:1},8,["loading"]),[[Ee,E.value==="download"?C(l)("download_file"):C(l)("start_export"),void 0,{bottom:!0}]])]),default:d(()=>[$("div",K3,[$("div",W3,[$("p",H3,w(C(l)("format")),1),a(be,{modelValue:I.value,"onUpdate:modelValue":ne[2]||(ne[2]=Ce=>I.value=Ce),items:[{text:C(l)("csv"),value:"csv"},{text:C(l)("json"),value:"json"},{text:C(l)("xml"),value:"xml"}]},null,8,["modelValue","items"])]),$("div",G3,[$("p",Z3,w(C(l)("limit")),1),a(ge,{modelValue:C(S).limit,"onUpdate:modelValue":ne[3]||(ne[3]=Ce=>C(S).limit=Ce),type:"number",placeholder:C(l)("unlimited")},null,8,["modelValue","placeholder"])]),$("div",J3,[$("p",X3,w(C(l)("export_location")),1),a(be,{modelValue:E.value,"onUpdate:modelValue":ne[4]||(ne[4]=Ce=>E.value=Ce),disabled:C(O),items:[{value:"download",text:C(l)("download_file")},{value:"files",text:C(l)("file_library")}]},null,8,["modelValue","disabled","items"])]),$("div",Y3,[$("p",Q3,w(C(l)("folder")),1),E.value==="files"?(m(),F(Ul,{key:0,modelValue:R.value,"onUpdate:modelValue":ne[5]||(ne[5]=Ce=>R.value=Ce)},null,8,["modelValue"])):(m(),F(De,{key:1},{default:d(()=>[P(w(C(l)("not_available_for_local_downloads")),1)]),_:1}))]),a(De,{class:"full",type:C(O)?"warning":"normal"},{default:d(()=>{var Ce,Ne;return[$("div",null,[$("p",null,[L.value===0?(m(),A(se,{key:0},[P(w(C(l)("exporting_no_items_to_export")),1)],64)):!C(S).limit||L.value&&C(S).limit>=L.value?(m(),A(se,{key:1},[P(w(C(l)("exporting_all_items_in_collection",{total:L.value?C(o)(L.value):"??",collection:(Ce=C(b))==null?void 0:Ce.name})),1)],64)):L.value&&L.value>C(S).limit?(m(),A(se,{key:2},[P(w(C(l)("exporting_limited_items_in_collection",{limit:C(S).limit?C(o)(C(S).limit):"??",total:L.value?C(o)(L.value):"??",collection:(Ne=C(b))==null?void 0:Ne.name})),1)],64)):M("",!0)]),$("p",null,[C(O)?(m(),A(se,{key:0},[P(w(C(l)("exporting_batch_hint_forced",{format:I.value})),1)],64)):E.value==="files"?(m(),A(se,{key:1},[P(w(C(l)("exporting_batch_hint",{format:I.value})),1)],64)):(m(),A(se,{key:2},[P(w(C(l)("exporting_download_hint",{format:I.value})),1)],64))])])]}),_:1},8,["type"]),a(we),$("div",x3,[$("p",e4,w(C(l)("sort_field")),1),a(qe,{value:C(U),collection:C(u),"allow-primary-key":"",onInput:ne[6]||(ne[6]=Ce=>U.value=Ce)},null,8,["value","collection"])]),$("div",t4,[$("p",n4,w(C(l)("sort_direction")),1),a(be,{modelValue:C(j),"onUpdate:modelValue":ne[7]||(ne[7]=Ce=>ut(j)?j.value=Ce:null),items:[{value:"ASC",text:C(l)("sort_asc")},{value:"DESC",text:C(l)("sort_desc")}]},null,8,["modelValue","items"])]),$("div",l4,[$("p",o4,w(C(l)("full_text_search")),1),a(ge,{modelValue:C(S).search,"onUpdate:modelValue":ne[8]||(ne[8]=Ce=>C(S).search=Ce),placeholder:C(l)("search")},null,8,["modelValue","placeholder"])]),$("div",a4,[$("p",i4,w(C(l)("filter")),1),a(Ke,{value:C(S).filter,"collection-name":C(u),onInput:ne[9]||(ne[9]=Ce=>C(S).filter=Ce)},null,8,["value","collection-name"])]),$("div",r4,[$("p",s4,w(C(l)("field",2)),1),a(je,{value:C(S).fields,"collection-name":C(u),onInput:ne[10]||(ne[10]=Ce=>C(S).fields=Ce)},null,8,["value","collection-name"])])])]),_:1},8,["modelValue","title"])]),_:1},8,["title"])}}});var si=H(d4,[["__scopeId","data-v-3968c689"]]);const u4=Z({props:{modelValue:{type:Boolean,default:!1},saving:{type:Boolean,default:!1}},emits:["save","update:modelValue"],setup(e,{emit:t}){const{t:n}=ae(),l=Jt({name:null,icon:"bookmark_outline",color:null});return{t:n,bookmarkValue:l,setIcon:o,setColor:u,cancel:r};function o(i){l.icon=i}function u(i){l.color=i}function r(){l.name=null,l.icon="bookmark_outline",l.color=null,t("update:modelValue",!1)}}}),c4={class:"fields"};function p4(e,t,n,l,o,u){const r=c("v-card-title"),i=c("interface-system-input-translated-string"),s=c("interface-select-icon"),p=c("interface-select-color"),f=c("v-card-text"),_=c("v-button"),v=c("v-card-actions"),y=c("v-card"),g=c("v-dialog");return m(),F(g,{"model-value":e.modelValue,persistent:"","onUpdate:modelValue":t[3]||(t[3]=h=>e.$emit("update:modelValue",h)),onEsc:e.cancel},{activator:d(h=>[ke(e.$slots,"activator",nt(lt(h)),void 0,!0)]),default:d(()=>[a(y,null,{default:d(()=>[a(r,null,{default:d(()=>[P(w(e.t("create_bookmark")),1)]),_:1}),a(f,null,{default:d(()=>[$("div",c4,[a(i,{value:e.bookmarkValue.name,class:"full",autofocus:"",trim:"",placeholder:e.t("bookmark_name"),onInput:t[0]||(t[0]=h=>e.bookmarkValue.name=h),onKeyup:t[1]||(t[1]=Mn(h=>e.$emit("save",e.bookmarkValue),["enter"]))},null,8,["value","placeholder"]),a(s,{width:"half",value:e.bookmarkValue.icon,onInput:e.setIcon},null,8,["value","onInput"]),a(p,{width:"half",value:e.bookmarkValue.color,onInput:e.setColor},null,8,["value","onInput"])])]),_:1}),a(v,null,{default:d(()=>[a(_,{secondary:"",onClick:e.cancel},{default:d(()=>[P(w(e.t("cancel")),1)]),_:1},8,["onClick"]),a(_,{disabled:e.bookmarkValue.name===null,loading:e.saving,onClick:t[2]||(t[2]=h=>e.$emit("save",e.bookmarkValue))},{default:d(()=>[P(w(e.t("save")),1)]),_:1},8,["disabled","loading"])]),_:1})]),_:1})]),_:3},8,["model-value","onEsc"])}var m4=H(u4,[["render",p4],["__scopeId","data-v-c17a22b2"]]);const Nl=["FAILED_VALIDATION","RECORD_NOT_UNIQUE"],f4=`

\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u283B\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28F6\u28E6\u28E4\u28C0\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800
\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2880\u2800\u283B\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28F7\u28E6\u28C0\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800
\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2819\u28FF\u28FF\u28FF\u28F7\u28FE\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u287F\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28F7\u28C4\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800
\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u28E4\u28FF\u28C4\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2809\u281B\u281B\u283F\u283F\u283F\u283F\u283F\u281B\u281B\u2809\u2800\u28B0\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28F7\u28C4\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800
\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u28B0\u28FF\u28FF\u28FF\u28FF\u28F6\u28C4\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28C4\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800
\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28F6\u28F6\u28E6\u28E4\u28C4\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u28FE\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u2801\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800
\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2808\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28F7\u28F6\u28F6\u28F6\u28FE\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u287F\u283F\u283F\u281B\u2809\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800
\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u280B\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800
\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u28B8\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800
\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2880\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u284C\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800
\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2880\u28E4\u28F6\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u2801\u281B\u281B\u283F\u28BF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28F6\u28F6\u28E4\u28E4\u28C0\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800
\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2880\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u281F\u2801\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2809\u281B\u28FF\u28FF\u28FF\u28FF\u28FF\u2846\u28BF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28F6\u28C4\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800
\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u287F\u283F\u281B\u281B\u280B\u2809\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2809\u281B\u283F\u28FF\u28C4\u2808\u283B\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28E6\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800
\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u28FE\u28FF\u28FF\u28FF\u28FF\u280B\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2809\u2809\u2809\u2809\u2809\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2809\u28BF\u28FF\u28FF\u28FF\u28F7\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800
\u2800\u2800\u2800\u2800\u2800\u28E4\u28FF\u28FF\u28FF\u28FF\u281F\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2809\u2809\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800
\u2800\u2800\u2800\u28F4\u28FF\u28FF\u28FF\u28FF\u281F\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800
\u2800\u2800\u2800\u2800\u2809\u2809\u2801\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800

`,_4=["directus_activity","directus_collections","directus_fields","directus_migrations","directus_relations","directus_revisions","directus_sessions","directus_settings"],An=[{type:"module",id:"content",enabled:!0},{type:"module",id:"users",enabled:!0},{type:"module",id:"files",enabled:!0},{type:"module",id:"insights",enabled:!0},{type:"module",id:"docs",enabled:!0},{type:"module",id:"settings",enabled:!0,locked:!0}],v4=[{text:"$t:string",value:"string"},{text:"$t:text",value:"text"},{divider:!0},{text:"$t:boolean",value:"boolean"},{divider:!0},{text:"$t:integer",value:"integer"},{text:"$t:bigInteger",value:"bigInteger"},{text:"$t:float",value:"float"},{text:"$t:decimal",value:"decimal"},{divider:!0},{text:"$t:geometry",value:"geometry"},{divider:!0},{text:"$t:timestamp",value:"timestamp"},{text:"$t:datetime",value:"dateTime"},{text:"$t:date",value:"date"},{text:"$t:time",value:"time"},{divider:!0},{text:"$t:json",value:"json"},{text:"$t:csv",value:"csv"},{text:"$t:uuid",value:"uuid"},{text:"$t:hash",value:"hash"}],Vo="default",di=["oauth2","openid"];const y4=Z({props:{active:{type:Boolean,default:!1},collection:{type:String,required:!0},edits:{type:Object,default:void 0},primaryKeys:{type:Array,required:!0}},emits:["update:active","refresh"],setup(e,{emit:t}){const{t:n}=ae(),{internalEdits:l}=f(),{internalActive:o}=_(),{save:u,cancel:r,saving:i,validationErrors:s}=v(),{collection:p}=ze(e);return{t:n,internalActive:o,internalEdits:l,save:u,saving:i,cancel:r,validationErrors:s};function f(){const y=D({});return{internalEdits:V({get(){return e.edits!==void 0?ve(ve({},e.edits),y.value):y.value},set(h){y.value=h}})}}function _(){const y=D(!1);return{internalActive:V({get(){return e.active===void 0?y.value:e.active},set(h){y.value=h,t("update:active",h)}})}}function v(){const y=D(!1),g=D([]),h=V(()=>p.value.startsWith("directus_")?`/${p.value.substring(9)}`:`/items/${p.value}`);return{save:b,cancel:S,saving:y,validationErrors:g};async function b(){y.value=!0;try{await me.patch(h.value,{keys:e.primaryKeys,data:l.value}),t("refresh"),o.value=!1,l.value={}}catch(I){g.value=I.response.data.errors.filter(R=>{var O;return Nl.includes((O=R==null?void 0:R.extensions)==null?void 0:O.code)}).map(R=>R.extensions);const E=I.response.data.errors.filter(R=>{var O;return Nl.includes((O=R==null?void 0:R.extensions)==null?void 0:O.code)===!1});E.length>0&&E.forEach(Pe)}finally{y.value=!1}}function S(){o.value=!1,l.value={}}}}}),h4={class:"drawer-batch-content"};function g4(e,t,n,l,o,u){const r=c("v-icon"),i=c("v-button"),s=c("v-form"),p=c("v-drawer"),f=Fe("tooltip");return m(),F(p,{modelValue:e.internalActive,"onUpdate:modelValue":t[1]||(t[1]=_=>e.internalActive=_),title:e.t("editing_in_batch",{count:e.primaryKeys.length}),persistent:"",onCancel:e.cancel},{actions:d(()=>[ie(a(i,{icon:"",rounded:"",loading:e.saving,onClick:e.save},{default:d(()=>[a(r,{name:"check"})]),_:1},8,["loading","onClick"]),[[f,e.t("save"),void 0,{bottom:!0}]])]),default:d(()=>[$("div",h4,[a(s,{modelValue:e.internalEdits,"onUpdate:modelValue":t[0]||(t[0]=_=>e.internalEdits=_),collection:e.collection,"batch-mode":"","primary-key":"+","validation-errors":e.validationErrors},null,8,["modelValue","collection","validation-errors"])])]),_:1},8,["modelValue","title","onCancel"])}var Bl=H(y4,[["render",g4],["__scopeId","data-v-5d0693b1"]]);const b4=Z({name:"ContentCollection",components:{ContentNavigation:Ml,ContentNotFound:So,LayoutSidebarDetail:zn,SearchInput:Fn,BookmarkAdd:m4,DrawerBatch:Bl,ArchiveSidebarDetail:y3,RefreshSidebarDetail:ri,ExportSidebarDetail:si},props:{collection:{type:String,required:!0},bookmark:{type:String,default:null},archive:{type:String,default:null}},setup(e){const{t}=ae(),n=it(),{layouts:l}=Cn(),o=Ye(),u=Vt(),r=D(),{collection:i}=ze(e),s=V(()=>e.bookmark?+e.bookmark:null),{selection:p}=De(),{info:f}=_t(i),{addNewLink:_,currentCollectionLink:v}=Ke(),{breadcrumb:y}=be(),{layout:g,layoutOptions:h,layoutQuery:b,filter:S,search:I,savePreset:E,bookmarkExists:R,saveCurrentAsBookmark:O,bookmarkTitle:L,resetPreset:q,bookmarkSaved:T,bookmarkIsMine:j,refreshInterval:U,busy:B,clearLocalSave:K}=qn(i,s),{layoutWrapper:J}=vn(g),{confirmDelete:Y,deleting:W,batchDelete:G,confirmArchive:Q,archiveItems:X,archiving:ee,error:le,batchEditActive:te}=qe(),{bookmarkDialogActive:re,creatingBookmark:ye,createBookmark:fe}=je(),ue=V(()=>l.value.find(Ee=>Ee.id===g.value));he(i,()=>{g.value===null&&(g.value="tabular")},{immediate:!0});const{batchEditAllowed:_e,batchArchiveAllowed:ce,batchDeleteAllowed:oe,createAllowed:ne}=Le(),x=V(()=>{var Ee,Ce;return f.value&&((Ee=f.value.meta)==null?void 0:Ee.archive_field)&&((Ce=f.value.meta)==null?void 0:Ce.archive_app_filter)}),pe=V(()=>{var Ne,Se,Ae;if(!((Ne=f.value)==null?void 0:Ne.meta)||!((Ae=(Se=f.value)==null?void 0:Se.meta)==null?void 0:Ae.archive_app_filter))return null;const Ee=f.value.meta.archive_field;if(!Ee)return null;let Ce=f.value.meta.archive_value;return Ce==="true"&&(Ce=!0),Ce==="false"&&(Ce=!1),e.archive==="all"?null:e.archive==="archived"?{[Ee]:{_eq:Ce}}:{[Ee]:{_neq:Ce}}});return{t,addNewLink:_,batchDelete:G,batchEditActive:te,confirmDelete:Y,currentCollection:f,deleting:W,filter:S,layoutRef:r,layoutWrapper:J,selection:p,layoutOptions:h,layoutQuery:b,layout:g,search:I,savePreset:E,bookmarkExists:R,currentCollectionLink:v,bookmarkDialogActive:re,creatingBookmark:ye,createBookmark:fe,bookmarkTitle:L,breadcrumb:y,clearFilters:Ue,confirmArchive:Q,archiveItems:X,archiving:ee,batchEditAllowed:_e,batchArchiveAllowed:ce,batchDeleteAllowed:oe,deleteError:le,createAllowed:ne,resetPreset:q,bookmarkSaved:T,bookmarkIsMine:j,bookmarkSaving:B,clearLocalSave:K,drawerBatchRefresh:we,refresh:ge,refreshInterval:U,currentLayout:ue,hasArchive:x,archiveFilter:pe,mergeFilters:jl,download:$e};async function ge(){var Ee,Ce,Ne;await((Ne=(Ce=(Ee=r.value)==null?void 0:Ee.state)==null?void 0:Ce.refresh)==null?void 0:Ne.call(Ce))}async function $e(){var Ee,Ce,Ne;await((Ne=(Ce=(Ee=r.value)==null?void 0:Ee.state)==null?void 0:Ce.download)==null?void 0:Ne.call(Ce))}async function we(){p.value=[],await ge()}function be(){return{breadcrumb:V(()=>{var Ce;return[{name:(Ce=f.value)==null?void 0:Ce.name,to:`/content/${e.collection}`}]})}}function De(){const Ee=D([]);return he(()=>e.collection,()=>Ee.value=[]),{selection:Ee}}function qe(){const Ee=D(!1),Ce=D(!1),Ne=D(!1),Se=D(!1),Ae=D(!1),Oe=D(null);return{batchEditActive:Ne,confirmDelete:Ee,deleting:Ce,batchDelete:Qe,confirmArchive:Se,archiving:Ae,archiveItems:We,error:Oe};async function Qe(){Ce.value=!0;const st=p.value;try{await me.delete(`/items/${e.collection}`,{data:st}),p.value=[],await ge(),Ee.value=!1}catch(gt){Oe.value=gt}finally{Ce.value=!1}}async function We(){var gt,Rn;if(!((Rn=(gt=f.value)==null?void 0:gt.meta)==null?void 0:Rn.archive_field))return;Ae.value=!0;let st=f.value.meta.archive_value;st==="true"&&(st=!0),st==="false"&&(st=!1);try{await me.patch(`/items/${e.collection}`,{keys:p.value,data:{[f.value.meta.archive_field]:st}}),p.value=[],await ge(),Se.value=!1}catch(Zt){Oe.value=Zt}finally{Ae.value=!1}}}function Ke(){const Ee=V(()=>`/content/${e.collection}/+`),Ce=V(()=>`/content/${e.collection}`);return{addNewLink:Ee,currentCollectionLink:Ce}}function je(){const Ee=D(!1),Ce=D(!1);return{bookmarkDialogActive:Ee,creatingBookmark:Ce,createBookmark:Ne};async function Ne(Se){Ce.value=!0;try{const Ae=await O({bookmark:Se.name,icon:Se.icon,color:Se.color});n.push(`/content/${Ae.collection}?bookmark=${Ae.id}`),Ee.value=!1}catch(Ae){Pe(Ae)}finally{Ce.value=!1}}}function Ue(){S.value=null,I.value=null}function Le(){const Ee=V(()=>{var Qe;return((Qe=o==null?void 0:o.currentUser)==null?void 0:Qe.role.admin_access)===!0?!0:!!u.permissions.find(We=>We.action==="update"&&We.collection===i.value)}),Ce=V(()=>{var Qe,We,st;if(!((We=(Qe=f.value)==null?void 0:Qe.meta)==null?void 0:We.archive_field))return!1;if(((st=o==null?void 0:o.currentUser)==null?void 0:st.role.admin_access)===!0)return!0;const Oe=u.permissions.find(gt=>gt.action==="update"&&gt.collection===i.value);return!Oe||!Oe.fields?!1:Oe.fields.includes("*")?!0:Oe.fields.includes(f.value.meta.archive_field)}),Ne=V(()=>{var Qe;return((Qe=o==null?void 0:o.currentUser)==null?void 0:Qe.role.admin_access)===!0?!0:!!u.permissions.find(We=>We.action==="delete"&&We.collection===i.value)}),Se=V(()=>{var Qe;return((Qe=o==null?void 0:o.currentUser)==null?void 0:Qe.role.admin_access)===!0?!0:!!u.permissions.find(We=>We.action==="create"&&We.collection===i.value)});return{batchEditAllowed:Ee,batchArchiveAllowed:Ce,batchDeleteAllowed:Ne,createAllowed:Se}}}}),w4={class:"bookmark-controls"},k4={class:"page-description"};function $4(e,t,n,l,o,u){const r=c("content-not-found"),i=c("v-icon"),s=c("v-button"),p=c("v-breadcrumb"),f=c("bookmark-add"),_=c("search-input"),v=c("v-card-title"),y=c("v-card-actions"),g=c("v-card"),h=c("v-dialog"),b=c("content-navigation"),S=c("v-info"),I=c("drawer-batch"),E=c("sidebar-detail"),R=c("layout-sidebar-detail"),O=c("archive-sidebar-detail"),L=c("refresh-sidebar-detail"),q=c("export-sidebar-detail"),T=c("v-error"),j=c("v-card-text"),U=c("private-view"),B=Fe("tooltip"),K=Fe("md");return m(),F(He(e.layoutWrapper),{ref:"layoutRef",selection:e.selection,"onUpdate:selection":t[16]||(t[16]=J=>e.selection=J),"layout-options":e.layoutOptions,"onUpdate:layout-options":t[17]||(t[17]=J=>e.layoutOptions=J),"layout-query":e.layoutQuery,"onUpdate:layout-query":t[18]||(t[18]=J=>e.layoutQuery=J),"filter-user":e.filter,"filter-system":e.archiveFilter,filter:e.mergeFilters(e.filter,e.archiveFilter),search:e.search,collection:e.collection,"reset-preset":e.resetPreset,"clear-filters":e.clearFilters},{default:d(({layoutState:J})=>{var Y;return[!e.currentCollection||e.collection.startsWith("directus_")?(m(),F(r,{key:0})):(m(),F(U,{key:1,title:e.bookmark?e.bookmarkTitle:e.currentCollection.name,"small-header":(Y=e.currentLayout)==null?void 0:Y.smallHeader},{"title-outer:prepend":d(()=>[a(s,{class:de(["header-icon",{archive:e.archive}]),rounded:"",icon:"",secondary:"",disabled:""},{default:d(()=>[a(i,{name:e.archive?"archive":e.currentCollection.icon,color:e.currentCollection.color},null,8,["name","color"])]),_:1},8,["class"])]),headline:d(()=>[e.bookmark?(m(),F(p,{key:0,items:e.breadcrumb},null,8,["items"])):(m(),F(p,{key:1,items:[{name:e.t("content"),to:"/content"}]},null,8,["items"]))]),"title-outer:append":d(()=>[$("div",w4,[e.bookmark?e.bookmarkSaved?(m(),F(i,{key:1,class:"saved",name:"bookmark"})):e.bookmarkIsMine?ie((m(),F(i,{key:2,class:"save",clickable:"",name:"bookmark_save",onClick:t[1]||(t[1]=W=>e.savePreset())},null,512)),[[B,e.t("update_bookmark"),void 0,{bottom:!0}]]):(m(),F(f,{key:3,modelValue:e.bookmarkDialogActive,"onUpdate:modelValue":t[2]||(t[2]=W=>e.bookmarkDialogActive=W),class:"add",saving:e.creatingBookmark,onSave:e.createBookmark},{activator:d(({on:W})=>[a(i,{class:"toggle",name:"bookmark_outline",clickable:"",onClick:W},null,8,["onClick"])]),_:1},8,["modelValue","saving","onSave"])):(m(),F(f,{key:0,modelValue:e.bookmarkDialogActive,"onUpdate:modelValue":t[0]||(t[0]=W=>e.bookmarkDialogActive=W),class:"add",saving:e.creatingBookmark,onSave:e.createBookmark},{activator:d(({on:W})=>[ie(a(i,{class:"toggle",clickable:"",name:"bookmark_outline",onClick:W},null,8,["onClick"]),[[B,e.t("create_bookmark"),void 0,{right:!0}]])]),_:1},8,["modelValue","saving","onSave"])),e.bookmark&&!e.bookmarkSaving&&e.bookmarkSaved===!1?ie((m(),F(i,{key:4,name:"settings_backup_restore",clickable:"",class:"clear",onClick:e.clearLocalSave},null,8,["onClick"])),[[B,e.t("reset_bookmark"),void 0,{bottom:!0}]]):M("",!0)])]),"actions:prepend":d(()=>[(m(),F(He(`layout-actions-${e.layout||"tabular"}`),nt(lt(J)),null,16))]),actions:d(()=>[a(_,{modelValue:e.search,"onUpdate:modelValue":t[3]||(t[3]=W=>e.search=W),filter:e.filter,"onUpdate:filter":t[4]||(t[4]=W=>e.filter=W),collection:e.collection},null,8,["modelValue","filter","collection"]),e.selection.length>0?(m(),F(h,{key:0,modelValue:e.confirmDelete,"onUpdate:modelValue":t[6]||(t[6]=W=>e.confirmDelete=W),onEsc:t[7]||(t[7]=W=>e.confirmDelete=!1)},{activator:d(({on:W})=>[ie(a(s,{disabled:e.batchDeleteAllowed!==!0,rounded:"",icon:"",class:"action-delete",secondary:"",onClick:W},{default:d(()=>[a(i,{name:"delete",outline:""})]),_:2},1032,["disabled","onClick"]),[[B,e.batchDeleteAllowed?e.t("delete_label"):e.t("not_allowed"),void 0,{bottom:!0}]])]),default:d(()=>[a(g,null,{default:d(()=>[a(v,null,{default:d(()=>[P(w(e.t("batch_delete_confirm",e.selection.length)),1)]),_:1}),a(y,null,{default:d(()=>[a(s,{secondary:"",onClick:t[5]||(t[5]=W=>e.confirmDelete=!1)},{default:d(()=>[P(w(e.t("cancel")),1)]),_:1}),a(s,{kind:"danger",loading:e.deleting,onClick:e.batchDelete},{default:d(()=>[P(w(e.t("delete_label")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])):M("",!0),e.selection.length>0&&e.currentCollection.meta&&e.currentCollection.meta.archive_field&&e.archive!=="archived"?(m(),F(h,{key:1,modelValue:e.confirmArchive,"onUpdate:modelValue":t[9]||(t[9]=W=>e.confirmArchive=W),onEsc:t[10]||(t[10]=W=>e.confirmArchive=!1)},{activator:d(({on:W})=>[ie(a(s,{disabled:e.batchArchiveAllowed!==!0,rounded:"",icon:"",secondary:"",onClick:W},{default:d(()=>[a(i,{name:"archive",outline:""})]),_:2},1032,["disabled","onClick"]),[[B,e.batchArchiveAllowed?e.t("archive"):e.t("not_allowed"),void 0,{bottom:!0}]])]),default:d(()=>[a(g,null,{default:d(()=>[a(v,null,{default:d(()=>[P(w(e.t("archive_confirm_count",e.selection.length)),1)]),_:1}),a(y,null,{default:d(()=>[a(s,{secondary:"",onClick:t[8]||(t[8]=W=>e.confirmArchive=!1)},{default:d(()=>[P(w(e.t("cancel")),1)]),_:1}),a(s,{kind:"warning",loading:e.archiving,onClick:e.archiveItems},{default:d(()=>[P(w(e.t("archive")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])):M("",!0),e.selection.length>0?ie((m(),F(s,{key:2,rounded:"",icon:"",secondary:"",disabled:e.batchEditAllowed===!1,onClick:t[11]||(t[11]=W=>e.batchEditActive=!0)},{default:d(()=>[a(i,{name:"edit",outline:""})]),_:1},8,["disabled"])),[[B,e.batchEditAllowed?e.t("edit"):e.t("not_allowed"),void 0,{bottom:!0}]]):M("",!0),ie(a(s,{rounded:"",icon:"",to:e.addNewLink,disabled:e.createAllowed===!1},{default:d(()=>[a(i,{name:"add"})]),_:1},8,["to","disabled"]),[[B,e.createAllowed?e.t("create_item"):e.t("not_allowed"),void 0,{bottom:!0}]])]),navigation:d(()=>[a(b,{"current-collection":e.collection},null,8,["current-collection"])]),sidebar:d(()=>[a(E,{icon:"info_outline",title:e.t("information"),close:""},{default:d(()=>[ie($("div",k4,null,512),[[K,e.t("page_help_collections_collection",{collection:e.currentCollection.name})]])]),_:1},8,["title"]),a(R,{modelValue:e.layout,"onUpdate:modelValue":t[13]||(t[13]=W=>e.layout=W)},{default:d(()=>[(m(),F(He(`layout-options-${e.layout||"tabular"}`),nt(lt(J)),null,16))]),_:2},1032,["modelValue"]),(m(),F(He(`layout-sidebar-${e.layout||"tabular"}`),nt(lt(J)),null,16)),e.hasArchive?(m(),F(O,{key:0,collection:e.collection,archive:e.archive},null,8,["collection","archive"])):M("",!0),a(L,{modelValue:e.refreshInterval,"onUpdate:modelValue":t[14]||(t[14]=W=>e.refreshInterval=W),onRefresh:e.refresh},null,8,["modelValue","onRefresh"]),a(q,{collection:e.collection,filter:e.mergeFilters(e.filter,e.archiveFilter),search:e.search,"layout-query":e.layoutQuery,onDownload:e.download,onRefresh:e.refresh},null,8,["collection","filter","search","layout-query","onDownload","onRefresh"])]),default:d(()=>[e.bookmark&&e.bookmarkExists===!1?(m(),F(S,{key:0,type:"warning",title:e.t("bookmark_doesnt_exist"),icon:"bookmark",center:""},{append:d(()=>[a(s,{to:e.currentCollectionLink},{default:d(()=>[P(w(e.t("bookmark_doesnt_exist_cta")),1)]),_:1},8,["to"])]),default:d(()=>[P(w(e.t("bookmark_doesnt_exist_copy"))+" ",1)]),_:1},8,["title"])):(m(),F(He(`layout-${e.layout||"tabular"}`),ft({key:1,class:"layout"},J),{"no-results":d(()=>[a(S,{title:e.t("no_results"),icon:"search",center:""},{append:d(()=>[a(s,{onClick:e.clearFilters},{default:d(()=>[P(w(e.t("clear_filters")),1)]),_:1},8,["onClick"])]),default:d(()=>[P(w(e.t("no_results_copy"))+" ",1)]),_:1},8,["title"])]),"no-items":d(()=>[a(S,{title:e.t("item_count",0),icon:e.currentCollection.icon,center:""},at({default:d(()=>[P(w(e.t("no_items_copy"))+" ",1)]),_:2},[e.createAllowed?{name:"append",fn:d(()=>[a(s,{to:`/content/${e.collection}/+`},{default:d(()=>[P(w(e.t("create_item")),1)]),_:1},8,["to"])])}:void 0]),1032,["title","icon"])]),_:2},1040)),a(I,{active:e.batchEditActive,"onUpdate:active":t[12]||(t[12]=W=>e.batchEditActive=W),"primary-keys":e.selection,collection:e.collection,onRefresh:e.drawerBatchRefresh},null,8,["active","primary-keys","collection","onRefresh"]),a(h,{"model-value":e.deleteError!==null},{default:d(()=>[a(g,null,{default:d(()=>[a(v,null,{default:d(()=>[P(w(e.t("something_went_wrong")),1)]),_:1}),a(j,null,{default:d(()=>[a(T,{error:e.deleteError},null,8,["error"])]),_:1}),a(y,null,{default:d(()=>[a(s,{onClick:t[15]||(t[15]=W=>e.deleteError=null)},{default:d(()=>[P(w(e.t("done")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["model-value"])]),_:2},1032,["title","small-header"]))]}),_:1},8,["selection","layout-options","layout-query","filter-user","filter-system","filter","search","collection","reset-preset","clear-filters"])}var C4=H(b4,[["render",$4],["__scopeId","data-v-1bff9444"]]);function S4(e){switch(e){case"af":return N(()=>import("./index.0815928f.js").then(function(t){return t.i}),["assets/index.0815928f.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css","assets/index.ffc6c203.js"]);case"ar-DZ":return N(()=>import("./index.c004601a.js").then(function(t){return t.i}),["assets/index.c004601a.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css","assets/index.ffc6c203.js"]);case"ar-MA":return N(()=>import("./index.dfe7aaf5.js").then(function(t){return t.i}),["assets/index.dfe7aaf5.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css","assets/index.ffc6c203.js"]);case"ar-SA":return N(()=>import("./index.3381f9ac.js").then(function(t){return t.i}),["assets/index.3381f9ac.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css","assets/index.ffc6c203.js"]);case"az":return N(()=>import("./index.9907f7be.js").then(function(t){return t.i}),["assets/index.9907f7be.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css","assets/index.ffc6c203.js"]);case"be":return N(()=>import("./index.41f34e92.js").then(function(t){return t.i}),["assets/index.41f34e92.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css","assets/index.ffc6c203.js","assets/index.dc71b91a.js"]);case"bg":return N(()=>import("./index.7c373fdc.js").then(function(t){return t.i}),["assets/index.7c373fdc.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css","assets/index.ffc6c203.js","assets/index.dc71b91a.js"]);case"bn":return N(()=>import("./index.44d5e2dc.js").then(function(t){return t.i}),["assets/index.44d5e2dc.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css","assets/index.ffc6c203.js"]);case"ca":return N(()=>import("./index.714cdcfe.js").then(function(t){return t.i}),["assets/index.714cdcfe.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css","assets/index.ffc6c203.js"]);case"cs":return N(()=>import("./index.b4d78ccd.js").then(function(t){return t.i}),["assets/index.b4d78ccd.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css","assets/index.ffc6c203.js"]);case"cy":return N(()=>import("./index.7b23ebae.js").then(function(t){return t.i}),["assets/index.7b23ebae.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css","assets/index.ffc6c203.js"]);case"da":return N(()=>import("./index.048eda71.js").then(function(t){return t.i}),["assets/index.048eda71.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css","assets/index.ffc6c203.js"]);case"de":return N(()=>import("./index.0fbada9c.js").then(function(t){return t.i}),["assets/index.0fbada9c.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css","assets/index.eedadecd.js","assets/index.ffc6c203.js"]);case"de-AT":return N(()=>import("./index.09699e1e.js").then(function(t){return t.i}),["assets/index.09699e1e.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css","assets/index.eedadecd.js","assets/index.ffc6c203.js"]);case"el":return N(()=>import("./index.cf0d6f97.js").then(function(t){return t.i}),["assets/index.cf0d6f97.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css","assets/index.ffc6c203.js"]);case"en-AU":return N(()=>import("./index.5df8dd30.js").then(function(t){return t.i}),["assets/index.5df8dd30.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css","assets/index.55d799e2.js","assets/index.ffc6c203.js","assets/index.7b2f54b1.js"]);case"en-CA":return N(()=>import("./index.699c0012.js").then(function(t){return t.i}),["assets/index.699c0012.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css","assets/index.7b2f54b1.js","assets/index.ffc6c203.js"]);case"en-GB":return N(()=>import("./index.622e101a.js").then(function(t){return t.i}),["assets/index.622e101a.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css","assets/index.55d799e2.js","assets/index.7b2f54b1.js","assets/index.ffc6c203.js"]);case"en-IN":return N(()=>import("./index.e0e28888.js").then(function(t){return t.i}),["assets/index.e0e28888.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css","assets/index.55d799e2.js","assets/index.7b2f54b1.js","assets/index.ffc6c203.js"]);case"en-NZ":return N(()=>import("./index.c8469642.js").then(function(t){return t.i}),["assets/index.c8469642.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css","assets/index.55d799e2.js","assets/index.7b2f54b1.js","assets/index.ffc6c203.js"]);case"en-US":return N(()=>import("./index.f2c707f1.js").then(function(t){return t.i}),["assets/index.f2c707f1.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css","assets/index.55d799e2.js","assets/index.ffc6c203.js","assets/index.7b2f54b1.js"]);case"en-ZA":return N(()=>import("./index.92e1f783.js").then(function(t){return t.i}),["assets/index.92e1f783.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css","assets/index.55d799e2.js","assets/index.7b2f54b1.js","assets/index.ffc6c203.js"]);case"eo":return N(()=>import("./index.2e432555.js").then(function(t){return t.i}),["assets/index.2e432555.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css","assets/index.ffc6c203.js"]);case"es":return N(()=>import("./index.32a22ef0.js").then(function(t){return t.i}),["assets/index.32a22ef0.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css","assets/index.ffc6c203.js"]);case"et":return N(()=>import("./index.4ed4946a.js").then(function(t){return t.i}),["assets/index.4ed4946a.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css","assets/index.ffc6c203.js"]);case"eu":return N(()=>import("./index.894b274c.js").then(function(t){return t.i}),["assets/index.894b274c.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css","assets/index.ffc6c203.js"]);case"fa-IR":return N(()=>import("./index.a2f7201b.js").then(function(t){return t.i}),["assets/index.a2f7201b.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css","assets/index.ffc6c203.js"]);case"fi":return N(()=>import("./index.dabfc237.js").then(function(t){return t.i}),["assets/index.dabfc237.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css","assets/index.ffc6c203.js"]);case"fr":return N(()=>import("./index.bf63ef3a.js").then(function(t){return t.i}),["assets/index.bf63ef3a.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css","assets/index.1b3cf886.js","assets/index.ffc6c203.js"]);case"fr-CA":return N(()=>import("./index.e7716891.js").then(function(t){return t.i}),["assets/index.e7716891.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css","assets/index.1b3cf886.js","assets/index.ffc6c203.js"]);case"fr-CH":return N(()=>import("./index.12c0ad4e.js").then(function(t){return t.i}),["assets/index.12c0ad4e.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css","assets/index.ffc6c203.js"]);case"gd":return N(()=>import("./index.a9e562ee.js").then(function(t){return t.i}),["assets/index.a9e562ee.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css","assets/index.ffc6c203.js"]);case"gl":return N(()=>import("./index.fc49cd25.js").then(function(t){return t.i}),["assets/index.fc49cd25.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css","assets/index.ffc6c203.js"]);case"gu":return N(()=>import("./index.cfe13745.js").then(function(t){return t.i}),["assets/index.cfe13745.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css","assets/index.ffc6c203.js"]);case"he":return N(()=>import("./index.aae62c85.js").then(function(t){return t.i}),["assets/index.aae62c85.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css","assets/index.ffc6c203.js"]);case"hi":return N(()=>import("./index.ab79c50c.js").then(function(t){return t.i}),["assets/index.ab79c50c.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css","assets/index.ffc6c203.js"]);case"hr":return N(()=>import("./index.9ecb105d.js").then(function(t){return t.i}),["assets/index.9ecb105d.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css","assets/index.ffc6c203.js"]);case"ht":return N(()=>import("./index.62ded6ae.js").then(function(t){return t.i}),["assets/index.62ded6ae.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css","assets/index.ffc6c203.js"]);case"hu":return N(()=>import("./index.61e038ab.js").then(function(t){return t.i}),["assets/index.61e038ab.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css","assets/index.ffc6c203.js"]);case"hy":return N(()=>import("./index.c91d8146.js").then(function(t){return t.i}),["assets/index.c91d8146.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css","assets/index.ffc6c203.js"]);case"id":return N(()=>import("./index.3d1b223f.js").then(function(t){return t.i}),["assets/index.3d1b223f.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css","assets/index.ffc6c203.js"]);case"is":return N(()=>import("./index.69fa0c1b.js").then(function(t){return t.i}),["assets/index.69fa0c1b.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css","assets/index.ffc6c203.js"]);case"it":return N(()=>import("./index.48db884c.js").then(function(t){return t.i}),["assets/index.48db884c.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css","assets/index.ffc6c203.js","assets/index.dc71b91a.js"]);case"ja":return N(()=>import("./index.63ef0f0a.js").then(function(t){return t.i}),["assets/index.63ef0f0a.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css","assets/index.ffc6c203.js"]);case"ka":return N(()=>import("./index.51cee932.js").then(function(t){return t.i}),["assets/index.51cee932.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css","assets/index.ffc6c203.js"]);case"kk":return N(()=>import("./index.b4462fae.js").then(function(t){return t.i}),["assets/index.b4462fae.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css","assets/index.ffc6c203.js","assets/index.dc71b91a.js"]);case"kn":return N(()=>import("./index.c9ff9d0e.js").then(function(t){return t.i}),["assets/index.c9ff9d0e.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css","assets/index.ffc6c203.js"]);case"ko":return N(()=>import("./index.7015d249.js").then(function(t){return t.i}),["assets/index.7015d249.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css","assets/index.ffc6c203.js"]);case"lb":return N(()=>import("./index.39fe5fac.js").then(function(t){return t.i}),["assets/index.39fe5fac.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css","assets/index.ffc6c203.js"]);case"lt":return N(()=>import("./index.559605bd.js").then(function(t){return t.i}),["assets/index.559605bd.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css","assets/index.ffc6c203.js"]);case"lv":return N(()=>import("./index.1bf154ed.js").then(function(t){return t.i}),["assets/index.1bf154ed.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css","assets/index.ffc6c203.js","assets/index.dc71b91a.js"]);case"mk":return N(()=>import("./index.cb3f9a66.js").then(function(t){return t.i}),["assets/index.cb3f9a66.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css","assets/index.ffc6c203.js","assets/index.dc71b91a.js"]);case"mn":return N(()=>import("./index.f9e6a6fc.js").then(function(t){return t.i}),["assets/index.f9e6a6fc.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css","assets/index.ffc6c203.js"]);case"ms":return N(()=>import("./index.c98dd361.js").then(function(t){return t.i}),["assets/index.c98dd361.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css","assets/index.ffc6c203.js"]);case"mt":return N(()=>import("./index.a926e050.js").then(function(t){return t.i}),["assets/index.a926e050.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css","assets/index.ffc6c203.js"]);case"nb":return N(()=>import("./index.5c01e9ee.js").then(function(t){return t.i}),["assets/index.5c01e9ee.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css","assets/index.ffc6c203.js"]);case"nl":return N(()=>import("./index.eda26b6f.js").then(function(t){return t.i}),["assets/index.eda26b6f.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css","assets/index.ffc6c203.js"]);case"nl-BE":return N(()=>import("./index.87e5cc93.js").then(function(t){return t.i}),["assets/index.87e5cc93.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css","assets/index.ffc6c203.js"]);case"nn":return N(()=>import("./index.68a203aa.js").then(function(t){return t.i}),["assets/index.68a203aa.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css","assets/index.ffc6c203.js"]);case"pl":return N(()=>import("./index.240f798a.js").then(function(t){return t.i}),["assets/index.240f798a.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css","assets/index.ffc6c203.js","assets/index.dc71b91a.js"]);case"pt":return N(()=>import("./index.04690823.js").then(function(t){return t.i}),["assets/index.04690823.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css","assets/index.ffc6c203.js"]);case"pt-BR":return N(()=>import("./index.bfad08ee.js").then(function(t){return t.i}),["assets/index.bfad08ee.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css","assets/index.ffc6c203.js"]);case"ro":return N(()=>import("./index.8b524510.js").then(function(t){return t.i}),["assets/index.8b524510.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css","assets/index.ffc6c203.js"]);case"ru":return N(()=>import("./index.aab3e7b4.js").then(function(t){return t.i}),["assets/index.aab3e7b4.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css","assets/index.ffc6c203.js","assets/index.dc71b91a.js"]);case"sk":return N(()=>import("./index.1df4732b.js").then(function(t){return t.i}),["assets/index.1df4732b.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css","assets/index.ffc6c203.js","assets/index.dc71b91a.js"]);case"sl":return N(()=>import("./index.033ed977.js").then(function(t){return t.i}),["assets/index.033ed977.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css","assets/index.ffc6c203.js"]);case"sq":return N(()=>import("./index.a5f89761.js").then(function(t){return t.i}),["assets/index.a5f89761.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css","assets/index.ffc6c203.js"]);case"sr":return N(()=>import("./index.34c68b69.js").then(function(t){return t.i}),["assets/index.34c68b69.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css","assets/index.ffc6c203.js"]);case"sr-Latn":return N(()=>import("./index.0110a287.js").then(function(t){return t.i}),["assets/index.0110a287.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css","assets/index.ffc6c203.js"]);case"sv":return N(()=>import("./index.608219b0.js").then(function(t){return t.i}),["assets/index.608219b0.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css","assets/index.ffc6c203.js"]);case"ta":return N(()=>import("./index.d698800c.js").then(function(t){return t.i}),["assets/index.d698800c.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css","assets/index.ffc6c203.js"]);case"te":return N(()=>import("./index.a28b95c7.js").then(function(t){return t.i}),["assets/index.a28b95c7.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css","assets/index.ffc6c203.js"]);case"th":return N(()=>import("./index.9c57bec9.js").then(function(t){return t.i}),["assets/index.9c57bec9.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css","assets/index.ffc6c203.js"]);case"tr":return N(()=>import("./index.b4be1f39.js").then(function(t){return t.i}),["assets/index.b4be1f39.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css","assets/index.ffc6c203.js"]);case"ug":return N(()=>import("./index.794edd66.js").then(function(t){return t.i}),["assets/index.794edd66.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css","assets/index.ffc6c203.js"]);case"uk":return N(()=>import("./index.7dc0331a.js").then(function(t){return t.i}),["assets/index.7dc0331a.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css","assets/index.ffc6c203.js","assets/index.dc71b91a.js"]);case"uz":return N(()=>import("./index.954ec9a0.js").then(function(t){return t.i}),["assets/index.954ec9a0.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css","assets/index.ffc6c203.js"]);case"vi":return N(()=>import("./index.9b2737f9.js").then(function(t){return t.i}),["assets/index.9b2737f9.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css","assets/index.ffc6c203.js"]);case"zh-CN":return N(()=>import("./index.46f0bdcc.js").then(function(t){return t.i}),["assets/index.46f0bdcc.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css","assets/index.ffc6c203.js","assets/index.dc71b91a.js"]);case"zh-TW":return N(()=>import("./index.514b19db.js").then(function(t){return t.i}),["assets/index.514b19db.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css","assets/index.ffc6c203.js"]);default:return Promise.resolve()}}async function ui(){const e=Be.global.locale.value,t=[e,e.split("-")[0],"en-US"];let n;for(const l of t)try{n=(await S4(l)).default;break}catch{continue}return n}const wt=async(e,t,n)=>_n(e,t,Ie(ve({},n),{locale:await ui()}));const F4=Z({props:{revision:{type:Object,required:!0},last:{type:Boolean,default:!1}},emits:["click"],setup(e){const{t}=ae(),n=V(()=>Object.keys(e.revision.delta).length),l=V(()=>{switch(e.revision.activity.action.toLowerCase()){case"create":return t("revision_delta_created");case"update":return t("revision_delta_updated",n.value);case"delete":return t("revision_delta_deleted");case"revert":return t("revision_delta_reverted");default:return t("revision_delta_other")}}),o=V(()=>_n(new Date(e.revision.activity.timestamp),String(t("date-fns_time")))),u=V(()=>{var r,i;return((i=(r=e.revision)==null?void 0:r.activity)==null?void 0:i.user)&&typeof e.revision.activity.user=="object"?Ft(e.revision.activity.user):t("private_user")});return{t,headerMessage:l,time:o,user:u}}}),V4={class:"header"},A4={class:"content"},I4={class:"time"},E4=P(" \u2013 "),D4={key:1};function P4(e,t,n,l,o,u){const r=c("user-popover");return m(),A("div",{class:de(["revision-item",{last:e.last}]),onClick:t[0]||(t[0]=i=>e.$emit("click"))},[$("div",V4,[$("span",{class:de(["dot",e.revision.activity.action])},null,2),P(" "+w(e.headerMessage),1)]),$("div",A4,[$("span",I4,w(e.time),1),E4,e.revision.activity.user?(m(),F(r,{key:0,class:"user",user:e.revision.activity.user.id},{default:d(()=>[$("span",null,w(e.user),1)]),_:1},8,["user"])):(m(),A("span",D4,w(e.t("private_user")),1))])],2)}var T4=H(F4,[["render",P4],["__scopeId","data-v-32fb49f6"]]);const O4=Z({components:{RevisionItem:T4},props:{group:{type:Object,required:!0}},emits:["click"],setup(){return{expand:D(!0)}}}),L4={class:"scroll-container"};function j4(e,t,n,l,o,u){const r=c("revision-item"),i=c("v-detail");return m(),F(i,{modelValue:e.expand,"onUpdate:modelValue":t[0]||(t[0]=s=>e.expand=s),label:e.group.dateFormatted,class:"revisions-date-group"},{default:d(()=>[ie($("div",L4,[(m(!0),A(se,null,Ve(e.group.revisions,(s,p)=>(m(),F(r,{key:s.id,revision:s,last:p===e.group.revisions.length-1,onClick:f=>e.$emit("click",s.id)},null,8,["revision","last","onClick"]))),128))],512),[[Nt,e.expand]])]),_:1},8,["modelValue","label"])}var R4=H(O4,[["render",j4]]);const M4=Z({props:{revisions:{type:Array,required:!0},current:{type:Number,required:!0}},emits:["update:current"],setup(e,{emit:t}){const{t:n}=ae(),l=Ge(e,"current",t),o=D(null);he(()=>e.revisions,async()=>{const i=[];for(const s of e.revisions){const p=await r(s);let f=n("private_user");if(typeof s.activity.user=="object"){const y=s.activity.user;f=Ft(y)}const _=String(n("revision_delta_by",{date:p,user:f})),v=s.id;i.push({text:_,value:v})}o.value=i},{immediate:!0});const u=V(()=>{var i;return(i=o.value)==null?void 0:i.find(s=>s.value===l.value)});return{internalCurrent:l,options:o,selectedOption:u};async function r(i){const s=await wt(new Date(i.activity.timestamp),String(n("date-fns_date_short"))),p=await wt(new Date(i.activity.timestamp),String(n("date-fns_time")));return`${s} (${p})`}}}),U4=["onClick"];function N4(e,t,n,l,o,u){const r=c("v-icon"),i=c("v-list-item-content"),s=c("v-list-item"),p=c("v-list"),f=c("v-menu");return m(),F(f,{"show-arrow":""},{activator:d(({toggle:_})=>[$("span",{class:"picker",onClick:_},[P(w(e.selectedOption&&e.selectedOption.text)+" ",1),a(r,{name:"expand_more",small:""})],8,U4)]),default:d(()=>[a(p,{class:"menu"},{default:d(()=>[(m(!0),A(se,null,Ve(e.options,_=>(m(),F(s,{key:_.value,clickable:"",active:e.internalCurrent===_.value,onClick:v=>e.internalCurrent=_.value},{default:d(()=>[a(r,{name:"commit_node"}),a(i,null,{default:d(()=>[P(w(_.text),1)]),_:2},1024)]),_:2},1032,["active","onClick"]))),128))]),_:1})]),_:1})}var B4=H(M4,[["render",N4],["__scopeId","data-v-2f4d8b82"]]);const q4=Z({props:{revision:{type:Object,required:!0}},setup(){const{t:e}=ae();return{t:e}}}),z4=e=>(xe("data-v-2d744eb6"),e=e(),et(),e),K4=z4(()=>$("br",null,null,-1));function W4(e,t,n,l,o,u){const r=c("v-notice"),i=c("v-form");return m(),A("div",null,[a(r,{type:"info"},{default:d(()=>[P(w(e.revision.activity.action==="create"?e.t("revision_post_create"):e.t("revision_post_update"))+" ",1),K4,P(" "+w(e.t("no_relational_data")),1)]),_:1}),a(i,{disabled:"",collection:e.revision.collection,"primary-key":e.revision.item,"initial-values":e.revision.data},null,8,["collection","primary-key","initial-values"])])}var H4=H(q4,[["render",W4],["__scopeId","data-v-2d744eb6"]]);const G4=Z({props:{changes:{type:Array,required:!0},added:{type:Boolean,default:!1},deleted:{type:Boolean,default:!1}},setup(e){const{t}=ae(),n=V(()=>e.changes.filter(o=>e.added===!0?o.removed!==!0:o.added!==!0)),l=V(()=>e.changes.length===2);return{t,changesFiltered:n,wholeThing:l}}}),Z4={class:"delta"},J4={key:1,class:"no-value"};function X4(e,t,n,l,o,u){const r=c("v-icon");return m(),A("div",{class:de(["change-line",{added:e.added,deleted:e.deleted,"no-highlight":e.wholeThing}])},[a(r,{name:e.added?"add":"remove"},null,8,["name"]),$("div",Z4,[(m(!0),A(se,null,Ve(e.changesFiltered,(i,s)=>(m(),A("span",{key:s,class:de({changed:i.added||i.removed})},[i.value?(m(),A(se,{key:0},[P(w(i.value),1)],64)):(m(),A("span",J4,w(e.t("no_value")),1))],2))),128))])],2)}var Y4=H(G4,[["render",X4],["__scopeId","data-v-481ea258"]]);const Q4=Z({components:{RevisionsDrawerUpdatesChange:Y4},props:{revision:{type:Object,required:!0},revisions:{type:Array,required:!0}},setup(e){const{t}=ae(),n=Me(),l=V(()=>{const u=e.revisions.findIndex(r=>r.id===e.revision.id);return e.revisions[u+1]}),o=V(()=>l.value?Object.keys(e.revision.delta).map(r=>{var _;const i=(_=n.getField(e.revision.collection,r))==null?void 0:_.name;if(!i)return null;const s=e.revision.delta[r],p=l.value.data[r];if(z.exports.isEqual(s,p))return null;let f;return typeof p=="string"&&typeof s=="string"&&s.length>25?f=bd(p,s):Array.isArray(p)&&Array.isArray(s)?f=wd(p,s):p&&s&&typeof s=="object"&&typeof s=="object"?f=kd(p,s):f=[{removed:!0,value:p},{added:!0,value:s}],{name:i,changes:f}}).filter(r=>r):null);return{t,changes:o,previousRevision:l}}}),x4=e=>(xe("data-v-09850b86"),e=e(),et(),e),e5={class:"updates"},t5=x4(()=>$("br",null,null,-1)),n5={class:"type-label"};function l5(e,t,n,l,o,u){const r=c("v-notice"),i=c("revisions-drawer-updates-change");return m(),A("div",e5,[a(r,{type:"info"},{default:d(()=>[P(w(e.t("changes_made"))+" ",1),t5,P(" "+w(e.t("no_relational_data")),1)]),_:1}),(m(!0),A(se,null,Ve(e.changes,s=>(m(),A("div",{key:s.name,class:"change"},[$("div",n5,w(s.name),1),a(i,{deleted:"",changes:s.changes},null,8,["changes"]),a(i,{added:"",changes:s.changes},null,8,["changes"])]))),128))])}var o5=H(Q4,[["render",l5],["__scopeId","data-v-09850b86"]]);const a5=Z({components:{RevisionsDrawerPicker:B4,RevisionsDrawerPreview:H4,RevisionsDrawerUpdates:o5},props:{revisions:{type:Array,required:!0},current:{type:[Number,String],default:null},active:{type:Boolean,default:!1}},emits:["revert","update:active","update:current"],setup(e,{emit:t}){const{t:n}=ae(),l=Ge(e,"active",t),o=Ge(e,"current",t),u=D(["updates_made"]),r=V(()=>{var v;return((v=i.value)==null?void 0:v.activity.action)==="create"?n("item_creation"):n("item_revision")}),i=V(()=>e.revisions.find(v=>v.id===e.current)),s=V(()=>{const v=e.revisions.findIndex(y=>y.id===e.current);return e.revisions[v+1]}),p=V(()=>{var v;return((v=i.value)==null?void 0:v.activity.action)==="create"?[{text:n("creation_preview"),value:"revision_preview"}]:[{text:n("updates_made"),value:"updates_made"},{text:n("revision_preview"),value:"revision_preview"}]}),f=V(()=>{var v;return((v=i.value)==null?void 0:v.activity.action)!=="create"});return ao(()=>u.value=[p.value[0].value]),{t:n,internalActive:l,internalCurrent:o,title:r,currentRevision:i,currentTab:u,tabs:p,hasPastRevision:f,revert:_};function _(){var y,g;if(!i.value)return;const v={};for(const[h,b]of Object.entries(i.value.delta)){const S=(g=(y=s.value)==null?void 0:y.data[h])!=null?g:null;z.exports.isEqual(b,S)||(v[h]=S)}t("revert",v),l.value=!1}}}),i5={class:"content"};function r5(e,t,n,l,o,u){const r=c("revisions-drawer-picker"),i=c("v-tab"),s=c("v-tabs"),p=c("revisions-drawer-updates"),f=c("revisions-drawer-preview"),_=c("v-icon"),v=c("v-button"),y=c("v-drawer"),g=Fe("tooltip");return m(),A("div",null,[a(y,{modelValue:e.internalActive,"onUpdate:modelValue":t[3]||(t[3]=h=>e.internalActive=h),title:e.title,icon:"change_history","sidebar-label":e.t(e.currentTab[0]),onCancel:t[4]||(t[4]=h=>e.internalActive=!1)},{subtitle:d(()=>[a(r,{current:e.internalCurrent,"onUpdate:current":t[0]||(t[0]=h=>e.internalCurrent=h),revisions:e.revisions},null,8,["current","revisions"])]),sidebar:d(()=>[a(s,{modelValue:e.currentTab,"onUpdate:modelValue":t[1]||(t[1]=h=>e.currentTab=h),vertical:""},{default:d(()=>[(m(!0),A(se,null,Ve(e.tabs,h=>(m(),F(i,{key:h.value,value:h.value},{default:d(()=>[P(w(h.text),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]),actions:d(()=>[e.hasPastRevision?ie((m(),F(v,{key:0,secondary:"",icon:"",rounded:"",onClick:e.revert},{default:d(()=>[a(_,{name:"restore"})]),_:1},8,["onClick"])),[[g,e.t("revert"),void 0,{bottom:!0}]]):M("",!0),ie(a(v,{icon:"",rounded:"",onClick:t[2]||(t[2]=h=>e.internalActive=!1)},{default:d(()=>[a(_,{name:"check"})]),_:1},512),[[g,e.t("done"),void 0,{bottom:!0}]])]),default:d(()=>[$("div",i5,[e.currentTab[0]==="updates_made"?(m(),F(p,{key:0,revision:e.currentRevision,revisions:e.revisions},null,8,["revision","revisions"])):M("",!0),e.currentTab[0]==="revision_preview"?(m(),F(f,{key:1,revision:e.currentRevision},null,8,["revision"])):M("",!0)])]),_:1},8,["modelValue","title","sidebar-label"])])}var s5=H(a5,[["render",r5],["__scopeId","data-v-04fd97e4"]]);const d5=Z({components:{RevisionsDrawer:s5,RevisionsDateGroup:R4},props:{collection:{type:String,required:!0},primaryKey:{type:[String,Number],required:!0}},emits:["revert"],setup(e){const{t}=ae(),{revisions:n,revisionsByDate:l,loading:o,refresh:u,revisionsCount:r,pagesCount:i,created:s}=y(e.collection,e.primaryKey),p=D(!1),f=D(null),_=D(1);return he(()=>_.value,g=>{u(g)}),{t,revisions:n,revisionsByDate:l,loading:o,refresh:u,modalActive:p,modalCurrentRevision:f,openModal:v,revisionsCount:r,created:s,page:_,pagesCount:i,abbreviateNumber:ko};function v(g){f.value=g,p.value=!0}function y(g,h){const b=D(null),S=D(null),I=D(!1),E=D(0),R=D(),O=D(0);return L(),{created:R,revisions:b,revisionsByDate:S,loading:I,refresh:q,revisionsCount:E,pagesCount:O};async function L(T=0){var U;I.value=!0;const j=100;try{const B=await me.get("/revisions",{params:{filter:{collection:{_eq:g},item:{_eq:h}},sort:"-id",limit:j,page:T,fields:["id","data","delta","collection","item","activity.action","activity.timestamp","activity.user.id","activity.user.email","activity.user.first_name","activity.user.last_name","activity.ip","activity.user_agent"],meta:["filter_count"]}}),K=await me.get("/revisions",{params:{filter:{collection:{_eq:g},item:{_eq:h},activity:{action:{_eq:"create"}}},sort:"-id",limit:1,fields:["id","data","delta","collection","item","activity.action","activity.timestamp","activity.user.id","activity.user.email","activity.user.first_name","activity.user.last_name","activity.ip","activity.user_agent"],meta:["filter_count"]}});R.value=(U=K.data.data)==null?void 0:U[0];const J=z.exports.groupBy(B.data.data.filter(W=>!!W.activity),W=>new Date(new Date(W.activity.timestamp).toDateString())),Y=[];for(const[W,G]of Object.entries(J)){const Q=new Date(W),X=Fa(Q),ee=Va(Q),le=Aa(Q);let te;X?te=t("today"):ee?te=t("yesterday"):le?te=await wt(Q,String(t("date-fns_date_short_no_year"))):te=await wt(Q,String(t("date-fns_date_short"))),Y.push({date:Q,dateFormatted:String(te),revisions:z.exports.orderBy(G,["activity.timestamp"],["desc"])})}S.value=z.exports.orderBy(Y,["date"],["desc"]),b.value=z.exports.orderBy(B.data.data,["activity.timestamp"],["desc"]),E.value=B.data.meta.filter_count,O.value=Math.ceil(E.value/j)}catch(B){Pe(B)}finally{I.value=!1}}async function q(T=0){await L(T)}}}}),u5={key:1,class:"empty"},c5={class:"content"},p5={class:"external"};function m5(e,t,n,l,o,u){const r=c("v-progress-linear"),i=c("RevisionsDateGroup"),s=c("v-divider"),p=c("v-pagination"),f=c("revisions-drawer"),_=c("sidebar-detail");return m(),F(_,{title:e.t("revisions"),icon:"change_history",badge:!e.loading&&e.revisionsCount>0?e.abbreviateNumber(e.revisionsCount):null},{default:d(()=>[e.loading?(m(),F(r,{key:0,indeterminate:""})):e.revisionsCount===0?(m(),A("div",u5,[$("div",c5,w(e.t("no_revisions")),1)])):(m(),A(se,{key:2},[(m(!0),A(se,null,Ve(e.revisionsByDate,v=>(m(),F(i,{key:v.date.toString(),group:v,onClick:e.openModal},null,8,["group","onClick"]))),128)),e.page==e.pagesCount&&!e.created?(m(),A(se,{key:0},[e.revisionsByDate.length>0?(m(),F(s,{key:0})):M("",!0),$("div",p5,w(e.t("revision_delta_created_externally")),1)],64)):M("",!0),e.pagesCount>1?(m(),F(p,{key:1,modelValue:e.page,"onUpdate:modelValue":t[0]||(t[0]=v=>e.page=v),length:e.pagesCount,"total-visible":2},null,8,["modelValue","length"])):M("",!0)],64)),e.revisions?(m(),F(f,{key:3,current:e.modalCurrentRevision,"onUpdate:current":t[1]||(t[1]=v=>e.modalCurrentRevision=v),active:e.modalActive,"onUpdate:active":t[2]||(t[2]=v=>e.modalActive=v),revisions:e.revisions,onRevert:t[3]||(t[3]=v=>e.$emit("revert",v))},null,8,["current","active","revisions"])):M("",!0)]),_:1},8,["title","badge"])}var al=H(d5,[["render",m5],["__scopeId","data-v-451a55f0"]]);const ql=new Set([]),rn={};document.body.addEventListener("keydown",e=>{e.repeat||!e.key||(ql.add(f5(e)),_5(e))});document.body.addEventListener("keyup",e=>{e.repeat||!e.key||ql.clear()});function rt(e,t,n=D(document.body)){const l=(o,u)=>{if(!n.value)return;const r=n.value instanceof HTMLElement?n.value:n.value.$el;return document.activeElement===r||r.contains(document.activeElement)||document.activeElement===document.body?(o.preventDefault(),t(o,u)):!1};dt(()=>{[e].flat().forEach(o=>{o in rn?rn[o].unshift(l):rn[o]=[l]})}),At(()=>{[e].flat().forEach(o=>{o in rn&&(rn[o]=rn[o].filter(u=>u!==l),rn[o].length===0&&delete rn[o])})})}function f5(e){const t={Control:"meta",Command:"meta"},n=/^[a-zA-Z0-9]*?$/g;let l=e.key.match(n)===null?e.code.replace(/(Key|Digit)/g,""):e.key;return l=l in t?t[l]:l,l=l.toLowerCase(),l}function _5(e){Object.entries(rn).forEach(([t,n])=>{const l=t.split("+");for(t of ql)if(l.includes(t)===!1)return;for(t of l)if(ql.has(t)===!1)return;for(let o=0;o<n.length;o++){let u=!1;if(n[o](e,()=>{u=!0}),typeof u=="boolean"&&u)break}})}const v5=Z({props:{modelValue:{type:String,default:null},captureGroup:{type:String,required:!0},multiline:{type:Boolean,default:!1},triggerCharacter:{type:String,required:!0},items:{type:Object,required:!0},placeholder:{type:String,default:null}},emits:["update:modelValue","trigger","deactivate","up","down","enter"],setup(e,{emit:t}){const n=D();let l=!1,o=[],u=0,r=0;return he(()=>e.modelValue,v=>{!n.value||v!==n.value.innerText&&_(v,!0)}),dt(()=>{e.modelValue&&e.modelValue!==n.value.innerText&&_(e.modelValue),n.value&&(n.value.addEventListener("click",p),n.value.addEventListener("keydown",i),n.value.addEventListener("keyup",s))}),At(()=>{n.value&&(n.value.removeEventListener("click",p),n.value.removeEventListener("keydown",i),n.value.removeEventListener("keyup",s))}),{processText:f,input:n};function i(v){var g;const y=((g=window.getSelection())==null?void 0:g.rangeCount)?Pt(n.value).pos:0;if(v.code==="Enter")v.preventDefault(),l?t("enter"):(_(n.value.innerText.substring(0,y)+(y===n.value.innerText.length&&n.value.innerText.charAt(y-1)!==`
`?`

`:`
`)+n.value.innerText.substring(y),!0),Pt(n.value,y+1));else if(v.code==="ArrowUp"&&!v.shiftKey)l&&(v.preventDefault(),t("up"));else if(v.code==="ArrowDown"&&!v.shiftKey)l&&(v.preventDefault(),t("down"));else if(v.code==="ArrowLeft"&&!v.shiftKey){const h=o.indexOf(y-1);h!==-1&&h%2==1&&(v.preventDefault(),Pt(n.value,o[h-1]-1))}else if(v.code==="ArrowRight"&&!v.shiftKey){const h=o.indexOf(y+1);h!==-1&&h%2==0&&(v.preventDefault(),Pt(n.value,o[h+1]+1))}else if(v.code==="Backspace"){const h=o.indexOf(y-1);if(h!==-1&&h%2==1){v.preventDefault();const b=o[h-1];_((n.value.innerText.substring(0,b)+n.value.innerText.substring(y)).replaceAll(String.fromCharCode(160)," "),!0),Pt(n.value,b),t("update:modelValue",n.value.innerText)}}else if(v.code==="Delete"){const h=o.indexOf(y+1);h!==-1&&h%2==0&&(v.preventDefault(),_((n.value.innerText.substring(0,y)+n.value.innerText.substring(o[h+1])).replaceAll(String.fromCharCode(160)," "),!0),Pt(n.value,y),t("update:modelValue",n.value.innerText))}}function s(v){var g;const y=((g=window.getSelection())==null?void 0:g.rangeCount)?Pt(n.value).pos:0;if((v.code==="ArrowUp"||v.code==="ArrowDown")&&!v.shiftKey){const h=o.indexOf(y);h!==-1&&h%2==1?Pt(n.value,o[h]+1):h!==-1&&h%2==0&&Pt(n.value,o[h]-1)}}function p(v){var h;const y=((h=window.getSelection())==null?void 0:h.rangeCount)?Pt(n.value).pos:0,g=o.indexOf(y);g!==-1&&(g%2==0?Pt(n.value,y-1):Pt(n.value,y+1),v.preventDefault())}function f(v){var E,R;const y=v.target,g=((E=window.getSelection())==null?void 0:E.rangeCount)?Pt(y).pos:0,h=(R=y.innerText)!=null?R:"";let b=h.indexOf(" ",g);b===-1&&(b=h.indexOf(`
`,g)),b===-1&&(b=h.length);const S=/\S+$/.exec(h.slice(0,b));let I=S?S[0]:null;I&&(I=I.replace(/[\s'";:,./?\\-]$/,"")),(I==null?void 0:I.startsWith(e.triggerCharacter))?(t("trigger",{searchQuery:I.substring(e.triggerCharacter.length),caretPosition:g}),l=!0):l&&(t("deactivate"),l=!1),_(),t("update:modelValue",y.innerText)}function _(v,y=!1){var I;if(!n.value)return;n.value.innerText===`
`&&(n.value.innerText=""),v!==void 0&&(n.value.innerText=v,l=!1);let g=n.value.innerText;const h=y?r:((I=window.getSelection())==null?void 0:I.rangeCount)?Pt(n.value).pos:0;let b=0;const S=g.match(new RegExp(`${e.captureGroup}(?!</mark>)`,"gi"));if(o=[],S)for(const E of S!=null?S:[]){let R="",O="",L="",q="",T=g.indexOf(E,b);const j=g.charCodeAt(T-1),U=g.charCodeAt(T+E.length);j===32?(R=" ",L="&nbsp;"):j!==160&&(L="&nbsp;"),U===32?(O=" ",q="&nbsp;"):U!==160&&(q="&nbsp;");let B=R+E+O,K=`${L}<mark class="preview" data-preview="${e.items[E.substring(e.triggerCharacter.length)]}" contenteditable="false">${E}</mark>${q}`;g=g.replace(new RegExp(`(${B})(?!</mark>)`),K),b=T+K.length-B.length}if(n.value.innerHTML!==g.replaceAll(String.fromCharCode(160),"&nbsp;")){n.value.innerHTML=g;const E=n.value.innerText.length-u,R=h+E;R>n.value.innerText.length||R<0?Pt(n.value,n.value.innerText.length):Pt(n.value,R)}b=0;for(const E of S!=null?S:[]){let R=n.value.innerText.indexOf(E,b);o.push(R,R+E.length),b=R+E.length}u=n.value.innerText.length,r=h}}}),y5=["placeholder"];function h5(e,t,n,l,o,u){return m(),A("div",{ref:"input",class:de(["v-template-input",{multiline:e.multiline}]),contenteditable:"true",tabindex:"1",placeholder:e.placeholder,onInput:t[0]||(t[0]=(...r)=>e.processText&&e.processText(...r))},null,42,y5)}var ci=H(v5,[["render",h5],["__scopeId","data-v-2d975fdd"]]);const g5=e=>(xe("data-v-71e054b2"),e=e(),et(),e),b5=["src"],w5={class:"buttons"},k5=g5(()=>$("div",{class:"spacer"},null,-1)),$5=Z({props:{refresh:null,collection:null,primaryKey:null,existingComment:{default:()=>null},previews:{default:()=>null}},emits:["cancel"],setup(e,{emit:t}){var J,Y;const n=e,{t:l}=ae(),o=D();let u=0,r=0;rt("meta+enter",j,o);const i=D((Y=(J=n.existingComment)==null?void 0:J.comment)!=null?Y:null),s=D(!1),p=V(()=>!i.value&&!s.value);he(()=>n.existingComment,()=>{var W;((W=n.existingComment)==null?void 0:W.comment)&&(i.value=n.existingComment.comment)},{immediate:!0});const f=D(!1),_=D(!1),v=D([]),y=D({});he(()=>n.previews,()=>{n.previews&&(y.value=ve(ve({},y.value),n.previews))},{immediate:!0});let g=0,h=D(0),b=null;const S=z.exports.throttle(async W=>{b!==null&&b.cancel(),b=io.CancelToken.source();const G=/\s@[0-9A-F]{8}-[0-9A-F]{4}-4[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}/gi;let Q={_or:[{first_name:{_starts_with:W}},{last_name:{_starts_with:W}},{email:{_starts_with:W}}]};W.match(G)&&(Q={id:{_in:W}});try{const X=await me.get("/users",{params:{filter:W===""||!W?void 0:Q,fields:["first_name","last_name","email","id","avatar"]},cancelToken:b.token}),ee=z.exports.cloneDeep(y.value);X.data.data.forEach(le=>{ee[le.id]=Ft(le)}),y.value=ee,v.value=X.data.data}catch(X){return X}},200);function I(){n.existingComment?t("cancel"):(i.value="",s.value=!1)}function E(){var W,G,Q;if(document.getSelection){const X=document.getSelection();if(X){r=X.anchorOffset;const ee=X==null?void 0:X.getRangeAt(0);ee==null||ee.setStart((W=o.value)==null?void 0:W.$el,0),u=(Q=(G=ee==null?void 0:ee.cloneContents().textContent)==null?void 0:G.length)!=null?Q:0,X.removeAllRanges()}}}function R(){var W;E(),(W=document.getSelection())==null||W.removeAllRanges(),O(" @")}function O(W){i.value===null&&(u=0,i.value=""),i.value=[i.value.slice(0,u),W,i.value.slice(u)].join(""),setTimeout(()=>{var Q,X,ee,le,te;(Q=o.value)==null||Q.$el.focus(),(le=document.getSelection())==null||le.setPosition((ee=(X=document.getSelection())==null?void 0:X.anchorNode)!=null?ee:null,r+W.length);const G=new Event("input",{bubbles:!0});(te=o.value)==null||te.$el.dispatchEvent(G)},10)}function L(W){var te;const G=(te=i.value)==null?void 0:te.replaceAll(String.fromCharCode(160)," ");if(!G)return;let Q=g-1,X=g;if(G.charAt(Q)!==" "&&G.charAt(Q)!==`
`)for(;Q>=0&&G.charAt(Q)!==" "&&G.charAt(Q)!==`
`;)Q--;for(;X<G.length&&G.charAt(X)!==" "&&G.charAt(X)!==`
`;)X++;const ee=G.substring(0,Q+(G.charAt(Q)===`
`?1:0)),le=G.substring(X);i.value=ee+" @"+W.id+le}function q({searchQuery:W,caretPosition:G}){g=G,_.value=!0,S(W),h.value=0}function T(W){return W===null?"":ct(tt()+`assets/${W}?key=system-small-cover`)}async function j(){if(!(i.value===null||i.value.length===0)){f.value=!0;try{n.existingComment?await me.patch(`/activity/comment/${n.existingComment.id}`,{comment:i.value}):await me.post("/activity/comment",{collection:n.collection,item:n.primaryKey,comment:i.value}),n.refresh(),i.value="",yt({title:n.existingComment?l("post_comment_updated"):l("post_comment_success")})}catch(W){Pe(W)}finally{f.value=!1}}}function U(){h.value>0&&h.value--}function B(){h.value<v.value.length-1&&h.value++}function K(){L(v.value[h.value]),_.value=!1}return(W,G)=>{const Q=c("v-icon"),X=c("v-avatar"),ee=c("v-list-item-icon"),le=c("v-list-item-content"),te=c("v-list-item"),re=c("v-list"),ye=c("v-menu"),fe=c("v-button"),ue=c("v-emoji-picker");return m(),A("div",{class:de(["input-container",{collapsed:C(p)}])},[a(ye,{modelValue:_.value,"onUpdate:modelValue":G[3]||(G[3]=_e=>_.value=_e),attached:""},{activator:d(()=>[a(ci,{ref:(_e,ce)=>{ce.commentElement=_e,o.value=_e},modelValue:i.value,"onUpdate:modelValue":G[0]||(G[0]=_e=>i.value=_e),"capture-group":"(@[0-9A-F]{8}-[0-9A-F]{4}-4[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12})",multiline:"","trigger-character":"@",items:y.value,placeholder:C(l)("leave_comment"),onTrigger:q,onDeactivate:G[1]||(G[1]=_e=>_.value=!1),onUp:U,onDown:B,onEnter:K,onFocus:G[2]||(G[2]=_e=>s.value=!0)},null,8,["modelValue","items","placeholder"])]),default:d(()=>[a(re,null,{default:d(()=>[(m(!0),A(se,null,Ve(v.value,(_e,ce)=>(m(),F(te,{id:"suggestions",key:_e.id,clickable:"",active:ce===C(h),onClick:oe=>L(_e)},{default:d(()=>[a(ee,null,{default:d(()=>[a(X,{"x-small":""},{default:d(()=>[_e.avatar?(m(),A("img",{key:0,src:T(_e.avatar)},null,8,b5)):(m(),F(Q,{key:1,name:"person_outline"}))]),_:2},1024)]),_:2},1024),a(le,null,{default:d(()=>[P(w(C(Ft)(_e)),1)]),_:2},1024)]),_:2},1032,["active","onClick"]))),128))]),_:1})]),_:1},8,["modelValue"]),$("div",w5,[a(fe,{"x-small":"",secondary:"",icon:"",class:"mention",onClick:R},{default:d(()=>[a(Q,{name:"alternate_email"})]),_:1}),a(ue,{onClick:E,onEmojiSelected:G[4]||(G[4]=_e=>O(_e))}),k5,a(fe,{class:"cancel","x-small":"",secondary:"",onClick:I},{default:d(()=>[P(w(C(l)("cancel")),1)]),_:1}),a(fe,{disabled:!i.value||i.value.length===0||i.value.trim()==="",loading:f.value,class:"post-comment","x-small":"",onClick:j},{default:d(()=>[P(w(C(l)("submit")),1)]),_:1},8,["disabled","loading"])])],2)}}});var pi=H($5,[["__scopeId","data-v-71e054b2"]]);const C5={class:"comment-header"},S5=["src","alt"],F5={class:"name"},V5={class:"header-right"},A5={class:"time"},I5=Z({props:{activity:null,refresh:null},emits:["edit"],setup(e){const t=e,{t:n}=ae(),l=V(()=>t.activity.timestamp?_n(new Date(t.activity.timestamp),String(n("date-fns_time_no_seconds"))):null),o=V(()=>{var p;return((p=t.activity.user)==null?void 0:p.avatar)?ct(tt()+`assets/${t.activity.user.avatar.id}?key=system-small-cover`):null}),{confirmDelete:u,deleting:r,remove:i}=s();function s(){const p=D(!1),f=D(!1);return{confirmDelete:p,deleting:f,remove:_};async function _(){f.value=!0;try{await me.delete(`/activity/comment/${t.activity.id}`),await t.refresh(),p.value=!1}catch(v){Pe(v)}finally{f.value=!1}}}return(p,f)=>{const _=c("v-icon"),v=c("v-avatar"),y=c("user-popover"),g=c("v-list-item-icon"),h=c("v-list-item-content"),b=c("v-list-item"),S=c("v-list"),I=c("v-menu"),E=c("v-card-title"),R=c("v-card-text"),O=c("v-button"),L=c("v-card-actions"),q=c("v-card"),T=c("v-dialog");return m(),A("div",C5,[a(v,{"x-small":""},{default:d(()=>[C(o)?(m(),A("img",{key:0,src:C(o),alt:C(Ft)(e.activity.user)},null,8,S5)):(m(),F(_,{key:1,name:"person_outline"}))]),_:1}),$("div",F5,[e.activity.user&&e.activity.user.id?(m(),F(y,{key:0,user:e.activity.user.id},{default:d(()=>[$("span",null,[e.activity.user&&e.activity.user?(m(),A(se,{key:0},[P(w(C(Ft)(e.activity.user)),1)],64)):(m(),A(se,{key:1},[P(w(C(n)("private_user")),1)],64))])]),_:1},8,["user"])):M("",!0)]),$("div",V5,[a(I,{"show-arrow":"",placement:"bottom-end"},{activator:d(({toggle:j,active:U})=>[a(_,{class:de(["more",{active:U}]),name:"more_horiz",clickable:"",onClick:j},null,8,["class","onClick"]),$("div",A5,w(C(l)),1)]),default:d(()=>[a(S,null,{default:d(()=>[a(b,{clickable:"",onClick:f[0]||(f[0]=j=>p.$emit("edit"))},{default:d(()=>[a(g,null,{default:d(()=>[a(_,{name:"edit"})]),_:1}),a(h,null,{default:d(()=>[P(w(C(n)("edit")),1)]),_:1})]),_:1}),a(b,{clickable:"",onClick:f[1]||(f[1]=j=>u.value=!0)},{default:d(()=>[a(g,null,{default:d(()=>[a(_,{name:"delete"})]),_:1}),a(h,null,{default:d(()=>[P(w(C(n)("delete_label")),1)]),_:1})]),_:1})]),_:1})]),_:1})]),a(T,{modelValue:C(u),"onUpdate:modelValue":f[3]||(f[3]=j=>ut(u)?u.value=j:null),onEsc:f[4]||(f[4]=j=>u.value=!1)},{default:d(()=>[a(q,null,{default:d(()=>[a(E,null,{default:d(()=>[P(w(C(n)("delete_comment")),1)]),_:1}),a(R,null,{default:d(()=>[P(w(C(n)("delete_are_you_sure")),1)]),_:1}),a(L,null,{default:d(()=>[a(O,{secondary:"",onClick:f[2]||(f[2]=j=>u.value=!1)},{default:d(()=>[P(w(C(n)("cancel")),1)]),_:1}),a(O,{kind:"danger",loading:C(r),onClick:C(i)},{default:d(()=>[P(w(C(n)("delete_label")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])])}}});var E5=H(I5,[["__scopeId","data-v-31dc1d42"]]);const D5={class:"comment-item"},P5={key:1,class:"content selectable"},T5=Z({props:{activity:null,refresh:null,collection:null,primaryKey:null,userPreviews:{default:()=>({})}},setup(e){const t=e,{editing:n,cancelEditing:l}=o();function o(){const u=D(t.activity.comment),r=D(!1),i=D(!1);return he(()=>t.activity,()=>u.value=t.activity.comment),{edits:u,editing:r,savingEdits:i,saveEdits:s,cancelEditing:p};async function s(){i.value=!0;try{await me.patch(`/activity/comment/${t.activity.id}`,{comment:u.value}),t.refresh()}catch(f){Pe(f)}finally{i.value=!1,r.value=!1}}function p(){u.value=t.activity.comment,r.value=!1}}return(u,r)=>{const i=Fe("md");return m(),A("div",D5,[a(E5,{refresh:e.refresh,activity:e.activity,onEdit:r[0]||(r[0]=s=>n.value=!0)},null,8,["refresh","activity"]),C(n)?(m(),F(pi,{key:0,"existing-comment":e.activity,"primary-key":e.primaryKey,collection:e.collection,refresh:e.refresh,previews:e.userPreviews,onCancel:C(l)},null,8,["existing-comment","primary-key","collection","refresh","previews","onCancel"])):ie((m(),A("div",P5,null,512)),[[i,{value:e.activity.display,target:"_blank"}]])])}}});var O5=H(T5,[["__scopeId","data-v-10497868"]]);const L5={key:1,class:"empty"},j5={class:"content"},R5=Z({props:{collection:null,primaryKey:null},setup(e){const t=e,{t:n}=ae(),{activity:l,loading:o,refresh:u,count:r,userPreviews:i}=s(t.collection,t.primaryKey);function s(f,_){const v=/\s@[a-zA-Z0-9]{8}-[a-zA-Z0-9]{4}-[a-zA-Z0-9]{4}-[a-zA-Z0-9]{4}-[a-zA-Z0-9]{12}/gm,y=D(null),g=D(0),h=D(null),b=D(!1),S=D({});return I(),{activity:y,error:h,loading:b,refresh:E,count:g,userPreviews:S};async function I(){h.value=null,b.value=!0;try{const R=await me.get("/activity",{params:{"filter[collection][_eq]":f,"filter[item][_eq]":_,"filter[action][_eq]":"comment",sort:"-id",fields:["id","action","timestamp","user.id","user.email","user.first_name","user.last_name","user.avatar.id","revisions.id","comment"]}});g.value=R.data.data.length,S.value=await p(R.data.data,v);const O=R.data.data.map(T=>{const j=T.comment.replace(v,U=>`<mark>${S.value[U.substring(2)]}</mark>`);return Ie(ve({},T),{display:j})}),L=z.exports.groupBy(O,T=>new Date(new Date(T.timestamp).toDateString())),q=[];for(const[T,j]of Object.entries(L)){const U=new Date(T),B=Fa(U),K=Va(U),J=Aa(U);let Y;B?Y=n("today"):K?Y=n("yesterday"):J?Y=await wt(U,String(n("date-fns_date_short_no_year"))):Y=await wt(U,String(n("date-fns_date_short"))),q.push({date:U,dateFormatted:String(Y),activity:j})}y.value=z.exports.orderBy(q,["date"],["desc"])}catch(R){R.value=R}finally{b.value=!1}}async function E(){await I()}}async function p(f,_){let v=[];f.forEach(g=>{v.push(g.comment.match(_))});const y=[...new Set(z.exports.flatten(v))].filter(g=>{if(g)return g});if(y.length>0){const g=await me.get("/users",{params:{filter:{id:{_in:y.map(b=>b.substring(2))}},fields:["first_name","last_name","email","id"]}}),h={};return g.data.data.map(b=>{h[b.id]=Ft(b)}),h}return{}}return(f,_)=>{const v=c("v-progress-linear"),y=c("v-divider"),g=c("sidebar-detail");return m(),F(g,{title:C(n)("comments"),icon:"chat_bubble_outline",badge:C(r)||null},{default:d(()=>[a(pi,{refresh:C(u),collection:e.collection,"primary-key":e.primaryKey},null,8,["refresh","collection","primary-key"]),C(o)?(m(),F(v,{key:0,indeterminate:""})):!C(l)||C(l).length===0?(m(),A("div",L5,[$("div",j5,w(C(n)("no_comments")),1)])):(m(!0),A(se,{key:2},Ve(C(l),h=>(m(),A(se,{key:h.date.toString()},[a(y,null,{default:d(()=>[P(w(h.dateFormatted),1)]),_:2},1024),(m(!0),A(se,null,Ve(h.activity,b=>(m(),F(O5,{key:b.id,refresh:C(u),activity:b,"user-previews":C(i),"primary-key":e.primaryKey,collection:e.collection},null,8,["refresh","activity","user-previews","primary-key","collection"]))),128))],64))),128))]),_:1},8,["title","badge"])}}});var Ao=H(R5,[["__scopeId","data-v-3efb373c"]]);const M5=["src","width","height","alt"],U5=["src"],N5=["src"],B5={key:3,class:"fallback"},q5=Z({props:{mime:null,width:{default:void 0},height:{default:void 0},src:null,title:null,inModal:{type:Boolean,default:!1}},emits:["click"],setup(e){const t=e;Fl(i=>({"53d1b7a6":C(u)}));const n=D(!1),l=V(()=>{var i;return t.mime===null?"unknown":t.mime.startsWith("image")?"image":t.mime.startsWith("video")?"video":t.mime.startsWith("audio")?"audio":(i=an(t.mime,!0))!=null?i:"unknown"}),o=V(()=>t.mime.includes("svg")),u=V(()=>{var i;return Math.min((i=t.height)!=null?i:528,528)+"px"}),r=V(()=>t.height<528);return(i,s)=>{const p=c("v-icon-file");return C(l)&&!n.value?(m(),A("div",{key:0,class:de(["file-preview",{modal:e.inModal,small:C(r),svg:C(o)}])},[C(l)==="image"?(m(),A("div",{key:0,class:"image",onClick:s[1]||(s[1]=f=>i.$emit("click"))},[$("img",{src:e.src,width:e.width,height:e.height,alt:e.title,onError:s[0]||(s[0]=f=>n.value=!0)},null,40,M5)])):C(l)==="video"?(m(),A("video",{key:1,controls:"",src:e.src},null,8,U5)):C(l)==="audio"?(m(),A("audio",{key:2,controls:"",src:e.src},null,8,N5)):(m(),A("div",B5,[a(p,{ext:C(l)},null,8,["ext"])]))],2)):M("",!0)}}});var Io=H(q5,[["__scopeId","data-v-4b192c67"]]);const pt=Ia.extend({type:"string",base:Ia.string(),messages:{"string.contains":"{{#label}} must contain [{{#substring}}]","string.ncontains":"{{#label}} can't contain [{{#substring}}]"},rules:{contains:{args:[{name:"substring",ref:!0,assert:e=>typeof e=="string",message:"must be a string"}],method(e){return this.$_addRule({name:"contains",args:{substring:e}})},validate(e,t,{substring:n}){return e.includes(n)===!1?t.error("string.contains",{substring:n}):e}},ncontains:{args:[{name:"substring",ref:!0,assert:e=>typeof e=="string",message:"must be a string"}],method(e){return this.$_addRule({name:"ncontains",args:{substring:e}})},validate(e,t,{substring:n}){return e.includes(n)===!0?t.error("string.ncontains",{substring:n}):e}}}}),z5={allowUnknown:!0,requireAll:!1};function K5(e,t){e=e||{},t=z.exports.merge({},z5,t);const n={};for(const[l,o]of Object.entries(e))if(l.startsWith("_")===!1){const r=Object.keys(o)[0];if(r==="_eq"&&(n[l]=pt.any().equal(Object.values(o)[0])),r==="_neq"&&(n[l]=pt.any().not(Object.values(o)[0])),r==="_contains"&&(n[l]=pt.string().contains(Object.values(o)[0])),r==="_ncontains"&&(n[l]=pt.string().ncontains(Object.values(o)[0])),r==="_icontains"&&(n[l]=pt.string().contains(Object.values(o)[0])),r==="_starts_with"&&(n[l]=pt.string().pattern(new RegExp(`^${z.exports.escapeRegExp(Object.values(o)[0])}.*`),{name:"starts_with"})),r==="_nstarts_with"&&(n[l]=pt.string().pattern(new RegExp(`^${z.exports.escapeRegExp(Object.values(o)[0])}.*`),{name:"starts_with",invert:!0})),r==="_ends_with"&&(n[l]=pt.string().pattern(new RegExp(`.*${z.exports.escapeRegExp(Object.values(o)[0])}$`),{name:"ends_with"})),r==="_nends_with"&&(n[l]=pt.string().pattern(new RegExp(`.*${z.exports.escapeRegExp(Object.values(o)[0])}$`),{name:"ends_with",invert:!0})),r==="_in"&&(n[l]=pt.any().equal(...Object.values(o)[0])),r==="_nin"&&(n[l]=pt.any().not(...Object.values(o)[0])),r==="_gt"&&(n[l]=pt.number().greater(Number(Object.values(o)[0]))),r==="_gte"&&(n[l]=pt.number().min(Number(Object.values(o)[0]))),r==="_lt"&&(n[l]=pt.number().less(Number(Object.values(o)[0]))),r==="_lte"&&(n[l]=pt.number().max(Number(Object.values(o)[0]))),r==="_null"&&(n[l]=pt.any().valid(null)),r==="_nnull"&&(n[l]=pt.any().invalid(null)),r==="_empty"&&(n[l]=pt.any().valid("")),r==="_nempty"&&(n[l]=pt.any().invalid("")),r==="_between"){const i=Object.values(o)[0];n[l]=pt.number().greater(i[0]).less(i[1])}if(r==="_nbetween"){const i=Object.values(o)[0];n[l]=pt.number().less(i[0]).greater(i[1])}t.requireAll&&(n[l]=n[l].required())}return t.allowUnknown?pt.object(n).unknown():pt.object(n)}function gn(e,t,n,l=!1){const o=Vt();if(Ye().isAdmin===!0)return!0;const i=o.permissions.find(f=>f.action===t&&f.collection===e);if(!i||!i.fields&&t!=="share")return!1;if(l&&t!=="share"&&i.fields.includes("*")===!1&&n){const f=i.fields;if(Object.keys(n).every(v=>f.includes(v))===!1)return!1}const s=K5(i.permissions,{allowUnknown:!0}),{error:p}=s.validate(n);return!p}function Wn(e,t,n){const l=Ye(),o=Vt(),{info:u,fields:r}=_t(e),i=V(()=>gn(e.value,"create",t.value)),s=V(()=>gn(e.value,"delete",t.value)),p=V(()=>n.value?!0:gn(e.value,"update",t.value)),f=V(()=>gn(e.value,"update",t.value)),_=V(()=>gn(e.value,"share",t.value)),v=V(()=>{var h,b;return((b=(h=u.value)==null?void 0:h.meta)==null?void 0:b.archive_field)?gn(e.value,"update",{[u.value.meta.archive_field]:u.value.meta.archive_value},!0):!1}),y=V(()=>{var S,I,E;let h=z.exports.cloneDeep(r.value);if(((I=(S=l.currentUser)==null?void 0:S.role)==null?void 0:I.admin_access)===!0)return h;const b=o.getPermissionsForUser(e.value,n.value?"create":"update");return b&&(((E=b.fields)==null?void 0:E.includes("*"))===!1&&(h=h.map(R=>{var O;return((O=b.fields)==null?void 0:O.includes(R.field))===!1&&(R.meta=Ie(ve({},R.meta||{}),{readonly:!0})),R})),b.presets&&(h=h.map(R=>(R.field in b.presets&&(R.schema=Ie(ve({},R.schema||{}),{default_value:b.presets[R.field]})),R)))),h}),g=V(()=>{var h,b;return((b=(h=l.currentUser)==null?void 0:h.role)==null?void 0:b.admin_access)===!0?!0:!!o.permissions.find(S=>S.collection==="directus_revisions"&&S.action==="read")});return{createAllowed:i,deleteAllowed:s,saveAllowed:p,archiveAllowed:v,updateAllowed:f,shareAllowed:_,fields:y,revisionsAllowed:g}}function mi(e,t){const n=D(),l=D(!1),o=D(null),u=V(()=>{var i,s;return((s=(i=e.value)==null?void 0:i.meta)==null?void 0:s.display_template)?St(e.value.meta.display_template):null});return he([e,t],r,{immediate:!0}),{templateData:n,loading:l,error:o};async function r(){if(!t.value||t.value==="+"||u.value===null||!e.value)return;l.value=!0;const i=e.value.collection.startsWith("directus_")?`/${e.value.collection.substring(9)}/${t.value}`:`/items/${e.value.collection}/${encodeURIComponent(t.value)}`;try{const s=await me.get(i,{params:{fields:u.value}});n.value=s.data.data}catch(s){o.value=s}finally{l.value=!1}}}class W5 extends Error{constructor(t,n,l,o){super(t);this.status=n,this.code=l,this.extensions=o||{}}}class H5 extends W5{constructor(t){var n,l,o,u,r,i,s,p,f,_,v,y,g,h;const b={field:t.path[0]},S=t.type;if(S.endsWith("only"))if(((n=t.context)===null||n===void 0?void 0:n.valids.length)>1)b.type="in",b.valid=(l=t.context)===null||l===void 0?void 0:l.valids;else{const I=(o=t.context)===null||o===void 0?void 0:o.valids[0];I===null?b.type="null":I===""?b.type="empty":(b.type="eq",b.valid=(u=t.context)===null||u===void 0?void 0:u.valids[0])}if(S.endsWith("invalid"))if(((r=t.context)===null||r===void 0?void 0:r.invalids.length)>1)b.type="nin",b.invalid=(i=t.context)===null||i===void 0?void 0:i.invalids;else{const I=(s=t.context)===null||s===void 0?void 0:s.invalids[0];I===null?b.type="nnull":I===""?b.type="nempty":(b.type="neq",b.invalid=I)}S.endsWith("greater")&&(b.type="gt",b.valid=(p=t.context)===null||p===void 0?void 0:p.limit),S.endsWith("min")&&(b.type="gte",b.valid=(f=t.context)===null||f===void 0?void 0:f.limit),S.endsWith("less")&&(b.type="lt",b.valid=(_=t.context)===null||_===void 0?void 0:_.limit),S.endsWith("max")&&(b.type="lte",b.valid=(v=t.context)===null||v===void 0?void 0:v.limit),S.endsWith("contains")&&(b.type="contains",b.substring=(y=t.context)===null||y===void 0?void 0:y.substring),S.endsWith("ncontains")&&(b.type="ncontains",b.substring=(g=t.context)===null||g===void 0?void 0:g.substring),S.endsWith("required")&&(b.type="required"),S.endsWith(".pattern.base")&&(b.type="regex",b.invalid=(h=t.context)===null||h===void 0?void 0:h.value);super(t.message,400,"FAILED_VALIDATION",b)}}function In(e){var l;const t=Ye();if(!t.currentUser)return e!=null?e:{};const n={role:t.currentUser.role.id,user:t.currentUser.id};return(l=go(e,n))!=null?l:{}}function fi(e,t){var n;if(t.meta&&Array.isArray((n=t.meta)==null?void 0:n.conditions)){const o=[...t.meta.conditions].reverse().find(u=>{if(!u.rule||Object.keys(u.rule).length!==1)return;const r=In(u.rule);return Rl(r,e,{requireAll:!0}).length===0});return o?Ie(ve({},t),{meta:z.exports.merge({},t.meta||{},{readonly:o.readonly,options:o.options,hidden:o.hidden,required:o.required})}):t}else return t}function Eo(e,t,n){var r;const l={_and:[]},u=t.map(i=>fi(e,i)).filter(i=>{var s;return((s=i.meta)==null?void 0:s.required)===!0});for(const i of u)n&&z.exports.isNil((r=i.schema)==null?void 0:r.default_value)&&l._and.push({[i.field]:{_submitted:!0}}),l._and.push({[i.field]:{_nnull:!0}});return z.exports.flatten(Rl(l,e).map(i=>i.details.map(s=>new H5(s).extensions))).map(i=>{var p,f;const s=t.find(_=>_.field===i.field);return Ie(ve({},i),{hidden:(p=s==null?void 0:s.meta)==null?void 0:p.hidden,group:(f=s==null?void 0:s.meta)==null?void 0:f.group})})}const G5=Z({components:{FilePreview:Io},props:{active:{type:Boolean,default:!1},collection:{type:String,required:!0},primaryKey:{type:[String,Number],default:null},edits:{type:Object,default:void 0},junctionField:{type:String,default:null},disabled:{type:Boolean,default:!1},relatedPrimaryKey:{type:[String,Number],default:"+"},circularField:{type:String,default:null}},emits:["update:active","input"],setup(e,{emit:t}){const{t:n,te:l}=ae(),o=D([]),u=Me(),r=mt(),{internalActive:i}=Q(),{junctionFieldInfo:s,junctionRelatedCollection:p,junctionRelatedCollectionInfo:f,setJunctionEdits:_}=ee(),{internalEdits:v,loading:y,item:g}=X(),{save:h,cancel:b}=le(),{collection:S}=ze(e),{info:I}=_t(S),E=V(()=>e.primaryKey==="+"&&e.relatedPrimaryKey==="+"),R=V(()=>{const te=(f==null?void 0:f.value)||I.value;return l(`collection_names_singular.${te.collection}`)?E.value?n("creating_unit",{unit:n(`collection_names_singular.${te.collection}`)}):n("editing_unit",{unit:n(`collection_names_singular.${te.collection}`)}):E.value?n("creating_in",{collection:te.name}):n("editing_in",{collection:te.name})}),O=V(()=>u.getFieldsForCollection(e.collection).filter(te=>{var re;return((re=te.meta)==null?void 0:re.hidden)!==!0}).length>0),{fields:L}=Wn(p,V(()=>g.value&&g.value[e.junctionField]),V(()=>e.primaryKey==="+")),{fields:q}=Wn(S,g,V(()=>e.primaryKey==="+")),T=V(()=>e.circularField?q.value.filter(te=>te.field!==e.circularField):q.value),j=V(()=>s.value?String(e.relatedPrimaryKey):String(e.primaryKey)),U=V(()=>f.value||I.value),{templateData:B,loading:K}=mi(U,j),J=V(()=>{var te,re,ye,fe;return((re=(te=f.value)==null?void 0:te.meta)==null?void 0:re.display_template)||((fe=(ye=I.value)==null?void 0:ye.meta)==null?void 0:fe.display_template)||null}),{file:Y,isDirectusFiles:W}=G();return{t:n,internalActive:i,internalEdits:v,loading:y,item:g,validationErrors:o,save:h,cancel:b,title:R,junctionFieldInfo:s,junctionRelatedCollection:p,setJunctionEdits:_,showDivider:O,junctionRelatedCollectionFields:L,fields:T,template:J,templateCollection:U,templatePrimaryKey:j,templateData:B,templateDataLoading:K,collectionInfo:I,file:Y,isDirectusFiles:W};function G(){const te=V(()=>p.value==="directus_files");return{file:V(()=>{var ue;if(te.value===!1||!g.value)return null;const ye=(ue=g.value)==null?void 0:ue[e.junctionField];if(!ye)return null;const fe=ct(tt()+`assets/${ye.id}?key=system-large-contain`);return Ie(ve({},ye),{src:fe})}),isDirectusFiles:te}}function Q(){const te=D(!1);return{internalActive:V({get(){return e.active===void 0?te.value:e.active},set(ye){te.value=ye,t("update:active",ye)}})}}function X(){const te=D({}),re=V({get(){return e.edits!==void 0?ve(ve({},e.edits),te.value):te.value},set(ce){te.value=ce}}),ye=D(!1),fe=D(null);return he(()=>e.active,ce=>{ce===!0?(e.primaryKey!=="+"&&ue(),e.relatedPrimaryKey!=="+"&&_e()):(ye.value=!1,fe.value=null,te.value={})},{immediate:!0}),{internalEdits:re,loading:ye,item:fe,fetchItem:ue};async function ue(){ye.value=!0;const ce=e.collection.startsWith("directus_")?`/${e.collection.substring(9)}/${e.primaryKey}`:`/items/${e.collection}/${encodeURIComponent(e.primaryKey)}`;let oe="*";e.junctionField&&(oe=`*,${e.junctionField}.*`);try{const ne=await me.get(ce,{params:{fields:oe}});fe.value=ne.data.data}catch(ne){Pe(ne)}finally{ye.value=!1}}async function _e(){ye.value=!0;const ce=p.value,oe=ce.startsWith("directus_")?`/${ce.substring(9)}/${e.relatedPrimaryKey}`:`/items/${ce}/${encodeURIComponent(e.relatedPrimaryKey)}`;try{const ne=await me.get(oe);fe.value=Ie(ve({},fe.value||{}),{[s.value.field]:ne.data.data})}catch(ne){Pe(ne)}finally{ye.value=!1}}}function ee(){const te=V(()=>e.junctionField?u.getField(e.collection,e.junctionField):null),re=V(()=>{var ce,oe;if(!e.junctionField)return null;const _e=r.getRelationsForField(e.collection,e.junctionField).find(ne=>ne.collection===e.collection&&ne.field===e.junctionField);return _e.related_collection?_e.related_collection:((ce=_e.meta)==null?void 0:ce.one_collection_field)?e.edits[_e.meta.one_collection_field]||((oe=g.value)==null?void 0:oe[_e.meta.one_collection_field]):null}),{info:ye}=_t(re);return{junctionFieldInfo:te,junctionRelatedCollection:re,junctionRelatedCollectionInfo:ye,setJunctionEdits:fe};function fe(ue){!e.junctionField||(v.value=Ie(ve({},v.value),{[e.junctionField]:ue}))}}function le(){return{save:te,cancel:re};function te(){const ye=e.junctionField?v.value[e.junctionField]:v.value,fe=e.junctionField?L.value:T.value;let ue=Eo(ye||{},fe,E.value);if(ue.length>0){o.value=ue;return}t("input",v.value),i.value=!1,v.value={}}function re(){o.value=[],i.value=!1,v.value={}}}}}),Z5={key:1,class:"type-title"},J5={class:"drawer-item-content"};function X5(e,t,n,l,o,u){const r=c("v-skeleton-loader"),i=c("render-template"),s=c("v-breadcrumb"),p=c("v-icon"),f=c("v-button"),_=c("file-preview"),v=c("v-form"),y=c("v-divider"),g=c("v-drawer"),h=Fe("tooltip");return m(),F(g,{modelValue:e.internalActive,"onUpdate:modelValue":t[1]||(t[1]=b=>e.internalActive=b),title:e.title,persistent:"",onCancel:e.cancel},at({subtitle:d(()=>[a(s,{items:[{name:e.collectionInfo.name,disabled:!0}]},null,8,["items"])]),actions:d(()=>[ke(e.$slots,"actions",{},void 0,!0),ie(a(f,{icon:"",rounded:"",onClick:e.save},{default:d(()=>[a(p,{name:"check"})]),_:1},8,["onClick"]),[[h,e.t("save"),void 0,{bottom:!0}]])]),default:d(()=>[$("div",J5,[e.junctionField?(m(),A(se,{key:0},[e.file?(m(),F(_,{key:0,src:e.file.src,mime:e.file.type,width:e.file.width,height:e.file.height,title:e.file.title,"in-modal":!0},null,8,["src","mime","width","height","title"])):M("",!0),a(v,{disabled:e.disabled,loading:e.loading,"initial-values":e.item&&e.item[e.junctionField],"primary-key":e.relatedPrimaryKey,"model-value":e.internalEdits[e.junctionField],fields:e.junctionRelatedCollectionFields,"validation-errors":e.junctionField?e.validationErrors:void 0,autofocus:"","onUpdate:modelValue":e.setJunctionEdits},null,8,["disabled","loading","initial-values","primary-key","model-value","fields","validation-errors","onUpdate:modelValue"]),e.showDivider?(m(),F(y,{key:1})):M("",!0)],64)):M("",!0),a(v,{modelValue:e.internalEdits,"onUpdate:modelValue":t[0]||(t[0]=b=>e.internalEdits=b),disabled:e.disabled,loading:e.loading,"initial-values":e.item,"primary-key":e.primaryKey,fields:e.fields,"validation-errors":e.junctionField?void 0:e.validationErrors},null,8,["modelValue","disabled","loading","initial-values","primary-key","fields","validation-errors"])])]),_:2},[e.template!==null&&e.templateData&&e.primaryKey!=="+"?{name:"title",fn:d(()=>[e.loading||e.templateDataLoading?(m(),F(r,{key:0,class:"title-loader",type:"text"})):(m(),A("h1",Z5,[a(i,{collection:e.templateCollection.collection,item:e.templateData,template:e.template},null,8,["collection","item","template"])]))])}:void 0]),1032,["modelValue","title","onCancel"])}var Ht=H(G5,[["render",X5],["__scopeId","data-v-59c1c5de"]]);function il(){const{t:e}=ae(),t=V(()=>{var u;return!!((u=navigator==null?void 0:navigator.clipboard)==null?void 0:u.writeText)}),n=V(()=>{var u;return!!((u=navigator==null?void 0:navigator.clipboard)==null?void 0:u.readText)});return{isCopySupported:t,isPasteSupported:n,copyToClipboard:l,pasteFromClipboard:o};async function l(u,r){var i,s,p;try{return await((i=navigator==null?void 0:navigator.clipboard)==null?void 0:i.writeText(u)),yt({title:(s=r==null?void 0:r.success)!=null?s:e("copy_raw_value_success")}),!0}catch{return yt({type:"error",title:(p=r==null?void 0:r.fail)!=null?p:e("copy_raw_value_fail")}),!1}}async function o(u){var r,i,s;try{const p=await((r=navigator==null?void 0:navigator.clipboard)==null?void 0:r.readText());return yt({title:(i=u==null?void 0:u.success)!=null?i:e("paste_raw_value_success")}),p}catch{return yt({type:"error",title:(s=u==null?void 0:u.fail)!=null?s:e("paste_raw_value_fail")}),null}}}const Y5=Z({props:{share:{type:Object,required:!0}},emits:["copy","edit","invite","delete"],setup(e){const{t,d:n}=ae(),l=V(()=>gn("directus_shares","update",e.share)),o=V(()=>gn("directus_shares","delete",e.share)),u=V(()=>e.share.max_uses===null?null:e.share.max_uses-e.share.times_used),r=V(()=>e.share.date_end&&new Date(e.share.date_end)<new Date?"expired":e.share.date_start&&new Date(e.share.date_start)>new Date?"upcoming":null),i=V(()=>_n(new Date(e.share.date_created),String(t("date-fns_date_short")))),s=D(null);return{editAllowed:l,deleteAllowed:o,usesLeft:u,status:r,t,d:n,formattedTime:i,confirmDelete:s}}}),Q5=e=>(xe("data-v-99e5b938"),e=e(),et(),e),x5={class:"item"},eC={class:"item-header"},tC={class:"type-label"},nC={class:"header-right"},lC={class:"date"},oC={class:"item-info"},aC=Q5(()=>$("span",{style:{"flex-grow":"1"}},null,-1));function iC(e,t,n,l,o,u){const r=c("v-icon"),i=c("v-list-item-icon"),s=c("v-list-item-content"),p=c("v-list-item"),f=c("v-divider"),_=c("v-list"),v=c("v-menu");return m(),A("div",x5,[$("div",eC,[$("span",tC,w(e.share.name),1),$("div",nC,[a(v,{"show-arrow":"",placement:"bottom-end"},{activator:d(({toggle:y,active:g})=>[a(r,{class:de(["more",{active:g}]),name:"more_horiz",clickable:"",onClick:y},null,8,["class","onClick"]),$("div",lC,w(e.formattedTime),1)]),default:d(()=>[a(_,null,{default:d(()=>[a(p,{clickable:"",onClick:t[0]||(t[0]=y=>e.$emit("copy"))},{default:d(()=>[a(i,null,{default:d(()=>[a(r,{name:"copy"})]),_:1}),a(s,null,{default:d(()=>[P(w(e.t("share_copy_link")),1)]),_:1})]),_:1}),a(p,{clickable:"",onClick:t[1]||(t[1]=y=>e.$emit("invite"))},{default:d(()=>[a(i,null,{default:d(()=>[a(r,{name:"send"})]),_:1}),a(s,null,{default:d(()=>[P(w(e.t("share_send_link")),1)]),_:1})]),_:1}),e.deleteAllowed&&e.editAllowed?(m(),F(f,{key:0})):M("",!0),e.editAllowed?(m(),F(p,{key:1,clickable:"",onClick:t[2]||(t[2]=y=>e.$emit("edit"))},{default:d(()=>[a(i,null,{default:d(()=>[a(r,{name:"edit"})]),_:1}),a(s,null,{default:d(()=>[P(w(e.t("edit")),1)]),_:1})]),_:1})):M("",!0),e.deleteAllowed?(m(),F(p,{key:2,clickable:"",class:"danger",onClick:t[3]||(t[3]=y=>e.$emit("delete"))},{default:d(()=>[a(i,null,{default:d(()=>[a(r,{name:"delete"})]),_:1}),a(s,null,{default:d(()=>[P(w(e.t("delete_label")),1)]),_:1})]),_:1})):M("",!0)]),_:1})]),_:1})])]),$("div",oC,[$("span",{class:de(["share-uses",{"no-left":e.usesLeft===0}])},[e.usesLeft===null?(m(),A(se,{key:0},[P(w(e.t("unlimited_usage")),1)],64)):(m(),A(se,{key:1},[P(w(e.t("uses_left",e.usesLeft)),1)],64))],2),e.share.password?(m(),F(r,{key:0,small:"",name:"lock"})):M("",!0),aC,e.status?(m(),A("span",{key:1,class:de(["share-status",{[e.status]:!0}])},w(e.t(e.status)),3)):M("",!0)])])}var rC=H(Y5,[["render",iC],["__scopeId","data-v-99e5b938"]]);const sC=Z({components:{ShareItem:rC,DrawerItem:Ht},props:{collection:{type:String,required:!0},primaryKey:{type:[String,Number],required:!0},allowed:{type:Boolean,required:!0}},setup(e){const{t}=ae(),{copyToClipboard:n}=il(),l=D(null),o=D(0),u=D(null),r=D(!1),i=D(!1),s=D(null),p=D(null),f=D(null),_=D(!1),v=D(""),y=V(()=>p.value?window.location.origin+tt()+"admin/shared/"+p.value.id:null);return I(),{shareToDelete:f,t,shares:l,loading:r,error:u,refresh:I,count:o,select:b,unselect:S,shareToEdit:s,input:g,copy:h,shareToSend:p,remove:E,deleting:i,sendPublicLink:y,send:R,sending:_,sendEmails:v};async function g(O){if(!!O){O.collection=e.collection,O.item=e.primaryKey;try{s.value==="+"?await me.post("/shares",O):await me.patch(`/shares/${s.value}`,O),await I(),s.value=null}catch(L){Pe(L)}}}async function h(O){const L=window.location.origin+tt()+"admin/shared/"+O;await n(L,{success:t("share_copy_link_success"),fail:t("share_copy_link_error")})}function b(O){s.value=O}function S(){s.value=null}async function I(){u.value=null,r.value=!0;try{const O=await me.get("/shares",{params:{filter:{_and:[{collection:{_eq:e.collection}},{item:{_eq:e.primaryKey}}]},sort:"name"}});o.value=O.data.data.length,l.value=O.data.data}catch(O){O.value=O}finally{r.value=!1}}async function E(){if(!!f.value){i.value=!0;try{await me.delete(`/shares/${f.value.id}`),await I(),f.value=null}catch(O){Pe(O)}finally{i.value=!1}}}async function R(){if(!!p.value){_.value=!0;try{const O=v.value.split(/,|\n/).filter(L=>L).map(L=>L.trim());await me.post("/shares/invite",{emails:O,share:p.value.id}),v.value="",p.value=null}catch(O){Pe(O)}finally{_.value=!1}}}}}),dC={key:2,class:"empty"},uC={class:"content"},cC={class:"grid"},pC={class:"field"},mC={class:"field"},fC={class:"type-label"};function _C(e,t,n,l,o,u){const r=c("v-notice"),i=c("v-progress-linear"),s=c("share-item"),p=c("drawer-item"),f=c("v-card-title"),_=c("v-card-text"),v=c("v-button"),y=c("v-card-actions"),g=c("v-card"),h=c("v-dialog"),b=c("v-input"),S=c("v-textarea"),I=c("sidebar-detail");return m(),F(I,{title:e.t("shares"),icon:"share",badge:e.count},{default:d(()=>[e.error?(m(),F(r,{key:0,type:"danger"},{default:d(()=>[P(w(e.t("unexpected_error")),1)]),_:1})):e.loading?(m(),F(i,{key:1,indeterminate:""})):!e.shares||e.shares.length===0?(m(),A("div",dC,[$("div",uC,w(e.t("no_shares")),1)])):M("",!0),(m(!0),A(se,null,Ve(e.shares,E=>(m(),F(s,{key:E.id,share:E,onCopy:R=>e.copy(E.id),onEdit:R=>e.select(E.id),onDelete:R=>e.shareToDelete=E,onInvite:R=>e.shareToSend=E},null,8,["share","onCopy","onEdit","onDelete","onInvite"]))),128)),a(p,{collection:"directus_shares","primary-key":e.shareToEdit,active:!!e.shareToEdit,onCancel:e.unselect,onInput:e.input},null,8,["primary-key","active","onCancel","onInput"]),a(h,{"model-value":!!e.shareToDelete,"onUpdate:modelValue":t[1]||(t[1]=E=>e.shareToDelete=null),onEsc:t[2]||(t[2]=E=>e.shareToDelete=null)},{default:d(()=>[a(g,null,{default:d(()=>[a(f,null,{default:d(()=>[P(w(e.t("delete_share")),1)]),_:1}),a(_,null,{default:d(()=>[P(w(e.t("delete_are_you_sure")),1)]),_:1}),a(y,null,{default:d(()=>[a(v,{secondary:"",onClick:t[0]||(t[0]=E=>e.shareToDelete=null)},{default:d(()=>[P(w(e.t("cancel")),1)]),_:1}),a(v,{kind:"danger",loading:e.deleting,onClick:e.remove},{default:d(()=>[P(w(e.t("delete_label")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["model-value"]),a(h,{"model-value":!!e.shareToSend,"onUpdate:modelValue":t[5]||(t[5]=E=>e.shareToSend=null),onEsc:t[6]||(t[6]=E=>e.shareToSend=null)},{default:d(()=>[a(g,null,{default:d(()=>[a(f,null,{default:d(()=>[P(w(e.t("share_send_link")),1)]),_:1}),a(_,null,{default:d(()=>[$("div",cC,[$("div",pC,[a(b,{disabled:"","model-value":e.sendPublicLink},null,8,["model-value"])]),$("div",mC,[$("div",fC,w(e.t("emails")),1),a(S,{modelValue:e.sendEmails,"onUpdate:modelValue":t[3]||(t[3]=E=>e.sendEmails=E),nullable:!1,placeholder:"admin@example.com, user@example.com..."},null,8,["modelValue"])])])]),_:1}),a(y,null,{default:d(()=>[a(v,{secondary:"",onClick:t[4]||(t[4]=E=>e.shareToSend=null)},{default:d(()=>[P(w(e.t("cancel")),1)]),_:1}),a(v,{loading:e.sending,onClick:e.send},{default:d(()=>[P(w(e.t("share_send_link")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["model-value"]),e.allowed?(m(),F(v,{key:3,"full-width":"",onClick:t[7]||(t[7]=E=>e.select("+"))},{default:d(()=>[P(w(e.t("new_share")),1)]),_:1})):M("",!0)]),_:1},8,["title","badge"])}var vC=H(sC,[["render",_C],["__scopeId","data-v-39e13048"]]);function En(e,t){const{info:n,primaryKeyField:l}=_t(e),o=D(null),u=D(null),r=D([]),i=D(!1),s=D(!1),p=D(!1),f=D(!1),_=D({}),v=V(()=>Object.keys(_.value).length>0),y=V(()=>t.value==="+"),g=V(()=>typeof t.value=="string"&&t.value.includes(",")),h=V(()=>{var B,K;return!!((K=(B=n.value)==null?void 0:B.meta)==null?void 0:K.singleton)}),b=V(()=>{var B,K,J,Y;return((K=(B=n.value)==null?void 0:B.meta)==null?void 0:K.archive_field)?n.value.meta.archive_value==="true"?((J=o.value)==null?void 0:J[n.value.meta.archive_field])===!0:((Y=o.value)==null?void 0:Y[n.value.meta.archive_field])===n.value.meta.archive_value:null}),{fields:S}=Wn(e,o,y),I=V(()=>h.value?jt(e.value):`${jt(e.value)}/${encodeURIComponent(t.value)}`);return he([e,t],j,{immediate:!0}),{edits:_,hasEdits:v,item:o,error:u,loading:i,saving:s,refresh:j,save:R,isNew:y,remove:T,deleting:p,archive:q,isArchived:b,archiving:f,saveAsCopy:O,isBatch:g,getItem:E,validationErrors:r};async function E(){i.value=!0,u.value=null;try{const B=await me.get(I.value);U(B)}catch(B){u.value=B}finally{i.value=!1}}async function R(){s.value=!0,r.value=[];const B=Eo(z.exports.merge({},o.value,_.value),S.value,y.value);if(B.length>0)throw r.value=B,s.value=!1,B;try{let K;return y.value===!0?(K=await me.post(jt(e.value),_.value),yt({title:Be.global.t("item_create_success",g.value?2:1)})):(K=await me.patch(I.value,_.value),yt({title:Be.global.t("item_update_success",g.value?2:1)})),U(K),_.value={},K.data.data}catch(K){L(K)}finally{s.value=!1}}async function O(){var X,ee,le;s.value=!0,r.value=[];const B=((ee=(X=n.value)==null?void 0:X.meta)==null?void 0:ee.item_duplication_fields)||["*"],K=await me.get(I.value,{params:{fields:B}}),J=ve(ve({},K.data.data||{}),_.value);l.value&&l.value.field in J&&delete J[l.value.field];const Y=Me(),W=mt(),G=W.getRelationsForCollection(e.value);for(const te of G){const re=Y.getPrimaryKeyFieldForCollection(te.collection),ye=W.relations.find(fe=>{var ue,_e;return fe.collection===te.collection&&((ue=fe.meta)==null?void 0:ue.many_field)===((_e=te.meta)==null?void 0:_e.junction_field)});if(((le=te.meta)==null?void 0:le.one_field)&&te.meta.one_field in J){const fe=B.filter(ce=>ce.startsWith(te.meta.one_field)).map(ce=>ce.split(".").slice(1).join(".")),ue=J[te.meta.one_field].filter(ce=>typeof ce!="object");let _e=[];ue.length>0&&(_e=(await me.get(jt(te.collection),{params:{fields:[re.field,...fe],[`filter[${re.field}][_in]`]:ue.join(",")}})).data.data),J[te.meta.one_field]=J[te.meta.one_field].map(ce=>{var oe;if(typeof ce!="object"&&_e.length>0&&(ce=_e.find(ne=>ne.id===ce)),delete ce[re.field],((oe=te.meta)==null?void 0:oe.junction_field)&&(ye==null?void 0:ye.related_collection)){const ne=Y.getPrimaryKeyFieldForCollection(ye.related_collection);delete ce[te.meta.junction_field][ne.field]}return ce})}}const Q=Eo(J,S.value,y.value);if(Q.length>0)throw r.value=Q,s.value=!1,Q;try{const te=await me.post(jt(e.value),J);return yt({title:Be.global.t("item_create_success",1)}),_.value={},l.value?te.data.data[l.value.field]:null}catch(te){L(te)}finally{s.value=!1}}function L(B){var K,J;if((J=(K=B==null?void 0:B.response)==null?void 0:K.data)==null?void 0:J.errors){r.value=B.response.data.errors.filter(W=>{var G;return Nl.includes((G=W==null?void 0:W.extensions)==null?void 0:G.code)}).map(W=>W.extensions);const Y=B.response.data.errors.filter(W=>{var G;return Nl.includes((G=W==null?void 0:W.extensions)==null?void 0:G.code)===!1});Y.length>0&&Y.forEach(Pe)}else Pe(B);throw B}async function q(){var Y,W;if(!((W=(Y=n.value)==null?void 0:Y.meta)==null?void 0:W.archive_field))return;f.value=!0;const B=n.value.meta.archive_field;let K=n.value.meta.archive_value;K==="true"&&(K=!0),K==="false"&&(K=!1);let J=n.value.meta.unarchive_value;J==="true"&&(J=!0),J==="false"&&(J=!1);try{let G=o.value&&o.value[B]===K?J:K;G==="true"&&(G=!0),G==="false"&&(G=!1),await me.patch(I.value,{[B]:G}),o.value=Ie(ve({},o.value),{[B]:G}),yt({title:G===K?Be.global.t("item_delete_success",g.value?2:1):Be.global.t("item_update_success",g.value?2:1)})}catch(G){throw Pe(G),G}finally{f.value=!1}}async function T(){p.value=!0;try{await me.delete(I.value),o.value=null,yt({title:Be.global.t("item_delete_success",g.value?2:1)})}catch(B){throw Pe(B),B}finally{p.value=!1}}function j(){u.value=null,i.value=!1,s.value=!1,p.value=!1,y.value===!0?o.value=null:E()}function U(B){var K;if((e.value.startsWith("directus_")&&e.value!=="directus_collections"||e.value==="directus_collections"&&((K=B.data.data.collection)==null?void 0:K.startsWith("directus_")))&&(B.data.data=Dt(B.data.data)),g.value===!1)o.value=B.data.data;else{const J=ve({},B.data.data[0]);B.data.data.forEach(Y=>{for(const[W,G]of Object.entries(Y))J[W]!==G&&delete J[W]}),o.value=J}}}function Do(e){return e.charAt(0).toUpperCase()+e.slice(1)}function _i(e){return navigator.platform.toLowerCase().startsWith("mac")||navigator.platform.startsWith("iP")?e.map(n=>n==="meta"?"\u2318":n==="option"?"\u2325":n==="shift"?"\u21E7":n==="alt"?"\u2325":Do(n)).join(""):e.map(n=>n==="meta"?"Ctrl":Do(n)).join("+")}const yC=Z({props:{disabledOptions:{type:Array,default:()=>[]}},emits:["save-and-stay","save-and-add-new","save-as-copy","discard-and-stay"],setup(){const{t:e}=ae();return{t:e,translateShortcut:_i}}});function hC(e,t,n,l,o,u){const r=c("v-icon"),i=c("v-list-item-icon"),s=c("v-list-item-content"),p=c("v-list-item-hint"),f=c("v-list-item"),_=c("v-list"),v=c("v-menu");return m(),F(v,{"show-arrow":""},{activator:d(({toggle:y})=>[a(r,{name:"more_vert",clickable:"",onClick:y},null,8,["onClick"])]),default:d(()=>[a(_,null,{default:d(()=>[e.disabledOptions.includes("save-and-stay")?M("",!0):(m(),F(f,{key:0,clickable:"",onClick:t[0]||(t[0]=y=>e.$emit("save-and-stay"))},{default:d(()=>[a(i,null,{default:d(()=>[a(r,{name:"check"})]),_:1}),a(s,null,{default:d(()=>[P(w(e.t("save_and_stay")),1)]),_:1}),a(p,null,{default:d(()=>[P(w(e.translateShortcut(["meta","s"])),1)]),_:1})]),_:1})),e.disabledOptions.includes("save-and-add-new")?M("",!0):(m(),F(f,{key:1,clickable:"",onClick:t[1]||(t[1]=y=>e.$emit("save-and-add-new"))},{default:d(()=>[a(i,null,{default:d(()=>[a(r,{name:"add"})]),_:1}),a(s,null,{default:d(()=>[P(w(e.t("save_and_create_new")),1)]),_:1}),a(p,null,{default:d(()=>[P(w(e.translateShortcut(["meta","shift","s"])),1)]),_:1})]),_:1})),e.disabledOptions.includes("save-as-copy")?M("",!0):(m(),F(f,{key:2,clickable:"",onClick:t[2]||(t[2]=y=>e.$emit("save-as-copy"))},{default:d(()=>[a(i,null,{default:d(()=>[a(r,{name:"done_all"})]),_:1}),a(s,null,{default:d(()=>[P(w(e.t("save_as_copy")),1)]),_:1})]),_:1})),e.disabledOptions.includes("discard-and-stay")?M("",!0):(m(),F(f,{key:3,clickable:"",onClick:t[3]||(t[3]=y=>e.$emit("discard-and-stay"))},{default:d(()=>[a(i,null,{default:d(()=>[a(r,{name:"undo"})]),_:1}),a(s,null,{default:d(()=>[P(w(e.t("discard_all_changes")),1)]),_:1})]),_:1}))]),_:1})]),_:1})}var zl=H(yC,[["render",hC],["__scopeId","data-v-d6332d10"]]);function sn(e){const{path:t}=Wt(),n=D(!1),l=D(null),o=r=>{if(e.value)return r.preventDefault(),r.returnValue="",""},u=r=>{if(e.value&&!r.path.startsWith(t))return n.value=!0,l.value=r.fullPath,!1};return Ea(()=>{window.addEventListener("beforeunload",o)}),Vl(()=>{window.removeEventListener("beforeunload",o)}),ro(u),Sl(u),{confirmLeave:n,leaveTo:l}}function gC(e){if(e==null)return;const t=typeof e=="string"?D(e):e;return he(t,(n,l)=>{typeof n=="string"&&l!==n&&(document.title=n)},{immediate:!0}),t}function bC(e,t){const n=Cd(t,e);return typeof n=="object"?JSON.stringify(n):n}function vi(e,t){const n=C(t),l=C(e),o=V(()=>St(l)),u=V(()=>{if(!n||!l||!o.value)return!1;try{return $d(l,bC,n,{propsExist:!0})}catch{return!1}});return{fieldsInTemplate:o,displayValue:u}}function Po(e,t){const n=St(e);if(!t||!e||!n)return null;try{return Xt(e,t,{propsExist:!0})}catch{return null}}const wC=Z({name:"ContentsItem",components:{ContentNavigation:Ml,ContentNotFound:So,RevisionsDrawerDetail:al,CommentsSidebarDetail:Ao,SharesSidebarDetail:vC,SaveOptions:zl},props:{collection:{type:String,required:!0},primaryKey:{type:String,default:null},singleton:{type:Boolean,default:!1}},setup(e){const{t,te:n}=ae(),l=it(),o=D(),{collection:u,primaryKey:r}=ze(e),{breadcrumb:i}=we(),s=D(null),{info:p,defaults:f,primaryKeyField:_,isSingleton:v,accountabilityScope:y}=_t(u),{isNew:g,edits:h,hasEdits:b,item:S,saving:I,loading:E,error:R,save:O,remove:L,deleting:q,archive:T,archiving:j,isArchived:U,saveAsCopy:B,refresh:K,validationErrors:J}=En(u,r),{templateData:Y,loading:W}=mi(p,r),G=V(()=>{var Ne,Se,Ae,Oe,Qe,We;return ce.value===!1?!1:b.value===!0?!0:!((Se=(Ne=_.value)==null?void 0:Ne.schema)==null?void 0:Se.has_auto_increment)&&!((Qe=(Oe=(Ae=_.value)==null?void 0:Ae.meta)==null?void 0:Oe.special)==null?void 0:Qe.includes("uuid"))?!!((We=h.value)==null?void 0:We[_.value.field]):g.value===!0&&Object.keys(f.value).length>0||b.value}),{confirmLeave:Q,leaveTo:X}=sn(b),ee=D(!1),le=D(!1),te=V(()=>{var Ne,Se;return n(`collection_names_singular.${e.collection}`)?g.value?t("creating_unit",{unit:t(`collection_names_singular.${e.collection}`)}):t("editing_unit",{unit:t(`collection_names_singular.${e.collection}`)}):g.value?t("creating_in",{collection:(Ne=p.value)==null?void 0:Ne.name}):t("editing_in",{collection:(Se=p.value)==null?void 0:Se.name})}),re=V(()=>{var Se;let Ne=(((Se=p.value)==null?void 0:Se.name)||"")+" | ";if(p.value&&p.value.meta){if(p.value.meta.singleton===!0)return Ne+p.value.name;if(g.value===!1&&p.value.meta.display_template){const{displayValue:Ae}=vi(p.value.meta.display_template,Y);if(Ae.value!==void 0)return Ne+Ae.value}}return Ne+te.value});gC(re);const ye=V(()=>_e.value===!1?t("not_allowed"):U.value===!0?t("unarchive"):t("archive"));rt("meta+s",De,o),rt("meta+shift+s",qe,o);const{createAllowed:fe,deleteAllowed:ue,archiveAllowed:_e,saveAllowed:ce,updateAllowed:oe,shareAllowed:ne,fields:x,revisionsAllowed:pe}=Wn(u,S,g),ge=V(()=>{var Ne,Se,Ae;return g.value?"+":v.value?(Ae=(Se=S.value)==null?void 0:Se[(Ne=_.value)==null?void 0:Ne.field])!=null?Ae:"+":e.primaryKey}),$e=V(()=>fe.value?g.value?["save-as-copy"]:[]:["save-and-add-new","save-as-copy"]);return{t,router:l,item:S,loading:E,error:R,isNew:g,edits:h,isSavable:G,hasEdits:b,saving:I,collectionInfo:p,saveAndQuit:be,deleteAndQuit:je,confirmDelete:ee,confirmArchive:le,deleting:q,archiving:j,disabledOptions:$e,saveAndStay:De,saveAndAddNew:qe,saveAsCopyAndNavigate:Ke,discardAndStay:Ee,templateData:Y,templateDataLoading:W,archiveTooltip:ye,breadcrumb:i,title:te,revisionsDrawerDetail:s,refresh:K,confirmLeave:Q,leaveTo:X,discardAndLeave:Le,createAllowed:fe,deleteAllowed:ue,saveAllowed:ce,archiveAllowed:_e,isArchived:U,updateAllowed:oe,shareAllowed:ne,toggleArchive:Ue,validationErrors:J,form:o,fields:x,isSingleton:v,internalPrimaryKey:ge,revisionsAllowed:pe,revert:Ce,accountabilityScope:y};function we(){return{breadcrumb:V(()=>{var Se;return[{name:(Se=p.value)==null?void 0:Se.name,to:`/content/${e.collection}`}]})}}async function be(){if(G.value!==!1)try{await O(),e.singleton===!1&&l.push(`/content/${e.collection}`)}catch{}}async function De(){var Ne,Se;if(G.value!==!1)try{const Ae=await O();if((Se=(Ne=s.value)==null?void 0:Ne.refresh)==null||Se.call(Ne),e.primaryKey==="+"){const Oe=Ae[_.value.field];l.replace(`/content/${e.collection}/${encodeURIComponent(Oe)}`)}}catch{}}async function qe(){if(G.value!==!1)try{await O(),g.value===!0?K():l.push(`/content/${e.collection}/+`)}catch{}}async function Ke(){try{const Ne=await B();Ne&&l.replace(`/content/${e.collection}/${encodeURIComponent(Ne)}`)}catch{}}async function je(){try{await L(),h.value={},l.replace(`/content/${e.collection}`)}catch{}}async function Ue(){try{await T(),U.value===!0?l.push(`/content/${e.collection}`):le.value=!1}catch{}}function Le(){!X.value||(h.value={},Q.value=!1,l.push(X.value))}function Ee(){h.value={},Q.value=!1}function Ce(Ne){h.value=ve(ve({},h.value),Ne)}}}),kC={class:"type-title"},$C={class:"page-description"};function CC(e,t,n,l,o,u){var B,K;const r=c("content-not-found"),i=c("v-skeleton-loader"),s=c("render-template"),p=c("v-icon"),f=c("v-button"),_=c("v-breadcrumb"),v=c("v-card-title"),y=c("v-card-actions"),g=c("v-card"),h=c("v-dialog"),b=c("save-options"),S=c("content-navigation"),I=c("v-form"),E=c("v-card-text"),R=c("sidebar-detail"),O=c("revisions-drawer-detail"),L=c("comments-sidebar-detail"),q=c("shares-sidebar-detail"),T=c("private-view"),j=Fe("tooltip"),U=Fe("md");return e.error||!e.collectionInfo||((K=(B=e.collectionInfo)==null?void 0:B.meta)==null?void 0:K.singleton)===!0&&e.primaryKey!==null?(m(),F(r,{key:0})):(m(),F(T,{key:1,title:e.title},at({"title-outer:prepend":d(()=>[e.collectionInfo.meta&&e.collectionInfo.meta.singleton===!0?(m(),F(f,{key:0,class:"header-icon",rounded:"",icon:"",secondary:"",disabled:""},{default:d(()=>[a(p,{name:e.collectionInfo.icon},null,8,["name"])]),_:1})):ie((m(),F(f,{key:1,class:"header-icon",rounded:"",icon:"",secondary:"",exact:"",onClick:t[0]||(t[0]=J=>e.router.back())},{default:d(()=>[a(p,{name:"arrow_back"})]),_:1},512)),[[j,e.t("back"),void 0,{bottom:!0}]])]),headline:d(()=>[e.collectionInfo.meta&&e.collectionInfo.meta.singleton===!0?(m(),F(_,{key:0,items:[{name:e.t("content"),to:"/content"}]},null,8,["items"])):(m(),F(_,{key:1,items:e.breadcrumb},null,8,["items"]))]),actions:d(()=>[e.isNew?M("",!0):(m(),F(h,{key:0,modelValue:e.confirmDelete,"onUpdate:modelValue":t[2]||(t[2]=J=>e.confirmDelete=J),disabled:e.deleteAllowed===!1,onEsc:t[3]||(t[3]=J=>e.confirmDelete=!1)},{activator:d(({on:J})=>[e.collectionInfo.meta&&e.collectionInfo.meta.singleton===!1?ie((m(),F(f,{key:0,rounded:"",icon:"",class:"action-delete",secondary:"",disabled:e.item===null||e.deleteAllowed!==!0,onClick:J},{default:d(()=>[a(p,{name:"delete",outline:""})]),_:2},1032,["disabled","onClick"])),[[j,e.deleteAllowed?e.t("delete_label"):e.t("not_allowed"),void 0,{bottom:!0}]]):M("",!0)]),default:d(()=>[a(g,null,{default:d(()=>[a(v,null,{default:d(()=>[P(w(e.t("delete_are_you_sure")),1)]),_:1}),a(y,null,{default:d(()=>[a(f,{secondary:"",onClick:t[1]||(t[1]=J=>e.confirmDelete=!1)},{default:d(()=>[P(w(e.t("cancel")),1)]),_:1}),a(f,{kind:"danger",loading:e.deleting,onClick:e.deleteAndQuit},{default:d(()=>[P(w(e.t("delete_label")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue","disabled"])),e.collectionInfo.meta&&e.collectionInfo.meta.archive_field&&!e.isNew?(m(),F(h,{key:1,modelValue:e.confirmArchive,"onUpdate:modelValue":t[5]||(t[5]=J=>e.confirmArchive=J),disabled:e.archiveAllowed===!1,onEsc:t[6]||(t[6]=J=>e.confirmArchive=!1)},{activator:d(({on:J})=>[e.collectionInfo.meta&&e.collectionInfo.meta.singleton===!1?ie((m(),F(f,{key:0,rounded:"",icon:"",secondary:"",disabled:e.item===null||e.archiveAllowed!==!0,onClick:J},{default:d(()=>[a(p,{name:e.isArchived?"unarchive":"archive",outline:""},null,8,["name"])]),_:2},1032,["disabled","onClick"])),[[j,e.archiveTooltip,void 0,{bottom:!0}]]):M("",!0)]),default:d(()=>[a(g,null,{default:d(()=>[a(v,null,{default:d(()=>[P(w(e.isArchived?e.t("unarchive_confirm"):e.t("archive_confirm")),1)]),_:1}),a(y,null,{default:d(()=>[a(f,{secondary:"",onClick:t[4]||(t[4]=J=>e.confirmArchive=!1)},{default:d(()=>[P(w(e.t("cancel")),1)]),_:1}),a(f,{kind:"warning",loading:e.archiving,onClick:e.toggleArchive},{default:d(()=>[P(w(e.isArchived?e.t("unarchive"):e.t("archive")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue","disabled"])):M("",!0),ie(a(f,{rounded:"",icon:"",loading:e.saving,disabled:!e.isSavable,onClick:e.saveAndQuit},{"append-outer":d(()=>[e.collectionInfo.meta&&e.collectionInfo.meta.singleton!==!0&&e.isSavable===!0?(m(),F(b,{key:0,"disabled-options":e.disabledOptions,onSaveAndStay:e.saveAndStay,onSaveAndAddNew:e.saveAndAddNew,onSaveAsCopy:e.saveAsCopyAndNavigate,onDiscardAndStay:e.discardAndStay},null,8,["disabled-options","onSaveAndStay","onSaveAndAddNew","onSaveAsCopy","onDiscardAndStay"])):M("",!0)]),default:d(()=>[a(p,{name:"check"})]),_:1},8,["loading","disabled","onClick"]),[[j,e.saveAllowed?e.t("save"):e.t("not_allowed"),void 0,{bottom:!0}]])]),navigation:d(()=>[a(S,{"current-collection":e.collection},null,8,["current-collection"])]),sidebar:d(()=>[a(R,{icon:"info_outline",title:e.t("information"),close:""},{default:d(()=>[ie($("div",$C,null,512),[[U,e.t("page_help_collections_item")]])]),_:1},8,["title"]),e.isNew===!1&&e.internalPrimaryKey&&e.revisionsAllowed&&e.accountabilityScope==="all"?(m(),F(O,{key:0,ref:"revisionsDrawerDetail",collection:e.collection,"primary-key":e.internalPrimaryKey,scope:e.accountabilityScope,onRevert:e.revert},null,8,["collection","primary-key","scope","onRevert"])):M("",!0),e.isNew===!1&&e.internalPrimaryKey?(m(),F(L,{key:1,collection:e.collection,"primary-key":e.internalPrimaryKey},null,8,["collection","primary-key"])):M("",!0),e.isNew===!1&&e.internalPrimaryKey?(m(),F(q,{key:2,collection:e.collection,"primary-key":e.internalPrimaryKey,allowed:e.shareAllowed},null,8,["collection","primary-key","allowed"])):M("",!0)]),default:d(()=>[a(I,{ref:"form",key:e.collection,modelValue:e.edits,"onUpdate:modelValue":t[7]||(t[7]=J=>e.edits=J),autofocus:e.isNew,disabled:e.isNew?!1:e.updateAllowed===!1,loading:e.loading,"initial-values":e.item,fields:e.fields,"primary-key":e.internalPrimaryKey,"validation-errors":e.validationErrors},null,8,["modelValue","autofocus","disabled","loading","initial-values","fields","primary-key","validation-errors"]),a(h,{modelValue:e.confirmLeave,"onUpdate:modelValue":t[9]||(t[9]=J=>e.confirmLeave=J),onEsc:t[10]||(t[10]=J=>e.confirmLeave=!1)},{default:d(()=>[a(g,null,{default:d(()=>[a(v,null,{default:d(()=>[P(w(e.t("unsaved_changes")),1)]),_:1}),a(E,null,{default:d(()=>[P(w(e.t("unsaved_changes_copy")),1)]),_:1}),a(y,null,{default:d(()=>[a(f,{secondary:"",onClick:e.discardAndLeave},{default:d(()=>[P(w(e.t("discard_changes")),1)]),_:1},8,["onClick"]),a(f,{onClick:t[8]||(t[8]=J=>e.confirmLeave=!1)},{default:d(()=>[P(w(e.t("keep_editing")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:2},[e.collectionInfo.meta&&e.collectionInfo.meta.singleton===!0?{name:"title",fn:d(()=>[$("h1",kC,w(e.collectionInfo.name),1)])}:e.isNew===!1&&e.collectionInfo.meta&&e.collectionInfo.meta.display_template?{name:"title",fn:d(()=>[e.loading||e.templateDataLoading?(m(),F(i,{key:0,class:"title-loader",type:"text"})):(m(),A("h1",{key:1,class:"type-title"},[a(s,{collection:e.collectionInfo.collection,item:e.templateData,template:e.collectionInfo.meta.display_template},null,8,["collection","item","template"])]))])}:void 0]),1032,["title"]))}var yi=H(wC,[["render",CC],["__scopeId","data-v-a55e69fe"]]);function hi(e){const t=`directus-${e}`,n=D(null);function l(){let o;try{o=localStorage.getItem(t)}catch{}if(!!o)try{const u=JSON.parse(o);n.value=u}catch{}}return l(),he(n,()=>{try{n.value==null?localStorage.removeItem(t):localStorage.setItem(t,JSON.stringify(n.value))}catch{}}),{data:n}}const SC=Z({components:{CollectionRoute:C4,ItemRoute:yi},props:{collection:{type:String,required:!0},bookmark:{type:String,default:null},archive:{type:String,default:null}},setup(e){const t=Wt(),{data:n}=hi("last-accessed-collection"),l=Xe(),o=V(()=>{var r;const u=l.getCollection(e.collection);return!!((r=u==null?void 0:u.meta)==null?void 0:r.singleton)});return he(()=>t.params,u=>{u.collection&&n.value!==u.collection&&(n.value=u.collection)},{immediate:!0}),{isSingleton:o}}});function FC(e,t,n,l,o,u){return m(),F(He(e.isSingleton?"item-route":"collection-route"),{collection:e.collection,bookmark:e.bookmark,singleton:e.isSingleton?!0:void 0,archive:e.archive},null,8,["collection","bookmark","singleton","archive"])}var VC=H(SC,[["render",FC]]);const AC=Z({name:"ContentOverview",components:{ContentNavigation:Ml},props:{},setup(){const{t:e}=ae(),t=Ye(),n=V(()=>{var l;return((l=t.currentUser)==null?void 0:l.role.admin_access)===!0});return{t:e,isAdmin:n}}}),IC={class:"page-description"};function EC(e,t,n,l,o,u){const r=c("v-icon"),i=c("v-button"),s=c("content-navigation"),p=c("v-info"),f=c("sidebar-detail"),_=c("private-view"),v=Fe("md");return m(),F(_,{class:"content-overview",title:e.t("content")},{"title-outer:prepend":d(()=>[a(i,{class:"header-icon",rounded:"",disabled:"",icon:"",secondary:""},{default:d(()=>[a(r,{name:"box"})]),_:1})]),navigation:d(()=>[a(s)]),sidebar:d(()=>[a(f,{icon:"info_outline",title:e.t("information"),close:""},{default:d(()=>[ie($("div",IC,null,512),[[v,e.t("page_help_collections_overview")]])]),_:1},8,["title"])]),default:d(()=>[a(p,{icon:"box",title:e.t("no_collections"),center:""},at({default:d(()=>[e.isAdmin?(m(),A(se,{key:0},[P(w(e.t("no_collections_copy_admin")),1)],64)):(m(),A(se,{key:1},[P(w(e.t("no_collections_copy")),1)],64))]),_:2},[e.isAdmin?{name:"append",fn:d(()=>[a(i,{to:"/settings/data-model/+"},{default:d(()=>[P(w(e.t("create_collection")),1)]),_:1})])}:void 0]),1032,["title"])]),_:1},8,["title"])}var DC=H(AC,[["render",EC],["__scopeId","data-v-0dd849a0"]]);const To=(e,t)=>{var n;if(!!((n=e.params)==null?void 0:n.collection)){if(e.params.collection==="directus_users")return e.params.primaryKey?`/users/${e.params.primaryKey}`:"/users";if(e.params.collection==="directus_files")return e.params.primaryKey?`/files/${e.params.primaryKey}`:"/files";if(e.params.collection==="directus_activity")return e.params.primaryKey?`/activity/${e.params.primaryKey}`:"/activity";if(e.params.collection==="directus_webhooks")return e.params.primaryKey?`/settings/webhooks/${e.params.primaryKey}`:"/settings/webhooks";if(e.params.collection==="directus_presets")return e.params.primaryKey?`/settings/presets/${e.params.primaryKey}`:"/settings/presets";if("bookmark"in t.query&&typeof t.query.bookmark=="string"&&!("bookmark"in e.query)&&e.params.collection===t.params.collection)return $o(e.fullPath,{bookmark:t.query.bookmark})}},PC=e=>"all"in e?"all":"archived"in e?"archived":null;var TC=kn({id:"content",name:"$t:content",icon:"box",routes:[{name:"no-collections",path:"",component:DC,beforeEnter(){const e=Xe(),{activeGroups:t}=ii(D(null));if(e.visibleCollections.length===0)return;const n=z.exports.orderBy(e.visibleCollections.filter(r=>{var i;return z.exports.isNil((i=r==null?void 0:r.meta)==null?void 0:i.group)}),["meta.sort","collection"]),{data:l}=hi("last-accessed-collection");if(l.value&&e.visibleCollections.find(r=>r.collection===l.value))return`/content/${l.value}`;let o=u(n);if(o=u(n,{skipClosed:!1}),!o)return;return`/content/${o.collection}`;function u(r,{skipClosed:i}={skipClosed:!0}){for(const s of r){if(s.schema)return s;if(i&&t.value.includes(s.collection)===!1)continue;const p=z.exports.orderBy(e.visibleCollections.filter(_=>{var v;return s.collection===((v=_.meta)==null?void 0:v.group)}),["meta.sort","collection"]),f=u(p);if(f)return f}}}},{path:":collection",component:hn,children:[{name:"content-collection",path:"",component:VC,props:e=>{const t=PC(e.query);return{collection:e.params.collection,bookmark:e.query.bookmark,archive:t}},beforeEnter:To},{name:"content-item",path:":primaryKey",component:yi,props:!0,beforeEnter:To}]},{name:"content-item-not-found",path:":_(.+)+",component:So,beforeEnter:To}]}),OC=Object.freeze(Object.defineProperty({__proto__:null,default:TC},Symbol.toStringTag,{value:"Module"})),LC=[{name:"app",path:"app",children:[{name:"content",path:"app/content",children:[{name:"collections",path:"app/content/collections",import:()=>N(()=>import("./collections.2aabdde0.js"),["assets/collections.2aabdde0.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"])},{name:"data-sharing",path:"app/content/data-sharing",import:()=>N(()=>import("./data-sharing.26fa9c73.js"),["assets/data-sharing.26fa9c73.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"])},{name:"items",path:"app/content/items",import:()=>N(()=>import("./items.0473f1d7.js"),["assets/items.0473f1d7.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"])}]},{name:"content",path:"app/content",import:()=>N(()=>import("./content.f88a75fa.js"),["assets/content.f88a75fa.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"])},{name:"display-templates",path:"app/display-templates",import:()=>N(()=>import("./display-templates.688ccdf0.js"),["assets/display-templates.688ccdf0.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"])},{name:"documentation",path:"app/documentation",import:()=>N(()=>import("./documentation.75e1dbe7.js"),["assets/documentation.75e1dbe7.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"])},{name:"file-library",path:"app/file-library",import:()=>N(()=>import("./file-library.4949e665.js"),["assets/file-library.4949e665.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"])},{name:"filters",path:"app/filters",import:()=>N(()=>import("./filters.7f7e70e1.js"),["assets/filters.7f7e70e1.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"])},{name:"import-export",path:"app/import-export",import:()=>N(()=>import("./import-export.1b7b1a4e.js"),["assets/import-export.1b7b1a4e.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"])},{name:"insights",path:"app/insights",import:()=>N(()=>import("./insights.addfd136.js"),["assets/insights.addfd136.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"])},{name:"layouts",path:"app/layouts",import:()=>N(()=>import("./layouts.52ea8ab5.js"),["assets/layouts.52ea8ab5.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"])},{name:"overview",path:"app/overview",import:()=>N(()=>import("./overview.86e4934b.js"),["assets/overview.86e4934b.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"])},{name:"settings",path:"app/settings",import:()=>N(()=>import("./settings.1b4f93a0.js"),["assets/settings.1b4f93a0.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"])},{name:"user-directory",path:"app/user-directory",import:()=>N(()=>import("./user-directory.4f4f96ee.js"),["assets/user-directory.4f4f96ee.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"])}]},{name:"cloud",path:"cloud",children:[{name:"accounts",path:"cloud/accounts",import:()=>N(()=>import("./accounts.66ec28ae.js"),["assets/accounts.66ec28ae.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"])},{name:"glossary",path:"cloud/glossary",import:()=>N(()=>import("./glossary.5256ce56.js"),["assets/glossary.5256ce56.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"])},{name:"overview",path:"cloud/overview",import:()=>N(()=>import("./overview.2d540ea4.js"),["assets/overview.2d540ea4.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"])},{name:"projects",path:"cloud/projects",import:()=>N(()=>import("./projects.c32560d9.js"),["assets/projects.c32560d9.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"])},{name:"teams",path:"cloud/teams",import:()=>N(()=>import("./teams.8a12610a.js"),["assets/teams.8a12610a.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"])}]},{name:"configuration",path:"configuration",children:[{name:"activity-log",path:"configuration/activity-log",import:()=>N(()=>import("./activity-log.f155a932.js"),["assets/activity-log.f155a932.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"])},{name:"config-options",path:"configuration/config-options",import:()=>N(()=>import("./config-options.64c3d803.js"),["assets/config-options.64c3d803.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"])},{name:"data-model",path:"configuration/data-model",import:()=>N(()=>import("./data-model.5a1776e0.js"),["assets/data-model.5a1776e0.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"])},{name:"faq",path:"configuration/faq",import:()=>N(()=>import("./faq.78697b58.js"),["assets/faq.78697b58.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"])},{name:"filter-rules",path:"configuration/filter-rules",import:()=>N(()=>import("./filter-rules.facc75e8.js"),["assets/filter-rules.facc75e8.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"])},{name:"localization",path:"configuration/localization",import:()=>N(()=>import("./localization.0df69550.js"),["assets/localization.0df69550.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"])},{name:"overview",path:"configuration/overview",import:()=>N(()=>import("./overview.de9556fd.js"),["assets/overview.de9556fd.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"])},{name:"presets-bookmarks",path:"configuration/presets-bookmarks",import:()=>N(()=>import("./presets-bookmarks.6b8983b4.js"),["assets/presets-bookmarks.6b8983b4.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"])},{name:"project-settings",path:"configuration/project-settings",import:()=>N(()=>import("./project-settings.fd8d1f09.js"),["assets/project-settings.fd8d1f09.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"])},{name:"relationships",path:"configuration/relationships",import:()=>N(()=>import("./relationships.b1a4f98b.js"),["assets/relationships.b1a4f98b.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"])},{name:"security",path:"configuration/security",import:()=>N(()=>import("./security.0309ebfa.js"),["assets/security.0309ebfa.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"])},{name:"sso-examples",path:"configuration/sso-examples",import:()=>N(()=>import("./sso-examples.05a51dc0.js"),["assets/sso-examples.05a51dc0.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"])},{name:"sso",path:"configuration/sso",import:()=>N(()=>import("./sso.d50d1779.js"),["assets/sso.d50d1779.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"])},{name:"upgrades-migrations",path:"configuration/upgrades-migrations",import:()=>N(()=>import("./upgrades-migrations.aeab953d.js"),["assets/upgrades-migrations.aeab953d.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"])},{name:"users-roles-permissions",path:"configuration/users-roles-permissions",import:()=>N(()=>import("./users-roles-permissions.bfc34421.js"),["assets/users-roles-permissions.bfc34421.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"])},{name:"webhooks",path:"configuration/webhooks",import:()=>N(()=>import("./webhooks.ac49e207.js"),["assets/webhooks.ac49e207.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"])}]},{name:"contributing",path:"contributing",children:[{name:"codebase-overview",path:"contributing/codebase-overview",import:()=>N(()=>import("./codebase-overview.d34cee5a.js"),["assets/codebase-overview.d34cee5a.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"])},{name:"github-ci",path:"contributing/github-ci",import:()=>N(()=>import("./github-ci.c6adf0fc.js"),["assets/github-ci.c6adf0fc.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"])},{name:"introduction",path:"contributing/introduction",import:()=>N(()=>import("./introduction.020b2d96.js"),["assets/introduction.020b2d96.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"])},{name:"running-locally",path:"contributing/running-locally",import:()=>N(()=>import("./running-locally.16ba1e8e.js"),["assets/running-locally.16ba1e8e.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"])},{name:"translations",path:"contributing/translations",import:()=>N(()=>import("./translations.a77c3676.js"),["assets/translations.a77c3676.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"])}]},{name:"extensions",path:"extensions",children:[{name:"creating-extensions",path:"extensions/creating-extensions",import:()=>N(()=>import("./creating-extensions.06da88d4.js"),["assets/creating-extensions.06da88d4.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"])},{name:"displays",path:"extensions/displays",import:()=>N(()=>import("./displays.33667d66.js"),["assets/displays.33667d66.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"])},{name:"email-templates",path:"extensions/email-templates",import:()=>N(()=>import("./email-templates.717f473c.js"),["assets/email-templates.717f473c.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"])},{name:"endpoints",path:"extensions/endpoints",import:()=>N(()=>import("./endpoints.38ff408f.js"),["assets/endpoints.38ff408f.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"])},{name:"hooks",path:"extensions/hooks",import:()=>N(()=>import("./hooks.feb279e1.js"),["assets/hooks.feb279e1.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"])},{name:"interfaces",path:"extensions/interfaces",import:()=>N(()=>import("./interfaces.f168e698.js"),["assets/interfaces.f168e698.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"])},{name:"introduction",path:"extensions/introduction",import:()=>N(()=>import("./introduction.01b1f832.js"),["assets/introduction.01b1f832.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"])},{name:"layouts",path:"extensions/layouts",import:()=>N(()=>import("./layouts.b3ab207c.js"),["assets/layouts.b3ab207c.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"])},{name:"migrations",path:"extensions/migrations",import:()=>N(()=>import("./migrations.12e641ae.js"),["assets/migrations.12e641ae.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"])},{name:"modules",path:"extensions/modules",import:()=>N(()=>import("./modules.f92aab83.js"),["assets/modules.f92aab83.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"])},{name:"panels",path:"extensions/panels",import:()=>N(()=>import("./panels.bbc99568.js"),["assets/panels.bbc99568.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"])},{name:"themes",path:"extensions/themes",import:()=>N(()=>import("./themes.9658a21b.js"),["assets/themes.9658a21b.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"])}]},{name:"getting-started",path:"getting-started",children:[{name:"backing-directus",path:"getting-started/backing-directus",import:()=>N(()=>import("./backing-directus.7441049e.js"),["assets/backing-directus.7441049e.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"])},{name:"glossary",path:"getting-started/glossary",import:()=>N(()=>import("./glossary.fcceab44.js"),["assets/glossary.fcceab44.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"])},{name:"installation",path:"getting-started/installation",children:[{name:"aws",path:"getting-started/installation/aws",import:()=>N(()=>import("./aws.36b50ff7.js"),["assets/aws.36b50ff7.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"])},{name:"cli",path:"getting-started/installation/cli",import:()=>N(()=>import("./cli.65e75a12.js"),["assets/cli.65e75a12.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"])},{name:"cloudron",path:"getting-started/installation/cloudron",import:()=>N(()=>import("./cloudron.3050bd55.js"),["assets/cloudron.3050bd55.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"])},{name:"digitalocean-app-platform",path:"getting-started/installation/digitalocean-app-platform",import:()=>N(()=>import("./digitalocean-app-platform.1685e8e9.js"),["assets/digitalocean-app-platform.1685e8e9.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"])},{name:"docker",path:"getting-started/installation/docker",import:()=>N(()=>import("./docker.a5acf639.js"),["assets/docker.a5acf639.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"])},{name:"gcp",path:"getting-started/installation/gcp",import:()=>N(()=>import("./gcp.7a7b6f00.js"),["assets/gcp.7a7b6f00.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"])},{name:"iis",path:"getting-started/installation/iis",import:()=>N(()=>import("./iis.77f179bc.js"),["assets/iis.77f179bc.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"])},{name:"manual",path:"getting-started/installation/manual",import:()=>N(()=>import("./manual.47b8c374.js"),["assets/manual.47b8c374.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"])},{name:"plesk",path:"getting-started/installation/plesk",import:()=>N(()=>import("./plesk.702973ab.js"),["assets/plesk.702973ab.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"])},{name:"ubuntu",path:"getting-started/installation/ubuntu",import:()=>N(()=>import("./ubuntu.a95e380a.js"),["assets/ubuntu.a95e380a.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"])}]},{name:"installation",path:"getting-started/installation",import:()=>N(()=>import("./installation.02c68943.js"),["assets/installation.02c68943.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"])},{name:"introduction",path:"getting-started/introduction",import:()=>N(()=>import("./introduction.55d775be.js"),["assets/introduction.55d775be.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"])},{name:"quickstart",path:"getting-started/quickstart",import:()=>N(()=>import("./quickstart.b18751b0.js"),["assets/quickstart.b18751b0.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"])},{name:"support",path:"getting-started/support",import:()=>N(()=>import("./support.030f40ca.js"),["assets/support.030f40ca.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"])}]},{name:"reference",path:"reference",children:[{name:"authentication",path:"reference/authentication",import:()=>N(()=>import("./authentication.51ceac0b.js"),["assets/authentication.51ceac0b.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"])},{name:"cli",path:"reference/cli",import:()=>N(()=>import("./cli.89cdebcb.js"),["assets/cli.89cdebcb.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"])},{name:"files",path:"reference/files",import:()=>N(()=>import("./files.91312a78.js"),["assets/files.91312a78.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"])},{name:"introduction",path:"reference/introduction",import:()=>N(()=>import("./introduction.5ea08cd7.js"),["assets/introduction.5ea08cd7.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"])},{name:"items",path:"reference/items",import:()=>N(()=>import("./items.eae067cd.js"),["assets/items.eae067cd.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"])},{name:"query",path:"reference/query",import:()=>N(()=>import("./query.cf922720.js"),["assets/query.cf922720.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"])},{name:"sdk",path:"reference/sdk",import:()=>N(()=>import("./sdk.5d0984d2.js"),["assets/sdk.5d0984d2.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"])},{name:"system",path:"reference/system",children:[{name:"activity",path:"reference/system/activity",import:()=>N(()=>import("./activity.fda68c16.js"),["assets/activity.fda68c16.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"])},{name:"collections",path:"reference/system/collections",import:()=>N(()=>import("./collections.6586cf2b.js"),["assets/collections.6586cf2b.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"])},{name:"extensions",path:"reference/system/extensions",import:()=>N(()=>import("./extensions.1c445bc7.js"),["assets/extensions.1c445bc7.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"])},{name:"fields",path:"reference/system/fields",import:()=>N(()=>import("./fields.d1074900.js"),["assets/fields.d1074900.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"])},{name:"folders",path:"reference/system/folders",import:()=>N(()=>import("./folders.2ba716f4.js"),["assets/folders.2ba716f4.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"])},{name:"notifications",path:"reference/system/notifications",import:()=>N(()=>import("./notifications.883ce8d1.js"),["assets/notifications.883ce8d1.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"])},{name:"permissions",path:"reference/system/permissions",import:()=>N(()=>import("./permissions.0361ba5a.js"),["assets/permissions.0361ba5a.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"])},{name:"presets",path:"reference/system/presets",import:()=>N(()=>import("./presets.8666c809.js"),["assets/presets.8666c809.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"])},{name:"relations",path:"reference/system/relations",import:()=>N(()=>import("./relations.c91c83fc.js"),["assets/relations.c91c83fc.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"])},{name:"revisions",path:"reference/system/revisions",import:()=>N(()=>import("./revisions.6e05d820.js"),["assets/revisions.6e05d820.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"])},{name:"roles",path:"reference/system/roles",import:()=>N(()=>import("./roles.22caf5e4.js"),["assets/roles.22caf5e4.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"])},{name:"server",path:"reference/system/server",import:()=>N(()=>import("./server.3056da3b.js"),["assets/server.3056da3b.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"])},{name:"settings",path:"reference/system/settings",import:()=>N(()=>import("./settings.faf934bd.js"),["assets/settings.faf934bd.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"])},{name:"users",path:"reference/system/users",import:()=>N(()=>import("./users.19874500.js"),["assets/users.19874500.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"])},{name:"utilities",path:"reference/system/utilities",import:()=>N(()=>import("./utilities.1ccaf710.js"),["assets/utilities.1ccaf710.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"])},{name:"webhooks",path:"reference/system/webhooks",import:()=>N(()=>import("./webhooks.592cb833.js"),["assets/webhooks.592cb833.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"])}]}]}];const jC=Z({name:"NavigationListItem",props:{section:{type:Object,default:null},dense:{type:Boolean,default:!1}}});function RC(e,t,n,l,o,u){const r=c("v-divider"),i=c("v-icon"),s=c("v-list-item-icon"),p=c("v-text-overflow"),f=c("v-list-item-content"),_=c("navigation-list-item"),v=c("v-list-group"),y=c("v-list-item");return e.section.divider?(m(),F(r,{key:0})):e.section.children?(m(),F(v,{key:1,scope:"docs-navigation",dense:e.dense,multiple:!1,value:e.section.to},{activator:d(()=>[e.section.icon!==void 0?(m(),F(s,{key:0},{default:d(()=>[a(i,{name:e.section.icon},null,8,["name"])]),_:1})):M("",!0),a(f,null,{default:d(()=>[a(p,{text:e.section.name},null,8,["text"])]),_:1})]),default:d(()=>[(m(!0),A(se,null,Ve(e.section.children,(g,h)=>(m(),F(_,{key:h,section:g,dense:""},null,8,["section"]))),128))]),_:1},8,["dense","value"])):(m(),F(y,{key:2,scope:"docs-navigation",to:`/docs${e.section.to}`,dense:e.dense,value:e.section.to},{default:d(()=>[e.section.icon!==void 0?(m(),F(s,{key:0},{default:d(()=>[a(i,{name:e.section.icon},null,8,["name"])]),_:1})):M("",!0),a(f,null,{default:d(()=>[a(p,{text:e.section.name},null,8,["text"])]),_:1})]),_:1},8,["to","dense","value"]))}var MC=H(jC,[["render",RC]]),UC=[{name:"App Overview",to:"/app/overview",icon:"school"},{name:"Collection Page",to:"/app/content/collections",icon:"list_alt"},{name:"Item Page",to:"/app/content/items",icon:"edit_note"},{name:"User Directory",to:"/app/user-directory",icon:"people_alt"},{name:"File Library",to:"/app/file-library",icon:"folder"},{name:"Insights",to:"/app/insights",icon:"insights"},{name:"Documentation",to:"/app/documentation",icon:"help_outline"},{name:"Settings",to:"/app/settings",icon:"settings"},{name:"Backing Directus",to:"/getting-started/backing-directus",icon:"card_giftcard"},{name:"Glossary",to:"/getting-started/glossary",icon:"menu_book"}];function NC(e){const t=e.slice(1).split("/");if(t.length===0)return[];const n=["/"+t[0]];for(let l=1;l<t.length;l++)n.push(n[l-1]+"/"+t[l]);return n[0]==="/reference"&&n[1]==="/reference/api"&&n.shift(),n}const BC=Z({components:{NavigationItem:MC},props:{path:{type:String,default:"/docs"}},setup(e){const t=D(null);return he(()=>e.path,n=>{n!==null&&(t.value=[...t.value||[],...NC(n.replace("/docs",""))])},{immediate:!0}),{navSections:UC,selection:t}}});function qC(e,t,n,l,o,u){const r=c("navigation-item"),i=c("v-list");return m(),F(i,{modelValue:e.selection,"onUpdate:modelValue":t[0]||(t[0]=s=>e.selection=s),nav:"",mandatory:!1,scope:"docs-navigation"},{default:d(()=>[(m(!0),A(se,null,Ve(e.navSections,s=>(m(),F(r,{key:s.name,section:s},null,8,["section"]))),128))]),_:1},8,["modelValue"])}var gi=H(BC,[["render",qC]]);const zC=Z({name:"NotFound",components:{DocsNavigation:gi},setup(){const{t:e}=ae(),t=Wt();return{t:e,route:t}}}),KC={class:"not-found"};function WC(e,t,n,l,o,u){const r=c("docs-navigation"),i=c("v-info"),s=c("private-view");return m(),F(s,{title:e.t("page_not_found")},{navigation:d(()=>[a(r,{path:e.route.path},null,8,["path"])]),default:d(()=>[$("div",KC,[a(i,{title:e.t("page_not_found"),icon:"not_interested"},{default:d(()=>[P(w(e.t("page_not_found_body")),1)]),_:1},8,["title"])])]),_:1},8,["title"])}var HC=H(zC,[["render",WC],["__scopeId","data-v-736afbfa"]]);const GC=Z({name:"StaticDocs",components:{DocsNavigation:gi},setup(){const{t:e}=ae(),t=Wt(),n=D("Test"),l=D(!1);return{t:e,route:t,title:n,modularExtension:l}}}),ZC={class:"type-title"},JC=P("Modular Extension"),XC={class:"docs-content selectable"},YC={class:"page-description"};function QC(e,t,n,l,o,u){const r=c("v-icon"),i=c("v-button"),s=c("v-chip"),p=c("docs-navigation"),f=c("router-view"),_=c("sidebar-detail"),v=c("private-view"),y=Fe("md");return m(),F(v,{title:e.title},{"title-outer:prepend":d(()=>[a(i,{rounded:"",disabled:"",icon:""},{default:d(()=>[a(r,{name:"info"})]),_:1})]),title:d(()=>[$("h1",ZC,w(e.title),1),e.modularExtension?(m(),F(s,{key:0,disabled:"",small:""},{default:d(()=>[JC]),_:1})):M("",!0)]),navigation:d(()=>[a(p,{path:e.route.path},null,8,["path"])]),sidebar:d(()=>[a(_,{icon:"info_outline",title:e.t("information"),close:""},{default:d(()=>[ie($("div",YC,null,512),[[y,e.t("page_help_docs_global")]])]),_:1},8,["title"])]),default:d(()=>[$("div",XC,[a(f,{"onUpdate:title":t[0]||(t[0]=g=>e.title=g),"onUpdate:modularExtension":t[1]||(t[1]=g=>e.modularExtension=g)})])]),_:1},8,["title"])}var xC=H(GC,[["render",QC],["__scopeId","data-v-3383fb1a"]]),eS=kn({id:"docs",name:"$t:documentation",icon:"help_outline",routes:[{path:"",component:xC,children:[{path:"",redirect:"/docs/app/overview"},...bi(LC)]},{path:":_(.+)+",component:HC}]});function bi(e){const t=[];for(const n of e)"children"in n?(t.push({path:n.path,redirect:`/docs/${n.children[0].path}`}),t.push(...bi(n.children))):t.push({name:`docs-${n.path.replace("/","-")}`,path:n.path,component:n.import});return t}var tS=Object.freeze(Object.defineProperty({__proto__:null,default:eS},Symbol.toStringTag,{value:"Module"}));const nS=Z({props:{folder:{type:String,default:null}},setup(e){const{t}=ae(),n=it(),l=Vn();return{t,isOpen:l,close:o};function o(){n.push(e.folder?{path:`/files/folders/${e.folder}`}:{path:"/files"})}}});function lS(e,t,n,l,o,u){const r=c("v-card-title"),i=c("v-upload"),s=c("v-card-text"),p=c("v-button"),f=c("v-card-actions"),_=c("v-card"),v=c("v-dialog");return m(),F(v,{"model-value":e.isOpen,"onUpdate:modelValue":e.close,onEsc:e.close},{default:d(()=>[a(_,null,{default:d(()=>[a(r,null,{default:d(()=>[P(w(e.t("add_file")),1)]),_:1}),a(s,null,{default:d(()=>[a(i,{preset:{folder:e.folder},multiple:"","from-url":"",onInput:e.close},null,8,["preset","onInput"])]),_:1}),a(f,null,{default:d(()=>[a(p,{secondary:"",onClick:e.close},{default:d(()=>[P(w(e.t("done")),1)]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1},8,["model-value","onUpdate:modelValue","onEsc"])}var wi=H(nS,[["render",lS]]);let Dn=null,Hn=null,rl=null,Oo=null,sl=null;function dl(){return Dn===null&&(Dn=D(!1)),Hn===null&&(Hn=D(null)),rl===null&&(rl=D(null)),sl===null&&(sl=D(null)),Oo===null&&(Oo=D(["root"])),Hn.value===null&&Dn.value===!1&&e(),{loading:Dn,folders:Hn,nestedFolders:rl,error:sl,fetchFolders:e,openFolders:Oo};async function e(){if(Dn!==null&&Hn!==null&&rl!==null&&sl!==null){Dn.value=!0;try{const t=await me.get("/folders",{params:{limit:-1,sort:"name"}});Hn.value=t.data.data,rl.value=oS(t.data.data)}catch(t){sl.value=t}finally{Dn.value=!1}}}}function oS(e){return e.map(t=>ki(t,e)).filter(t=>t.parent===null)}function ki(e,t){const n=ve({},e),l=t.filter(o=>o.parent===e.id&&o.id!==e.id).map(o=>ki(o,t));return l.length>0&&(n.children=l),n}const aS=Z({name:"NavigationFolder",components:{FolderPicker:Ul},props:{folder:{type:Object,required:!0},currentFolder:{type:String,default:null},clickHandler:{type:Function,default:()=>{}}},setup(e){const{t}=ae(),n=it(),{renameActive:l,renameValue:o,renameSave:u,renameSaving:r}=h(),{moveActive:i,moveValue:s,moveSave:p,moveSaving:f}=b(),{deleteActive:_,deleteSave:v,deleteSaving:y}=S(),{fetchFolders:g}=dl();return{t,renameActive:l,renameValue:o,renameSave:u,renameSaving:r,moveActive:i,moveValue:s,moveSave:p,moveSaving:f,deleteActive:_,deleteSave:v,deleteSaving:y};function h(){const I=D(!1),E=D(e.folder.name),R=D(!1);return{renameActive:I,renameValue:E,renameSave:O,renameSaving:R};async function O(){R.value=!0;try{await me.patch(`/folders/${e.folder.id}`,{name:E.value})}catch(L){Pe(L)}finally{R.value=!1,await g(),I.value=!1}}}function b(){const I=D(!1),E=D(e.folder.parent),R=D(!1);return{moveActive:I,moveValue:E,moveSave:O,moveSaving:R};async function O(){R.value=!0;try{await me.patch(`/folders/${e.folder.id}`,{parent:E.value})}catch(L){Pe(L)}finally{R.value=!1,await g(),I.value=!1}}}function S(){const I=D(!1),E=D(!1);return{deleteActive:I,deleteSave:R,deleteSaving:E};async function R(){E.value=!0;try{const O=await me.get("/folders",{params:{filter:{parent:{_eq:e.folder.id}}}}),L=await me.get("/files",{params:{filter:{folder:{_eq:e.folder.id}}}}),q=e.folder.parent||null,T=O.data.data.map(U=>U.id),j=L.data.data.map(U=>U.id);T.length>0&&await me.patch("/folders",{keys:T,data:{parent:q}}),j.length>0&&await me.patch("/files",{keys:j,data:{folder:q}}),await me.delete(`/folders/${e.folder.id}`),q?n.replace(`/files/folders/${q}`):n.replace("/files"),I.value=!1}catch(O){Pe(O)}finally{await g(),E.value=!1}}}}});function iS(e,t,n,l,o,u){const r=c("v-icon"),i=c("v-list-item-icon"),s=c("v-text-overflow"),p=c("v-list-item-content"),f=c("v-list-item"),_=c("navigation-folder",!0),v=c("v-list-group"),y=c("v-list"),g=c("v-menu"),h=c("v-card-title"),b=c("v-input"),S=c("v-card-text"),I=c("v-button"),E=c("v-card-actions"),R=c("v-card"),O=c("v-dialog"),L=c("folder-picker"),q=c("v-notice"),T=Fe("context-menu");return m(),A("div",null,[e.folder.children===void 0?ie((m(),F(f,{key:0,to:`/files/folders/${e.folder.id}`,active:e.currentFolder===e.folder.id},{default:d(()=>[a(i,null,{default:d(()=>[a(r,{name:"folder"})]),_:1}),a(p,null,{default:d(()=>[a(s,{text:e.folder.name},null,8,["text"])]),_:1})]),_:1},8,["to","active"])),[[T,"contextMenu"]]):ie((m(),F(v,{key:1,to:`/files/folders/${e.folder.id}`,active:e.currentFolder===e.folder.id,value:e.folder.id,scope:"files-navigation","disable-groupable-parent":""},{activator:d(()=>[a(i,null,{default:d(()=>[a(r,{name:"folder"})]),_:1}),a(p,null,{default:d(()=>[a(s,{text:e.folder.name},null,8,["text"])]),_:1})]),default:d(()=>[(m(!0),A(se,null,Ve(e.folder.children,j=>(m(),F(_,{key:j.id,folder:j,"current-folder":e.currentFolder,"click-handler":e.clickHandler},null,8,["folder","current-folder","click-handler"]))),128))]),_:1},8,["to","active","value"])),[[T,"contextMenu"]]),a(g,{ref:"contextMenu","show-arrow":"",placement:"bottom-start"},{default:d(()=>[a(y,null,{default:d(()=>[a(f,{clickable:"",onClick:t[0]||(t[0]=j=>e.renameActive=!0)},{default:d(()=>[a(i,null,{default:d(()=>[a(r,{name:"edit",outline:""})]),_:1}),a(p,null,{default:d(()=>[a(s,{text:e.t("rename_folder")},null,8,["text"])]),_:1})]),_:1}),a(f,{clickable:"",onClick:t[1]||(t[1]=j=>e.moveActive=!0)},{default:d(()=>[a(i,null,{default:d(()=>[a(r,{name:"folder_move"})]),_:1}),a(p,null,{default:d(()=>[a(s,{text:e.t("move_to_folder")},null,8,["text"])]),_:1})]),_:1}),a(f,{class:"danger",clickable:"",onClick:t[2]||(t[2]=j=>e.deleteActive=!0)},{default:d(()=>[a(i,null,{default:d(()=>[a(r,{name:"delete",outline:""})]),_:1}),a(p,null,{default:d(()=>[a(s,{text:e.t("delete_folder")},null,8,["text"])]),_:1})]),_:1})]),_:1})]),_:1},512),a(O,{modelValue:e.renameActive,"onUpdate:modelValue":t[5]||(t[5]=j=>e.renameActive=j),persistent:"",onEsc:t[6]||(t[6]=j=>e.renameActive=!1)},{default:d(()=>[a(R,null,{default:d(()=>[a(h,null,{default:d(()=>[P(w(e.t("rename_folder")),1)]),_:1}),a(S,null,{default:d(()=>[a(b,{modelValue:e.renameValue,"onUpdate:modelValue":t[3]||(t[3]=j=>e.renameValue=j),autofocus:"",onKeyup:Mn(e.renameSave,["enter"])},null,8,["modelValue","onKeyup"])]),_:1}),a(E,null,{default:d(()=>[a(I,{secondary:"",onClick:t[4]||(t[4]=j=>e.renameActive=!1)},{default:d(()=>[P(w(e.t("cancel")),1)]),_:1}),a(I,{disabled:e.renameValue===null,loading:e.renameSaving,onClick:e.renameSave},{default:d(()=>[P(w(e.t("save")),1)]),_:1},8,["disabled","loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),a(O,{modelValue:e.moveActive,"onUpdate:modelValue":t[9]||(t[9]=j=>e.moveActive=j),persistent:"",onEsc:t[10]||(t[10]=j=>e.moveActive=!1)},{default:d(()=>[a(R,null,{default:d(()=>[a(h,null,{default:d(()=>[P(w(e.t("move_to_folder")),1)]),_:1}),a(S,null,{default:d(()=>[a(L,{modelValue:e.moveValue,"onUpdate:modelValue":t[7]||(t[7]=j=>e.moveValue=j),"disabled-folders":[e.folder.id]},null,8,["modelValue","disabled-folders"])]),_:1}),a(E,null,{default:d(()=>[a(I,{secondary:"",onClick:t[8]||(t[8]=j=>e.moveActive=!1)},{default:d(()=>[P(w(e.t("cancel")),1)]),_:1}),a(I,{loading:e.moveSaving,onClick:e.moveSave},{default:d(()=>[P(w(e.t("save")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),a(O,{modelValue:e.deleteActive,"onUpdate:modelValue":t[12]||(t[12]=j=>e.deleteActive=j),persistent:"",onEsc:t[13]||(t[13]=j=>e.deleteActive=!1)},{default:d(()=>[a(R,null,{default:d(()=>[a(h,null,{default:d(()=>[P(w(e.t("delete_folder")),1)]),_:1}),a(S,null,{default:d(()=>[a(q,null,{default:d(()=>[P(w(e.t("nested_files_folders_will_be_moved")),1)]),_:1})]),_:1}),a(E,null,{default:d(()=>[a(I,{secondary:"",onClick:t[11]||(t[11]=j=>e.deleteActive=!1)},{default:d(()=>[P(w(e.t("cancel")),1)]),_:1}),a(I,{kind:"danger",loading:e.deleteSaving,onClick:e.deleteSave},{default:d(()=>[P(w(e.t("delete_label")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])])}var rS=H(aS,[["render",iS],["__scopeId","data-v-29f07998"]]);function sS(e,t){const n={};for(let l=0;l<e.length;l++){const o=e[l]+typeof e[l];n[o]=1}for(let l=0;l<t.length;l++){const o=t[l]+typeof t[l];if(!n[o])return!1;n[o]=2}for(const l in n)if(n[l]===1)return!1;return!0}const dS=Z({components:{NavigationFolder:rS},props:{currentFolder:{type:String,default:null}},setup(e){const{t}=ae(),{nestedFolders:n,folders:l,error:o,loading:u,openFolders:r}=dl();return i(),he(()=>e.currentFolder,i),{t,folders:l,nestedFolders:n,error:o,loading:u,openFolders:r};function i(){if(!l.value)return[];if(!(r==null?void 0:r.value))return[];const s=[],p=l.value.find(v=>v.id===e.currentFolder);p&&p.parent&&_(p.parent);const f=[...r.value];for(const v of s)f.includes(v)===!1&&f.push(v);f.length!==1&&sS(f,r.value)===!1&&(r.value=f);function _(v){if(!l.value)return;s.push(v);const y=l.value.find(g=>g.id===v);y&&y.parent&&_(y.parent)}}}}),uS={class:"folders"};function cS(e,t,n,l,o,u){const r=c("v-skeleton-loader"),i=c("v-list-item"),s=c("v-icon"),p=c("v-list-item-icon"),f=c("v-text-overflow"),_=c("v-list-item-content"),v=c("navigation-folder"),y=c("v-list-group"),g=c("v-item-group"),h=c("v-divider"),b=c("v-list");return m(),F(b,{nav:""},{default:d(()=>[e.loading&&(e.nestedFolders===null||e.nestedFolders.length===0)?(m(),A(se,{key:0},Ve(4,S=>a(i,{key:S},{default:d(()=>[a(r,{type:"list-item-icon"})]),_:2},1024)),64)):M("",!0),$("div",uS,[a(g,{modelValue:e.openFolders,"onUpdate:modelValue":t[0]||(t[0]=S=>e.openFolders=S),scope:"files-navigation",multiple:""},{default:d(()=>[a(y,{to:"/files",active:e.currentFolder===null,value:"root",scope:"files-navigation",exact:"","disable-groupable-parent":""},{activator:d(()=>[a(p,null,{default:d(()=>[a(s,{name:"folder_special",outline:""})]),_:1}),a(_,null,{default:d(()=>[a(f,{text:e.t("file_library")},null,8,["text"])]),_:1})]),default:d(()=>[(m(!0),A(se,null,Ve(e.nestedFolders,S=>(m(),F(v,{key:S.id,folder:S,"current-folder":e.currentFolder},null,8,["folder","current-folder"]))),128))]),_:1},8,["active"])]),_:1},8,["modelValue"])]),a(h),a(i,{to:"/files/all"},{default:d(()=>[a(p,null,{default:d(()=>[a(s,{name:"file_copy",outline:""})]),_:1}),a(_,null,{default:d(()=>[a(f,{text:e.t("all_files")},null,8,["text"])]),_:1})]),_:1}),a(i,{to:"/files/mine"},{default:d(()=>[a(p,null,{default:d(()=>[a(s,{name:"folder_shared"})]),_:1}),a(_,null,{default:d(()=>[a(f,{text:e.t("my_files")},null,8,["text"])]),_:1})]),_:1}),a(i,{to:"/files/recent"},{default:d(()=>[a(p,null,{default:d(()=>[a(s,{name:"history"})]),_:1}),a(_,null,{default:d(()=>[a(f,{text:e.t("recent_files")},null,8,["text"])]),_:1})]),_:1})]),_:1})}var Lo=H(dS,[["render",cS],["__scopeId","data-v-1c8d05c4"]]);const pS=Z({props:{parent:{type:String,default:null},disabled:{type:Boolean,default:!1}},setup(e){const{t}=ae(),n=it(),l=D(!1),o=D(!1),u=D(null),{fetchFolders:r}=dl();return{t,addFolder:i,dialogActive:l,newFolderName:u,saving:o};async function i(){o.value=!0;try{const s=await me.post("/folders",{name:u.value,parent:e.parent==="root"?null:e.parent});await r(),l.value=!1,u.value=null,n.push({path:`/files/folders/${s.data.data.id}`})}catch(s){Pe(s)}finally{o.value=!1}}}});function mS(e,t,n,l,o,u){const r=c("v-icon"),i=c("v-button"),s=c("v-card-title"),p=c("v-input"),f=c("v-card-text"),_=c("v-card-actions"),v=c("v-card"),y=c("v-dialog"),g=Fe("tooltip");return m(),F(y,{modelValue:e.dialogActive,"onUpdate:modelValue":t[2]||(t[2]=h=>e.dialogActive=h),onEsc:t[3]||(t[3]=h=>e.dialogActive=!1)},{activator:d(({on:h})=>[ie(a(i,{rounded:"",icon:"",secondary:"",disabled:e.disabled,onClick:h},{default:d(()=>[a(r,{name:"create_new_folder",outline:""})]),_:2},1032,["disabled","onClick"]),[[g,e.disabled?e.t("not_allowed"):e.t("create_folder"),void 0,{bottom:!0}]])]),default:d(()=>[a(v,null,{default:d(()=>[a(s,null,{default:d(()=>[P(w(e.t("create_folder")),1)]),_:1}),a(f,null,{default:d(()=>[a(p,{modelValue:e.newFolderName,"onUpdate:modelValue":t[0]||(t[0]=h=>e.newFolderName=h),autofocus:"",placeholder:e.t("folder_name"),onKeyup:Mn(e.addFolder,["enter"])},null,8,["modelValue","placeholder","onKeyup"])]),_:1}),a(_,null,{default:d(()=>[a(i,{secondary:"",onClick:t[1]||(t[1]=h=>e.dialogActive=!1)},{default:d(()=>[P(w(e.t("cancel")),1)]),_:1}),a(i,{disabled:e.newFolderName===null,loading:e.saving,onClick:e.addFolder},{default:d(()=>[P(w(e.t("save")),1)]),_:1},8,["disabled","loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])}var fS=H(pS,[["render",mS]]);const ul=Da();var Pn;(function(e){e.upload="upload"})(Pn||(Pn={}));function Gn(e,t,n,l){dt(()=>{(ut(e)?e.value:e).addEventListener(t,n,l)}),Vl(()=>{(ut(e)?e.value:e).removeEventListener(t,n,l)})}async function $i(e,t){const n=(t==null?void 0:t.onProgressChange)||(()=>{}),l=new FormData;if(t==null?void 0:t.preset)for(const[u,r]of Object.entries(t.preset))l.append(u,r);l.append("file",e);try{let u=null;return(t==null?void 0:t.fileId)?u=await me.patch(`/files/${t.fileId}`,l,{onUploadProgress:o}):u=await me.post("/files",l,{onUploadProgress:o}),(t==null?void 0:t.notifications)&&yt({title:Be.global.t("upload_file_success")}),ul.emit(Pn.upload),u.data.data}catch(u){Pe(u)}function o(u){const r=Math.floor(u.loaded*100/u.total);n(r)}}async function Ci(e,t){const n=(t==null?void 0:t.onProgressChange)||(()=>{}),l=e.map(()=>0);try{const o=await Promise.all(e.map((u,r)=>$i(u,Ie(ve({},t),{onProgressChange:i=>{l[r]=i,n(l)}}))));return(t==null?void 0:t.notifications)&&yt({title:Be.global.t("upload_files_success",{count:e.length})}),o}catch(o){Pe(o)}}const _S=Z({name:"FilesCollection",components:{FilesNavigation:Lo,LayoutSidebarDetail:zn,AddFolder:fS,SearchInput:Fn,FolderPicker:Ul,DrawerBatch:Bl},props:{folder:{type:String,default:null},special:{type:String,default:null}},setup(e){const{t}=ae(),n=it(),l=gl(),o=Vt(),{folders:u}=dl(),r=D(),i=D([]),s=Ye(),{layout:p,layoutOptions:f,layoutQuery:_,filter:v,search:y,resetPreset:g}=qn(D("directus_files")),{confirmDelete:h,deleting:b,batchDelete:S,error:I,batchEditActive:E}=re(),{breadcrumb:R,title:O}=ye(),L=V(()=>{const ne={_and:[{type:{_nnull:!0}}]};return e.special===null&&(e.folder!==null?ne._and.push({folder:{_eq:e.folder}}):ne._and.push({folder:{_null:!0}})),e.special==="mine"&&s.currentUser&&ne._and.push({uploaded_by:{_eq:s.currentUser.id}}),e.special==="recent"&&ne._and.push({uploaded_on:{_gt:Pa(new Date,5).toISOString()}}),ne}),{layoutWrapper:q}=vn(p),{moveToDialogActive:T,moveToFolder:j,moving:U,selectedFolder:B}=fe();dt(()=>ul.on(Pn.upload,ue)),At(()=>ul.off(Pn.upload,ue)),Sl(()=>{i.value=[]}),ro(()=>{i.value=[]});const{onDragEnter:K,onDragLeave:J,onDrop:Y,onDragOver:W,showDropEffect:G,dragging:Q}=oe();Gn(window,"dragenter",K),Gn(window,"dragover",W),Gn(window,"dragleave",J),Gn(window,"drop",Y);const{batchEditAllowed:X,batchDeleteAllowed:ee,createAllowed:le,createFolderAllowed:te}=ce();return{t,breadcrumb:R,title:O,layoutRef:r,layoutWrapper:q,selection:i,layoutOptions:f,layoutQuery:_,layout:p,folderTypeFilter:L,search:y,moveToDialogActive:T,moveToFolder:j,moving:U,selectedFolder:B,refresh:ue,clearFilters:_e,onDragEnter:K,onDragLeave:J,showDropEffect:G,onDrop:Y,dragging:Q,batchEditAllowed:X,batchDeleteAllowed:ee,createAllowed:le,createFolderAllowed:te,resetPreset:g,confirmDelete:h,deleting:b,batchDelete:S,deleteError:I,batchEditActive:E,filter:v,mergeFilters:jl};function re(){const ne=D(!1),x=D(!1),pe=D(!1),ge=D();return{batchEditActive:pe,confirmDelete:ne,deleting:x,batchDelete:$e,error:ge};async function $e(){x.value=!0;const we=i.value;try{await me.delete("/files",{data:we}),await ue(),i.value=[]}catch(be){Pe(be),ge.value=be}finally{ne.value=!1,x.value=!1}}}function ye(){const ne=V(()=>{var pe;if(e.special==="all")return t("all_files");if(e.special==="mine")return t("my_files");if(e.special==="recent")return t("recent_files");if(e.folder){const ge=(pe=u.value)==null?void 0:pe.find($e=>$e.id===e.folder);if(ge)return ge.name}return t("file_library")});return{breadcrumb:V(()=>ne.value!==t("file_library")?[{name:t("file_library"),to:"/files"}]:null),title:ne}}function fe(){const ne=D(!1),x=D(!1),pe=D();return{moveToDialogActive:ne,moving:x,moveToFolder:ge,selectedFolder:pe};async function ge(){x.value=!0;try{await me.patch("/files",{keys:i.value,data:{folder:pe.value}}),i.value=[],pe.value&&n.push(`/files/folders/${pe.value}`),await Al(),await ue()}catch($e){Pe($e)}finally{ne.value=!1,x.value=!1}}}async function ue(){var ne,x,pe;await((pe=(x=(ne=r.value)==null?void 0:ne.state)==null?void 0:x.refresh)==null?void 0:pe.call(x))}function _e(){v.value=null,y.value=null}function ce(){const ne=V(()=>{var be;return((be=s==null?void 0:s.currentUser)==null?void 0:be.role.admin_access)===!0?!0:!!o.permissions.find(De=>De.action==="update"&&De.collection==="directus_files")}),x=V(()=>{var be;return((be=s==null?void 0:s.currentUser)==null?void 0:be.role.admin_access)===!0?!0:!!o.permissions.find(De=>De.action==="delete"&&De.collection==="directus_files")}),pe=V(()=>{var be;return((be=s==null?void 0:s.currentUser)==null?void 0:be.role.admin_access)===!0?!0:!!o.permissions.find(De=>De.action==="create"&&De.collection==="directus_files")}),ge=V(()=>{var be;return((be=s==null?void 0:s.currentUser)==null?void 0:be.role.admin_access)===!0?!0:!!o.permissions.find(De=>De.action==="create"&&De.collection==="directus_folders")});return{batchEditAllowed:ne,batchDeleteAllowed:x,createAllowed:pe,createFolderAllowed:ge}}function oe(){const ne=D(!1);let x,pe;const ge=D(0),$e=V(()=>ge.value>0);return{onDragEnter:De,onDragLeave:Ke,onDrop:je,onDragOver:qe,showDropEffect:ne,dragging:$e};function we(){ne.value=!0,x=l.add({title:t("drop_to_upload"),icon:"cloud_upload",type:"info",persist:!0,closeable:!1})}function be(){ne.value=!1,x&&l.remove(x)}function De(Ue){var Ee,Ce,Ne;if(!Ue.dataTransfer||((Ee=Ue.dataTransfer)==null?void 0:Ee.types.indexOf("Files"))===-1)return;Ue.preventDefault(),ge.value++;const Le=Ue.target&&((Ne=(Ce=Ue.target).getAttribute)==null?void 0:Ne.call(Ce,"data-dropzone"))==="";ge.value===1&&ne.value===!1&&Le===!1&&we(),Le&&(be(),ge.value=0)}function qe(Ue){var Le;!Ue.dataTransfer||((Le=Ue.dataTransfer)==null?void 0:Le.types.indexOf("Files"))!==-1&&Ue.preventDefault()}function Ke(Ue){var Le,Ee,Ce;!Ue.dataTransfer||((Le=Ue.dataTransfer)==null?void 0:Le.types.indexOf("Files"))!==-1&&(Ue.preventDefault(),ge.value--,ge.value===0&&be(),Ue.target&&((Ce=(Ee=Ue.target).getAttribute)==null?void 0:Ce.call(Ee,"data-dropzone"))===""&&(we(),ge.value=1))}async function je(Ue){var Ee;if(!Ue.dataTransfer||((Ee=Ue.dataTransfer)==null?void 0:Ee.types.indexOf("Files"))===-1)return;Ue.preventDefault(),ne.value=!1,ge.value=0,x&&l.remove(x);const Le=[...Ue.dataTransfer.files];pe=l.add({title:t("upload_files_indeterminate",{done:0,total:Le.length},Le.length),type:"info",persist:!0,closeable:!1,loading:!0}),await Ci(Le,{preset:{folder:e.folder},onProgressChange:Ce=>{const Ne=Ce.reduce((Oe,Qe)=>Oe+=Qe)/Ce.length,Se=Le.length,Ae=Ce.filter(Oe=>Oe===100).length;l.update(pe,{title:t("upload_files_indeterminate",{done:Ae,total:Se},Le.length),loading:!1,progress:Ne})}}),l.remove(pe),ul.emit(Pn.upload)}}}}),Kl=e=>(xe("data-v-3c0d17c8"),e=e(),et(),e),vS={class:"page-description"},yS=Kl(()=>$("div",{class:"drop-border top"},null,-1)),hS=Kl(()=>$("div",{class:"drop-border right"},null,-1)),gS=Kl(()=>$("div",{class:"drop-border bottom"},null,-1)),bS=Kl(()=>$("div",{class:"drop-border left"},null,-1));function wS(e,t,n,l,o,u){const r=c("v-breadcrumb"),i=c("v-icon"),s=c("v-button"),p=c("search-input"),f=c("add-folder"),_=c("v-card-title"),v=c("folder-picker"),y=c("v-card-text"),g=c("v-card-actions"),h=c("v-card"),b=c("v-dialog"),S=c("files-navigation"),I=c("v-info"),E=c("router-view"),R=c("drawer-batch"),O=c("sidebar-detail"),L=c("layout-sidebar-detail"),q=c("export-sidebar-detail"),T=c("private-view"),j=Fe("tooltip"),U=Fe("md");return m(),F(He(e.layoutWrapper),{ref:"layoutRef",selection:e.selection,"onUpdate:selection":t[12]||(t[12]=B=>e.selection=B),"layout-options":e.layoutOptions,"onUpdate:layout-options":t[13]||(t[13]=B=>e.layoutOptions=B),"layout-query":e.layoutQuery,"onUpdate:layout-query":t[14]||(t[14]=B=>e.layoutQuery=B),filter:e.mergeFilters(e.filter,e.folderTypeFilter),"filter-user":e.filter,"filter-system":e.folderTypeFilter,search:e.search,collection:"directus_files","reset-preset":e.resetPreset},{default:d(({layoutState:B})=>[a(T,{title:e.title,class:de({dragging:e.dragging})},at({"title-outer:prepend":d(()=>[a(s,{class:"header-icon",rounded:"",disabled:"",icon:"",secondary:""},{default:d(()=>[a(i,{name:"folder",outline:""})]),_:1})]),"actions:prepend":d(()=>[(m(),F(He(`layout-actions-${e.layout}`),nt(lt(B)),null,16))]),actions:d(()=>[a(p,{modelValue:e.search,"onUpdate:modelValue":t[0]||(t[0]=K=>e.search=K),filter:e.filter,"onUpdate:filter":t[1]||(t[1]=K=>e.filter=K),collection:"directus_files"},null,8,["modelValue","filter"]),a(f,{parent:e.folder,disabled:e.createFolderAllowed!==!0},null,8,["parent","disabled"]),e.selection.length>0?(m(),F(b,{key:0,modelValue:e.moveToDialogActive,"onUpdate:modelValue":t[4]||(t[4]=K=>e.moveToDialogActive=K),onEsc:t[5]||(t[5]=K=>e.moveToDialogActive=!1)},{activator:d(({on:K})=>[ie(a(s,{rounded:"",icon:"",class:"folder",secondary:"",onClick:K},{default:d(()=>[a(i,{name:"folder_move"})]),_:2},1032,["onClick"]),[[j,e.t("move_to_folder"),void 0,{bottom:!0}]])]),default:d(()=>[a(h,null,{default:d(()=>[a(_,null,{default:d(()=>[P(w(e.t("move_to_folder")),1)]),_:1}),a(y,null,{default:d(()=>[a(v,{modelValue:e.selectedFolder,"onUpdate:modelValue":t[2]||(t[2]=K=>e.selectedFolder=K)},null,8,["modelValue"])]),_:1}),a(g,null,{default:d(()=>[a(s,{secondary:"",onClick:t[3]||(t[3]=K=>e.moveToDialogActive=!1)},{default:d(()=>[P(w(e.t("cancel")),1)]),_:1}),a(s,{loading:e.moving,onClick:e.moveToFolder},{default:d(()=>[P(w(e.t("move")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])):M("",!0),e.selection.length>0?(m(),F(b,{key:1,modelValue:e.confirmDelete,"onUpdate:modelValue":t[7]||(t[7]=K=>e.confirmDelete=K),onEsc:t[8]||(t[8]=K=>e.confirmDelete=!1)},{activator:d(({on:K})=>[ie(a(s,{disabled:e.batchDeleteAllowed!==!0,rounded:"",icon:"",class:"action-delete",secondary:"",onClick:K},{default:d(()=>[a(i,{name:"delete",outline:""})]),_:2},1032,["disabled","onClick"]),[[j,e.batchDeleteAllowed?e.t("delete_label"):e.t("not_allowed"),void 0,{bottom:!0}]])]),default:d(()=>[a(h,null,{default:d(()=>[a(_,null,{default:d(()=>[P(w(e.t("batch_delete_confirm",e.selection.length)),1)]),_:1}),a(g,null,{default:d(()=>[a(s,{secondary:"",onClick:t[6]||(t[6]=K=>e.confirmDelete=!1)},{default:d(()=>[P(w(e.t("cancel")),1)]),_:1}),a(s,{kind:"danger",loading:e.deleting,onClick:e.batchDelete},{default:d(()=>[P(w(e.t("delete_label")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])):M("",!0),e.selection.length>0?ie((m(),F(s,{key:2,rounded:"",icon:"",secondary:"",disabled:e.batchEditAllowed===!1,onClick:t[9]||(t[9]=K=>e.batchEditActive=!0)},{default:d(()=>[a(i,{name:"edit",outline:""})]),_:1},8,["disabled"])),[[j,e.batchEditAllowed?e.t("edit"):e.t("not_allowed"),void 0,{bottom:!0}]]):M("",!0),ie(a(s,{rounded:"",icon:"",to:e.folder?{path:`/files/folders/${e.folder}/+`}:{path:"/files/+"},disabled:e.createAllowed===!1},{default:d(()=>[a(i,{name:"add"})]),_:1},8,["to","disabled"]),[[j,e.createAllowed?e.t("create_item"):e.t("not_allowed"),void 0,{bottom:!0}]])]),navigation:d(()=>[a(S,{"current-folder":e.folder},null,8,["current-folder"])]),sidebar:d(()=>[a(O,{icon:"info_outline",title:e.t("information"),close:""},{default:d(()=>[ie($("div",vS,null,512),[[U,e.t("page_help_files_collection")]])]),_:1},8,["title"]),a(L,{modelValue:e.layout,"onUpdate:modelValue":t[11]||(t[11]=K=>e.layout=K)},{default:d(()=>[(m(),F(He(`layout-options-${e.layout}`),nt(lt(B)),null,16))]),_:2},1032,["modelValue"]),(m(),F(He(`layout-sidebar-${e.layout}`),nt(lt(B)),null,16)),a(q,{collection:"directus_files","layout-query":e.layoutQuery,filter:e.mergeFilters(e.filter,e.folderTypeFilter),search:e.search},null,8,["layout-query","filter","search"])]),default:d(()=>[(m(),F(He(`layout-${e.layout}`),ft({class:"layout"},B),{"no-results":d(()=>[!e.filter&&!e.search?(m(),F(I,{key:0,title:e.t("file_count",0),icon:"folder",center:""},{append:d(()=>[a(s,{to:e.folder?{path:`/files/folders/${e.folder}/+`}:{path:"/files/+"}},{default:d(()=>[P(w(e.t("add_file")),1)]),_:1},8,["to"])]),default:d(()=>[P(w(e.t("no_files_copy"))+" ",1)]),_:1},8,["title"])):(m(),F(I,{key:1,title:e.t("no_results"),icon:"search",center:""},{append:d(()=>[a(s,{onClick:e.clearFilters},{default:d(()=>[P(w(e.t("clear_filters")),1)]),_:1},8,["onClick"])]),default:d(()=>[P(w(e.t("no_results_copy"))+" ",1)]),_:1},8,["title"]))]),"no-items":d(()=>[a(I,{title:e.t("file_count",0),icon:"folder",center:""},{append:d(()=>[a(s,{to:e.folder?{path:`/files/folders/${e.folder}/+`}:{path:"/files/+"}},{default:d(()=>[P(w(e.t("add_file")),1)]),_:1},8,["to"])]),default:d(()=>[P(w(e.t("no_files_copy"))+" ",1)]),_:1},8,["title"])]),_:2},1040)),a(E,{name:"addNew",folder:e.folder,onUpload:e.refresh},null,8,["folder","onUpload"]),a(R,{active:e.batchEditActive,"onUpdate:active":t[10]||(t[10]=K=>e.batchEditActive=K),"primary-keys":e.selection,collection:"directus_files",onRefresh:e.refresh},null,8,["active","primary-keys","onRefresh"]),e.showDropEffect?(m(),A(se,{key:0},[yS,hS,gS,bS],64)):M("",!0)]),_:2},[e.breadcrumb?{name:"headline",fn:d(()=>[a(r,{items:e.breadcrumb},null,8,["items"])])}:void 0]),1032,["title","class"])]),_:1},8,["selection","layout-options","layout-query","filter","filter-user","filter-system","search","reset-preset"])}var cl=H(_S,[["render",wS],["__scopeId","data-v-3c0d17c8"]]);const kS=Z({props:{id:{type:String,required:!0},modelValue:{type:Boolean,default:void 0}},emits:["update:modelValue","refresh"],setup(e,{emit:t}){const{t:n,n:l}=ae(),o=D(!1),u=V({get(){return e.modelValue===void 0?o.value:e.modelValue},set(B){o.value=B,t("update:modelValue",B)}}),{loading:r,error:i,imageData:s,imageElement:p,save:f,saving:_,fetchImage:v,onImageLoad:y}=j(),{cropperInstance:g,initCropper:h,flip:b,rotate:S,reset:I,aspectRatio:E,aspectRatioIcon:R,newDimensions:O,dragMode:L,cropping:q}=U();he(u,B=>{B===!0?v():(g.value&&g.value.destroy(),r.value=!1,i.value=null,s.value=null)});const T=V(()=>ct(`${tt()}assets/${e.id}?${Tt()}`));return{t:n,n:l,internalActive:u,loading:r,error:i,imageData:s,imageElement:p,save:f,onImageLoad:y,flip:b,rotate:S,reset:I,aspectRatio:E,aspectRatioIcon:R,saving:_,imageURL:T,newDimensions:O,dragMode:L,cropping:q};function j(){const B=D(!1),K=D(null),J=D(null),Y=D(!1),W=D(null);return{loading:B,error:K,imageData:J,saving:Y,fetchImage:G,imageElement:W,save:Q,onImageLoad:X};async function G(){try{B.value=!0;const ee=await me.get(`/files/${e.id}`,{params:{fields:["type","filesize","filename_download","width","height"]}});J.value=ee.data.data}catch(ee){K.value=ee}finally{B.value=!1}}function Q(){var ee,le;Y.value=!0,(le=g.value)==null||le.getCroppedCanvas({imageSmoothingQuality:"high"}).toBlob(async te=>{var ye;if(te===null){Y.value=!1;return}const re=new FormData;re.append("file",te,(ye=J.value)==null?void 0:ye.filename_download);try{await me.patch(`/files/${e.id}`,re),t("refresh"),u.value=!1}catch(fe){Pe(fe)}finally{Y.value=!1}},(ee=J.value)==null?void 0:ee.type)}async function X(){await Al(),h()}}function U(){const B=D(null),K=D(NaN),J=Jt({width:null,height:null});he(s,()=>{!s.value||(K.value=s.value.width/s.value.height,J.width=s.value.width,J.height=s.value.height)});const Y=V({get(){return K.value},set(fe){var ue,_e;K.value=fe,(ue=B.value)==null||ue.setAspectRatio(fe),(_e=B.value)==null||_e.crop(),Q.value="crop"}}),W=V(()=>{if(!s.value)return"crop_original";switch(Y.value){case 16/9:return"crop_16_9";case 3/2:return"crop_3_2";case 5/4:return"crop_5_4";case 7/5:return"crop_7_5";case 1/1:return"crop_square";case s.value.width/s.value.height:return"crop_original";default:return"crop_free"}}),G=D("move"),Q=V({get(){return G.value},set(fe){var ue,_e;(ue=B.value)==null||ue.setDragMode(fe),G.value=fe,fe==="move"&&((_e=B.value)==null||_e.clear(),X.value=!1)}}),X=D(!1),ee=V({get(){return X.value},set(fe){var ue;fe===!1&&((ue=B.value)==null||ue.clear()),X.value=fe}});return{cropperInstance:B,initCropper:le,flip:te,rotate:re,reset:ye,aspectRatio:Y,aspectRatioIcon:W,newDimensions:J,dragMode:Q,cropping:ee};function le(){p.value!==null&&(B.value&&B.value.destroy(),X.value=!1,B.value=new Sd(p.value,{autoCrop:!1,autoCropArea:.5,toggleDragModeOnDblclick:!1,dragMode:"move",viewMode:1,crop:Fd(fe=>{if(!s.value)return;ee.value===!1&&(fe.detail.width||fe.detail.height)&&(ee.value=!0);const ue=fe.detail.width||s.value.width,_e=fe.detail.height||s.value.height;fe.detail.rotate===0||fe.detail.rotate===-180?(J.width=Math.round(ue),J.height=Math.round(_e)):(J.height=Math.round(ue),J.width=Math.round(_e))},50)}))}function te(fe){var ue,_e,ce,oe,ne,x;fe==="vertical"&&(((ue=B.value)==null?void 0:ue.getData().scaleX)===-1?(_e=B.value)==null||_e.scaleX(1):(ce=B.value)==null||ce.scaleX(-1)),fe==="horizontal"&&(((oe=B.value)==null?void 0:oe.getData().scaleY)===-1?(ne=B.value)==null||ne.scaleY(1):(x=B.value)==null||x.scaleY(-1))}function re(){var fe;(fe=B.value)==null||fe.rotate(-90)}function ye(){var fe;(fe=B.value)==null||fe.reset(),Q.value="move"}}}}),$S=e=>(xe("data-v-674593b0"),e=e(),et(),e),CS={class:"warning"},SS={key:0,class:"loader"},FS=P("error"),VS={class:"editor-container"},AS={class:"editor"},IS=["src"],ES={class:"toolbar"},DS=P("16:9"),PS=P("3:2"),TS=P("5:4"),OS=P("7:5"),LS=$S(()=>$("div",{class:"spacer"},null,-1)),jS={key:0,class:"dimensions"};function RS(e,t,n,l,o,u){const r=c("v-progress-circular"),i=c("v-notice"),s=c("v-icon"),p=c("v-list-item-icon"),f=c("v-list-item-content"),_=c("v-list-item"),v=c("v-list"),y=c("v-menu"),g=c("v-button"),h=c("v-drawer"),b=Fe("tooltip");return m(),F(h,{modelValue:e.internalActive,"onUpdate:modelValue":t[12]||(t[12]=S=>e.internalActive=S),class:"modal",title:e.t("editing_image"),persistent:"",onCancel:t[13]||(t[13]=S=>e.internalActive=!1)},{activator:d(S=>[ke(e.$slots,"activator",nt(lt(S)),void 0,!0)]),subtitle:d(()=>[$("span",CS,w(e.t("changes_are_permanent")),1)]),actions:d(()=>[ie(a(g,{loading:e.saving,icon:"",rounded:"",onClick:e.save},{default:d(()=>[a(s,{name:"check"})]),_:1},8,["loading","onClick"]),[[b,e.t("save"),void 0,{bottom:!0}]])]),default:d(()=>[e.loading?(m(),A("div",SS,[a(r,{indeterminate:""})])):e.error?(m(),F(i,{key:1,type:"error"},{default:d(()=>[FS]),_:1})):M("",!0),ie($("div",VS,[$("div",AS,[$("img",{ref:"imageElement",src:e.imageURL,role:"presentation",alt:"",onLoad:t[0]||(t[0]=(...S)=>e.onImageLoad&&e.onImageLoad(...S))},null,40,IS)]),$("div",ES,[ie($("div",{class:"drag-mode toolbar-button",onClick:t[1]||(t[1]=S=>e.dragMode=e.dragMode==="crop"?"move":"crop")},[a(s,{name:"pan_tool",class:de({active:e.dragMode==="move"})},null,8,["class"]),a(s,{name:"crop",class:de({active:e.dragMode==="crop"})},null,8,["class"])],512),[[b,e.t("drag_mode"),void 0,{top:!0,inverted:!0}]]),ie(a(s,{name:"rotate_90_degrees_ccw",clickable:"",onClick:e.rotate},null,8,["onClick"]),[[b,e.t("rotate"),void 0,{top:!0,inverted:!0}]]),ie(a(s,{name:"flip_horizontal",clickable:"",onClick:t[2]||(t[2]=S=>e.flip("horizontal"))},null,512),[[b,e.t("flip_horizontal"),void 0,{top:!0,inverted:!0}]]),ie(a(s,{name:"flip_vertical",clickable:"",onClick:t[3]||(t[3]=S=>e.flip("vertical"))},null,512),[[b,e.t("flip_vertical"),void 0,{top:!0,inverted:!0}]]),a(y,{placement:"top","show-arrow":""},{activator:d(({toggle:S})=>[ie(a(s,{name:e.aspectRatioIcon,clickable:"",onClick:S},null,8,["name","onClick"]),[[b,e.t("aspect_ratio"),void 0,{top:!0,inverted:!0}]])]),default:d(()=>[a(v,null,{default:d(()=>[a(_,{clickable:"",active:e.aspectRatio===16/9,onClick:t[4]||(t[4]=S=>e.aspectRatio=16/9)},{default:d(()=>[a(p,null,{default:d(()=>[a(s,{name:"crop_16_9"})]),_:1}),a(f,null,{default:d(()=>[DS]),_:1})]),_:1},8,["active"]),a(_,{clickable:"",active:e.aspectRatio===3/2,onClick:t[5]||(t[5]=S=>e.aspectRatio=3/2)},{default:d(()=>[a(p,null,{default:d(()=>[a(s,{name:"crop_3_2"})]),_:1}),a(f,null,{default:d(()=>[PS]),_:1})]),_:1},8,["active"]),a(_,{clickable:"",active:e.aspectRatio===5/4,onClick:t[6]||(t[6]=S=>e.aspectRatio=5/4)},{default:d(()=>[a(p,null,{default:d(()=>[a(s,{name:"crop_5_4"})]),_:1}),a(f,null,{default:d(()=>[TS]),_:1})]),_:1},8,["active"]),a(_,{clickable:"",active:e.aspectRatio===7/5,onClick:t[7]||(t[7]=S=>e.aspectRatio=7/5)},{default:d(()=>[a(p,null,{default:d(()=>[a(s,{name:"crop_7_5"})]),_:1}),a(f,null,{default:d(()=>[OS]),_:1})]),_:1},8,["active"]),a(_,{clickable:"",active:e.aspectRatio===1/1,onClick:t[8]||(t[8]=S=>e.aspectRatio=1/1)},{default:d(()=>[a(p,null,{default:d(()=>[a(s,{name:"crop_square"})]),_:1}),a(f,null,{default:d(()=>[P(w(e.t("square")),1)]),_:1})]),_:1},8,["active"]),a(_,{clickable:"",active:e.aspectRatio===NaN,onClick:t[9]||(t[9]=S=>e.aspectRatio=NaN)},{default:d(()=>[a(p,null,{default:d(()=>[a(s,{name:"crop_free"})]),_:1}),a(f,null,{default:d(()=>[P(w(e.t("free")),1)]),_:1})]),_:1},8,["active"]),e.imageData?(m(),F(_,{key:0,clickable:"",active:e.aspectRatio===e.imageData.width/e.imageData.height,onClick:t[10]||(t[10]=S=>e.aspectRatio=e.imageData.width/e.imageData.height)},{default:d(()=>[a(p,null,{default:d(()=>[a(s,{name:"crop_original"})]),_:1}),a(f,null,{default:d(()=>[P(w(e.t("original")),1)]),_:1})]),_:1},8,["active"])):M("",!0)]),_:1})]),_:1}),LS,ie(a(s,{name:"restart_alt",clickable:"",onClick:e.reset},null,8,["onClick"]),[[b,e.t("reset"),void 0,{top:!0,inverted:!0}]]),e.imageData?(m(),A("div",jS,[P(w(e.n(e.imageData.width))+"x"+w(e.n(e.imageData.height))+" ",1),e.imageData.width!==e.newDimensions.width||e.imageData.height!==e.newDimensions.height?(m(),A(se,{key:0},[P(" -> "+w(e.n(e.newDimensions.width))+"x"+w(e.n(e.newDimensions.height)),1)],64)):M("",!0)])):M("",!0),ie($("button",{class:"toolbar-button cancel",onClick:t[11]||(t[11]=S=>e.cropping=!1)},w(e.t("cancel_crop")),513),[[Nt,e.cropping]])])],512),[[Nt,e.imageData&&!e.loading&&!e.error]])]),_:3},8,["modelValue","title"])}var MS=H(kS,[["render",RS],["__scopeId","data-v-674593b0"]]);function pl(e=0,t=!0){const n=t?1e3:1024;if(Boolean(e)===!1)return"--";if(Math.abs(e)<n)return`${e} B`;const l=t?["kB","MB","GB","TB","PB","EB","ZB","YB"]:["KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"];let o=-1,u=e;do u/=n,o+=1;while(Math.abs(u)>=n&&o<l.length-1);return`${u.toFixed(1)} ${l[o]}`}const US=Z({props:{file:{type:Object,default:()=>({})},isNew:{type:Boolean,default:!1}},setup(e){const{t,n}=ae(),l=V(()=>e.isNew||!e.file||!e.file.filesize?null:pl(e.file.filesize)),{creationDate:o,modificationDate:u}=_(),{userCreated:r,userModified:i}=v(),{folder:s,folderLink:p}=y(),f=V(()=>ct(`${tt()}assets/${e.file.id}`));return{t,n,readableMimeType:an,size:l,creationDate:o,modificationDate:u,userCreated:r,userModified:i,folder:s,folderLink:p,getRootPath:tt,fileLink:f};function _(){const g=D(null),h=D(null);return he(()=>e.file,async()=>{if(!e.file)return null;g.value=await wt(new Date(e.file.uploaded_on),String(t("date-fns_date_short"))),e.file.modified_on&&(h.value=await wt(new Date(e.file.modified_on),String(t("date-fns_date_short"))))},{immediate:!0}),{creationDate:g,modificationDate:h}}function v(){const g=D(!1),h=D(null),b=D(null);return he(()=>e.file,S,{immediate:!0}),{userCreated:h,userModified:b};async function S(){if(!e.file||!e.file.uploaded_by)return null;g.value=!0;try{const E=(await me.get(`/users/${e.file.uploaded_by}`,{params:{fields:["id","email","first_name","last_name","role"]}})).data.data;if(h.value={id:e.file.uploaded_by,name:Ft(E),link:`/users/${E.id}`},e.file.modified_by){const O=(await me.get(`/users/${e.file.modified_by}`,{params:{fields:["id","email","first_name","last_name","role"]}})).data.data;b.value={id:e.file.modified_by,name:Ft(O),link:`/users/${O.id}`}}}finally{g.value=!1}}}function y(){const g=D(!1),h=D(null),b=V(()=>h.value===null?"/files":`/files/folders/${h.value.id}`);return he(()=>e.file,S,{immediate:!0}),{folder:h,folderLink:b};async function S(){if(!e.file)return null;if(!!e.file.folder){g.value=!0;try{const I=await me.get(`/folders/${e.file.folder}`,{params:{fields:["id","name"]}}),{name:E}=I.data.data;h.value={id:e.file.folder,name:E}}finally{g.value=!1}}}}}}),NS={key:0},BS={key:0},qS={key:1},zS={key:2},KS={key:3},WS={key:4},HS={key:5},GS={key:6},ZS={key:7,class:"checksum"},JS={key:8},XS={key:9},YS={key:10},QS=["href"],xS={key:0},e6={key:1},t6={key:2},n6={key:3},l6={key:4},o6={class:"page-description"};function a6(e,t,n,l,o,u){const r=c("router-link"),i=c("user-popover"),s=c("v-divider"),p=c("sidebar-detail"),f=Fe("md");return m(),F(p,{icon:"info_outline",title:e.t("file_details"),close:""},{default:d(()=>{var _,v,y,g,h,b,S,I,E,R,O,L,q,T,j,U,B,K;return[e.file?(m(),A("dl",NS,[e.file.type?(m(),A("div",BS,[$("dt",null,w(e.t("type")),1),$("dd",null,w(e.readableMimeType(e.file.type)||e.file.type),1)])):M("",!0),e.file.width&&e.file.height?(m(),A("div",qS,[$("dt",null,w(e.t("dimensions")),1),$("dd",null,w(e.n(e.file.width))+" \xD7 "+w(e.n(e.file.height)),1)])):M("",!0),e.file.duration?(m(),A("div",zS,[$("dt",null,w(e.t("duration")),1),$("dd",null,w(e.n(e.file.duration)),1)])):M("",!0),e.file.filesize?(m(),A("div",KS,[$("dt",null,w(e.t("size")),1),$("dd",null,w(e.size),1)])):M("",!0),e.file.charset?(m(),A("div",WS,[$("dt",null,w(e.t("charset")),1),$("dd",null,w(e.charset),1)])):M("",!0),e.file.embed?(m(),A("div",HS,[$("dt",null,w(e.t("embed")),1),$("dd",null,w(e.embed),1)])):M("",!0),e.creationDate?(m(),A("div",GS,[$("dt",null,w(e.t("created")),1),$("dd",null,w(e.creationDate),1)])):M("",!0),e.file.checksum?(m(),A("div",ZS,[$("dt",null,w(e.t("checksum")),1),$("dd",null,w(e.file.checksum),1)])):M("",!0),e.userCreated?(m(),A("div",JS,[$("dt",null,w(e.t("owner")),1),$("dd",null,[a(i,{user:e.userCreated.id},{default:d(()=>[a(r,{to:e.userCreated.link},{default:d(()=>[P(w(e.userCreated.name),1)]),_:1},8,["to"])]),_:1},8,["user"])])])):M("",!0),e.modificationDate?(m(),A("div",XS,[$("dt",null,w(e.t("modified")),1),$("dd",null,w(e.modificationDate),1)])):M("",!0),e.userModified?(m(),A("div",YS,[$("dt",null,w(e.t("edited_by")),1),$("dd",null,[a(i,{user:e.userModified.id},{default:d(()=>[a(r,{to:e.userModified.link},{default:d(()=>[P(w(e.userModified.name),1)]),_:1},8,["to"])]),_:1},8,["user"])])])):M("",!0),$("div",null,[$("dt",null,w(e.t("file")),1),$("dd",null,[$("a",{href:e.fileLink,target:"_blank"},w(e.t("open_in_new_window")),9,QS)])]),$("div",null,[$("dt",null,w(e.t("folder")),1),$("dd",null,[a(r,{to:e.folderLink},{default:d(()=>[P(w(e.t("open_folder",{folder:e.folder?e.folder.name:e.t("file_library")})),1)]),_:1},8,["to"])])]),((v=(_=e.file.metadata)==null?void 0:_.ifd0)==null?void 0:v.Make)||((g=(y=e.file.metadata)==null?void 0:y.ifd0)==null?void 0:g.Model)||((b=(h=e.file.metadata)==null?void 0:h.exif)==null?void 0:b.FNumber)||((I=(S=e.file.metadata)==null?void 0:S.exif)==null?void 0:I.ExposureTime)||((R=(E=e.file.metadata)==null?void 0:E.exif)==null?void 0:R.FocalLength)||((L=(O=e.file.metadata)==null?void 0:O.exif)==null?void 0:L.ISO)?(m(),A(se,{key:11},[a(s),((q=e.file.metadata.ifd0)==null?void 0:q.Make)&&((T=e.file.metadata.ifd0)==null?void 0:T.Model)?(m(),A("div",xS,[$("dt",null,w(e.t("camera")),1),$("dd",null,w(e.file.metadata.ifd0.Make)+" "+w(e.file.metadata.ifd0.Model),1)])):M("",!0),((j=e.file.metadata.exif)==null?void 0:j.FNumber)?(m(),A("div",e6,[$("dt",null,w(e.t("exposure")),1),$("dd",null,"\u0192/"+w(e.file.metadata.exif.FNumber),1)])):M("",!0),((U=e.file.metadata.exif)==null?void 0:U.ExposureTime)?(m(),A("div",t6,[$("dt",null,w(e.t("shutter")),1),$("dd",null,"1/"+w(Math.round(1/+e.file.metadata.exif.ExposureTime))+" "+w(e.t("second")),1)])):M("",!0),((B=e.file.metadata.exif)==null?void 0:B.FocalLength)?(m(),A("div",n6,[$("dt",null,w(e.t("focal_length")),1),$("dd",null,w(e.file.metadata.exif.FocalLength)+"mm",1)])):M("",!0),((K=e.file.metadata.exif)==null?void 0:K.ISO)?(m(),A("div",l6,[$("dt",null,w(e.t("iso")),1),$("dd",null,w(e.file.metadata.exif.ISO),1)])):M("",!0)],64)):M("",!0)])):M("",!0),a(s),ie($("div",o6,null,512),[[f,e.t("page_help_files_item")]])]}),_:1},8,["title"])}var i6=H(US,[["render",a6],["__scopeId","data-v-4018d0a4"]]);const r6=Z({props:{modelValue:{type:Boolean,default:!1},file:{default:()=>({})},preset:{default:()=>({})}},emits:["update:modelValue","replaced"],setup(e,{emit:t}){const{t:n}=ae();function l(){t("update:modelValue",!1),t("replaced")}return(o,u)=>{const r=c("v-card-title"),i=c("v-upload"),s=c("v-card-text"),p=c("v-button"),f=c("v-card-actions"),_=c("v-card"),v=c("v-dialog");return m(),F(v,{"model-value":e.modelValue,"onUpdate:modelValue":u[1]||(u[1]=y=>o.$emit("update:modelValue",!1)),onEsc:u[2]||(u[2]=y=>o.$emit("update:modelValue",!1))},{default:d(()=>[e.file?(m(),F(_,{key:0},{default:d(()=>[a(r,null,{default:d(()=>[P(w(C(n)("replace_file")),1)]),_:1}),a(s,null,{default:d(()=>[a(i,{preset:e.preset,"file-id":e.file.id,"from-url":"",onInput:l},null,8,["preset","file-id"])]),_:1}),a(f,null,{default:d(()=>[a(p,{secondary:"",onClick:u[0]||(u[0]=y=>o.$emit("update:modelValue",!1))},{default:d(()=>[P(w(C(n)("done")),1)]),_:1})]),_:1})]),_:1})):M("",!0)]),_:1},8,["model-value"])}}});var s6=H(r6,[["__scopeId","data-v-8b3f7b34"]]);const d6=Z({components:{FilesNavigation:Lo},setup(){const{t:e}=ae();return{t:e}}}),u6={class:"not-found"};function c6(e,t,n,l,o,u){const r=c("files-navigation"),i=c("v-info"),s=c("private-view");return m(),F(s,{title:e.t("page_not_found")},{navigation:d(()=>[a(r)]),default:d(()=>[$("div",u6,[a(i,{title:e.t("page_not_found"),icon:"not_interested"},{default:d(()=>[P(w(e.t("page_not_found_body")),1)]),_:1},8,["title"])])]),_:1},8,["title"])}var p6=H(d6,[["render",c6],["__scopeId","data-v-6900fd47"]]);const m6={class:"file-item"},f6={class:"preview"},_6=Z({props:{primaryKey:null},setup(e){const t=e,{t:n}=ae(),l=it(),o=D(),{primaryKey:u}=ze(t),{breadcrumb:r}=ue(),i=D(!1),s=D(null),{isNew:p,edits:f,hasEdits:_,item:v,saving:y,loading:g,save:h,remove:b,deleting:S,saveAsCopy:I,isBatch:E,refresh:R,validationErrors:O}=En(D("directus_files"),u),L=V(()=>le.value&&_.value),{confirmLeave:q,leaveTo:T}=sn(_),j=D(!1),U=D(!1),B=V(()=>v.value&&v.value.modified_on?ct(tt()+`assets/${t.primaryKey}?cache-buster=${v.value.modified_on}&key=system-large-contain`):ct(tt()+`assets/${t.primaryKey}?key=system-large-contain`)),K=["type","width","height","filesize","checksum","uploaded_by","uploaded_on","modified_by","modified_on","duration","folder","charset","embed"],J=V(()=>{var we;return v.value&&((we=v.value)==null?void 0:we.folder)?`/files/folders/${v.value.folder}`:"/files"}),{moveToDialogActive:Y,moveToFolder:W,moving:G,selectedFolder:Q}=$e();rt("meta+s",ce,o);const{createAllowed:X,deleteAllowed:ee,saveAllowed:le,updateAllowed:te,fields:re,revisionsAllowed:ye}=Wn(D("directus_files"),v,p),fe=V(()=>re.value.filter(we=>K.includes(we.field)===!1));function ue(){return{breadcrumb:V(()=>{var be;return((be=v==null?void 0:v.value)==null?void 0:be.folder)?[{name:n("file_library"),to:{path:`/files/folders/${v.value.folder}`}}]:[{name:n("file_library"),to:"/files"}]})}}async function _e(){try{await h(),l.push(J.value)}catch{}}async function ce(){var we,be;try{await h(),(be=(we=s.value)==null?void 0:we.refresh)==null||be.call(we)}catch{}}async function oe(){const we=await I();we&&l.push(`/files/${we}`)}async function ne(){try{await b(),l.replace(J.value)}catch{j.value=!1}}function x(){!T.value||(f.value={},q.value=!1,l.push(T.value))}function pe(){f.value={},q.value=!1}function ge(){const we=ct(tt()+`assets/${t.primaryKey}?download`);window.open(we,"_blank")}function $e(){const we=D(!1),be=D(!1),De=D();return he(v,()=>{var Ke;De.value=((Ke=v.value)==null?void 0:Ke.folder)||null}),{moveToDialogActive:we,moving:be,moveToFolder:qe,selectedFolder:De};async function qe(){var Ke;be.value=!0;try{const je=await me.patch(`/files/${t.primaryKey}`,{folder:De.value},{params:{fields:"folder.name"}});await R();const Ue=((Ke=je.data.data.folder)==null?void 0:Ke.name)||n("file_library");yt({title:n("file_moved",{folder:Ue}),icon:"folder_move"})}catch(je){Pe(je)}finally{we.value=!1,be.value=!1}}}return(we,be)=>{const De=c("v-icon"),qe=c("v-button"),Ke=c("v-breadcrumb"),je=c("v-card-title"),Ue=c("v-card-actions"),Le=c("v-card"),Ee=c("v-dialog"),Ce=c("v-card-text"),Ne=c("v-form"),Se=c("private-view"),Ae=Fe("tooltip");return!C(g)&&!C(v)?(m(),F(p6,{key:0})):(m(),F(Se,{key:1,title:C(g)||!C(v)?C(n)("loading"):C(v).title},{"title-outer:prepend":d(()=>[a(qe,{class:"header-icon",rounded:"",icon:"",secondary:"",exact:"",onClick:be[0]||(be[0]=Oe=>C(l).back())},{default:d(()=>[a(De,{name:"arrow_back"})]),_:1})]),headline:d(()=>[a(Ke,{items:C(r)},null,8,["items"])]),actions:d(()=>[a(Ee,{modelValue:j.value,"onUpdate:modelValue":be[2]||(be[2]=Oe=>j.value=Oe),onEsc:be[3]||(be[3]=Oe=>j.value=!1)},{activator:d(({on:Oe})=>[ie(a(qe,{rounded:"",icon:"",class:"action-delete",secondary:"",disabled:C(v)===null||C(ee)===!1,onClick:Oe},{default:d(()=>[a(De,{name:"delete",outline:""})]),_:2},1032,["disabled","onClick"]),[[Ae,C(ee)?C(n)("delete_label"):C(n)("not_allowed"),void 0,{bottom:!0}]])]),default:d(()=>[a(Le,null,{default:d(()=>[a(je,null,{default:d(()=>[P(w(C(n)("delete_are_you_sure")),1)]),_:1}),a(Ue,null,{default:d(()=>[a(qe,{secondary:"",onClick:be[1]||(be[1]=Oe=>j.value=!1)},{default:d(()=>[P(w(C(n)("cancel")),1)]),_:1}),a(qe,{kind:"danger",loading:C(S),onClick:ne},{default:d(()=>[P(w(C(n)("delete_label")),1)]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),C(p)===!1?(m(),F(Ee,{key:0,modelValue:C(Y),"onUpdate:modelValue":be[6]||(be[6]=Oe=>ut(Y)?Y.value=Oe:null),onEsc:be[7]||(be[7]=Oe=>Y.value=!1)},{activator:d(({on:Oe})=>[ie(a(qe,{rounded:"",icon:"",disabled:C(v)===null,secondary:"",onClick:Oe},{default:d(()=>[a(De,{name:"folder_move"})]),_:2},1032,["disabled","onClick"]),[[Ae,C(n)("move_to_folder"),void 0,{bottom:!0}]])]),default:d(()=>[a(Le,null,{default:d(()=>[a(je,null,{default:d(()=>[P(w(C(n)("move_to_folder")),1)]),_:1}),a(Ce,null,{default:d(()=>[a(Ul,{modelValue:C(Q),"onUpdate:modelValue":be[4]||(be[4]=Oe=>ut(Q)?Q.value=Oe:null)},null,8,["modelValue"])]),_:1}),a(Ue,null,{default:d(()=>[a(qe,{secondary:"",onClick:be[5]||(be[5]=Oe=>Y.value=!1)},{default:d(()=>[P(w(C(n)("cancel")),1)]),_:1}),a(qe,{loading:C(G),onClick:C(W)},{default:d(()=>[P(w(C(n)("move")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])):M("",!0),ie(a(qe,{rounded:"",icon:"",secondary:"",onClick:ge},{default:d(()=>[a(De,{name:"save_alt"})]),_:1},512),[[Ae,C(n)("download"),void 0,{bottom:!0}]]),C(v)&&C(v).type.includes("image")?ie((m(),F(qe,{key:1,rounded:"",icon:"",secondary:"",onClick:be[8]||(be[8]=Oe=>U.value=!0)},{default:d(()=>[a(De,{name:"tune"})]),_:1},512)),[[Ae,C(n)("edit"),void 0,{bottom:!0}]]):M("",!0),ie(a(qe,{rounded:"",icon:"",loading:C(y),disabled:!C(L),onClick:_e},{"append-outer":d(()=>[C(L)?(m(),F(C(zl),{key:0,"disabled-options":C(X)?["save-and-add-new"]:["save-and-add-new","save-as-copy"],onSaveAndStay:ce,onSaveAsCopy:oe,onDiscardAndStay:pe},null,8,["disabled-options"])):M("",!0)]),default:d(()=>[a(De,{name:"check"})]),_:1},8,["loading","disabled"]),[[Ae,C(le)?C(n)("save"):C(n)("not_allowed"),void 0,{bottom:!0}]])]),navigation:d(()=>[a(Lo,{"current-folder":C(v)&&C(v).folder},null,8,["current-folder"])]),sidebar:d(()=>[a(i6,{file:C(v)},null,8,["file"]),C(E)===!1&&C(p)===!1&&C(ye)?(m(),F(C(al),{key:0,ref:(Oe,Qe)=>{Qe.revisionsDrawerDetailRef=Oe,s.value=Oe},collection:"directus_files","primary-key":C(u)},null,8,["primary-key"])):M("",!0),C(E)===!1&&C(p)===!1?(m(),F(C(Ao),{key:1,collection:"directus_files","primary-key":C(u)},null,8,["primary-key"])):M("",!0)]),default:d(()=>[$("div",m6,[$("div",f6,[C(E)===!1&&C(v)?(m(),F(C(Io),{key:0,src:C(B),mime:C(v).type,width:C(v).width,height:C(v).height,title:C(v).title},null,8,["src","mime","width","height","title"])):M("",!0),C(E)===!1&&C(v)?(m(),A("button",{key:1,class:"replace-toggle",onClick:be[9]||(be[9]=Oe=>i.value=!0)},w(C(n)("replace_file")),1)):M("",!0)]),C(v)&&C(v).type.startsWith("image")?(m(),F(C(MS),{key:0,id:C(v).id,modelValue:U.value,"onUpdate:modelValue":be[10]||(be[10]=Oe=>U.value=Oe),onRefresh:C(R)},null,8,["id","modelValue","onRefresh"])):M("",!0),a(Ne,{ref:(Oe,Qe)=>{Qe.form=Oe,o.value=Oe},modelValue:C(f),"onUpdate:modelValue":be[11]||(be[11]=Oe=>ut(f)?f.value=Oe:null),fields:C(fe),loading:C(g),"initial-values":C(v),"batch-mode":C(E),"primary-key":C(u),disabled:C(te)===!1,"validation-errors":C(O)},null,8,["modelValue","fields","loading","initial-values","batch-mode","primary-key","disabled","validation-errors"])]),a(Ee,{modelValue:C(q),"onUpdate:modelValue":be[13]||(be[13]=Oe=>ut(q)?q.value=Oe:null),onEsc:x},{default:d(()=>[a(Le,null,{default:d(()=>[a(je,null,{default:d(()=>[P(w(C(n)("unsaved_changes")),1)]),_:1}),a(Ce,null,{default:d(()=>[P(w(C(n)("unsaved_changes_copy")),1)]),_:1}),a(Ue,null,{default:d(()=>[a(qe,{secondary:"",onClick:x},{default:d(()=>[P(w(C(n)("discard_changes")),1)]),_:1}),a(qe,{onClick:be[12]||(be[12]=Oe=>q.value=!1)},{default:d(()=>[P(w(C(n)("keep_editing")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),a(s6,{modelValue:i.value,"onUpdate:modelValue":be[14]||(be[14]=Oe=>i.value=Oe),file:C(v),onReplaced:C(R)},null,8,["modelValue","file","onReplaced"])]),_:1},8,["title"]))}}});var v6=H(_6,[["__scopeId","data-v-6af7793c"]]),y6=kn({id:"files",name:"$t:file_library",icon:"folder",routes:[{name:"files-collection",path:"",component:cl,children:[{path:"+",name:"add-file",components:{addNew:wi}}]},{name:"files-item",path:":primaryKey",component:v6,props:!0},{path:"folders",redirect:"/files"},{name:"folders-collection",path:"folders/:folder",component:cl,props:!0,children:[{path:"+",name:"add-file-folder",components:{addNew:wi}}]},{path:"all",component:cl,props:{special:"all"}},{path:"mine",component:cl,props:{special:"mine"}},{path:"recent",component:cl,props:{special:"recent"}}],preRegisterCheck(e,t){return e.role.admin_access?!0:!!t.find(o=>o.collection==="directus_files"&&o.action==="read")}}),h6=Object.freeze(Object.defineProperty({__proto__:null,default:y6},Symbol.toStringTag,{value:"Module"}));function Si(e){const t=e.split(".")[1].replace("-","+").replace("_","/"),n=Vd.exports.decode(t);return JSON.parse(n)}const g6=Z({setup(){const{t:e}=ae(),t=Wt(),n=V(()=>t.query.token),l=D(null),o=D(!1),u=D(null),r=D(!1),i=V(()=>u.value?xt(u.value):null),s=V(()=>"/login"),p=V(()=>Si(n.value).email);return{t:e,creating:o,error:u,done:r,password:l,onSubmit:f,signInLink:s,errorFormatted:i,email:p};async function f(){o.value=!0,u.value=null;try{await me.post("/users/invite/accept",{password:l.value,token:n.value}),r.value=!0}catch(_){u.value=_}finally{o.value=!1}}}}),b6={class:"type-title"};function w6(e,t,n,l,o,u){const r=c("v-input"),i=c("v-notice"),s=c("v-button"),p=c("v-icon"),f=c("public-view");return m(),F(f,null,{notice:d(()=>[a(p,{name:"lock_outlined",left:""}),P(" "+w(e.t("not_authenticated")),1)]),default:d(()=>[$("h1",b6,w(e.t("create_account")),1),$("form",{onSubmit:t[1]||(t[1]=Te((..._)=>e.onSubmit&&e.onSubmit(..._),["prevent"]))},[a(r,{"model-value":e.email,disabled:""},null,8,["model-value"]),a(r,{modelValue:e.password,"onUpdate:modelValue":t[0]||(t[0]=_=>e.password=_),placeholder:e.t("password"),autofocus:"",autocomplete:"password",type:"password",disabled:e.done},null,8,["modelValue","placeholder","disabled"]),e.done?(m(),F(i,{key:0,type:"success"},{default:d(()=>[P(w(e.t("account_created_successfully")),1)]),_:1})):M("",!0),e.error?(m(),F(i,{key:1,type:"danger"},{default:d(()=>[P(w(e.errorFormatted),1)]),_:1})):M("",!0),e.done?(m(),F(s,{key:3,large:"",to:e.signInLink},{default:d(()=>[P(w(e.t("sign_in")),1)]),_:1},8,["to"])):(m(),F(s,{key:2,type:"submit",loading:e.creating,large:""},{default:d(()=>[P(w(e.t("create")),1)]),_:1},8,["loading"]))],32)]),_:1})}var k6=H(g6,[["render",w6],["__scopeId","data-v-8ab16d02"]]);const $6=Z({props:{provider:{type:String,required:!0}},setup(e){const{t}=ae(),n=it(),{provider:l}=ze(e),o=D(!1),u=D(null),r=D(null),i=D(null),s=D(null),p=D(!1),f=Ye();he(u,()=>{p.value===!0&&(p.value=!1)}),he(l,()=>{u.value=null,r.value=null,i.value=null,s.value=null,p.value=!1});const _=V(()=>i.value==="INVALID_PAYLOAD"?xt("INVALID_CREDENTIALS"):i.value?xt(i.value):null);return{t,errorFormatted:_,error:i,email:u,password:r,onSubmit:v,loggingIn:o,translateAPIError:xt,otp:s,requiresTFA:p};async function v(){var y,g,h,b,S,I,E,R,O,L,q;if(!(u.value===null||r.value===null))try{o.value=!0;const T={email:u.value,password:r.value};s.value&&(T.otp=s.value),await la({provider:l.value,credentials:T});const j=n.currentRoute.value.query.redirect,U=(y=f.currentUser)==null?void 0:y.last_page;n.push(j||U||"/content")}catch(T){((I=(S=(b=(h=(g=T.response)==null?void 0:g.data)==null?void 0:h.errors)==null?void 0:b[0])==null?void 0:S.extensions)==null?void 0:I.code)==="INVALID_OTP"&&p.value===!1?p.value=!0:i.value=((q=(L=(O=(R=(E=T.response)==null?void 0:E.data)==null?void 0:R.errors)==null?void 0:O[0])==null?void 0:L.extensions)==null?void 0:q.code)||T}finally{o.value=!1}}}}),C6={class:"buttons"};function S6(e,t,n,l,o,u){const r=c("v-input"),i=c("transition-expand"),s=c("v-notice"),p=c("v-button"),f=c("router-link");return m(),A("form",{onSubmit:t[3]||(t[3]=Te((..._)=>e.onSubmit&&e.onSubmit(..._),["prevent"]))},[a(r,{modelValue:e.email,"onUpdate:modelValue":t[0]||(t[0]=_=>e.email=_),autofocus:"",autocomplete:"username",type:"email",placeholder:e.t("email")},null,8,["modelValue","placeholder"]),a(r,{modelValue:e.password,"onUpdate:modelValue":t[1]||(t[1]=_=>e.password=_),type:"password",autocomplete:"current-password",placeholder:e.t("password")},null,8,["modelValue","placeholder"]),a(i,null,{default:d(()=>[e.requiresTFA?(m(),F(r,{key:0,modelValue:e.otp,"onUpdate:modelValue":t[2]||(t[2]=_=>e.otp=_),type:"text",placeholder:e.t("otp"),autofocus:""},null,8,["modelValue","placeholder"])):M("",!0)]),_:1}),e.error?(m(),F(s,{key:0,type:"warning"},{default:d(()=>[P(w(e.errorFormatted),1)]),_:1})):M("",!0),$("div",C6,[a(p,{type:"submit",loading:e.loggingIn,large:""},{default:d(()=>[P(w(e.t("sign_in")),1)]),_:1},8,["loading"]),a(f,{to:"/reset-password",class:"forgot-password"},{default:d(()=>[P(w(e.t("forgot_password")),1)]),_:1})])],32)}var F6=H($6,[["render",S6],["__scopeId","data-v-c009fd00"]]);const V6=Z({props:{provider:{type:String,required:!0}},setup(e){const{t}=ae(),n=it(),{provider:l}=ze(e),o=D(!1),u=D(null),r=D(null),i=D(null),s=D(null),p=D(!1),f=Ye();he(u,()=>{p.value===!0&&(p.value=!1)}),he(l,()=>{u.value=null,r.value=null,i.value=null,s.value=null,p.value=!1});const _=V(()=>i.value==="INVALID_PAYLOAD"?xt("INVALID_CREDENTIALS"):i.value?xt(i.value):null);return{t,errorFormatted:_,error:i,identifier:u,password:r,onSubmit:v,loggingIn:o,translateAPIError:xt,otp:s,requiresTFA:p};async function v(){var y,g,h,b,S,I,E,R,O,L,q;if(!(u.value===null||r.value===null))try{o.value=!0;const T={identifier:u.value,password:r.value};s.value&&(T.otp=s.value),await la({provider:l.value,credentials:T});const j=(y=f.currentUser)==null?void 0:y.last_page;n.push(j||"/content")}catch(T){((I=(S=(b=(h=(g=T.response)==null?void 0:g.data)==null?void 0:h.errors)==null?void 0:b[0])==null?void 0:S.extensions)==null?void 0:I.code)==="INVALID_OTP"&&p.value===!1?p.value=!0:i.value=((q=(L=(O=(R=(E=T.response)==null?void 0:E.data)==null?void 0:R.errors)==null?void 0:O[0])==null?void 0:L.extensions)==null?void 0:q.code)||T}finally{o.value=!1}}}});function A6(e,t,n,l,o,u){const r=c("v-input"),i=c("transition-expand"),s=c("v-notice"),p=c("v-button");return m(),A("form",{onSubmit:t[3]||(t[3]=Te((...f)=>e.onSubmit&&e.onSubmit(...f),["prevent"]))},[a(r,{modelValue:e.identifier,"onUpdate:modelValue":t[0]||(t[0]=f=>e.identifier=f),autofocus:"",autocomplete:"username",placeholder:e.t("identifier")},null,8,["modelValue","placeholder"]),a(r,{modelValue:e.password,"onUpdate:modelValue":t[1]||(t[1]=f=>e.password=f),type:"password",autocomplete:"current-password",placeholder:e.t("password")},null,8,["modelValue","placeholder"]),a(i,null,{default:d(()=>[e.requiresTFA?(m(),F(r,{key:0,modelValue:e.otp,"onUpdate:modelValue":t[2]||(t[2]=f=>e.otp=f),type:"text",placeholder:e.t("otp"),autofocus:""},null,8,["modelValue","placeholder"])):M("",!0)]),_:1}),e.error?(m(),F(s,{key:0,type:"warning"},{default:d(()=>[P(w(e.errorFormatted),1)]),_:1})):M("",!0),a(p,{type:"submit",loading:e.loggingIn,large:""},{default:d(()=>[P(w(e.t("sign_in")),1)]),_:1},8,["loading"])],32)}var I6=H(V6,[["render",A6],["__scopeId","data-v-48c6d445"]]);const E6=Z({setup(){const{t:e}=ae(),t=it(),n=D(!1),l=D(null),o=D(null);return u(),dt(()=>{"continue"in t.currentRoute.value.query&&r()}),{t:e,name:l,lastPage:o,loading:n,hydrateAndLogin:r};async function u(){n.value=!0;try{const i=await me.get("/users/me",{params:{fields:["email","first_name","last_name","last_page"]}});i.data.data.share&&await yl(),l.value=Ft(i.data.data),o.value=i.data.data.last_page}catch(i){Pe(i)}finally{n.value=!1}}async function r(){await vl(),t.push(o.value||"/content")}}}),D6={class:"continue-as"},P6={class:"actions"};function T6(e,t,n,l,o,u){const r=c("v-progress-circular"),i=c("i18n-t"),s=c("router-link"),p=c("v-button");return m(),A("div",D6,[e.loading?(m(),F(r,{key:0,indeterminate:""})):(m(),A(se,{key:1},[a(i,{keypath:"continue_as",scope:"global",tag:"p"},{name:d(()=>[$("b",null,w(e.name),1)]),_:1}),$("div",P6,[a(s,{to:"/logout",class:"sign-out"},{default:d(()=>[P(w(e.t("sign_out")),1)]),_:1}),a(p,{autofocus:"",large:"",onClick:e.hydrateAndLogin},{default:d(()=>[P(w(e.t("continue_label")),1)]),_:1},8,["onClick"])])],64))])}var O6=H(E6,[["render",T6],["__scopeId","data-v-b5a5a818"]]),L6=["about","above","across","after","against","along","among","around","at","because of","before","behind","below","beneath","beside","besides","between","beyond","but","by","concerning","despite","down","during","except","excepting","for","from","in","in front of","inside","in spite of","instead of","into","like","near","of","off","on","onto","out","outside","over","past","regarding","since","through","throughout","to","toward","under","underneath","until","up","upon","up to","with","within","without","with regard to","with respect to"],j6=["and","that","but","or","as","if","when","than","because","while","where","after","so","though","since","until","whether","before","although","nor","like","once","unless","now","except"],R6=["2D","3D","4WD","API","BASIC","BIOS","CCTV","CC","CCV","CD","CD-ROM","COBOL","CIA","CMS","CSS","CSV","CV","DIY","DVD","DB","DNA","E3","EIN","ESPN","FAQ","FAQs","FTP","FPS","FORTRAN","FBI","HTML","HTTP","ID","IP","ISO","JS","JSON","LASER","M2M","M2MM","M2O","MMORPG","NAFTA","NASA","NDA","O2M","PDF","PHP","POP","RAM","RNGR","ROM","RPG","RTFM","RTS","SCUBA","SITCOM","SKU","SMTP","SQL","SSN","SWAT","TBS","TTL","TV","TNA","UI","URL","USB","UWP","VIP","W3C","WYSIWYG","WWW","WWE","WWF"],M6=["2FA","3D","4K","5K","8K","CTA","DateTime","GitHub","HD","IBMid","ID","IDs","iMac","IMAX","iOS","IP","iPad","iPhone","iPod","LDAP","LinkedIn","M2M","M2O","macOS","McDonalds","MySQL","O2M","PDFs","pH","PostgreSQL","SEO","UHD","UUID","XSS","YouTube"];function U6(e,t,n){const l=e.toLowerCase(),o=e.toUpperCase();for(const u of M6)if(u.toLowerCase()===l)return u;return R6.includes(o)?o:t===0||t===n.length-1?e:L6.includes(l)||j6.includes(l)?l:e}function N6(e,t){return`${e} ${t}`}function B6(e){return e.charAt(0).toUpperCase()+e.substring(1)}function q6(e){return e.replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/([A-Z]+)([A-Z][a-z\d]+)/g,"$1_$2").toLowerCase()}function kt(e,t){return t||(t=new RegExp("/s|-|_| ","g")),q6(e).split(t).map(B6).map(U6).reduce(N6)}const z6=Z({props:{providers:{type:Array,default:()=>[]}},setup(e){const{t}=ae(),n=it(),{providers:l}=ze(e),o=D([]);he(l,()=>{o.value=l.value.filter(r=>di.includes(r.driver)).map(r=>{var i;return{name:kt(r.name),link:`${tt()}auth/login/${r.name}?redirect=${window.location.href.replace(location.search,"")}?continue`,icon:(i=r.icon)!=null?i:"account_circle"}})});const u=V(()=>n.currentRoute.value.query.reason?xt(n.currentRoute.value.query.reason):null);return{t,ssoProviders:o,errorFormatted:u}}}),K6={class:"sso-links"},W6=["href"],H6={class:"sso-icon"},G6={class:"sso-title"};function Z6(e,t,n,l,o,u){const r=c("v-divider"),i=c("v-notice"),s=c("v-icon");return m(),A("div",K6,[e.ssoProviders.length>0?(m(),A(se,{key:0},[a(r),e.errorFormatted?(m(),F(i,{key:0,type:"warning"},{default:d(()=>[P(w(e.errorFormatted),1)]),_:1})):M("",!0),(m(!0),A(se,null,Ve(e.ssoProviders,p=>(m(),A("a",{key:p.name,class:"sso-link",href:p.link},[$("div",H6,[a(s,{name:p.icon},null,8,["name"])]),$("div",G6,w(e.t("log_in_with",{provider:p.name})),1)],8,W6))),128))],64)):M("",!0)])}var J6=H(z6,[["render",Z6],["__scopeId","data-v-6db974e3"]]);const X6=Z({components:{LoginForm:F6,LdapForm:I6,ContinueAs:O6,SsoLinks:J6},props:{logoutReason:{type:String,default:null}},setup(){const{t:e,te:t}=ae(),n=Et(),l=D([]),o=D(!1),u=D(Vo),r=D([]),i=D("local"),s=V({get(){return u.value},set(_){var v,y;u.value=_,i.value=(y=(v=l.value.find(g=>g.name===_))==null?void 0:v.driver)!=null?y:"local"}}),p=V(()=>n.authenticated);return dt(()=>f()),{t:e,te:t,authenticated:p,providers:l,providerSelect:s,providerOptions:r,provider:u,driver:i,disableDefault:o};async function f(){var _;try{const v=await me.get("/auth");l.value=v.data.data,o.value=v.data.disableDefault,r.value=l.value.filter(y=>!di.includes(y.driver)).map(y=>({text:kt(y.name),value:y.name})),o.value?s.value=(_=r.value[0])==null?void 0:_.value:r.value.unshift({text:e("default_provider"),value:Vo})}catch(v){Pe(v)}}}}),Y6={class:"header"},Q6={class:"type-title"},x6={key:0,class:"provider-select"};function eF(e,t,n,l,o,u){const r=c("v-select"),i=c("continue-as"),s=c("ldap-form"),p=c("login-form"),f=c("sso-links"),_=c("v-icon"),v=c("public-view");return m(),F(v,null,at({default:d(()=>[$("div",Y6,[$("h1",Q6,w(e.t("sign_in")),1),!e.authenticated&&e.providerOptions.length>1?(m(),A("div",x6,[a(r,{modelValue:e.providerSelect,"onUpdate:modelValue":t[0]||(t[0]=y=>e.providerSelect=y),inline:"",items:e.providerOptions,label:""},null,8,["modelValue","items"])])):M("",!0)]),e.authenticated?(m(),F(i,{key:0})):e.driver==="ldap"?(m(),F(s,{key:1,provider:e.provider},null,8,["provider"])):e.disableDefault?M("",!0):(m(),F(p,{key:2,provider:e.provider},null,8,["provider"])),e.authenticated?M("",!0):(m(),F(f,{key:3,providers:e.providers},null,8,["providers"]))]),_:2},[e.authenticated?{name:"notice",fn:d(()=>[a(_,{name:"lock_open",left:""}),P(" "+w(e.t("authenticated")),1)])}:{name:"notice",fn:d(()=>[a(_,{name:"lock_outlined",left:""}),P(" "+w(e.logoutReason&&e.te(`logoutReason.${e.logoutReason}`)?e.t(`logoutReason.${e.logoutReason}`):e.t("not_authenticated")),1)])}]),1024)}var tF=H(X6,[["render",eF],["__scopeId","data-v-1482f314"]]);const nF=Z({setup(){dt(()=>{yl()})}}),lF={class:"logout"};function oF(e,t,n,l,o,u){const r=c("v-progress-circular");return m(),A("div",lF,[a(r,{indeterminate:""})])}var aF=H(nF,[["render",oF],["__scopeId","data-v-cfb047f4"]]);const iF=Z({id:"ShareItem",props:{collection:{type:String,required:!0},primaryKey:{type:String,required:!0}},setup(e){const{collection:t,primaryKey:n}=ze(e),{edits:l,item:o,loading:u}=En(t,n);return{edits:l,item:o,loading:u}}});function rF(e,t,n,l,o,u){const r=c("v-form");return m(),F(r,{modelValue:e.edits,"onUpdate:modelValue":t[0]||(t[0]=i=>e.edits=i),collection:e.collection,"initial-values":e.item,"primary-key":e.primaryKey,disabled:"",loading:e.loading},null,8,["modelValue","collection","initial-values","primary-key","loading"])}var sF=H(iF,[["render",rF]]);const dF=Z({components:{ShareItem:sF},setup(){const{t:e}=ae(),t=Et(),n=V(()=>t.authenticated),l=D(!0),o=D(!1),u=D(!1),r=D(null),i=it(),p=Wt().params.id,f=D(),_=D(null),v=V(()=>_.value&&_.value<3?"warning":"info"),y=D(),g=D(!1);I(p);const{info:h}=_t(V(()=>{var O,L;return(L=(O=f.value)==null?void 0:O.collection)!=null?L:null})),b=V(()=>{var O;return(O=h.value)==null?void 0:O.name}),S=V(()=>u.value?e("share_access_not_found_title"):b.value?e("viewing_in",{collection:b.value}):e("share_access_page"));return{t:e,share:f,error:r,title:S,loading:l,notFound:u,password:y,authenticate:R,authenticated:n,authenticating:o,usesLeft:_,usesLeftNoticeType:v,collectionName:b,passwordWrong:g};async function I(O){var L,q;l.value=!0;try{const T=await me.get(`/shares/info/${O}`);if(f.value=T.data.data,!f.value){u.value=!0,l.value=!1;return}const{max_uses:j,times_used:U}=f.value;j&&(_.value=j-U),await E()}catch(T){((L=T.response)==null?void 0:L.status)===404||((q=T.response)==null?void 0:q.status)===403?u.value=!0:r.value=T}finally{l.value=!1}}async function E(){var O,L,q,T,j;if(t.authenticated){const U=await me.get("/users/me",{params:{fields:["id"]}});if(((O=U.data.data)==null?void 0:O.share)&&(U.data.data.share!==p?await yl({navigate:!1}):await vl()),((L=U.data.data)==null?void 0:L.id)&&!((q=U.data.data)==null?void 0:q.share)){i.replace(`/content/${f.value.collection}/${f.value.item}`);return}}!((T=f.value)==null?void 0:T.password)&&!((j=f.value)==null?void 0:j.max_uses)&&(t.authenticated?await vl():await R())}async function R(){var O,L,q,T,j;o.value=!0;try{const U={share:p,password:y.value};await la({share:!0,credentials:U})}catch(U){if(((j=(T=(q=(L=(O=U==null?void 0:U.response)==null?void 0:O.data)==null?void 0:L.errors)==null?void 0:q[0])==null?void 0:T.extensions)==null?void 0:j.code)==="INVALID_CREDENTIALS"){g.value=!0;return}r.value=U}finally{o.value=!1}}}}),uF={key:0,class:"hydrating"},cF={key:0};function pF(e,t,n,l,o,u){const r=c("v-progress-circular"),i=c("v-error"),s=c("v-notice"),p=c("v-input"),f=c("v-button"),_=c("share-item"),v=c("shared-view");return e.loading?(m(),A("div",uF,[a(r,{indeterminate:""})])):(m(),F(v,{key:1,inline:!e.authenticated,title:e.title},{default:d(()=>[e.notFound?(m(),A("div",cF,[$("strong",null,w(e.t("share_access_not_found")),1),P(" "+w(e.t("share_access_not_found_desc")),1)])):e.error?(m(),F(i,{key:1,error:e.error},null,8,["error"])):e.share?(m(),A(se,{key:2},[e.authenticated?(m(),F(_,{key:1,collection:e.share.collection,"primary-key":e.share.item},null,8,["collection","primary-key"])):(m(),A(se,{key:0},[e.usesLeft!==void 0&&e.usesLeft!==null?(m(),F(s,{key:0,type:e.usesLeftNoticeType},{default:d(()=>[P(w(e.t("shared_uses_left",e.usesLeft)),1)]),_:1},8,["type"])):M("",!0),e.usesLeft!==0?(m(),A(se,{key:1},[e.share.password?(m(),F(p,{key:0,class:de(["password",{invalid:e.passwordWrong}]),type:"password",placeholder:e.t("shared_enter_passcode"),"onUpdate:modelValue":t[0]||(t[0]=y=>e.password=y)},null,8,["class","placeholder"])):M("",!0),a(f,{busy:e.authenticating,onClick:e.authenticate},{default:d(()=>[P(w(e.t("share_access_page")),1)]),_:1},8,["busy","onClick"])],64)):M("",!0)],64))],64)):M("",!0)]),_:1},8,["inline","title"]))}var mF=H(dF,[["render",pF],["__scopeId","data-v-456eb20d"]]);const fF=Z({setup(){const{t:e}=ae();return{t:e}}}),_F={class:"not-found"};function vF(e,t,n,l,o,u){const r=c("v-info"),i=c("private-view");return m(),F(i,{title:e.t("page_not_found")},{default:d(()=>[$("div",_F,[a(r,{title:e.t("page_not_found"),icon:"not_interested"},{default:d(()=>[P(w(e.t("page_not_found_body")),1)]),_:1},8,["title"])])]),_:1},8,["title"])}var yF=H(fF,[["render",vF],["__scopeId","data-v-a922425e"]]);const hF=Z({setup(){const{t:e}=ae(),t=D(null),n=D(!1),l=D(null),o=D(!1),u=V(()=>l.value?xt(l.value):null),r=V(()=>"/login");return{t:e,sending:n,error:l,done:o,email:t,onSubmit:i,signInLink:r,errorFormatted:u};async function i(){n.value=!0,l.value=null;try{await me.post("/auth/password/request",{email:t.value}),o.value=!0}catch(s){l.value=s}finally{n.value=!1}}}}),gF={class:"buttons"};function bF(e,t,n,l,o,u){const r=c("v-input"),i=c("v-notice"),s=c("v-button"),p=c("router-link");return m(),A("form",{onSubmit:t[1]||(t[1]=Te((...f)=>e.onSubmit&&e.onSubmit(...f),["prevent"]))},[a(r,{modelValue:e.email,"onUpdate:modelValue":t[0]||(t[0]=f=>e.email=f),autofocus:"",autocomplete:"username",type:"email",placeholder:e.t("email")},null,8,["modelValue","placeholder"]),e.done?(m(),F(i,{key:0,type:"success"},{default:d(()=>[P(w(e.t("password_reset_sent")),1)]),_:1})):M("",!0),e.error?(m(),F(i,{key:1,type:"danger"},{default:d(()=>[P(w(e.errorFormatted),1)]),_:1})):M("",!0),$("div",gF,[a(s,{type:"submit",loading:e.sending,large:""},{default:d(()=>[P(w(e.t("reset")),1)]),_:1},8,["loading"]),a(p,{to:e.signInLink,class:"sign-in"},{default:d(()=>[P(w(e.t("sign_in")),1)]),_:1},8,["to"])])],32)}var wF=H(hF,[["render",bF],["__scopeId","data-v-388f645e"]]);const kF=Z({props:{token:{type:String,required:!0}},setup(e){const{t}=ae(),n=D(null),l=D(!1),o=D(null),u=D(!1),r=V(()=>o.value?xt(o.value):null),i=V(()=>"/login"),s=V(()=>Si(e.token).email);return{t,resetting:l,error:o,done:u,password:n,onSubmit:p,signInLink:i,errorFormatted:r,email:s};async function p(){l.value=!0,o.value=null;try{await me.post("/auth/password/reset",{password:n.value,token:e.token}),u.value=!0}catch(f){o.value=f}finally{l.value=!1}}}});function $F(e,t,n,l,o,u){const r=c("v-input"),i=c("v-notice"),s=c("v-button");return m(),A("form",{onSubmit:t[1]||(t[1]=Te((...p)=>e.onSubmit&&e.onSubmit(...p),["prevent"]))},[a(r,{"model-value":e.email,disabled:""},null,8,["model-value"]),a(r,{modelValue:e.password,"onUpdate:modelValue":t[0]||(t[0]=p=>e.password=p),placeholder:e.t("password"),autofocus:"",autocomplete:"username",type:"password",disabled:e.done},null,8,["modelValue","placeholder","disabled"]),e.done?(m(),F(i,{key:0,type:"success"},{default:d(()=>[P(w(e.t("password_reset_successful")),1)]),_:1})):M("",!0),e.error?(m(),F(i,{key:1,type:"danger"},{default:d(()=>[P(w(e.errorFormatted),1)]),_:1})):M("",!0),e.done?(m(),F(s,{key:3,large:"",to:e.signInLink},{default:d(()=>[P(w(e.t("sign_in")),1)]),_:1},8,["to"])):(m(),F(s,{key:2,type:"submit",loading:e.resetting,large:""},{default:d(()=>[P(w(e.t("reset")),1)]),_:1},8,["loading"]))],32)}var CF=H(kF,[["render",$F],["__scopeId","data-v-31ae4e7a"]]);const SF=Z({components:{RequestForm:wF,ResetForm:CF},setup(){const{t:e}=ae(),t=Wt(),n=V(()=>t.query.token);return{t:e,resetToken:n}}}),FF={class:"type-title"};function VF(e,t,n,l,o,u){const r=c("request-form"),i=c("reset-form"),s=c("v-icon"),p=c("public-view");return m(),F(p,null,{notice:d(()=>[a(s,{name:"lock_outlined",left:""}),P(" "+w(e.t("not_authenticated")),1)]),default:d(()=>[$("h1",FF,w(e.t("reset_password")),1),e.resetToken?(m(),F(i,{key:1,token:e.resetToken},null,8,["token"])):(m(),F(r,{key:0}))]),_:1})}var AF=H(SF,[["render",VF],["__scopeId","data-v-05544d73"]]);const IF=[{path:"/",redirect:"/login"},{name:"login",path:"/login",component:tF,props:e=>({ssoErrorCode:e.query.error?e.query.code:null,logoutReason:e.query.reason}),meta:{public:!0}},{name:"reset-password",path:"/reset-password",component:AF,meta:{public:!0}},{name:"accept-invite",path:"/accept-invite",component:k6,meta:{public:!0}},{name:"logout",path:"/logout",component:aF,meta:{public:!0}},{name:"shared",path:"/shared/:id([0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12})",component:mF,meta:{public:!0}},{name:"private-404",path:"/:_(.+)+",component:yF}],Gt=Ad({history:Id(tt()+"admin/"),routes:IF});let Fi=!0;const EF=async e=>{var l;const t=Et(),n=pn();if(Fi){Fi=!1;try{await Tn({navigate:!1})}catch{}}if(n.info===null&&await n.hydrate(),((l=e.meta)==null?void 0:l.public)!==!0&&t.hydrated===!1)return t.hydrating=!1,t.authenticated===!0&&t.hydrating===!1?(await vl(),e.fullPath):e.fullPath?"/login?redirect="+encodeURIComponent(e.fullPath):"/login"},DF=e=>{const t=Ye();e.meta.public!==!0&&setTimeout(()=>{t.trackPage(e.fullPath)},500)};Gt.beforeEach(EF);Gt.afterEach(DF);const PF=Z({name:"InsightsNavigation",emits:["create"],setup(){const{t:e}=ae(),t=xn(),n=D(!1);return{navItems:V(()=>t.dashboards.map(o=>({icon:o.icon,name:o.name,to:`/insights/${o.id}`}))),createDialogActive:n,t:e}}});function TF(e,t,n,l,o,u){const r=c("v-button"),i=c("v-icon"),s=c("v-list-item-icon"),p=c("v-text-overflow"),f=c("v-list-item-content"),_=c("v-list-item"),v=c("v-list");return m(),F(v,{nav:""},{default:d(()=>[e.navItems.length===0?(m(),F(r,{key:0,"full-width":"",outlined:"",dashed:"",onClick:t[0]||(t[0]=y=>e.$emit("create"))},{default:d(()=>[P(w(e.t("create_dashboard")),1)]),_:1})):(m(!0),A(se,{key:1},Ve(e.navItems,y=>(m(),F(_,{key:y.to,to:y.to},{default:d(()=>[a(s,null,{default:d(()=>[a(i,{name:y.icon},null,8,["name"])]),_:2},1024),a(f,null,{default:d(()=>[a(p,{text:y.name},null,8,["text"])]),_:2},1024)]),_:2},1032,["to"]))),128))]),_:1})}var jo=H(PF,[["render",TF]]);const OF=Z({name:"DashboardDialog",props:{modelValue:{type:Boolean,default:!1},dashboard:{type:Object,default:null}},emits:["update:modelValue"],setup(e,{emit:t}){var s,p,f,_,v,y;const{t:n}=ae(),l=xn(),o=Jt({name:(p=(s=e.dashboard)==null?void 0:s.name)!=null?p:null,icon:(_=(f=e.dashboard)==null?void 0:f.icon)!=null?_:"dashboard",note:(y=(v=e.dashboard)==null?void 0:v.note)!=null?y:null});he(()=>e.modelValue,(g,h)=>{var b,S,I,E,R,O;z.exports.isEqual(g,h)===!1&&(o.name=(S=(b=e.dashboard)==null?void 0:b.name)!=null?S:null,o.icon=(E=(I=e.dashboard)==null?void 0:I.icon)!=null?E:"dashboard",o.note=(O=(R=e.dashboard)==null?void 0:R.note)!=null?O:null)});const u=D(!1);return{values:o,cancel:r,saving:u,save:i,t:n};function r(){t("update:modelValue",!1)}async function i(){u.value=!0;try{if(e.dashboard)await me.patch(`/dashboards/${e.dashboard.id}`,o,{params:{fields:["id"]}}),await l.hydrate();else{const g=await me.post("/dashboards",o,{params:{fields:["id"]}});await l.hydrate(),Gt.push(`/insights/${g.data.data.id}`)}t("update:modelValue",!1)}catch(g){Pe(g)}finally{u.value=!1}}}}),LF={class:"fields"};function jF(e,t,n,l,o,u){const r=c("v-card-title"),i=c("v-input"),s=c("interface-select-icon"),p=c("v-card-text"),f=c("v-button"),_=c("v-card-actions"),v=c("v-card"),y=c("v-dialog");return m(),F(y,{"model-value":e.modelValue,persistent:"","onUpdate:modelValue":t[3]||(t[3]=g=>e.$emit("update:modelValue",g)),onEsc:e.cancel},{activator:d(g=>[ke(e.$slots,"activator",nt(lt(g)),void 0,!0)]),default:d(()=>[a(v,null,{default:d(()=>[e.dashboard?(m(),F(r,{key:1},{default:d(()=>[P(w(e.t("edit_dashboard")),1)]),_:1})):(m(),F(r,{key:0},{default:d(()=>[P(w(e.t("create_dashboard")),1)]),_:1})),a(p,null,{default:d(()=>[$("div",LF,[a(i,{modelValue:e.values.name,"onUpdate:modelValue":t[0]||(t[0]=g=>e.values.name=g),autofocus:"",placeholder:e.t("dashboard_name")},null,8,["modelValue","placeholder"]),a(s,{value:e.values.icon,onInput:t[1]||(t[1]=g=>e.values.icon=g)},null,8,["value"]),a(i,{modelValue:e.values.note,"onUpdate:modelValue":t[2]||(t[2]=g=>e.values.note=g),class:"full",placeholder:e.t("note")},null,8,["modelValue","placeholder"])])]),_:1}),a(_,null,{default:d(()=>[a(f,{secondary:"",onClick:e.cancel},{default:d(()=>[P(w(e.t("cancel")),1)]),_:1},8,["onClick"]),a(f,{disabled:!e.values.name,loading:e.saving,onClick:e.save},{default:d(()=>[P(w(e.t("save")),1)]),_:1},8,["disabled","loading","onClick"])]),_:1})]),_:1})]),_:3},8,["model-value","onEsc"])}var RF=H(OF,[["render",jF],["__scopeId","data-v-35403a37"]]);const Vi=new so.Renderer;function Wl(e,t={target:"_self"}){return Ta.addHook("afterSanitizeAttributes",n=>{n.tagName==="A"&&n.getAttribute("target")==="_blank"&&n.setAttribute("rel","noopener noreferrer")}),Vi.link=function(n,l,o){return so.Renderer.prototype.link.apply(this,[n,l,o]).replace("<a",`<a target="${t.target}"`)},Ta.sanitize(so(e,{renderer:Vi}),{ADD_ATTR:["target"]})}const MF=Z({name:"InsightsOverview",components:{InsightsNavigation:jo,DashboardDialog:RF},setup(){const{t:e}=ae(),t=xn(),n=Vt(),l=D(null),o=D(!1),u=D(null),r=D(!1),i=V(()=>n.hasPermission("directus_dashboards","create")),s=V(()=>n.hasPermission("directus_dashboards","update")),p=V(()=>n.hasPermission("directus_dashboards","delete")),f=[{text:"",value:"icon",width:42,sortable:!1},{text:e("name"),value:"name",width:240},{text:e("note"),value:"note",width:360}];return{dashboards:V(()=>t.dashboards),createAllowed:i,updateAllowed:s,deleteAllowed:p,tableHeaders:f,navigateToDashboard:v,createDialogActive:r,confirmDelete:l,deletingDashboard:o,deleteDashboard:y,editDashboard:u,t:e,md:Wl};function v({item:g}){Gt.push(`/insights/${g.id}`)}async function y(){if(!!l.value){o.value=!0;try{await me.delete(`/dashboards/${l.value}`),await t.hydrate(),l.value=null}catch(g){Pe(g)}finally{o.value=!1}}}}}),UF={class:"page-description"};function NF(e,t,n,l,o,u){const r=c("v-icon"),i=c("v-button"),s=c("insights-navigation"),p=c("dashboard-dialog"),f=c("sidebar-detail"),_=c("v-list-item-icon"),v=c("v-list-item-content"),y=c("v-list-item"),g=c("v-list"),h=c("v-menu"),b=c("v-table"),S=c("v-info"),I=c("v-card-title"),E=c("v-card-actions"),R=c("v-card"),O=c("v-dialog"),L=c("private-view"),q=Fe("tooltip"),T=Fe("md");return m(),F(L,{title:e.t("insights")},{"title-outer:prepend":d(()=>[a(i,{class:"header-icon",rounded:"",disabled:"",icon:"",secondary:""},{default:d(()=>[a(r,{name:"insights"})]),_:1})]),navigation:d(()=>[a(s,{onCreate:t[0]||(t[0]=j=>e.createDialogActive=!0)})]),actions:d(()=>[a(p,{modelValue:e.createDialogActive,"onUpdate:modelValue":t[1]||(t[1]=j=>e.createDialogActive=j)},{activator:d(({on:j})=>[ie(a(i,{rounded:"",icon:"",disabled:e.createAllowed===!1,onClick:j},{default:d(()=>[a(r,{name:"add"})]),_:2},1032,["disabled","onClick"]),[[q,e.createAllowed?e.t("create_dashboard"):e.t("not_allowed"),void 0,{bottom:!0}]])]),_:1},8,["modelValue"])]),sidebar:d(()=>[a(f,{icon:"info_outline",title:e.t("information"),close:""},{default:d(()=>[ie($("div",UF,null,512),[[T,e.t("page_help_insights_overview")]])]),_:1},8,["title"])]),default:d(()=>[e.dashboards.length>0?(m(),F(b,{key:0,headers:e.tableHeaders,"onUpdate:headers":t[2]||(t[2]=j=>e.tableHeaders=j),items:e.dashboards,"show-resize":"","fixed-header":"","onClick:row":e.navigateToDashboard},{["item.icon"]:d(({item:j})=>[a(r,{class:"icon",name:j.icon},null,8,["name"])]),"item-append":d(({item:j})=>[a(h,{placement:"left-start","show-arrow":""},{activator:d(({toggle:U})=>[a(r,{name:"more_vert",class:"ctx-toggle",onClick:U},null,8,["onClick"])]),default:d(()=>[a(g,null,{default:d(()=>[a(y,{class:"warning",disabled:!e.updateAllowed,clickable:"",onClick:U=>e.editDashboard=j},{default:d(()=>[a(_,null,{default:d(()=>[a(r,{name:"edit"})]),_:1}),a(v,null,{default:d(()=>[P(w(e.t("edit_dashboard")),1)]),_:1})]),_:2},1032,["disabled","onClick"]),a(y,{class:"danger",disabled:!e.deleteAllowed,clickable:"",onClick:U=>e.confirmDelete=j.id},{default:d(()=>[a(_,null,{default:d(()=>[a(r,{name:"delete"})]),_:1}),a(v,null,{default:d(()=>[P(w(e.t("delete_dashboard")),1)]),_:1})]),_:2},1032,["disabled","onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1032,["headers","items","onClick:row"])):(m(),F(S,{key:1,icon:"dashboard",title:e.t("no_dashboards"),center:""},{default:d(()=>[P(w(e.t("no_dashboards_copy")),1)]),_:1},8,["title"])),a(O,{"model-value":!!e.confirmDelete,onEsc:t[4]||(t[4]=j=>e.confirmDelete=null)},{default:d(()=>[a(R,null,{default:d(()=>[a(I,null,{default:d(()=>[P(w(e.t("dashboard_delete_confirm")),1)]),_:1}),a(E,null,{default:d(()=>[a(i,{secondary:"",onClick:t[3]||(t[3]=j=>e.confirmDelete=null)},{default:d(()=>[P(w(e.t("cancel")),1)]),_:1}),a(i,{danger:"",loading:e.deletingDashboard,onClick:e.deleteDashboard},{default:d(()=>[P(w(e.t("delete_label")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["model-value"]),a(p,{"model-value":!!e.editDashboard,dashboard:e.editDashboard,"onUpdate:modelValue":t[5]||(t[5]=j=>e.editDashboard=null)},null,8,["model-value","dashboard"])]),_:1},8,["title"])}var BF=H(MF,[["render",NF],["__scopeId","data-v-58b9fb75"]]);const qF=Z({components:{InsightsNavigation:jo},setup(){const{t:e}=ae();return{t:e}}}),zF={key:0,class:"not-found"};function KF(e,t,n,l,o,u){const r=c("insights-navigation"),i=c("v-info"),s=c("private-view");return m(),F(s,{title:e.t("insights")},{navigation:d(()=>[a(r)]),default:d(()=>[e.currentDashboard?M("",!0):(m(),A("div",zF,[a(i,{title:e.t("page_not_found"),icon:"not_interested"},{default:d(()=>[P(w(e.t("page_not_found_body")),1)]),_:1},8,["title"])]))]),_:1},8,["title"])}var WF=H(qF,[["render",KF],["__scopeId","data-v-d6310128"]]);function Hl(e,t,n){const[l,o]=e,[u,r]=t,[i,s]=n,p=l-u,f=o-r,_=i-u,v=s-r;return p*v-f*_!==0?!1:Math.abs(_)>=Math.abs(v)?_>0?u<=l&&l<=i:i<=l&&l<=u:v>0?r<=o&&o<=s:s<=o&&o<=r}const HF=Z({name:"Panel",props:{panel:{type:Object,required:!0},editMode:{type:Boolean,default:!1},now:{type:Date,required:!0}},emits:["update","move","duplicate","delete"],setup(e,{emit:t}){const{t:n}=ae(),{panels:l}=nl(),o=V(()=>l.value.find(h=>h.id===e.panel.type)),u=V(()=>e.panel.icon?e.panel.icon:o.value.icon),r=Jt({position_x:void 0,position_y:void 0,width:void 0,height:void 0}),{onPointerDown:i,onPointerUp:s,onPointerMove:p,dragging:f}=g(),_=V(()=>{var h,b,S,I;return f.value?{x:(h=r.position_x)!=null?h:e.panel.position_x,y:(b=r.position_y)!=null?b:e.panel.position_y,width:(S=r.width)!=null?S:e.panel.width,height:(I=r.height)!=null?I:e.panel.height}:{x:e.panel.position_x,y:e.panel.position_y,width:e.panel.width,height:e.panel.height}}),v=V(()=>{var h,b,S,I;return f.value?{"--pos-x":(h=r.position_x)!=null?h:e.panel.position_x,"--pos-y":(b=r.position_y)!=null?b:e.panel.position_y,"--width":(S=r.width)!=null?S:e.panel.width,"--height":(I=r.height)!=null?I:e.panel.height}:{"--pos-x":e.panel.position_x,"--pos-y":e.panel.position_y,"--width":e.panel.width,"--height":e.panel.height}}),y=V(()=>({"--v-icon-color":e.panel.color||"var(--primary)"}));return{headerIcon:u,positioning:_,positionStyling:v,iconColor:y,onPointerDown:i,onPointerUp:s,onPointerMove:p,dragging:f,editedPosition:r,t:n,omit:z.exports.omit};function g(){const h=D(!1);let b=0,S=0,I=0,E=0,R=0,O=0,L="move";const q=z.exports.throttle(U=>{var W,G;if(e.editMode===!1||h.value===!1)return;const B=U.pageX-b,K=U.pageY-S,J=Math.round(B/20),Y=Math.round(K/20);if(L==="move")r.position_x=I+J,r.position_y=E+Y,r.position_x<1&&(r.position_x=1),r.position_y<1&&(r.position_y=1);else{L.includes("top")&&(r.height=O-Y,r.position_y=E+Y),L.includes("right")&&(r.width=R+J),L.includes("bottom")&&(r.height=O+Y),L.includes("left")&&(r.width=R-J,r.position_x=I+J);const Q=((W=o.value)==null?void 0:W.minWidth)||6,X=((G=o.value)==null?void 0:G.minHeight)||6;r.position_x&&r.position_x<1&&(r.position_x=1),r.position_y&&r.position_y<1&&(r.position_y=1),r.width&&r.width<Q&&(r.width=Q),r.height&&r.height<X&&(r.height=X)}},20);return{dragging:h,onPointerDown:T,onPointerUp:j,onPointerMove:q};function T(U,B){e.editMode!==!1&&(L=U,h.value=!0,b=B.pageX,S=B.pageY,I=e.panel.position_x,E=e.panel.position_y,R=e.panel.width,O=e.panel.height,window.addEventListener("pointerup",j),window.addEventListener("pointermove",q))}function j(){h.value=!1,e.editMode!==!1&&(t("update",r),window.removeEventListener("pointerup",j),window.removeEventListener("pointermove",q),r.position_x=void 0,r.position_y=void 0,r.width=void 0,r.height=void 0)}}}}),GF=e=>(xe("data-v-5a7d561d"),e=e(),et(),e),ZF={key:0,class:"header"},JF=GF(()=>$("div",{class:"spacer"},null,-1)),XF={class:"resize-details"},YF={key:2,class:"resize-handlers"};function QF(e,t,n,l,o,u){const r=c("v-icon"),i=c("v-text-overflow"),s=c("v-list-item-icon"),p=c("v-list-item-content"),f=c("v-list-item"),_=c("v-list"),v=c("v-menu"),y=Fe("tooltip");return m(),A("div",{class:de(["panel",{editing:e.editMode,dragging:e.dragging,"br-tl":e.dragging||e.panel.borderRadius[0],"br-tr":e.dragging||e.panel.borderRadius[1],"br-br":e.dragging||e.panel.borderRadius[2],"br-bl":e.dragging||e.panel.borderRadius[3]}]),style:Je(e.positionStyling),"data-move":"",onPointerdown:t[13]||(t[13]=g=>e.onPointerDown("move",g))},[e.panel.show_header?(m(),A("div",ZF,[a(r,{class:"icon",style:Je(e.iconColor),name:e.headerIcon},null,8,["style","name"]),a(i,{class:"name selectable",text:e.panel.name||""},null,8,["text"]),JF,e.panel.note?ie((m(),F(r,{key:0,class:"note",name:"info"},null,512)),[[y,e.panel.note]]):M("",!0)])):M("",!0),e.editMode?(m(),A("div",{key:1,class:"edit-actions",onPointerdown:t[4]||(t[4]=Te(()=>{},["stop"]))},[ie(a(r,{class:"edit-icon",name:"edit",clickable:"",onClick:t[0]||(t[0]=Te(g=>e.$router.push(`/insights/${e.panel.dashboard}/${e.panel.id}`),["stop"]))},null,512),[[y,e.t("edit")]]),a(v,{placement:"bottom-end","show-arrow":""},{activator:d(({toggle:g})=>[a(r,{class:"more-icon",name:"more_vert",clickable:"",onClick:g},null,8,["onClick"])]),default:d(()=>[a(_,null,{default:d(()=>[a(f,{clickable:"",disabled:e.panel.id.startsWith("_"),onClick:t[1]||(t[1]=g=>e.$emit("move"))},{default:d(()=>[a(s,null,{default:d(()=>[a(r,{class:"move-icon",name:"input"})]),_:1}),a(p,null,{default:d(()=>[P(w(e.t("copy_to")),1)]),_:1})]),_:1},8,["disabled"]),a(f,{clickable:"",onClick:t[2]||(t[2]=g=>e.$emit("duplicate"))},{default:d(()=>[a(s,null,{default:d(()=>[a(r,{name:"control_point_duplicate"})]),_:1}),a(p,null,{default:d(()=>[P(w(e.t("duplicate")),1)]),_:1})]),_:1}),a(f,{class:"delete-action",clickable:"",onClick:t[3]||(t[3]=g=>e.$emit("delete"))},{default:d(()=>[a(s,null,{default:d(()=>[a(r,{name:"delete"})]),_:1}),a(p,null,{default:d(()=>[P(w(e.t("delete_panel")),1)]),_:1})]),_:1})]),_:1})]),_:1})],32)):M("",!0),$("div",XF," ("+w(e.positioning.x-1)+":"+w(e.positioning.y-1)+") "+w(e.positioning.width)+"\xD7"+w(e.positioning.height),1),e.editMode?(m(),A("div",YF,[$("div",{class:"top",onPointerdown:t[5]||(t[5]=Te(g=>e.onPointerDown("resize-top",g),["stop"]))},null,32),$("div",{class:"right",onPointerdown:t[6]||(t[6]=Te(g=>e.onPointerDown("resize-right",g),["stop"]))},null,32),$("div",{class:"bottom",onPointerdown:t[7]||(t[7]=Te(g=>e.onPointerDown("resize-bottom",g),["stop"]))},null,32),$("div",{class:"left",onPointerdown:t[8]||(t[8]=Te(g=>e.onPointerDown("resize-left",g),["stop"]))},null,32),$("div",{class:"top-left",onPointerdown:t[9]||(t[9]=Te(g=>e.onPointerDown("resize-top-left",g),["stop"]))},null,32),$("div",{class:"top-right",onPointerdown:t[10]||(t[10]=Te(g=>e.onPointerDown("resize-top-right",g),["stop"]))},null,32),$("div",{class:"bottom-right",onPointerdown:t[11]||(t[11]=Te(g=>e.onPointerDown("resize-bottom-right",g),["stop"]))},null,32),$("div",{class:"bottom-left",onPointerdown:t[12]||(t[12]=Te(g=>e.onPointerDown("resize-bottom-left",g),["stop"]))},null,32)])):M("",!0),$("div",{class:de(["panel-content",{"has-header":e.panel.show_header}])},[(m(),F(He(`panel-${e.panel.type}`),ft(e.panel.options,{id:e.panel.id,"show-header":e.panel.show_header,height:e.panel.height,width:e.panel.width,dashboard:e.panel.dashboard,now:e.now}),null,16,["id","show-header","height","width","dashboard","now"]))],2)],38)}var xF=H(HF,[["render",QF],["__scopeId","data-v-5a7d561d"]]);const eV=Z({name:"InsightsWorkspace",components:{InsightsPanel:xF},props:{panels:{type:Array,required:!0},editMode:{type:Boolean,default:!1},zoomToFit:{type:Boolean,default:!1},now:{type:Date,required:!0}},emits:["update","move","delete","duplicate"],setup(e){const t=vt("main-element",D()),n=Sn(t),l=V(()=>{var s;return Number(((s=i("--content-padding"))==null?void 0:s.slice(0,-2))||0)}),o=V(()=>{const s=e.panels.reduce((f,_)=>(_.position_x>f.position_x&&(f.position_x=_.position_x,f.width=_.width),f),{position_x:0,width:0}),p=e.panels.reduce((f,_)=>(_.position_y>f.position_y&&(f.position_y=_.position_y,f.height=_.height),f),{position_y:0,height:0});return e.editMode===!0?{width:(s.position_x+s.width+25)*20,height:(p.position_y+p.height+25)*20}:{width:(s.position_x+s.width-1)*20,height:(p.position_y+p.height-1)*20}}),u=V(()=>{if(e.zoomToFit===!1)return 1;const{width:s,height:p}=n,f=(s.value-l.value*2)/o.value.width,_=(p.value-114-l.value*2)/o.value.height;return Math.min(f,_)}),r=V(()=>({width:o.value.width*u.value+l.value*2,height:o.value.height*u.value+l.value*2}));return{workspaceSize:o,workspaceBoxSize:r,mainElement:t,zoomScale:u};function i(s){if(!!t.value)return getComputedStyle(t.value).getPropertyValue(s).trim()}}});function tV(e,t,n,l,o,u){const r=c("insights-panel");return m(),A("div",{class:de(["workspace-padding-box",{editing:e.editMode}]),style:Je({width:e.workspaceBoxSize.width+"px",height:e.workspaceBoxSize.height+"px"})},[$("div",{class:"workspace",style:Je({transform:`scale(${e.zoomScale})`,width:e.workspaceSize.width+"px",height:e.workspaceSize.height+"px"})},[(m(!0),A(se,null,Ve(e.panels,i=>(m(),F(r,{key:i.id,panel:i,"edit-mode":e.editMode,now:e.now,onUpdate:s=>e.$emit("update",{edits:s,id:i.id}),onMove:s=>e.$emit("move",i.id),onDelete:s=>e.$emit("delete",i.id),onDuplicate:s=>e.$emit("duplicate",i)},null,8,["panel","edit-mode","now","onUpdate","onMove","onDelete","onDuplicate"]))),128))],4)],6)}var nV=H(eV,[["render",tV],["__scopeId","data-v-8bccfe76"]]);const lV=Z({name:"InsightsDashboard",components:{InsightsNotFound:WF,InsightsNavigation:jo,InsightsWorkspace:nV},props:{primaryKey:{type:String,required:!0},panelKey:{type:String,default:null}},setup(e){var X;const{t}=ae(),n=xn(),l=Et(),o=Vt(),{fullScreen:u}=ze(l),r=D(!1),i=D(!1),s=D(!1),p=D((X=n.dashboards.find(ee=>ee.id!==e.primaryKey))==null?void 0:X.id),f=D(),_=D(!1),v=V(()=>o.hasPermission("directus_panels","update"));rt("meta+s",()=>{j()}),he(r,ee=>{ee?(_.value=!1,window.onbeforeunload=()=>""):window.onbeforeunload=null});const y=V(()=>n.dashboards.find(ee=>ee.id===e.primaryKey)),g=V(()=>n.dashboards.filter(ee=>ee.id!==e.primaryKey)),h=D([]),b=D([]),S=new Date,I=V(()=>{var ye;const te=[...(((ye=y.value)==null?void 0:ye.panels)||[]).filter(fe=>b.value.includes(fe.id)===!1).map(fe=>{const ue=h.value.find(_e=>_e.id===fe.id);return ue?z.exports.merge({},fe,ue):fe}),...h.value.filter(fe=>{var ue;return(ue=fe.id)==null?void 0:ue.startsWith("_")})].map(fe=>Ie(ve({},fe),{_coordinates:[[fe.position_x,fe.position_y],[fe.position_x+fe.width,fe.position_y],[fe.position_x+fe.width,fe.position_y+fe.height],[fe.position_x,fe.position_y+fe.height]]}));return te.map(fe=>{let ue=!1,_e=!1,ce=!1,oe=!1;for(const ne of te){if(ne.id===fe.id)continue;const x=[[ne._coordinates[0],ne._coordinates[1]],[ne._coordinates[1],ne._coordinates[2]],[ne._coordinates[2],ne._coordinates[3]],[ne._coordinates[3],ne._coordinates[0]]];ue===!1&&(ue=x.some(([pe,ge])=>Hl(fe._coordinates[0],pe,ge))),_e===!1&&(_e=x.some(([pe,ge])=>Hl(fe._coordinates[1],pe,ge))),ce===!1&&(ce=x.some(([pe,ge])=>Hl(fe._coordinates[2],pe,ge))),oe===!1&&(oe=x.some(([pe,ge])=>Hl(fe._coordinates[3],pe,ge)))}return Ie(ve({},fe),{borderRadius:[!ue,!_e,!ce,!oe]})})}),E=V(()=>h.value.length>0||b.value.length>0),{confirmLeave:R,leaveTo:O}=sn(E),L=D(!1);return{currentDashboard:y,editMode:r,updateAllowed:v,panels:I,stagePanelEdits:q,stagedPanels:h,saving:i,saveChanges:j,stageConfiguration:T,movePanelID:f,movePanel:Q,deletePanel:U,attemptCancelChanges:B,duplicatePanel:Y,movePanelLoading:s,t,toggleFullScreen:W,zoomToFit:_,fullScreen:u,toggleZoomToFit:G,md:Wl,movePanelChoices:g,movePanelTo:p,confirmLeave:R,discardAndLeave:J,now:S,confirmCancel:L,cancelChanges:K};function q(ee){var te;const le=(te=ee.id)!=null?te:e.panelKey;le==="+"?h.value=[...h.value,ve({id:`_${Tt()}`,dashboard:e.primaryKey},ee.edits)]:h.value.some(re=>re.id===le)?h.value=h.value.map(re=>re.id===le?z.exports.merge({id:le,dashboard:e.primaryKey},re,ee.edits):re):h.value=[...h.value,ve({id:le,dashboard:e.primaryKey},ee.edits)]}function T(ee){q({edits:ee}),Gt.replace(`/insights/${e.primaryKey}`)}async function j(){if(!y.value)return;if(h.value.length===0&&b.value.length===0){r.value=!1;return}i.value=!0;const le=[...y.value.panels.map(te=>te.id).map(te=>h.value.find(re=>re.id===te)||te),...h.value.filter(te=>{var re;return(re=te.id)==null?void 0:re.startsWith("_")}).map(te=>z.exports.omit(te,"id"))];try{h.value.length>0&&await me.patch(`/dashboards/${e.primaryKey}`,{panels:le}),b.value.length>0&&await me.delete("/panels",{data:b.value}),await n.hydrate(),h.value=[],b.value=[],r.value=!1}catch(te){Pe(te)}finally{i.value=!1}}async function U(ee){!y.value||(h.value=h.value.filter(le=>le.id!==ee),ee.startsWith("_")===!1&&b.value.push(ee))}function B(){E.value?L.value=!0:K()}function K(){L.value=!1,h.value=[],b.value=[],r.value=!1}function J(){!O.value||(K(),R.value=!1,Gt.push(O.value))}function Y(ee){const le=z.exports.omit(z.exports.merge({},ee),"id");le.position_x=le.position_x+2,le.position_y=le.position_y+2,q({edits:le,id:"+"})}function W(){u.value=!u.value}function G(){_.value=!_.value}async function Q(){s.value=!0;const ee=I.value.find(le=>le.id===f.value);try{await me.post("/panels",Ie(ve({},z.exports.omit(ee,["id"])),{dashboard:p.value})),await n.hydrate(),f.value=null}catch(le){Pe(le)}finally{s.value=!1}}}}),oV={class:"page-description"};function aV(e,t,n,l,o,u){const r=c("insights-not-found"),i=c("v-icon"),s=c("v-button"),p=c("v-breadcrumb"),f=c("sidebar-detail"),_=c("insights-navigation"),v=c("insights-workspace"),y=c("router-view"),g=c("v-card-title"),h=c("v-notice"),b=c("v-select"),S=c("v-card-text"),I=c("v-card-actions"),E=c("v-card"),R=c("v-dialog"),O=c("private-view"),L=Fe("tooltip"),q=Fe("md");return e.currentDashboard?(m(),F(O,{key:1,title:e.currentDashboard.name},{"title-outer:prepend":d(()=>[a(s,{class:"header-icon",rounded:"",disabled:"",icon:"",secondary:""},{default:d(()=>[a(i,{name:e.currentDashboard.icon},null,8,["name"])]),_:1})]),headline:d(()=>[a(p,{items:[{name:e.t("insights"),to:"/insights"}]},null,8,["items"])]),actions:d(()=>[e.editMode?(m(),A(se,{key:0},[ie(a(s,{class:"clear-changes",rounded:"",icon:"",outlined:"",onClick:e.attemptCancelChanges},{default:d(()=>[a(i,{name:"clear"})]),_:1},8,["onClick"]),[[L,e.t("clear_changes"),void 0,{bottom:!0}]]),ie(a(s,{rounded:"",icon:"",outlined:"",to:`/insights/${e.currentDashboard.id}/+`},{default:d(()=>[a(i,{name:"add"})]),_:1},8,["to"]),[[L,e.t("create_panel"),void 0,{bottom:!0}]]),ie(a(s,{rounded:"",icon:"",loading:e.saving,onClick:e.saveChanges},{default:d(()=>[a(i,{name:"check"})]),_:1},8,["loading","onClick"]),[[L,e.t("save"),void 0,{bottom:!0}]])],64)):(m(),A(se,{key:1},[ie(a(s,{active:e.zoomToFit,class:"zoom-to-fit",rounded:"",icon:"",outlined:"",onClick:e.toggleZoomToFit},{default:d(()=>[a(i,{name:"aspect_ratio"})]),_:1},8,["active","onClick"]),[[L,e.t("fit_to_screen"),void 0,{bottom:!0}]]),ie(a(s,{active:e.fullScreen,class:"fullscreen",rounded:"",icon:"",outlined:"",onClick:e.toggleFullScreen},{default:d(()=>[a(i,{name:"fullscreen"})]),_:1},8,["active","onClick"]),[[L,e.t("full_screen"),void 0,{bottom:!0}]]),ie(a(s,{class:"edit",rounded:"",icon:"",outlined:"",disabled:!e.updateAllowed,onClick:t[0]||(t[0]=T=>e.editMode=!e.editMode)},{default:d(()=>[a(i,{name:"edit"})]),_:1},8,["disabled"]),[[L,e.t("edit_panels"),void 0,{bottom:!0}]])],64))]),sidebar:d(()=>[a(f,{icon:"info_outline",title:e.t("information"),close:""},{default:d(()=>[ie($("div",oV,null,512),[[q,e.t("page_help_insights_dashboard")]])]),_:1},8,["title"])]),navigation:d(()=>[a(_)]),default:d(()=>[a(v,{"edit-mode":e.editMode,panels:e.panels,"zoom-to-fit":e.zoomToFit,now:e.now,onUpdate:e.stagePanelEdits,onMove:t[1]||(t[1]=T=>e.movePanelID=T),onDelete:e.deletePanel,onDuplicate:e.duplicatePanel},null,8,["edit-mode","panels","zoom-to-fit","now","onUpdate","onDelete","onDuplicate"]),a(y,{name:"detail","dashboard-key":e.primaryKey,panel:e.panelKey?e.panels.find(T=>T.id===e.panelKey):null,onSave:e.stageConfiguration,onCancel:t[2]||(t[2]=T=>e.$router.replace(`/insights/${e.primaryKey}`))},null,8,["dashboard-key","panel","onSave"]),a(R,{"model-value":!!e.movePanelID,"onUpdate:modelValue":t[5]||(t[5]=T=>e.movePanelID=null),onEsc:t[6]||(t[6]=T=>e.movePanelID=null)},{default:d(()=>[a(E,null,{default:d(()=>[a(g,null,{default:d(()=>[P(w(e.t("copy_to")),1)]),_:1}),a(S,null,{default:d(()=>[e.movePanelChoices.length===0?(m(),F(h,{key:0},{default:d(()=>[P(w(e.t("no_other_dashboards_copy")),1)]),_:1})):(m(),F(b,{key:1,modelValue:e.movePanelTo,"onUpdate:modelValue":t[3]||(t[3]=T=>e.movePanelTo=T),items:e.movePanelChoices,"item-text":"name","item-value":"id"},null,8,["modelValue","items"]))]),_:1}),a(I,null,{default:d(()=>[a(s,{secondary:"",onClick:t[4]||(t[4]=T=>e.movePanelID=null)},{default:d(()=>[P(w(e.t("cancel")),1)]),_:1}),a(s,{loading:e.movePanelLoading,onClick:e.movePanel},{default:d(()=>[P(w(e.t("copy")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["model-value"]),a(R,{modelValue:e.confirmLeave,"onUpdate:modelValue":t[8]||(t[8]=T=>e.confirmLeave=T),onEsc:t[9]||(t[9]=T=>e.confirmLeave=!1)},{default:d(()=>[a(E,null,{default:d(()=>[a(g,null,{default:d(()=>[P(w(e.t("unsaved_changes")),1)]),_:1}),a(S,null,{default:d(()=>[P(w(e.t("unsaved_changes_copy")),1)]),_:1}),a(I,null,{default:d(()=>[a(s,{secondary:"",onClick:e.discardAndLeave},{default:d(()=>[P(w(e.t("discard_changes")),1)]),_:1},8,["onClick"]),a(s,{onClick:t[7]||(t[7]=T=>e.confirmLeave=!1)},{default:d(()=>[P(w(e.t("keep_editing")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),a(R,{modelValue:e.confirmCancel,"onUpdate:modelValue":t[11]||(t[11]=T=>e.confirmCancel=T),onEsc:t[12]||(t[12]=T=>e.confirmCancel=!1)},{default:d(()=>[a(E,null,{default:d(()=>[a(g,null,{default:d(()=>[P(w(e.t("unsaved_changes")),1)]),_:1}),a(S,null,{default:d(()=>[P(w(e.t("discard_changes_copy")),1)]),_:1}),a(I,null,{default:d(()=>[a(s,{secondary:"",onClick:e.cancelChanges},{default:d(()=>[P(w(e.t("discard_changes")),1)]),_:1},8,["onClick"]),a(s,{onClick:t[10]||(t[10]=T=>e.confirmCancel=!1)},{default:d(()=>[P(w(e.t("keep_editing")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["title"])):(m(),F(r,{key:0}))}var iV=H(lV,[["render",aV],["__scopeId","data-v-1375f0e6"]]);function Ai(e,t){t.field.schema===void 0&&z.exports.set(e,"field.schema",{})}function Ii(e){var l,o,u,r;if(!((o=(l=e.field)==null?void 0:l.meta)==null?void 0:o.interface))return;const t=Lt(e.field.meta.interface);if(!t)return;const n=(r=(u=t==null?void 0:t.localTypes)==null?void 0:u[0])!=null?r:"standard";z.exports.set(e,"localType",n)}function Ei(e,t){var o,u;if(!((u=(o=e.field)==null?void 0:o.meta)==null?void 0:u.interface))return;const n=Lt(e.field.meta.interface);if(!n)return e;if(t.field.type&&n.types.includes(t.field.type))return;const l=n==null?void 0:n.types[0];z.exports.set(e,"field.type",l)}function Di(e){const t=e==null?void 0:e.localType;switch(t){case"o2m":case"m2m":case"m2a":case"m2o":case"translations":case"file":case"files":z.exports.set(e,"field.meta.special",[t]);break;case"presentation":z.exports.set(e,"field.meta.special",["alias","no-data"]);break;case"group":z.exports.set(e,"field.meta.special",["alias","no-data","group"]);break}}function Pi(e){e.relations||(e.relations={}),e.relations.m2o=void 0,e.relations.o2m=void 0}var rV=Object.freeze(Object.defineProperty({__proto__:null,resetSchema:Ai,setLocalTypeForInterface:Ii,setTypeForInterface:Ei,setSpecialForLocalType:Di,resetRelations:Pi},Symbol.toStringTag,{value:"Module"}));function sV(e,t,n){var u,r;const{hasChanged:l,getCurrent:o}=n;l("localType")&&Ti(e,t),l("field.field")&&Oi(e),l("relations.m2o.related_collection")&&(Li(e),ji(e,t),Ri(e,t)),l("fields.corresponding")&&Ro(e),l("field.schema.is_nullable")&&((r=(u=e.field)==null?void 0:u.schema)==null?void 0:r.is_nullable)===!1&&o("relations.m2o.schema.on_delete")==="SET NULL"&&z.exports.set(e,"relations.m2o.schema.on_delete","NO ACTION")}function Ti(e,t){e.relations||(e.relations={}),e.relations.m2o={collection:t.collection,field:t.field.field,related_collection:void 0,meta:{sort_field:null},schema:{on_delete:"SET NULL"}}}function Oi(e){var t,n;!((t=e.field)==null?void 0:t.field)||(((n=e.relations)==null?void 0:n.m2o)||(e.relations={m2o:{}}),z.exports.set(e,"relations.m2o.field",e.field.field))}function Li(e){var o,u,r;const t=(u=(o=e.relations)==null?void 0:o.m2o)==null?void 0:u.related_collection;if(!t)return;((r=e.collections)==null?void 0:r.related)||(e.collections={related:void 0}),!!Xe().getCollection(t)===!1&&(e.collections.related={collection:t,fields:[{field:"id",type:"integer",schema:{has_auto_increment:!0,is_primary_key:!0},meta:{hidden:!0}}],meta:{},schema:{}})}function ji(e,t){var l,o;const n=(o=(l=e.relations)==null?void 0:l.m2o)==null?void 0:o.related_collection;!n||(e.relations||(e.relations={}),n===t.collection&&z.exports.set(e,"relations.m2o.schema.on_delete","NO ACTION"))}function Ri(e,t){var u,r,i,s,p;const n=(r=(u=e.relations)==null?void 0:u.m2o)==null?void 0:r.related_collection;if(!n)return;const o=Me().getPrimaryKeyFieldForCollection(n);o?z.exports.set(e,"field.type",o.type):((p=(s=(i=t.collections.related)==null?void 0:i.fields)==null?void 0:s[0])==null?void 0:p.type)&&z.exports.set(e,"field.type",t.collections.related.fields[0].type)}function Ro(e){var t,n,l;((n=(t=e==null?void 0:e.fields)==null?void 0:t.corresponding)==null?void 0:n.field)&&z.exports.set(e,"relations.m2o.meta.one_field",e.fields.corresponding.field),((l=e.fields)==null?void 0:l.corresponding)||z.exports.set(e,"relations.m2o.meta.one_field",null)}var dV=Object.freeze(Object.defineProperty({__proto__:null,applyChanges:sV,prepareRelation:Ti,updateRelationField:Oi,generateRelatedCollection:Li,preventCircularConstraint:ji,setTypeToRelatedPrimaryKey:Ri,setRelatedOneFieldForCorrespondingField:Ro},Symbol.toStringTag,{value:"Module"}));function uV(e,t,n){var u,r;const{hasChanged:l,getCurrent:o}=n;l("localType")&&(Mi(e),Ui(e,t)),l("field.field")&&Ni(e),l("fields.corresponding")&&Ro(e),l("field.schema.is_nullable")&&((r=(u=e.field)==null?void 0:u.schema)==null?void 0:r.is_nullable)===!1&&o("relations.m2o.schema.on_delete")==="SET NULL"&&z.exports.set(e,"relations.m2o.schema.on_delete","NO ACTION")}function Mi(e){z.exports.set(e,"field.type","uuid")}function Ui(e,t){e.relations||(e.relations={}),e.relations.m2o={collection:t.collection,field:t.field.field,related_collection:"directus_files",meta:{sort_field:null},schema:{on_delete:"SET NULL"}}}function Ni(e){var t,n;!((t=e.field)==null?void 0:t.field)||(((n=e.relations)==null?void 0:n.m2o)||(e.relations={m2o:{}}),z.exports.set(e,"relations.m2o.field",e.field.field))}var cV=Object.freeze(Object.defineProperty({__proto__:null,applyChanges:uV,setTypeToUUID:Mi,prepareRelation:Ui,updateRelationField:Ni},Symbol.toStringTag,{value:"Module"}));function pV(e,t,n){const{hasChanged:l}=n;l("localType")&&(Bi(e),qi(e),zi(e,t),Zi(e,t)),l("field.field")&&Ki(e),l("relations.m2o.related_collection")&&Wi(e,t,n),l("relations.o2m.field")&&Mo(e,t,n),l("relations.m2o.field")&&Mo(e,t,n),(l("relations.o2m.collection")||l("relations.m2o.collection"))&&Ji(e),["relations.o2m.collection","relations.o2m.field","relations.m2o.field","relations.m2o.related_collection","relations.o2m.meta.sort_field"].some(l)&&(Gi(e,t,n),mV(e,t,n))}function Bi(e){z.exports.set(e,"field.schema",void 0)}function qi(e){z.exports.set(e,"field.type","alias")}function zi(e,t){var n,l;e.relations||(e.relations={}),e.relations.o2m={collection:void 0,field:void 0,related_collection:t.collection,meta:{one_field:(l=(n=e.field)==null?void 0:n.field)!=null?l:t.field.field,sort_field:null,one_deselect_action:"nullify"},schema:{on_delete:"SET NULL"}},e.relations.m2o={collection:void 0,field:void 0,related_collection:void 0,meta:{one_field:null,sort_field:null,one_deselect_action:"nullify"},schema:{on_delete:"SET NULL"}}}function Ki(e){var t,n;!((t=e.field)==null?void 0:t.field)||(((n=e.relations)==null?void 0:n.o2m)||(e.relations={o2m:{}}),z.exports.set(e,"relations.o2m.meta.one_field",e.field.field))}function Wi(e,t,{getCurrent:n}){n("relations.o2m.collection")===n("relations.o2m.related_collection")&&z.exports.set(e,"relations.o2m.schema.on_delete","NO ACTION"),n("relations.m2o.collection")===n("relations.m2o.related_collection")&&z.exports.set(e,"relations.m2o.schema.on_delete","NO ACTION")}function Mo(e,t,{getCurrent:n}){z.exports.set(e,"relations.o2m.meta.junction_field",n("relations.m2o.field")),z.exports.set(e,"relations.m2o.meta.junction_field",n("relations.o2m.field"))}function Hi(e){return!!Xe().getCollection(e)}function Uo(e,t){return!!Me().getField(e,t)}function Gi(e,t,{getCurrent:n}){const l=n("relations.o2m.collection");!l||Hi(l)?z.exports.set(e,"collections.junction",void 0):z.exports.set(e,"collections.junction",{collection:l,meta:{hidden:!0,icon:"import_export"},schema:{name:l},fields:[{field:"id",type:"integer",schema:{has_auto_increment:!0},meta:{hidden:!0}}]})}function mV(e,t,{getCurrent:n}){var _,v,y;const l=Me(),o=l.getPrimaryKeyFieldForCollection(t.collection),u=n("relations.o2m.collection"),r=n("relations.o2m.field"),i=n("relations.m2o.field"),s=n("relations.m2o.related_collection"),p=(_=l.getPrimaryKeyFieldForCollection(s))!=null?_:n("collections.related.fields[0]"),f=n("relations.o2m.meta.sort_field");u&&r&&Uo(u,r)===!1?z.exports.set(e,"fields.junctionCurrent",{collection:u,field:r,type:(v=o==null?void 0:o.type)!=null?v:"integer",schema:{},meta:{hidden:!0}}):z.exports.set(e,"fields.junctionCurrent",void 0),u&&i&&Uo(u,i)===!1?z.exports.set(e,"fields.junctionRelated",{collection:u,field:i,type:(y=p==null?void 0:p.type)!=null?y:"uuid",schema:{},meta:{hidden:!0}}):z.exports.set(e,"fields.junctionRelated",void 0),u&&f&&Uo(u,f)===!1?z.exports.set(e,"fields.sort",{collection:u,field:f,type:"integer",schema:{},meta:{hidden:!1}}):z.exports.set(e,"fields.sort",void 0)}function Zi(e,t){var r,i;const n=Me(),l=t.collection,o=(i=(r=n.getPrimaryKeyFieldForCollection(l))==null?void 0:r.field)!=null?i:"id",u=Xi(l);z.exports.set(e,"relations.o2m.collection",u),z.exports.set(e,"relations.o2m.field",`${l}_${o}`),z.exports.set(e,"relations.m2o.collection",u),z.exports.set(e,"relations.m2o.related_collection","directus_files"),z.exports.set(e,"relations.m2o.field","directus_files_id")}function Ji(e){var t,n,l,o,u,r;((n=(t=e==null?void 0:e.relations)==null?void 0:t.o2m)==null?void 0:n.collection)&&e.relations.o2m.collection!==((l=e.relations.m2o)==null?void 0:l.collection)&&z.exports.set(e,"relations.m2o.collection",e.relations.o2m.collection),((u=(o=e==null?void 0:e.relations)==null?void 0:o.m2o)==null?void 0:u.collection)&&e.relations.m2o.collection!==((r=e.relations.o2m)==null?void 0:r.collection)&&z.exports.set(e,"relations.o2m.collection",e.relations.m2o.collection)}function Xi(e){let t=0,n=l(t);for(;Hi(n);)t++,n=l(t);return n;function l(o){let u=`${e}_files`;return u.startsWith("directus_")&&(u="junction_"+u),o?u+"_"+o:u}}var fV=Object.freeze(Object.defineProperty({__proto__:null,applyChanges:pV,removeSchema:Bi,setTypeToAlias:qi,prepareRelation:zi,updateRelationField:Ki,preventCircularConstraint:Wi,setJunctionFields:Mo,generateCollections:Gi,setDefaults:Zi,matchJunctionCollectionName:Ji,getAutomaticJunctionCollectionName:Xi},Symbol.toStringTag,{value:"Module"}));function _V(e,t,n){const{hasChanged:l}=n;l("localType")&&(Yi(e),Qi(e),xi(e))}function Yi(e){z.exports.set(e,"field.schema",void 0)}function Qi(e){z.exports.set(e,"field.type","alias")}function xi(e){z.exports.set(e,"field.meta.special",["alias","no-data","group"])}var vV=Object.freeze(Object.defineProperty({__proto__:null,applyChanges:_V,removeSchema:Yi,setTypeToAlias:Qi,setSpecialToGroup:xi},Symbol.toStringTag,{value:"Module"}));function yV(e,t,n){const{hasChanged:l}=n;l("localType")&&(er(e),tr(e),nr(e,t),lr(e,t,n)),l("field.field")&&(ar(e),or(e,t,n)),l("relations.o2m.field")&&Bo(e,t,n),l("relations.m2o.field")&&Bo(e,t,n),(l("relations.o2m.collection")||l("relations.m2o.collection"))&&sr(e),l("fields.corresponding")&&dr(e),["relations.o2m.collection","relations.o2m.field","relations.m2o.field","relations.o2m.meta.sort_field","relations.m2o.meta.one_collection_field"].some(l)&&(rr(e,t,n),gV(e,t,n))}function er(e){z.exports.set(e,"field.schema",void 0)}function tr(e){z.exports.set(e,"field.type","alias")}function nr(e,t){var n,l;e.relations||(e.relations={}),e.relations.o2m={collection:void 0,field:void 0,related_collection:t.collection,meta:{one_field:(l=(n=e.field)==null?void 0:n.field)!=null?l:t.field.field,sort_field:null,one_deselect_action:"nullify"},schema:{on_delete:"SET NULL"}},e.relations.m2o={collection:void 0,field:void 0,related_collection:null,meta:{one_field:null,sort_field:null,one_deselect_action:"nullify"},schema:null}}function lr(e,t,{getCurrent:n}){var i,s;const l=Me(),o=t.collection,u=(s=(i=l.getPrimaryKeyFieldForCollection(o))==null?void 0:i.field)!=null?s:"id",r=No(o,n("field.field"));z.exports.set(e,"relations.o2m.collection",r),z.exports.set(e,"relations.o2m.field",`${o}_${u}`),z.exports.set(e,"relations.m2o.collection",r),z.exports.set(e,"relations.m2o.field","item"),z.exports.set(e,"relations.m2o.meta.one_allowed_collections",[]),z.exports.set(e,"relations.m2o.meta.one_collection_field","collection")}function or(e,t,{getCurrent:n}){n("autoGenerateJunctionRelation")!==!1&&z.exports.set(e,"relations.o2m.collection",No(n("collection"),n("field.field")))}function No(e,t){let n=0,l=o(n);for(;ir(l);)n++,l=o(n);return l;function o(u){let r=`${e}_${t}`;return r.startsWith("directus_")&&(r="junction_"+r),u?r+"_"+u:r}}function ar(e){var t,n;!((t=e.field)==null?void 0:t.field)||(((n=e.relations)==null?void 0:n.o2m)||(e.relations={o2m:{}}),z.exports.set(e,"relations.o2m.meta.one_field",e.field.field))}function hV(e,t,{getCurrent:n}){n("relations.o2m.collection")===n("relations.o2m.related_collection")&&z.exports.set(e,"relations.o2m.schema.on_delete","NO ACTION")}function Bo(e,t,{getCurrent:n}){z.exports.set(e,"relations.o2m.meta.junction_field",n("relations.m2o.field")),z.exports.set(e,"relations.m2o.meta.junction_field",n("relations.o2m.field"))}function ir(e){return!!Xe().getCollection(e)}function Gl(e,t){return!!Me().getField(e,t)}function rr(e,t,{getCurrent:n}){const l=n("relations.o2m.collection");!l||ir(l)?z.exports.set(e,"collections.junction",void 0):z.exports.set(e,"collections.junction",{collection:l,meta:{hidden:!0,icon:"import_export"},schema:{name:l},fields:[{field:"id",type:"integer",schema:{has_auto_increment:!0},meta:{hidden:!0}}]})}function gV(e,t,{getCurrent:n}){var f;const o=Me().getPrimaryKeyFieldForCollection(t.collection),u=n("relations.o2m.collection"),r=n("relations.o2m.field"),i=n("relations.m2o.field"),s=n("relations.m2o.meta.one_collection_field"),p=n("relations.o2m.meta.sort_field");u&&r&&Gl(u,r)===!1?z.exports.set(e,"fields.junctionCurrent",{collection:u,field:r,type:(f=o==null?void 0:o.type)!=null?f:"integer",schema:{},meta:{hidden:!0}}):z.exports.set(e,"fields.junctionCurrent",void 0),u&&i&&Gl(u,i)===!1?z.exports.set(e,"fields.junctionRelated",{collection:u,field:i,type:"string",schema:{},meta:{hidden:!0}}):z.exports.set(e,"fields.junctionRelated",void 0),u&&s&&Gl(u,s)===!1?z.exports.set(e,"fields.oneCollectionField",{collection:u,field:s,type:"string",schema:{},meta:{hidden:!0}}):z.exports.set(e,"fields.oneCollectionField",void 0),u&&p&&Gl(u,p)===!1?z.exports.set(e,"fields.sort",{collection:u,field:p,type:"integer",schema:{},meta:{hidden:!0}}):z.exports.set(e,"fields.sort",void 0)}function sr(e){var t,n,l,o,u,r;((n=(t=e==null?void 0:e.relations)==null?void 0:t.o2m)==null?void 0:n.collection)&&e.relations.o2m.collection!==((l=e.relations.m2o)==null?void 0:l.collection)&&z.exports.set(e,"relations.m2o.collection",e.relations.o2m.collection),((u=(o=e==null?void 0:e.relations)==null?void 0:o.m2o)==null?void 0:u.collection)&&e.relations.m2o.collection!==((r=e.relations.o2m)==null?void 0:r.collection)&&z.exports.set(e,"relations.o2m.collection",e.relations.m2o.collection)}function dr(e){var t,n,l;((n=(t=e==null?void 0:e.fields)==null?void 0:t.corresponding)==null?void 0:n.field)&&z.exports.set(e,"relations.m2o.meta.one_field",e.fields.corresponding.field),((l=e.fields)==null?void 0:l.corresponding)||z.exports.set(e,"relations.m2o.meta.one_field",null)}var bV=Object.freeze(Object.defineProperty({__proto__:null,applyChanges:yV,removeSchema:er,setTypeToAlias:tr,prepareRelation:nr,setDefaults:lr,autoGenerateJunctionCollectionName:or,getAutomaticJunctionCollectionName:No,updateRelationField:ar,preventCircularConstraint:hV,setJunctionFields:Bo,generateCollections:rr,matchJunctionCollectionName:sr,setRelatedOneFieldForCorrespondingField:dr},Symbol.toStringTag,{value:"Module"}));function wV(e,t,n){const{hasChanged:l}=n;l("localType")&&(ur(e),cr(e),pr(e,t)),l("autoGenerateJunctionRelation")&&zo(e,t,n),l("field.field")&&mr(e),l("relations.m2o.related_collection")&&(fr(e,t,n),zo(e,t,n)),l("relations.o2m.field")&&qo(e,t,n),l("relations.m2o.field")&&qo(e,t,n),(l("relations.o2m.collection")||l("relations.m2o.collection"))&&yr(e),l("fields.corresponding")&&hr(e),["relations.o2m.collection","relations.o2m.field","relations.m2o.field","relations.m2o.related_collection","relations.o2m.meta.sort_field"].some(l)&&(vr(e,t,n),kV(e,t,n))}function ur(e){z.exports.set(e,"field.schema",void 0)}function cr(e){z.exports.set(e,"field.type","alias")}function pr(e,t){var n,l;e.relations||(e.relations={}),e.relations.o2m={collection:void 0,field:void 0,related_collection:t.collection,meta:{one_field:(l=(n=e.field)==null?void 0:n.field)!=null?l:t.field.field,sort_field:null,one_deselect_action:"nullify"},schema:{on_delete:"SET NULL"}},e.relations.m2o={collection:void 0,field:void 0,related_collection:void 0,meta:{one_field:null,sort_field:null,one_deselect_action:"nullify"},schema:{on_delete:"SET NULL"}}}function mr(e){var t,n;!((t=e.field)==null?void 0:t.field)||(((n=e.relations)==null?void 0:n.o2m)||(e.relations={o2m:{}}),z.exports.set(e,"relations.o2m.meta.one_field",e.field.field))}function fr(e,t,{getCurrent:n}){n("relations.o2m.collection")===n("relations.o2m.related_collection")&&z.exports.set(e,"relations.o2m.schema.on_delete","NO ACTION"),n("relations.m2o.collection")===n("relations.m2o.related_collection")&&z.exports.set(e,"relations.m2o.schema.on_delete","NO ACTION")}function qo(e,t,{getCurrent:n}){z.exports.set(e,"relations.o2m.meta.junction_field",n("relations.m2o.field")),z.exports.set(e,"relations.m2o.meta.junction_field",n("relations.o2m.field"))}function zo(e,t,{getCurrent:n}){var i,s,p,f,_,v;if(n("autoGenerateJunctionRelation")===!1)return;const l=Me(),o=t.collection,u=(s=(i=l.getPrimaryKeyFieldForCollection(o))==null?void 0:i.field)!=null?s:"id",r=(f=(p=e.relations)==null?void 0:p.m2o)==null?void 0:f.related_collection;if(r){const y=_r(o,r),g=(v=(_=l.getPrimaryKeyFieldForCollection(r))==null?void 0:_.field)!=null?v:"id";z.exports.set(e,"relations.o2m.collection",y),z.exports.set(e,"relations.m2o.collection",y),z.exports.set(e,"relations.o2m.related_collection",o),z.exports.set(e,"relations.m2o.related_collection",r),z.exports.set(e,"relations.o2m.field",`${o}_${u}`),z.exports.set(e,"relations.m2o.field",`${r}_${g}`),n("relations.o2m.field")===n("relations.m2o.field")&&z.exports.set(e,"relations.m2o.field",`related_${n("relations.m2o.field")}`)}else z.exports.set(e,"relations.o2m.collection",void 0),z.exports.set(e,"relations.m2o.collection",void 0),z.exports.set(e,"relations.o2m.related_collection",t.collection),z.exports.set(e,"relations.m2o.related_collection",void 0),z.exports.set(e,"relations.o2m.field",void 0),z.exports.set(e,"relations.m2o.field",void 0)}function _r(e,t){let n=0,l=o(n);for(;Ko(l);)n++,l=o(n);return l;function o(u){let r=`${e}_${t}`;return r.startsWith("directus_")&&(r="junction_"+r),u?r+"_"+u:r}}function Ko(e){return!!Xe().getCollection(e)}function Wo(e,t){return!!Me().getField(e,t)}function vr(e,t,{getCurrent:n}){const l=n("relations.o2m.collection"),o=n("relations.m2o.related_collection");!l||Ko(l)?z.exports.set(e,"collections.junction",void 0):z.exports.set(e,"collections.junction",{collection:l,meta:{hidden:!0,icon:"import_export"},schema:{name:l},fields:[{field:"id",type:"integer",schema:{has_auto_increment:!0},meta:{hidden:!0}}]}),o&&Ko(o)===!1?z.exports.set(e,"collections.related",{collection:o,meta:{},schema:{name:o},fields:[{field:"id",type:"integer",schema:{has_auto_increment:!0},meta:{hidden:!0}}]}):z.exports.set(e,"collections.related",void 0)}function kV(e,t,{getCurrent:n}){var y,g,h,b;const l=Me(),o=mt(),u=l.getPrimaryKeyFieldForCollection(t.collection),r=n("relations.o2m.collection"),i=n("relations.o2m.field"),s=n("relations.m2o.field"),p=n("relations.o2m.meta.sort_field"),f=n("relations.m2o.related_collection"),_=(y=l.getPrimaryKeyFieldForCollection(f))!=null?y:n("collections.related.fields[0]"),v=o.relations.find(S=>S.collection===r&&S.field===s);v&&z.exports.set(e,"relations.m2o.meta.one_field",(g=v.meta)==null?void 0:g.one_field),r&&i&&Wo(r,i)===!1?z.exports.set(e,"fields.junctionCurrent",{collection:r,field:i,type:(h=u==null?void 0:u.type)!=null?h:"integer",schema:{},meta:{hidden:!0}}):z.exports.set(e,"fields.junctionCurrent",void 0),r&&s&&Wo(r,s)===!1?z.exports.set(e,"fields.junctionRelated",{collection:r,field:s,type:(b=_==null?void 0:_.type)!=null?b:"integer",schema:{},meta:{hidden:!0}}):z.exports.set(e,"fields.junctionRelated",void 0),r&&p&&Wo(r,p)===!1?z.exports.set(e,"fields.sort",{collection:r,field:p,type:"integer",schema:{},meta:{hidden:!1}}):z.exports.set(e,"fields.sort",void 0)}function yr(e){var t,n,l,o,u,r;((n=(t=e==null?void 0:e.relations)==null?void 0:t.o2m)==null?void 0:n.collection)&&e.relations.o2m.collection!==((l=e.relations.m2o)==null?void 0:l.collection)&&z.exports.set(e,"relations.m2o.collection",e.relations.o2m.collection),((u=(o=e==null?void 0:e.relations)==null?void 0:o.m2o)==null?void 0:u.collection)&&e.relations.m2o.collection!==((r=e.relations.o2m)==null?void 0:r.collection)&&z.exports.set(e,"relations.o2m.collection",e.relations.m2o.collection)}function hr(e){var t,n,l;((n=(t=e==null?void 0:e.fields)==null?void 0:t.corresponding)==null?void 0:n.field)&&z.exports.set(e,"relations.m2o.meta.one_field",e.fields.corresponding.field),((l=e.fields)==null?void 0:l.corresponding)||z.exports.set(e,"relations.m2o.meta.one_field",null)}var $V=Object.freeze(Object.defineProperty({__proto__:null,applyChanges:wV,removeSchema:ur,setTypeToAlias:cr,prepareRelation:pr,updateRelationField:mr,preventCircularConstraint:fr,setJunctionFields:qo,autoGenerateJunctionFields:zo,getAutomaticJunctionCollectionName:_r,generateCollections:vr,matchJunctionCollectionName:yr,setRelatedOneFieldForCorrespondingField:hr},Symbol.toStringTag,{value:"Module"}));function CV(e,t,n){const{hasChanged:l}=n;l("localType")&&(gr(e),br(e),wr(e,t)),l("field.field")&&$r(e),l("relations.o2m.collection")&&(Sr(e),kr(e,t),Vr(e,t),Ho(e,t,n)),l("relations.o2m.field")&&(Cr(e),Fr(e,t)),l("relations.o2m.meta.sort_field")&&Ho(e,t,n)}function gr(e){z.exports.set(e,"field.schema",void 0)}function br(e){z.exports.set(e,"field.type","alias")}function wr(e,t){var n,l;e.relations||(e.relations={}),e.relations.o2m={collection:void 0,field:void 0,related_collection:t.collection,meta:{one_field:(l=(n=e.field)==null?void 0:n.field)!=null?l:t.field.field,sort_field:null,one_deselect_action:"nullify"},schema:{on_delete:"SET NULL"}}}function kr(e,t){var l,o;const n=(o=(l=e.relations)==null?void 0:l.o2m)==null?void 0:o.collection;!n||(e.relations||(e.relations={}),n===t.collection&&z.exports.set(e,"relations.o2m.schema.on_delete","NO ACTION"))}function $r(e){var t,n;!((t=e.field)==null?void 0:t.field)||(((n=e.relations)==null?void 0:n.o2m)||(e.relations={o2m:{}}),z.exports.set(e,"relations.o2m.meta.one_field",e.field.field))}function Cr(e){var o,u,r;e.relations||(e.relations={});const t=mt(),n=(o=e.relations.o2m)==null?void 0:o.collection,l=(u=e.relations.o2m)==null?void 0:u.field;if(n&&l){const i=t.getRelationForField(n,l);if(i){z.exports.set(e,"relations.o2m.schema.on_delete",(r=i.schema)==null?void 0:r.on_delete);return}}}function Sr(e){var o,u,r;const t=(u=(o=e.relations)==null?void 0:o.o2m)==null?void 0:u.collection;if(!t)return;const l=!!Xe().getCollection(t);((r=e.collections)==null?void 0:r.related)||(e.collections={related:void 0}),l===!1&&(e.collections.related={collection:t,fields:[{field:"id",type:"integer",schema:{has_auto_increment:!0,is_primary_key:!0},meta:{hidden:!0}}],meta:{},schema:{}})}function Fr(e,t){var i,s,p,f,_,v,y,g,h;const n=Me(),l=(f=(s=(i=e.relations)==null?void 0:i.o2m)==null?void 0:s.collection)!=null?f:(p=t.relations.o2m)==null?void 0:p.collection;if(!l)return;const o=t.collection&&(v=(_=n.getPrimaryKeyFieldForCollection(t.collection))==null?void 0:_.type)!=null?v:"integer",u=(g=(y=e.relations)==null?void 0:y.o2m)==null?void 0:g.field;if(!u)return;const r=!!n.getField(l,u);((h=e.fields)==null?void 0:h.corresponding)||(e.fields={corresponding:void 0}),r===!1&&(e.fields.corresponding={collection:l,field:u,type:o,schema:{},meta:{interface:"select-dropdown-m2o",hidden:!0}})}function Vr(e,t){var l,o;const n=(o=(l=e.relations)==null?void 0:l.o2m)==null?void 0:o.collection;!n||t.fields.corresponding&&z.exports.set(e,"fields.corresponding.collection",n)}function Ho(e,t,{getCurrent:n}){const l=n("relations.o2m.meta.sort_field");if(!l)return;const o=Me(),u=n("relations.o2m.collection");!!o.getField(u,l)?z.exports.set(e,"fields.sort",void 0):z.exports.set(e,"fields.sort",{collection:u,field:l,type:"integer",schema:{},meta:{hidden:!1}})}var SV=Object.freeze(Object.defineProperty({__proto__:null,applyChanges:CV,removeSchema:gr,setTypeToAlias:br,prepareRelation:wr,preventCircularConstraint:kr,updateRelationField:$r,useExistingRelationValues:Cr,generateRelatedCollection:Sr,generateRelatedField:Fr,updateGeneratedRelatedField:Vr,generateSortField:Ho},Symbol.toStringTag,{value:"Module"}));function FV(e,t,n){const{hasChanged:l}=n;l("localType")&&(Ar(e),Ir(e),Er(e))}function Ar(e){z.exports.set(e,"field.schema",void 0)}function Ir(e){z.exports.set(e,"field.type","alias")}function Er(e){z.exports.set(e,"field.meta.special",["alias","no-data"])}var VV=Object.freeze(Object.defineProperty({__proto__:null,applyChanges:FV,removeSchema:Ar,setTypeToAlias:Ir,setSpecialToNoData:Er},Symbol.toStringTag,{value:"Module"}));function AV(e,t,n){const{hasChanged:l}=n;l("field.type")&&(IV(e),EV(e,n))}function IV(e){var n;const t=(n=e.field)==null?void 0:n.type;switch(t){case"json":case"csv":case"boolean":z.exports.set(e,"field.meta.special",["cast-"+t]);break;case"uuid":case"hash":case"geometry":z.exports.set(e,"field.meta.special",[t]);break;case void 0:break;default:z.exports.set(e,"field.meta.special",null)}}function EV(e,t){var o;const n=Lt(t.getCurrent("field.meta.interface")),l=(o=e.field)==null?void 0:o.type;l&&!(n==null?void 0:n.types.includes(l))&&z.exports.set(e,"field.meta.interface",void 0)}var DV=Object.freeze(Object.defineProperty({__proto__:null,applyChanges:AV},Symbol.toStringTag,{value:"Module"}));function PV(e,t,n){const{hasChanged:l}=n;l("localType")&&(Dr(e),Pr(e),Tr(e,t),Mr(e,t,n)),l("field.field")&&Or(e),l("relations.m2o.related_collection")&&(Lr(e,t,n),jr(e,t,n)),l("relations.o2m.field")&&Go(e,t,n),l("relations.m2o.field")&&Go(e,t,n),(l("relations.o2m.collection")||l("relations.m2o.collection"))&&Ur(e),["relations.o2m.collection","relations.o2m.field","relations.m2o.field","relations.m2o.related_collection","relations.o2m.meta.sort_field"].some(l)&&(Rr(e,t,n),TV(e,t,n))}function Dr(e){z.exports.set(e,"field.schema",void 0)}function Pr(e){z.exports.set(e,"field.type","alias")}function Tr(e,t){var n,l;e.relations||(e.relations={}),e.relations.o2m={collection:void 0,field:void 0,related_collection:t.collection,meta:{one_field:(l=(n=e.field)==null?void 0:n.field)!=null?l:t.field.field,sort_field:null,one_deselect_action:"nullify"},schema:{on_delete:"SET NULL"}},e.relations.m2o={collection:void 0,field:void 0,related_collection:void 0,meta:{one_field:null,sort_field:null,one_deselect_action:"nullify"},schema:{on_delete:"SET NULL"}}}function Or(e){var t,n;!((t=e.field)==null?void 0:t.field)||(((n=e.relations)==null?void 0:n.o2m)||(e.relations={o2m:{}}),z.exports.set(e,"relations.o2m.meta.one_field",e.field.field))}function Lr(e,t,{getCurrent:n}){n("relations.o2m.collection")===n("relations.o2m.related_collection")&&z.exports.set(e,"relations.o2m.schema.on_delete","NO ACTION"),n("relations.m2o.collection")===n("relations.m2o.related_collection")&&z.exports.set(e,"relations.m2o.schema.on_delete","NO ACTION")}function Go(e,t,{getCurrent:n}){z.exports.set(e,"relations.o2m.meta.junction_field",n("relations.m2o.field")),z.exports.set(e,"relations.m2o.meta.junction_field",n("relations.o2m.field"))}function jr(e,t,{getCurrent:n}){var r,i;const l=Me(),o=n("relations.m2o.related_collection"),u=(i=(r=l.getPrimaryKeyFieldForCollection(o))==null?void 0:r.field)!=null?i:"id";z.exports.set(e,"relations.m2o.field",`${o}_${u}`)}function Zo(e){return!!Xe().getCollection(e)}function Jo(e,t){return!!Me().getField(e,t)}function Rr(e,t,{getCurrent:n}){const l=n("relations.o2m.collection"),o=n("relations.m2o.related_collection");if(!l||Zo(l)?z.exports.set(e,"collections.junction",void 0):z.exports.set(e,"collections.junction",{collection:l,meta:{hidden:!0,icon:"import_export"},schema:{name:l},fields:[{field:"id",type:"integer",schema:{has_auto_increment:!0},meta:{hidden:!0}}]}),o&&Zo(o)===!1){z.exports.set(e,"collections.related",{collection:o,meta:{},schema:{name:o},fields:[{field:"code",type:"string",schema:{is_primary_key:!0},meta:{}},{field:"name",type:"string",schema:{},meta:{}}]});const u=z.exports.get(t,"relations.m2o.related_collection");t.items&&t.items[u]&&delete t.items[u],e.items={[o]:[{code:"en-US",name:"English"},{code:"de-DE",name:"German"},{code:"fr-FR",name:"French"},{code:"ru-RU",name:"Russian"},{code:"es-ES",name:"Spanish"},{code:"it-IT",name:"Italian"},{code:"pt-BR",name:"Portuguese"}]}}else z.exports.set(e,"collections.related",void 0),e.items={}}function TV(e,t,{getCurrent:n}){var _,v,y;const l=Me(),o=l.getPrimaryKeyFieldForCollection(t.collection),u=n("relations.o2m.collection"),r=n("relations.o2m.field"),i=n("relations.m2o.field"),s=n("relations.m2o.related_collection"),p=(_=l.getPrimaryKeyFieldForCollection(s))!=null?_:n("collections.related.fields[0]"),f=n("relations.o2m.sort_field");u&&r&&Jo(u,r)===!1?z.exports.set(e,"fields.junctionCurrent",{collection:u,field:r,type:(v=o==null?void 0:o.type)!=null?v:"integer",schema:{},meta:{hidden:!0}}):z.exports.set(e,"fields.junctionCurrent",void 0),u&&i&&Jo(u,i)===!1?z.exports.set(e,"fields.junctionRelated",{collection:u,field:i,type:(y=p==null?void 0:p.type)!=null?y:"string",schema:{},meta:{hidden:!0}}):z.exports.set(e,"fields.junctionRelated",void 0),u&&f&&Jo(u,f)===!1?z.exports.set(e,"fields.sort",{collection:u,field:f,type:"integer",schema:{},meta:{hidden:!1}}):z.exports.set(e,"fields.sort",void 0)}function Mr(e,t,{getCurrent:n}){var p,f,_,v;const l=Me(),o=t.collection,u=(f=(p=l.getPrimaryKeyFieldForCollection(o))==null?void 0:p.field)!=null?f:"id",r=Nr(o);z.exports.set(e,"relations.o2m.collection",r),z.exports.set(e,"relations.o2m.field",`${o}_${u}`),z.exports.set(e,"relations.m2o.collection",r),z.exports.set(e,"relations.m2o.related_collection","languages");const i=n("relations.m2o.related_collection"),s=(v=(_=l.getPrimaryKeyFieldForCollection(i))==null?void 0:_.field)!=null?v:"id";z.exports.set(e,"relations.m2o.field",`${i}_${s}`),n("field.field")||(z.exports.set(e,"field.field","translations"),z.exports.set(e,"relations.o2m.meta","translations"))}function Ur(e){var t,n,l,o,u,r;((n=(t=e==null?void 0:e.relations)==null?void 0:t.o2m)==null?void 0:n.collection)&&e.relations.o2m.collection!==((l=e.relations.m2o)==null?void 0:l.collection)&&z.exports.set(e,"relations.m2o.collection",e.relations.o2m.collection),((u=(o=e==null?void 0:e.relations)==null?void 0:o.m2o)==null?void 0:u.collection)&&e.relations.m2o.collection!==((r=e.relations.o2m)==null?void 0:r.collection)&&z.exports.set(e,"relations.o2m.collection",e.relations.m2o.collection)}function Nr(e){let t=0,n=l(t);for(;Zo(n);)t++,n=l(t);return n;function l(o){let u=`${e}_translations`;return u.startsWith("directus_")&&(u="junction_"+u),o?u+"_"+o:u}}var OV=Object.freeze(Object.defineProperty({__proto__:null,applyChanges:PV,removeSchema:Dr,setTypeToAlias:Pr,prepareRelation:Tr,updateRelationField:Or,preventCircularConstraint:Lr,setJunctionFields:Go,updateJunctionRelated:jr,generateCollections:Rr,setDefaults:Mr,matchJunctionCollectionName:Ur,getAutomaticJunctionCollectionName:Nr},Symbol.toStringTag,{value:"Module"})),LV=Object.freeze(Object.defineProperty({__proto__:null,global:rV,file:cV,files:fV,group:vV,m2a:bV,m2m:$V,m2o:dV,o2m:SV,presentation:VV,standard:DV,translations:OV},Symbol.toStringTag,{value:"Module"}));function ml(e,t){var r,i,s,p;const n=Me(),l=mt(),o=n.getField(e,t),u=l.getRelationsForField(e,t);if(!o)return null;if(u.length===0)return o.type==="alias"?((i=(r=o.meta)==null?void 0:r.special)==null?void 0:i.includes("group"))?"group":"presentation":"standard";if(u.length===1){const f=u[0];return f.related_collection==="directus_files"?"file":f.collection===e&&f.field===t?"m2o":"o2m"}if(u.length===2){if((((s=o.meta)==null?void 0:s.special)||[]).includes("translations"))return"translations";if((((p=o.meta)==null?void 0:p.special)||[]).includes("m2a"))return"m2a";const f=u.find(_=>{var v;return _.collection===e&&_.field===t||_.related_collection===e&&((v=_.meta)==null?void 0:v.one_field)===t});return(f==null?void 0:f.collection)===e&&(f==null?void 0:f.field)===t?"m2o":u[0].related_collection==="directus_files"||u[1].related_collection==="directus_files"?"files":"m2m"}return"standard"}function Re(e,t){const n=$t();return V({get(){return z.exports.get(n,e,t)},set(l){n.update(z.exports.set({},e,l))}})}const $t=Rt({id:"fieldDetailStore",state:()=>({collection:void 0,editing:"+",field:{field:void 0,type:void 0,schema:{},meta:{}},relations:{m2o:void 0,o2m:void 0},collections:{junction:void 0,related:void 0},fields:{corresponding:void 0,junctionCurrent:void 0,junctionRelated:void 0,sort:void 0,oneCollectionField:void 0},items:{},localType:"standard",autoGenerateJunctionRelation:!0,saving:!1}),actions:{startEditing(e,t,n){if(this.$reset(),this.collection=e,this.field.collection=e,this.editing=t,t!=="+"){const l=Me(),o=mt();this.field=z.exports.cloneDeep(l.getField(e,t)),this.localType=ml(e,t);const u=z.exports.cloneDeep(o.getRelationsForField(e,t));this.relations.o2m=u.find(r=>{var i;return r.related_collection===e&&((i=r.meta)==null?void 0:i.one_field)===t}),["files","m2m","translations","m2a"].includes(this.localType)?this.relations.m2o=u.find(r=>{var i,s,p;return((i=r.meta)==null?void 0:i.id)!==((p=(s=this.relations.o2m)==null?void 0:s.meta)==null?void 0:p.id)}):this.relations.m2o=u.find(r=>r.collection===e&&r.field===t)}else this.update({localType:n!=null?n:"standard"})},update(e){const t=u=>z.exports.has(e,u)&&z.exports.get(e,u)!==z.exports.get(this,u),n=u=>z.exports.has(e,u)?z.exports.get(e,u):z.exports.get(this,u),l={hasChanged:t,getCurrent:n};t("field.meta.interface")&&(Ii(e),Ei(e,this)),t("localType")&&(Ai(e,this),Pi(e),Di(e));const o=n("localType");o&&LV[o].applyChanges(e,this,l),this.$patch(e)},async save(){if(!this.collection||!this.field.field)return;const e=Xe(),t=Me(),n=mt();this.saving=!0;try{await t.upsertField(this.collection,this.editing,this.field);for(const l of Object.values(this.collections))!l||!l.collection||await e.upsertCollection(l==null?void 0:l.collection,l);for(const l of Object.values(this.fields))!l||!l.collection||!l.field||await t.upsertField(l.collection,l.field,l);for(const l of Object.values(this.relations))!l||!l.collection||!l.field||await n.upsertRelation(l.collection,l.field,l);for(const l of Object.keys(this.items))await me.post(`/items/${l}`,this.items[l]);await t.hydrate()}catch(l){Pe(l)}finally{this.saving=!1}}},getters:{missingConfiguration(e){const t=["field.field","field.type","collection"],n=e.localType;return(n==="files"||n==="m2m"||n==="translations")&&t.push("relations.o2m.collection","relations.o2m.field","relations.o2m.related_collection","relations.m2o.collection","relations.m2o.field","relations.m2o.related_collection"),(n==="file"||n==="m2o")&&t.push("relations.m2o.collection","relations.m2o.field","relations.m2o.related_collection"),n==="o2m"&&t.push("relations.o2m.collection","relations.o2m.field","relations.o2m.related_collection"),n==="m2a"&&t.push("relations.o2m.collection","relations.o2m.field","relations.o2m.related_collection","relations.m2o.collection","relations.m2o.field","relations.m2o.meta.one_allowed_collections","relations.m2o.meta.one_collection_field"),t.filter(l=>(z.exports.has(e,l)&&z.exports.isEmpty(z.exports.get(e,l))===!1)===!1)},readyToSave(){return this.missingConfiguration.length===0},interfacesForType(){const{interfaces:e}=$n();return z.exports.orderBy(e.value.filter(t=>{if(t.system===!0)return!1;const n=t.types.includes(this.field.type||"alias"),l=(t.localTypes||["standard"]).includes(this.localType);return n&&l}),["name"])},displaysForType(){const{displays:e}=Ol();return z.exports.orderBy(e.value.filter(t=>{const n=t.types.includes(this.field.type||"alias"),l=(t.localTypes||["standard"]).includes(this.localType);return n&&l}),["name"])},generationInfo(){const e=[];for(const t of Object.values(this.collections))!t||!t.collection||e.push({name:t.collection,type:"collection"});for(const t of Object.values(this.fields))!t||!t.collection||!t.field||e.push({name:`${t.collection}.${t.field}`,type:"field"});return e}}}),jV=Z({props:{type:{type:String,required:!0},extension:{type:String,default:null},showAdvanced:{type:Boolean,default:!1},options:{type:Object,default:null},modelValue:{type:Object,default:()=>({})}},emits:["update:modelValue"],setup(e,{emit:t}){const{t:n}=ae(),l=$t(),{collection:o,field:u}=bt(l),r=V(()=>{switch(e.type){case"interface":return Lt(e.extension);case"display":return yn(e.extension);case"panel":return Ja(e.extension);default:return null}}),i=V(()=>r.value?r.value.options&&"render"in r.value.options:!1),s=V(()=>{var _;if(i.value===!0)return[];let f;if(e.options)f=e.options;else{if(!r.value)return[];if(!((_=r.value)==null?void 0:_.options))return[];f=r.value.options}return f?Array.isArray(f)?f:e.showAdvanced?[...f.standard,...f.advanced]:f.standard:[]}),p=V({get(){return e.modelValue},set(f){t("update:modelValue",f)}});return{usesCustomComponent:i,extensionInfo:r,optionsValues:p,optionsFields:s,t:n,collection:o,field:u}}});function RV(e,t,n,l,o,u){const r=c("v-notice"),i=c("v-form");return e.usesCustomComponent===!1&&e.optionsFields.length===0?(m(),F(r,{key:0},{default:d(()=>[P(w(e.t("no_options_available")),1)]),_:1})):e.usesCustomComponent===!1?(m(),F(i,{key:1,modelValue:e.optionsValues,"onUpdate:modelValue":t[0]||(t[0]=s=>e.optionsValues=s),class:"extension-options",fields:e.optionsFields,"primary-key":"+"},null,8,["modelValue","fields"])):(m(),F(He(`${e.type}-options-${e.extensionInfo.id}`),{key:2,value:e.optionsValues,collection:e.collection,field:e.field,onInput:t[1]||(t[1]=s=>e.optionsValues=s)},null,8,["value","collection","field"]))}var Zl=H(jV,[["render",RV]]);const MV=Z({name:"PanelConfiguration",components:{ExtensionOptions:Zl},props:{panel:{type:Object,default:null}},emits:["cancel","save"],setup(e,{emit:t}){var _,v,y,g,h,b,S,I,E,R,O,L,q,T,j,U,B,K;const{t:n}=ae(),{panels:l}=nl(),o=Vn(),u=Jt({show_header:(v=(_=e.panel)==null?void 0:_.show_header)!=null?v:!0,type:((y=e.panel)==null?void 0:y.type)||void 0,name:(g=e.panel)==null?void 0:g.name,note:(h=e.panel)==null?void 0:h.note,icon:(S=(b=e.panel)==null?void 0:b.icon)!=null?S:void 0,color:(I=e.panel)==null?void 0:I.color,width:(R=(E=e.panel)==null?void 0:E.width)!=null?R:void 0,height:(L=(O=e.panel)==null?void 0:O.height)!=null?L:void 0,position_x:(T=(q=e.panel)==null?void 0:q.position_x)!=null?T:1,position_y:(U=(j=e.panel)==null?void 0:j.position_y)!=null?U:1,options:(K=(B=e.panel)==null?void 0:B.options)!=null?K:{}}),r=V(()=>l.value.map(J=>({text:J.name,icon:J.icon,description:J.description,value:J.id}))),i=V(()=>Ja(u.type));he(i,J=>{J?(u.width=J.minWidth,u.height=J.minHeight):(u.width=void 0,u.height=void 0)});const s=V(()=>{var J,Y;return typeof((J=i.value)==null?void 0:J.options)=="function"?(Y=i.value)==null?void 0:Y.options(u):null});return{selectItems:r,close,emitSave:p,edits:u,t:n,isOpen:o,setOptionsValues:f,customOptionsFields:s};function p(){t("save",u)}function f(J){u.options=J}}}),UV={class:"content"},NV={class:"type-label panel-type-label"},BV={class:"form-grid"},qV={class:"field half-left"},zV={class:"type-label"},KV={class:"field half-right"},WV={class:"type-label"},HV={class:"field half-left"},GV={class:"type-label"},ZV={class:"field half-right"},JV={class:"type-label"},XV={class:"field full"},YV={class:"type-label"};function QV(e,t,n,l,o,u){var S,I;const r=c("v-icon"),i=c("v-button"),s=c("v-fancy-select"),p=c("extension-options"),f=c("v-divider"),_=c("v-checkbox"),v=c("v-input"),y=c("interface-select-icon"),g=c("interface-select-color"),h=c("v-drawer"),b=Fe("tooltip");return m(),F(h,{"model-value":e.isOpen,title:((S=e.panel)==null?void 0:S.name)||e.t("panel"),subtitle:e.t("panel_options"),icon:((I=e.panel)==null?void 0:I.icon)||"insert_chart",persistent:"",onCancel:t[7]||(t[7]=E=>e.$emit("cancel"))},{actions:d(()=>[ie(a(i,{disabled:!e.edits.type,icon:"",rounded:"",onClick:e.emitSave},{default:d(()=>[a(r,{name:"check"})]),_:1},8,["disabled","onClick"]),[[b,e.t("done"),void 0,{bottom:!0}]])]),default:d(()=>[$("div",UV,[$("p",NV,w(e.t("type")),1),a(s,{modelValue:e.edits.type,"onUpdate:modelValue":t[0]||(t[0]=E=>e.edits.type=E),class:"select",items:e.selectItems},null,8,["modelValue","items"]),e.edits.type?(m(),F(p,{key:0,modelValue:e.edits.options,"onUpdate:modelValue":t[1]||(t[1]=E=>e.edits.options=E),options:e.customOptionsFields,type:"panel",extension:e.edits.type},null,8,["modelValue","options","extension"])):M("",!0),a(f,{"inline-title":!1,large:""},{icon:d(()=>[a(r,{name:"info"})]),default:d(()=>[P(w(e.t("panel_header")),1)]),_:1}),$("div",BV,[$("div",qV,[$("p",zV,w(e.t("visible")),1),a(_,{modelValue:e.edits.show_header,"onUpdate:modelValue":t[2]||(t[2]=E=>e.edits.show_header=E),block:"",label:e.t("show_header")},null,8,["modelValue","label"])]),$("div",KV,[$("p",WV,w(e.t("name")),1),a(v,{modelValue:e.edits.name,"onUpdate:modelValue":t[3]||(t[3]=E=>e.edits.name=E),nullable:!1,disabled:e.edits.show_header!==!0,placeholder:e.t("panel_name_placeholder")},null,8,["modelValue","disabled","placeholder"])]),$("div",HV,[$("p",GV,w(e.t("icon")),1),a(y,{value:e.edits.icon,disabled:e.edits.show_header!==!0,onInput:t[4]||(t[4]=E=>e.edits.icon=E)},null,8,["value","disabled"])]),$("div",ZV,[$("p",JV,w(e.t("color")),1),a(g,{value:e.edits.color,disabled:e.edits.show_header!==!0,width:"half",onInput:t[5]||(t[5]=E=>e.edits.color=E)},null,8,["value","disabled"])]),$("div",XV,[$("p",YV,w(e.t("note")),1),a(v,{modelValue:e.edits.note,"onUpdate:modelValue":t[6]||(t[6]=E=>e.edits.note=E),disabled:e.edits.show_header!==!0,placeholder:e.t("panel_note_placeholder")},null,8,["modelValue","disabled","placeholder"])])])])]),_:1},8,["model-value","title","subtitle","icon"])}var xV=H(MV,[["render",QV],["__scopeId","data-v-223eeaa2"]]),eA=kn({id:"insights",name:"$t:insights",icon:"insights",routes:[{name:"insights-overview",path:"",component:BF},{name:"insights-dashboard",path:":primaryKey",component:iV,props:!0,children:[{name:"panel-detail",path:":panelKey",props:!0,components:{detail:xV}}]}],preRegisterCheck(e,t){return e.role.admin_access?!0:!!t.find(o=>o.collection==="directus_dashboards"&&o.action==="read")}}),tA=Object.freeze(Object.defineProperty({__proto__:null,default:eA},Symbol.toStringTag,{value:"Module"}));function Br(){const e=D(),t=D(!1),n=D(),l=V(()=>e.value?{directus:{version:e.value.directus.version},node:{version:e.value.node.version,uptime:Oa(e.value.node.uptime*1e3)},os:{type:e.value.os.type,version:e.value.os.version,uptime:Oa(e.value.os.uptime*1e3),totalmem:Ed(e.value.os.totalmem)}}:null);return e.value||o(),{info:e,parsedInfo:l,loading:t,error:n};async function o(){t.value=!0,n.value=null;try{const u=await me.get("/server/info");e.value=u.data.data}catch(u){n.value=u}finally{t.value=!1}}}const nA=Z({setup(){const{t:e}=ae(),{parsedInfo:t}=Br(),n=[{icon:"public",name:e("settings_project"),to:"/settings/project"},{icon:"list_alt",name:e("settings_data_model"),to:"/settings/data-model"},{icon:"admin_panel_settings",name:e("settings_permissions"),to:"/settings/roles"},{icon:"bookmark_border",name:e("settings_presets"),to:"/settings/presets"},{icon:"translate",name:e("settings_translation_strings"),to:"/settings/translation-strings"},{icon:"anchor",name:e("settings_webhooks"),to:"/settings/webhooks"}],l=V(()=>{var u,r,i,s,p,f,_,v;const o=new URLSearchParams({template:"bug_report.yml","directus-version":(r=(u=t.value)==null?void 0:u.directus.version)!=null?r:"","node-version":(s=(i=t.value)==null?void 0:i.node.version)!=null?s:"","operating-system":`${(f=(p=t.value)==null?void 0:p.os.type)!=null?f:""} ${(v=(_=t.value)==null?void 0:_.os.version)!=null?v:""}`});return[{icon:"bug_report",name:e("report_bug"),href:`https://github.com/directus/directus/issues/new?${o.toString()}`},{icon:"new_releases",name:e("request_feature"),href:"https://github.com/directus/directus/discussions/new"}]});return{version:Tu,navItems:n,externalItems:l}}});function lA(e,t,n,l,o,u){const r=c("v-icon"),i=c("v-list-item-icon"),s=c("v-text-overflow"),p=c("v-list-item-content"),f=c("v-list-item"),_=c("v-divider"),v=c("v-list");return m(),F(v,{nav:""},{default:d(()=>[(m(!0),A(se,null,Ve(e.navItems,y=>(m(),F(f,{key:y.to,to:y.to},{default:d(()=>[a(i,null,{default:d(()=>[a(r,{name:y.icon},null,8,["name"])]),_:2},1024),a(p,null,{default:d(()=>[a(s,{text:y.name},null,8,["text"])]),_:2},1024)]),_:2},1032,["to"]))),128)),a(_),(m(!0),A(se,null,Ve(e.externalItems,y=>(m(),F(f,{key:y.href,href:y.href},{default:d(()=>[a(i,null,{default:d(()=>[a(r,{name:y.icon},null,8,["name"])]),_:2},1024),a(p,null,{default:d(()=>[a(s,{text:y.name},null,8,["text"])]),_:2},1024)]),_:2},1032,["href"]))),128)),a(f,{href:"https://github.com/directus/directus/releases",class:"version"},{default:d(()=>[a(i,null,{default:d(()=>[a(r,{name:"directus"})]),_:1}),a(p,null,{default:d(()=>[a(s,{class:"version",text:`Directus ${e.version}`},null,8,["text"])]),_:1})]),_:1})]),_:1})}var zt=H(nA,[["render",lA],["__scopeId","data-v-d8082bb0"]]);const oA=Z({props:{collection:{type:Object,required:!0}},setup(e){const{t}=ae(),n=Xe(),{deleting:l,deleteActive:o,deleteCollection:u}=i();return{t,deleting:l,deleteActive:o,deleteCollection:u,update:r};async function r(s){await n.updateCollection(e.collection.collection,s)}function i(){const s=D(!1),p=D(!1);return{deleting:s,deleteActive:p,deleteCollection:f};async function f(){s.value=!0;try{await n.deleteCollection(e.collection.collection),p.value=!1}finally{s.value=!1}}}}}),aA={key:0};function iA(e,t,n,l,o,u){const r=c("v-icon"),i=c("v-list-item-icon"),s=c("v-list-item-content"),p=c("v-list-item"),f=c("v-list"),_=c("v-menu"),v=c("v-card-title"),y=c("v-button"),g=c("v-card-actions"),h=c("v-card"),b=c("v-dialog");return e.collection.collection.startsWith("directus_")===!1?(m(),A("div",aA,[a(_,{placement:"left-start","show-arrow":""},{activator:d(({toggle:S})=>[a(r,{name:"more_vert",clickable:"",class:"ctx-toggle",onClick:Te(S,["prevent"])},null,8,["onClick"])]),default:d(()=>[a(f,null,{default:d(()=>[e.collection.schema?(m(),F(p,{key:0,clickable:"",to:`/content/${e.collection.collection}`},{default:d(()=>[a(i,null,{default:d(()=>[a(r,{name:"box"})]),_:1}),a(s,null,{default:d(()=>[P(w(e.t("goto_collection_content")),1)]),_:1})]),_:1},8,["to"])):M("",!0),a(p,{clickable:"",onClick:t[0]||(t[0]=S=>{var I;return e.update({meta:{hidden:!((I=e.collection.meta)==null?void 0:I.hidden)}})})},{default:d(()=>{var S;return[((S=e.collection.meta)==null?void 0:S.hidden)===!1?(m(),A(se,{key:0},[a(i,null,{default:d(()=>[a(r,{name:"visibility_off"})]),_:1}),a(s,null,{default:d(()=>[P(w(e.collection.schema?e.t("make_collection_hidden"):e.t("make_folder_hidden")),1)]),_:1})],64)):(m(),A(se,{key:1},[a(i,null,{default:d(()=>[a(r,{name:"visibility"})]),_:1}),a(s,null,{default:d(()=>[P(w(e.collection.schema?e.t("make_collection_visible"):e.t("make_folder_visible")),1)]),_:1})],64))]}),_:1}),a(p,{clickable:"",class:"danger",onClick:t[1]||(t[1]=S=>e.deleteActive=!0)},{default:d(()=>[a(i,null,{default:d(()=>[a(r,{name:"delete"})]),_:1}),a(s,null,{default:d(()=>[P(w(e.collection.schema?e.t("delete_collection"):e.t("delete_folder")),1)]),_:1})]),_:1})]),_:1})]),_:1}),a(b,{modelValue:e.deleteActive,"onUpdate:modelValue":t[3]||(t[3]=S=>e.deleteActive=S),onEsc:t[4]||(t[4]=S=>e.deleteActive=null)},{default:d(()=>[a(h,null,{default:d(()=>[a(v,null,{default:d(()=>[P(w(e.collection.schema?e.t("delete_collection_are_you_sure"):e.t("delete_folder_are_you_sure")),1)]),_:1}),a(g,null,{default:d(()=>[a(y,{disabled:e.deleting,secondary:"",onClick:t[2]||(t[2]=S=>e.deleteActive=null)},{default:d(()=>[P(w(e.t("cancel")),1)]),_:1},8,["disabled"]),a(y,{loading:e.deleting,kind:"danger",onClick:e.deleteCollection},{default:d(()=>[P(w(e.collection.schema?e.t("delete_collection"):e.t("delete_folder")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])])):M("",!0)}var qr=H(oA,[["render",iA],["__scopeId","data-v-f6d0209a"]]);const rA=Z({name:"CollectionItem",components:{CollectionOptions:qr,Draggable:Ot},props:{collection:{type:Object,required:!0},collections:{type:Array,required:!0},disableDrag:{type:Boolean,default:!1}},emits:["setNestedSort","editCollection"],setup(e,{emit:t}){const n=Xe(),{t:l}=ae(),o=V(()=>e.collections.filter(_=>{var v;return((v=_.meta)==null?void 0:v.group)===e.collection.collection})),u=V(()=>{var _;switch((_=e.collection.meta)==null?void 0:_.collapse){case"open":return"folder_open";case"closed":return"folder";case"locked":return"folder_lock"}}),r=V(()=>{var _;switch((_=e.collection.meta)==null?void 0:_.collapse){case"open":return l("start_open");case"closed":return l("start_collapsed");case"locked":return l("always_open")}}),i=D(!1);return{collapseIcon:u,onGroupSortChange:f,nestedCollections:o,update:p,toggleCollapse:s,collapseTooltip:r,collapseLoading:i};async function s(){var v,y;if(i.value===!0)return;i.value=!0;let _="open";((v=e.collection.meta)==null?void 0:v.collapse)==="open"?_="closed":((y=e.collection.meta)==null?void 0:y.collapse)==="closed"&&(_="locked");try{await p({meta:{collapse:_}})}catch(g){Pe(g)}finally{i.value=!1}}async function p(_){await n.updateCollection(e.collection.collection,_)}function f(_){const v=_.map(y=>({collection:y.collection,meta:{group:e.collection.collection}}));t("setNestedSort",v)}}}),sA={class:"collection-item"},dA={class:"collection-item-detail"},uA={key:0,class:"collection-note"};function cA(e,t,n,l,o,u){var g;const r=c("v-icon"),i=c("v-list-item-icon"),s=c("v-progress-circular"),p=c("collection-options"),f=c("v-list-item"),_=c("collection-item",!0),v=c("draggable"),y=Fe("tooltip");return m(),A("div",sA,[a(f,{block:"",dense:"",clickable:"",class:de({hidden:(g=e.collection.meta)==null?void 0:g.hidden}),to:e.collection.schema?`/settings/data-model/${e.collection.collection}`:void 0,onClick:t[0]||(t[0]=Te(h=>e.collection.schema?null:e.$emit("editCollection",e.collection),["self"]))},{default:d(()=>{var h,b,S,I;return[a(i,null,{default:d(()=>[e.disableDrag?M("",!0):(m(),F(r,{key:0,class:"drag-handle",name:"drag_handle"}))]),_:1}),$("div",dA,[a(r,{color:((h=e.collection.meta)==null?void 0:h.hidden)?"var(--foreground-subdued)":(b=e.collection.color)!=null?b:"var(--primary)",class:"collection-icon",name:((S=e.collection.meta)==null?void 0:S.hidden)?"visibility_off":e.collection.icon},null,8,["color","name"]),$("span",{ref:"collectionName",class:"collection-name"},w(e.collection.collection),513),((I=e.collection.meta)==null?void 0:I.note)?(m(),A("span",uA,w(e.collection.meta.note),1)):M("",!0)]),e.collection.type==="alias"||e.nestedCollections.length?(m(),A(se,{key:0},[e.collapseLoading?(m(),F(s,{key:0,small:"",indeterminate:""})):e.nestedCollections.length?ie((m(),F(r,{key:1,name:e.collapseIcon,clickable:e.nestedCollections.length>0,onClick:Te(e.toggleCollapse,["stop","prevent"])},null,8,["name","clickable","onClick"])),[[y,e.collapseTooltip]]):(m(),F(r,{key:2,name:e.collapseIcon},null,8,["name"]))],64)):M("",!0),a(p,{collection:e.collection},null,8,["collection"])]}),_:1},8,["class","to"]),a(v,{"force-fallback":!0,"model-value":e.nestedCollections,group:{name:"collections"},"swap-threshold":.3,class:"drag-container","item-key":"collection",handle:".drag-handle","onUpdate:modelValue":e.onGroupSortChange},{item:d(({element:h})=>[a(_,{collection:h,collections:e.collections,onEditCollection:t[1]||(t[1]=b=>e.$emit("editCollection",b)),onSetNestedSort:t[2]||(t[2]=b=>e.$emit("setNestedSort",b))},null,8,["collection","collections"])]),_:1},8,["model-value","swap-threshold","onUpdate:modelValue"])])}var pA=H(rA,[["render",cA],["__scopeId","data-v-866e98ae"]]);const mA=Z({name:"CollectionDialog",props:{modelValue:{type:Boolean,default:!1},collection:{type:Object,default:null}},emits:["update:modelValue"],setup(e,{emit:t}){var s,p,f,_,v,y,g,h,b,S,I,E;const{t:n}=ae(),l=Xe(),o=Jt({collection:(p=(s=e.collection)==null?void 0:s.collection)!=null?p:null,icon:(_=(f=e.collection)==null?void 0:f.icon)!=null?_:"folder",note:(g=(y=(v=e.collection)==null?void 0:v.meta)==null?void 0:y.note)!=null?g:null,color:(b=(h=e.collection)==null?void 0:h.color)!=null?b:null,translations:(E=(I=(S=e.collection)==null?void 0:S.meta)==null?void 0:I.translations)!=null?E:null});he(()=>e.modelValue,(R,O)=>{var L,q,T,j,U,B,K,J,Y,W,G,Q;z.exports.isEqual(R,O)===!1&&(o.collection=(q=(L=e.collection)==null?void 0:L.collection)!=null?q:null,o.icon=(j=(T=e.collection)==null?void 0:T.icon)!=null?j:"folder",o.note=(K=(B=(U=e.collection)==null?void 0:U.meta)==null?void 0:B.note)!=null?K:null,o.color=(Y=(J=e.collection)==null?void 0:J.color)!=null?Y:null,o.translations=(Q=(G=(W=e.collection)==null?void 0:W.meta)==null?void 0:G.translations)!=null?Q:null)});const u=D(!1);return{values:o,cancel:r,saving:u,save:i,t:n};function r(){t("update:modelValue",!1)}async function i(){u.value=!0;try{e.collection?(await me.patch(`/collections/${e.collection.collection}`,{meta:o}),await l.hydrate()):(await me.post("/collections",{collection:o.collection,meta:o}),await l.hydrate()),t("update:modelValue",!1)}catch(R){Pe(R)}finally{u.value=!1}}}}),fA={class:"fields"};function _A(e,t,n,l,o,u){const r=c("v-card-title"),i=c("v-input"),s=c("interface-select-icon"),p=c("interface-select-color"),f=c("interface-list"),_=c("v-card-text"),v=c("v-button"),y=c("v-card-actions"),g=c("v-card"),h=c("v-dialog");return m(),F(h,{"model-value":e.modelValue,persistent:"","onUpdate:modelValue":t[5]||(t[5]=b=>e.$emit("update:modelValue",b)),onEsc:e.cancel},{activator:d(b=>[ke(e.$slots,"activator",nt(lt(b)),void 0,!0)]),default:d(()=>[a(g,null,{default:d(()=>[e.collection?(m(),F(r,{key:1},{default:d(()=>[P(w(e.t("edit_folder")),1)]),_:1})):(m(),F(r,{key:0},{default:d(()=>[P(w(e.t("create_folder")),1)]),_:1})),a(_,null,{default:d(()=>[$("div",fA,[a(i,{modelValue:e.values.collection,"onUpdate:modelValue":t[0]||(t[0]=b=>e.values.collection=b),disabled:!!e.collection,class:"full collection-key","db-safe":"",autofocus:"",placeholder:e.t("folder_key")},null,8,["modelValue","disabled","placeholder"]),a(s,{width:"half",value:e.values.icon,onInput:t[1]||(t[1]=b=>e.values.icon=b)},null,8,["value"]),a(p,{width:"half",value:e.values.color,onInput:t[2]||(t[2]=b=>e.values.color=b)},null,8,["value"]),a(i,{modelValue:e.values.note,"onUpdate:modelValue":t[3]||(t[3]=b=>e.values.note=b),class:"full",placeholder:e.t("note")},null,8,["modelValue","placeholder"]),a(f,{width:"full",class:"full",value:e.values.translations,placeholder:e.t("no_translations"),template:"{{ translation }} ({{ language }})",fields:[{field:"language",name:"$t:language",type:"string",schema:{default_value:"en-US"},meta:{interface:"system-language",width:"half"}},{field:"translation",name:"$t:field_options.directus_collections.collection_name",type:"string",meta:{interface:"input",width:"half",options:{placeholder:"$t:field_options.directus_collections.translation_placeholder"}}}],onInput:t[4]||(t[4]=b=>e.values.translations=b)},null,8,["value","placeholder","fields"])])]),_:1}),a(y,null,{default:d(()=>[a(v,{secondary:"",onClick:e.cancel},{default:d(()=>[P(w(e.t("cancel")),1)]),_:1},8,["onClick"]),a(v,{disabled:!e.values.collection,loading:e.saving,onClick:e.save},{default:d(()=>[P(w(e.t("save")),1)]),_:1},8,["disabled","loading","onClick"])]),_:1})]),_:1})]),_:3},8,["model-value","onEsc"])}var vA=H(mA,[["render",_A],["__scopeId","data-v-ce1c7cd4"]]);const yA=Z({components:{SettingsNavigation:zt,CollectionItem:pA,CollectionOptions:qr,Draggable:Ot,CollectionDialog:vA},setup(){const{t:e}=ae(),t=D(!1),n=D(),l=Xe(),o=V(()=>Dt(z.exports.sortBy(l.collections.filter(p=>p.collection.startsWith("directus_")===!1&&p.meta),["meta.sort","collection"]))),u=V(()=>o.value.filter(p=>{var f;return!((f=p.meta)==null?void 0:f.group)})),r=V(()=>Dt(z.exports.sortBy(l.collections.filter(p=>p.collection.startsWith("directus_")===!1&&!p.meta&&p.schema),["meta.sort","collection"]))),i=V(()=>Dt(z.exports.sortBy(l.collections.filter(p=>p.collection.startsWith("directus_")===!0).map(p=>Ie(ve({},p),{icon:"settings"})),"collection")));return{collectionDialogActive:t,t:e,collections:o,tableCollections:r,systemCollections:i,onSort:s,rootCollections:u,editCollection:n};async function s(p,f=!1){const _=p.map((v,y)=>{var g;return z.exports.merge(v,{meta:{sort:y+1,group:f?null:(g=v.meta)==null?void 0:g.group}})});l.collections=l.collections.map(v=>{const y=_.find(g=>g.collection===v.collection);return y?z.exports.merge({},v,y):v});try{await Promise.all(_.map(v=>me.patch(`/collections/${v.collection}`,{meta:{sort:v.meta.sort,group:v.meta.group}})))}catch(v){Pe(v)}}}}),hA={class:"padding-box"},gA={class:"collection-name"},bA={class:"page-description"};function wA(e,t,n,l,o,u){const r=c("v-breadcrumb"),i=c("v-icon"),s=c("v-button"),p=c("collection-dialog"),f=c("settings-navigation"),_=c("v-info"),v=c("collection-item"),y=c("draggable"),g=c("v-list"),h=c("v-list-item-icon"),b=c("router-link"),S=c("collection-options"),I=c("v-list-item"),E=c("v-detail"),R=c("router-view"),O=c("sidebar-detail"),L=c("private-view"),q=Fe("tooltip"),T=Fe("md");return m(),F(L,{title:e.t("settings_data_model")},{headline:d(()=>[a(r,{items:[{name:e.t("settings"),to:"/settings"}]},null,8,["items"])]),"title-outer:prepend":d(()=>[a(s,{class:"header-icon",rounded:"",disabled:"",icon:"",secondary:""},{default:d(()=>[a(i,{name:"list_alt"})]),_:1})]),actions:d(()=>[a(p,{modelValue:e.collectionDialogActive,"onUpdate:modelValue":t[0]||(t[0]=j=>e.collectionDialogActive=j)},{activator:d(({on:j})=>[ie(a(s,{rounded:"",icon:"",secondary:"",onClick:j},{default:d(()=>[a(i,{name:"create_new_folder"})]),_:2},1032,["onClick"]),[[q,e.t("create_folder"),void 0,{bottom:!0}]])]),_:1},8,["modelValue"]),ie(a(s,{rounded:"",icon:"",to:"/settings/data-model/+"},{default:d(()=>[a(i,{name:"add"})]),_:1},512),[[q,e.t("create_collection"),void 0,{bottom:!0}]])]),navigation:d(()=>[a(f)]),sidebar:d(()=>[a(O,{icon:"info_outline",title:e.t("information"),close:""},{default:d(()=>[ie($("div",bA,null,512),[[T,e.t("page_help_settings_datamodel_collections")]])]),_:1},8,["title"])]),default:d(()=>[$("div",hA,[e.collections.length===0?(m(),F(_,{key:0,icon:"box",title:e.t("no_collections")},{append:d(()=>[a(s,{to:"/settings/data-model/+"},{default:d(()=>[P(w(e.t("create_collection")),1)]),_:1})]),default:d(()=>[P(w(e.t("no_collections_copy_admin"))+" ",1)]),_:1},8,["title"])):(m(),F(g,{key:1,class:"draggable-list"},{default:d(()=>[a(y,{"force-fallback":!0,"model-value":e.rootCollections,group:{name:"collections"},"swap-threshold":.3,class:"root-drag-container","item-key":"collection",handle:".drag-handle","onUpdate:modelValue":t[2]||(t[2]=j=>e.onSort(j,!0))},{item:d(({element:j})=>[a(v,{collection:j,collections:e.collections,onEditCollection:t[1]||(t[1]=U=>e.editCollection=U),onSetNestedSort:e.onSort},null,8,["collection","collections","onSetNestedSort"])]),_:1},8,["model-value","swap-threshold"])]),_:1})),a(g,{class:"db-only"},{default:d(()=>[(m(!0),A(se,null,Ve(e.tableCollections,j=>ie((m(),F(I,{key:j.collection,class:"collection-row hidden",block:"",dense:"",clickable:""},{default:d(()=>[a(h,null,{default:d(()=>[a(i,{name:"add"})]),_:1}),a(b,{class:"collection-name",to:`/settings/data-model/${j.collection}`},{default:d(()=>[a(i,{class:"collection-icon",name:"dns"}),$("span",gA,w(j.name),1)]),_:2},1032,["to"]),a(S,{collection:j},null,8,["collection"])]),_:2},1536)),[[q,e.t("db_only_click_to_configure")]])),128))]),_:1}),a(E,{label:e.t("system_collections")},{default:d(()=>[(m(!0),A(se,null,Ve(e.systemCollections,j=>(m(),F(v,{key:j.collection,collection:j,collections:e.systemCollections,"disable-drag":""},null,8,["collection","collections"]))),128))]),_:1},8,["label"])]),a(R,{name:"add"}),a(p,{"model-value":!!e.editCollection,collection:e.editCollection,"onUpdate:modelValue":t[3]||(t[3]=j=>e.editCollection=null)},null,8,["model-value","collection"])]),_:1},8,["title"])}var kA=H(yA,[["render",wA],["__scopeId","data-v-76f1525a"]]);function ht(e,t,n){return V({get(){var l,o;return(o=(l=e.value)==null?void 0:l[t])!=null?o:C(n)},set(l){e.value=Object.assign({},e.value,{[t]:l})}})}const $A=Z({props:{modelValue:{type:String,default:null},disabled:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e){const{t}=ae(),n=Xe(),l=V(()=>!!n.getCollection(e.modelValue)),o=V(()=>z.exports.orderBy(n.collections.filter(r=>r.collection.startsWith("directus_")===!1&&r.schema),["sort","collection"],["asc"])),u=V(()=>z.exports.orderBy(n.crudSafeSystemCollections.filter(r=>r.collection.startsWith("directus_")===!0),["collection"],["asc"]));return{t,collectionExists:l,availableCollections:o,systemCollections:u}}});function CA(e,t,n,l,o,u){const r=c("v-icon"),i=c("v-list-item-content"),s=c("v-list-item"),p=c("v-divider"),f=c("v-list-group"),_=c("v-list"),v=c("v-menu"),y=c("v-text-overflow"),g=c("v-input"),h=Fe("tooltip");return m(),F(g,{key:"related-collection-select","model-value":e.modelValue,class:de({matches:e.collectionExists}),"db-safe":"",nullable:!1,disabled:e.disabled,placeholder:e.t("collection")+"...","onUpdate:modelValue":t[0]||(t[0]=b=>e.$emit("update:modelValue",b))},at({_:2},[e.disabled?void 0:{name:"append",fn:d(()=>[a(v,{"show-arrow":"",placement:"bottom-end"},{activator:d(({toggle:b})=>[ie(a(r,{name:"list_alt",clickable:"",disabled:e.disabled,onClick:b},null,8,["disabled","onClick"]),[[h,e.t("select_existing")]])]),default:d(()=>[a(_,{class:"monospace"},{default:d(()=>[(m(!0),A(se,null,Ve(e.availableCollections,b=>(m(),F(s,{key:b.collection,active:e.modelValue===b.collection,clickable:"",onClick:S=>e.$emit("update:modelValue",b.collection)},{default:d(()=>[a(i,null,{default:d(()=>[P(w(b.collection),1)]),_:2},1024)]),_:2},1032,["active","onClick"]))),128)),a(p),a(f,null,{activator:d(()=>[P(w(e.t("system")),1)]),default:d(()=>[(m(!0),A(se,null,Ve(e.systemCollections,b=>(m(),F(s,{key:b.collection,active:e.modelValue===b.collection,clickable:"",onClick:S=>e.$emit("update:modelValue",b.collection)},{default:d(()=>[a(i,null,{default:d(()=>[P(w(b.collection),1)]),_:2},1024)]),_:2},1032,["active","onClick"]))),128))]),_:1})]),_:1})]),_:1})])},e.disabled?{name:"input",fn:d(()=>[a(y,{text:e.modelValue},null,8,["text"])])}:void 0]),1032,["model-value","class","disabled","placeholder"])}var Zn=H($A,[["render",CA]]);const SA=Z({props:{modelValue:{type:String,default:null},disabled:{type:Boolean,default:!1},collection:{type:String,default:null},typeDenyList:{type:Array,default:()=>[]},placeholder:{type:String,default:()=>Be.global.t("foreign_key")+"..."},nullable:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e){const{t}=ae(),n=Me(),l=V(()=>e.collection?n.getFieldsForCollectionAlphabetical(e.collection).map(u=>{var r;return{text:u.field,value:u.field,disabled:!u.schema||!!((r=u.schema)==null?void 0:r.is_primary_key)||!!e.typeDenyList.includes(u.type)}}):[]),o=V(()=>!e.collection||!e.modelValue?!1:!!n.getField(e.collection,e.modelValue));return{t,fields:l,fieldExists:o}}});function FA(e,t,n,l,o,u){const r=c("v-icon"),i=c("v-list-item-content"),s=c("v-list-item"),p=c("v-list"),f=c("v-menu"),_=c("v-text-overflow"),v=c("v-input"),y=Fe("tooltip");return m(),F(v,{"model-value":e.modelValue,"db-safe":"",nullable:e.nullable,disabled:e.disabled,placeholder:e.placeholder,class:de({matches:e.fieldExists}),"onUpdate:modelValue":t[0]||(t[0]=g=>e.$emit("update:modelValue",g))},at({_:2},[e.fields&&e.fields.length>0&&!e.disabled?{name:"append",fn:d(()=>[a(f,{"show-arrow":"",placement:"bottom-end"},{activator:d(({toggle:g})=>[ie(a(r,{name:"list_alt",clickable:"",onClick:g},null,8,["onClick"]),[[y,e.t("select_existing")]])]),default:d(()=>[a(p,{class:"monospace"},{default:d(()=>[(m(!0),A(se,null,Ve(e.fields,g=>(m(),F(s,{key:g.value,active:e.modelValue===g.value,disabled:g.disabled,clickable:"",onClick:h=>e.$emit("update:modelValue",g.value)},{default:d(()=>[a(i,null,{default:d(()=>[P(w(g.text),1)]),_:2},1024)]),_:2},1032,["active","disabled","onClick"]))),128))]),_:1})]),_:1})])}:void 0,e.disabled?{name:"input",fn:d(()=>[a(_,{text:e.modelValue},null,8,["text"])])}:void 0]),1032,["model-value","nullable","disabled","placeholder","class"])}var fl=H(SA,[["render",FA]]);const VA=Z({components:{RelatedCollectionSelect:Zn,RelatedFieldSelect:fl},props:{localType:{type:String,required:!0}},setup(){const e=Xe(),{t}=ae(),n=Re("relations.m2o.related_collection"),l=Re("relations.o2m.collection"),o=Re("relations.o2m.field"),u=Re("relations.m2o.meta.one_allowed_collections",[]);return{availableCollections:V(()=>z.exports.orderBy([...e.allCollections,{divider:!0},{name:t("system"),selectable:!1,children:e.crudSafeSystemCollections}],["collection"],["asc"])),oneAllowedCollections:u,relatedCollectionM2O:n,o2mCollection:l,o2mField:o,t}}}),AA={class:"relationship"},IA={key:0,class:"field full"},EA={class:"label type-label"},DA={class:"field half-left"},PA={class:"label type-label"},TA={class:"field half-right"},OA={class:"label type-label"},LA={key:2,class:"field full"},jA={class:"label type-label"},RA={key:3,class:"field full"},MA={class:"label type-label"},UA={key:4,class:"field full"},NA={class:"label type-label"};function BA(e,t,n,l,o,u){const r=c("v-icon"),i=c("related-collection-select"),s=c("related-field-select"),p=c("v-select"),f=Fe("tooltip");return m(),A("div",AA,[e.localType==="m2o"?(m(),A("div",IA,[$("div",EA,[P(w(e.t("related_collection"))+" ",1),ie(a(r,{class:"required-mark",sup:"",name:"star"},null,512),[[f,e.t("required")]])]),a(i,{modelValue:e.relatedCollectionM2O,"onUpdate:modelValue":t[0]||(t[0]=_=>e.relatedCollectionM2O=_)},null,8,["modelValue"])])):e.localType==="o2m"?(m(),A(se,{key:1},[$("div",DA,[$("div",PA,[P(w(e.t("related_collection"))+" ",1),ie(a(r,{class:"required-mark",sup:"",name:"star"},null,512),[[f,e.t("required")]])]),a(i,{modelValue:e.o2mCollection,"onUpdate:modelValue":t[1]||(t[1]=_=>e.o2mCollection=_)},null,8,["modelValue"])]),$("div",TA,[$("div",OA,[P(w(e.t("foreign_key"))+" ",1),ie(a(r,{class:"required-mark",sup:"",name:"star"},null,512),[[f,e.t("required")]])]),a(s,{modelValue:e.o2mField,"onUpdate:modelValue":t[2]||(t[2]=_=>e.o2mField=_),collection:e.o2mCollection,disabled:!e.o2mCollection},null,8,["modelValue","collection","disabled"])])],64)):M("",!0),e.localType==="m2m"?(m(),A("div",LA,[$("div",jA,[P(w(e.t("related_collection"))+" ",1),ie(a(r,{class:"required-mark",sup:"",name:"star"},null,512),[[f,e.t("required")]])]),a(i,{modelValue:e.relatedCollectionM2O,"onUpdate:modelValue":t[3]||(t[3]=_=>e.relatedCollectionM2O=_)},null,8,["modelValue"])])):M("",!0),e.localType==="translations"?(m(),A("div",RA,[$("div",MA,[P(w(e.t("languages_collection"))+" ",1),ie(a(r,{class:"required-mark",sup:"",name:"star"},null,512),[[f,e.t("required")]])]),a(i,{modelValue:e.relatedCollectionM2O,"onUpdate:modelValue":t[4]||(t[4]=_=>e.relatedCollectionM2O=_)},null,8,["modelValue"])])):M("",!0),e.localType==="m2a"?(m(),A("div",UA,[$("div",NA,[P(w(e.t("related_collections"))+" ",1),ie(a(r,{class:"required-mark",sup:"",name:"star"},null,512),[[f,e.t("required")]])]),a(p,{modelValue:e.oneAllowedCollections,"onUpdate:modelValue":t[5]||(t[5]=_=>e.oneAllowedCollections=_),placeholder:e.t("collection")+"...",items:e.availableCollections,"item-value":"collection","item-text":"name","item-disabled":"meta.singleton",multiple:"","multiple-preview-threshold":0},null,8,["modelValue","placeholder","items"])])):M("",!0)])}var qA=H(VA,[["render",BA],["__scopeId","data-v-46184414"]]);const zA=Z({components:{ExtensionOptions:Zl,RelationshipConfiguration:qA},props:{row:{type:Number,default:null}},emits:["save","toggleAdvanced"],setup(){const e=$t(),{readyToSave:t,saving:n,localType:l}=bt(e),{t:o}=ae(),u=Re("field.field"),r=Re("field.type"),i=Re("field.schema.default_value"),s=Re("field.meta.interface"),p=Re("field.meta.required",!1),f=Re("field.meta.note"),_=V(()=>Lt(s.value)),v=V(()=>_.value?_.value.types.map(I=>({text:o(I),value:I})):[]),y=V(()=>v.value.length===1||l.value!=="standard"),{interfaces:g}=$n(),h=V(()=>g.value.filter(I=>I.hideLabel===!0).map(I=>I.id)),b=V(()=>{var I,E;return typeof((I=_.value)==null?void 0:I.options)=="function"?(E=_.value)==null?void 0:E.options(e):null});he(s,(I,E)=>{if(!!I)if(h.value.includes(I)){const R=I.includes("-")?I.split("-")[1]:I;u.value=`${R}-${Tt(6).toLowerCase()}`}else E&&h.value.includes(E)&&(u.value=null)},{immediate:!0});const S=V({get(){var I,E;return(E=(I=e.field.meta)==null?void 0:I.options)!=null?E:{}},set(I){e.$patch(E=>{var R;E.field.meta=Ie(ve({},(R=E.field.meta)!=null?R:{}),{options:I})})}});return{key:u,t:o,type:r,typeDisabled:y,typeOptions:v,defaultValue:i,chosenInterface:s,required:p,note:f,interfaceIdsWithHiddenLabel:h,readyToSave:t,saving:n,localType:l,customOptionsFields:b,options:S}}}),KA={class:"setup"},WA={class:"schema"},HA={class:"field half-left"},GA={class:"label type-label"},ZA={class:"field half-right"},JA={class:"label type-label"},XA={class:"field half-left"},YA={class:"label type-label"},QA={class:"field half-right"},xA={class:"label type-label"};function e7(e,t,n,l,o,u){const r=c("v-icon"),i=c("v-input"),s=c("v-select"),p=c("v-checkbox"),f=c("relationship-configuration"),_=c("v-divider"),v=c("extension-options"),y=c("v-button"),g=Fe("tooltip");return m(),A("div",{class:"field-configuration",style:Je({"grid-row":e.row})},[$("div",KA,[e.chosenInterface&&!e.interfaceIdsWithHiddenLabel.includes(e.chosenInterface)?(m(),A(se,{key:0},[$("div",WA,[$("div",HA,[$("div",GA,[P(w(e.t("key"))+" ",1),ie(a(r,{class:"required-mark",sup:"",name:"star"},null,512),[[g,e.t("required")]])]),a(i,{modelValue:e.key,"onUpdate:modelValue":t[0]||(t[0]=h=>e.key=h),autofocus:"",class:"monospace","db-safe":"",placeholder:e.t("a_unique_column_name")},null,8,["modelValue","placeholder"])]),$("div",ZA,[$("div",JA,w(e.t("type")),1),a(s,{modelValue:e.type,"onUpdate:modelValue":t[1]||(t[1]=h=>e.type=h),items:e.typeOptions,disabled:e.typeDisabled},null,8,["modelValue","items","disabled"])]),$("div",XA,[$("div",YA,w(e.t("default_value")),1),e.type==="boolean"?(m(),F(p,{key:0,modelValue:e.defaultValue,"onUpdate:modelValue":t[2]||(t[2]=h=>e.defaultValue=h),block:"",label:e.t("enabled")},null,8,["modelValue","label"])):(m(),F(i,{key:1,modelValue:e.defaultValue,"onUpdate:modelValue":t[3]||(t[3]=h=>e.defaultValue=h),class:"monospace",placeholder:"NULL"},null,8,["modelValue"]))]),$("div",QA,[$("div",xA,w(e.t("required")),1),a(p,{modelValue:e.required,"onUpdate:modelValue":t[4]||(t[4]=h=>e.required=h),block:"",label:e.t("require_value_to_be_set")},null,8,["modelValue","label"])])]),a(f,{"local-type":e.localType},null,8,["local-type"]),a(_,{inline:""})],64)):M("",!0),a(v,{modelValue:e.options,"onUpdate:modelValue":t[5]||(t[5]=h=>e.options=h),type:"interface",extension:e.chosenInterface,options:e.customOptionsFields},null,8,["modelValue","extension","options"]),a(y,{class:"save","full-width":"",disabled:!e.readyToSave,loading:e.saving,onClick:t[6]||(t[6]=h=>e.$emit("save"))},{default:d(()=>[P(w(e.t("save")),1)]),_:1},8,["disabled","loading"]),$("button",{class:"toggle-advanced",onClick:t[7]||(t[7]=h=>e.$emit("toggleAdvanced"))},w(e.t("continue_in_advanced_field_creation_mode")),1)])],4)}var t7=H(zA,[["render",e7],["__scopeId","data-v-5f240ab3"]]);const n7=Z({components:{FieldConfiguration:t7},props:{collection:{type:Object,required:!0}},emits:["save","toggleAdvanced"],setup(e){const{collection:t}=ze(e),{t:n}=ae(),l=$t();he(t,()=>l.update({collection:t.value.collection}),{immediate:!0});const{interfaces:o}=$n(),u=V(()=>z.exports.orderBy(o.value.filter(_=>!_.system),["order"])),r=V(()=>[{key:"standard",name:n("interface_group_text_and_numbers"),interfaces:u.value.filter(_=>_.group==="standard")},{key:"selection",name:n("interface_group_selection"),interfaces:u.value.filter(_=>_.group==="selection")},{key:"relational",name:n("interface_group_relational"),interfaces:u.value.filter(_=>_.group==="relational")},{key:"presentation",name:n("interface_group_presentation"),interfaces:u.value.filter(_=>_.group==="presentation")},{key:"group",name:n("interface_group_groups"),interfaces:u.value.filter(_=>_.group==="group")},{key:"other",name:n("interface_group_other"),interfaces:u.value.filter(_=>_.group==="other")}]),i=Re("field.meta.interface"),s=V(()=>{if(!i.value)return null;let _=null;if(r.value.forEach(g=>{const h=g.interfaces.findIndex(b=>b.id===i.value);h!==-1&&(_=h)}),_===null)return null;const v=window.innerWidth;let y=1;return v>400&&(y=2),v>600&&(y=3),v>840&&(y=4),Math.ceil((_+1)/y)+1});return{t:n,interfaces:o,groups:r,isSVG:p,syncRefProperty:ht,chosenInterface:i,configRow:s,toggleInterface:f};function p(_){return _.startsWith("<svg")}function f(_){i.value===_?i.value=null:i.value=_}}}),l7={class:"content"},o7={class:"grid"},a7=["onClick"],i7={class:"preview"},r7=["innerHTML"],s7=["src"],d7={key:1,class:"fallback"};function u7(e,t,n,l,o,u){const r=c("v-icon"),i=c("v-text-overflow"),s=c("field-configuration"),p=c("transition-expand");return m(),A("div",l7,[(m(!0),A(se,null,Ve(e.groups,f=>(m(),A("div",{key:f.key,class:"group"},[$("h2",null,w(f.name),1),$("div",o7,[(m(!0),A(se,null,Ve(f.interfaces,_=>(m(),A("button",{key:_.id,class:de(["interface",{active:e.chosenInterface===_.id,gray:e.chosenInterface&&e.chosenInterface!==_.id}]),onClick:v=>e.toggleInterface(_.id)},[$("div",i7,[_.preview?(m(),A(se,{key:0},[e.isSVG(_.preview)?(m(),A("span",{key:0,innerHTML:_.preview},null,8,r7)):(m(),A("img",{key:1,src:_.preview,alt:""},null,8,s7))],64)):(m(),A("span",d7,[a(r,{large:"",name:_.icon},null,8,["name"])]))]),a(i,{text:_.name,class:"name"},null,8,["text"])],10,a7))),128)),a(p,null,{default:d(()=>[e.chosenInterface&&!!f.interfaces.some(_=>_.id===e.chosenInterface)?(m(),F(s,{key:0,row:e.configRow,onSave:t[0]||(t[0]=_=>e.$emit("save")),onToggleAdvanced:t[1]||(t[1]=_=>e.$emit("toggleAdvanced"))},null,8,["row"])):M("",!0)]),_:2},1024)])]))),128))])}var c7=H(n7,[["render",u7],["__scopeId","data-v-2e1aeacc"]]);const p7=[{text:"$t:string",value:"string"},{text:"$t:text",value:"text"},{divider:!0},{text:"$t:boolean",value:"boolean"},{divider:!0},{text:"$t:integer",value:"integer"},{text:"$t:bigInteger",value:"bigInteger"},{text:"$t:float",value:"float"},{text:"$t:decimal",value:"decimal"},{divider:!0},{text:"$t:timestamp",value:"timestamp"},{text:"$t:datetime",value:"dateTime"},{text:"$t:date",value:"date"},{text:"$t:time",value:"time"},{divider:!0},{text:"$t:json",value:"json"},{text:"$t:csv",value:"csv"},{text:"$t:uuid",value:"uuid"},{text:"$t:hash",value:"hash"},{divider:!0},{text:"$t:geometry",value:"geometry"},{text:"$t:geometry.Point",value:"geometry.Point"},{text:"$t:geometry.LineString",value:"geometry.LineString"},{text:"$t:geometry.Polygon",value:"geometry.Polygon"},{text:"$t:geometry.MultiPoint",value:"geometry.MultiPoint"},{text:"$t:geometry.MultiLineString",value:"geometry.MultiLineString"},{text:"$t:geometry.MultiPolygon",value:"geometry.MultiPolygon"}],m7=Z({setup(){const e=$t(),{localType:t,relations:n,editing:l}=bt(e),o=V(()=>l.value!=="+"),u=Re("field.type"),r=Re("field.schema.default_value"),i=Re("field.field"),s=Re("field.meta.special"),p=Re("field.schema.max_length"),f=Re("field.schema.numeric_precision"),_=Re("field.schema.is_nullable",!0),v=Re("field.schema.is_unique",!1),y=Re("field.schema.numeric_scale"),{t:g}=ae(),h=V(()=>Dt(p7)),b=V(()=>t.value!=="standard"),S=V(()=>t.value==="m2o"?g("determined_by_relationship"):g("choose_a_type")),{onCreateOptions:I,onCreateValue:E}=U(),{onUpdateOptions:R,onUpdateValue:O}=B(),L=V(()=>["uuid","date","time","dateTime","timestamp"].includes(u.value)&&t.value!=="file"),q=V(()=>!e.field.schema),T=V(()=>{var K;return((K=e.field.schema)==null?void 0:K.is_primary_key)===!0}),j=V(()=>{var K;return(K=e.field.schema)==null?void 0:K.is_generated});return{t:g,typesWithLabels:h,GEOMETRY_TYPES:li,typeDisabled:b,typePlaceholder:S,defaultValue:r,onCreateOptions:I,onCreateValue:E,onUpdateOptions:R,onUpdateValue:O,hasCreateUpdateTriggers:L,field:i,isAlias:q,type:u,maxLength:p,numericPrecision:f,numericScale:y,special:s,nullable:_,unique:v,isPrimaryKey:T,isExisting:o,isGenerated:j};function U(){const K=["uuid","user-created","role-created","date-created"],J=V(()=>{var W,G;if(u.value==="uuid"){const Q=[{text:g("do_nothing"),value:null},{text:g("generate_and_save_uuid"),value:"uuid"},{text:g("save_current_user_id"),value:"user-created"},{text:g("save_current_user_role"),value:"role-created"}];return t.value==="m2o"&&((W=n.value.m2o)==null?void 0:W.related_collection)==="directus_users"?Q.filter(({value:X})=>[null,"user-created"].includes(X)):t.value==="m2o"&&((G=n.value.m2o)==null?void 0:G.related_collection)==="directus_roles"?Q.filter(({value:X})=>[null,"role-created"].includes(X)):Q}else if(["date","time","dateTime","timestamp"].includes(u.value))return[{text:g("do_nothing"),value:null},{text:g("save_current_datetime"),value:"date-created"}];return[]}),Y=V({get(){var G;const W=(G=s.value)!=null?G:[];for(const Q of K)if(W.includes(Q))return Q;return null},set(W){var G,Q;typeof s.value=="string"&&(s.value=[]),s.value=((G=s.value)!=null?G:[]).filter(X=>K.includes(X)===!1),W&&(s.value=[...(Q=s.value)!=null?Q:[],W]),s.value&&s.value.length===0&&(s.value=null)}});return{onCreateSpecials:K,onCreateOptions:J,onCreateValue:Y}}function B(){const K=["user-updated","role-updated","date-updated"],J=V(()=>{var W,G;if(u.value==="uuid"){const Q=[{text:g("do_nothing"),value:null},{text:g("save_current_user_id"),value:"user-updated"},{text:g("save_current_user_role"),value:"role-updated"}];return t.value==="m2o"&&((W=n.value.m2o)==null?void 0:W.related_collection)==="directus_users"?Q.filter(({value:X})=>[null,"user-updated"].includes(X)):t.value==="m2o"&&((G=n.value.m2o)==null?void 0:G.related_collection)==="directus_roles"?Q.filter(({value:X})=>[null,"role-updated"].includes(X)):Q}else if(["date","time","dateTime","timestamp"].includes(u.value))return[{text:g("do_nothing"),value:null},{text:g("save_current_datetime"),value:"date-updated"}];return[]}),Y=V({get(){var G;const W=(G=s.value)!=null?G:[];for(const Q of K)if(W.includes(Q))return Q;return null},set(W){var G,Q;typeof s.value=="string"&&(s.value=[]),s.value=((G=s.value)!=null?G:[]).filter(X=>K.includes(X)===!1),W&&(s.value=[...(Q=s.value)!=null?Q:[],W]),s.value&&s.value.length===0&&(s.value=null)}});return{onUpdateSpecials:K,onUpdateOptions:J,onUpdateValue:Y}}}}),f7={class:"form"},_7={class:"field"},v7={class:"label type-label"},y7={class:"note"},h7={class:"field half"},g7={class:"label type-label"},b7={key:0,class:"field half"},w7={class:"label type-label"},k7={key:0,class:"field half"},$7={class:"label type-label"},C7={class:"precision-scale"},S7={class:"field half-left"},F7={class:"label type-label"},V7={class:"field half-right"},A7={class:"label type-label"},I7={key:3,class:"field full"},E7={class:"label type-label"},D7={key:4,class:"field half-left"},P7={class:"label type-label"},T7={key:5,class:"field half-right"},O7={class:"label type-label"};function L7(e,t,n,l,o,u){const r=c("v-icon"),i=c("v-input"),s=c("v-select"),p=c("v-textarea"),f=c("interface-input-code"),_=c("v-checkbox");return m(),A("div",null,[$("div",f7,[$("div",_7,[$("div",v7,[P(w(e.t("key"))+" ",1),a(r,{class:"required",sup:"",name:"star"})]),a(i,{modelValue:e.field,"onUpdate:modelValue":t[0]||(t[0]=v=>e.field=v),disabled:e.isExisting,autofocus:"",class:"monospace",nullable:!1,"db-safe":"",placeholder:e.t("a_unique_column_name")},null,8,["modelValue","disabled","placeholder"]),$("small",y7,w(e.t("schema_setup_key")),1)]),$("div",h7,[$("div",g7,[P(w(e.t("type"))+" ",1),a(r,{class:"required",sup:"",name:"star"})]),e.isAlias?(m(),F(i,{key:0,"model-value":e.t("alias"),disabled:""},null,8,["model-value"])):(m(),F(s,{key:1,modelValue:e.type,"onUpdate:modelValue":t[1]||(t[1]=v=>e.type=v),disabled:e.typeDisabled||e.isExisting,items:e.typesWithLabels,placeholder:e.typePlaceholder},null,8,["modelValue","disabled","items","placeholder"]))]),["decimal","float"].includes(e.type)===!1?(m(),A(se,{key:0},[e.isAlias?M("",!0):(m(),A("div",b7,[$("div",w7,w(e.t("length")),1),a(i,{modelValue:e.maxLength,"onUpdate:modelValue":t[2]||(t[2]=v=>e.maxLength=v),type:"number",min:1,placeholder:e.type!=="string"?e.t("not_available_for_type"):"255",disabled:e.isExisting||e.type!=="string"},null,8,["modelValue","placeholder","disabled"])]))],64)):(m(),A(se,{key:1},[e.isAlias?M("",!0):(m(),A("div",k7,[$("div",$7,w(e.t("precision_scale")),1),$("div",C7,[a(i,{modelValue:e.numericPrecision,"onUpdate:modelValue":t[3]||(t[3]=v=>e.numericPrecision=v),type:"number",placeholder:10},null,8,["modelValue"]),a(i,{modelValue:e.numericScale,"onUpdate:modelValue":t[4]||(t[4]=v=>e.numericScale=v),type:"number",placeholder:5},null,8,["modelValue"])])]))],64)),e.hasCreateUpdateTriggers?(m(),A(se,{key:2},[$("div",S7,[$("div",F7,w(e.t("on_create")),1),a(s,{modelValue:e.onCreateValue,"onUpdate:modelValue":t[5]||(t[5]=v=>e.onCreateValue=v),items:e.onCreateOptions},null,8,["modelValue","items"])]),$("div",V7,[$("div",A7,w(e.t("on_update")),1),a(s,{modelValue:e.onUpdateValue,"onUpdate:modelValue":t[6]||(t[6]=v=>e.onUpdateValue=v),items:e.onUpdateOptions},null,8,["modelValue","items"])])],64)):M("",!0),!e.isAlias&&!e.isPrimaryKey&&!e.isGenerated?(m(),A("div",I7,[$("div",E7,w(e.t("default_value")),1),["string","uuid"].includes(e.type)?(m(),F(i,{key:0,modelValue:e.defaultValue,"onUpdate:modelValue":t[7]||(t[7]=v=>e.defaultValue=v),class:"monospace",placeholder:"NULL"},null,8,["modelValue"])):["text"].includes(e.type)?(m(),F(p,{key:1,modelValue:e.defaultValue,"onUpdate:modelValue":t[8]||(t[8]=v=>e.defaultValue=v),class:"monospace",placeholder:"NULL"},null,8,["modelValue"])):["integer","bigInteger","float","decimal"].includes(e.type)?(m(),F(i,{key:2,modelValue:e.defaultValue,"onUpdate:modelValue":t[9]||(t[9]=v=>e.defaultValue=v),type:"number",class:"monospace",placeholder:"NULL"},null,8,["modelValue"])):["timestamp","dateTime","date","time"].includes(e.type)?(m(),F(i,{key:3,modelValue:e.defaultValue,"onUpdate:modelValue":t[10]||(t[10]=v=>e.defaultValue=v),class:"monospace",placeholder:"NULL"},null,8,["modelValue"])):e.type==="boolean"?(m(),F(s,{key:4,modelValue:e.defaultValue,"onUpdate:modelValue":t[11]||(t[11]=v=>e.defaultValue=v),class:"monospace",items:[{text:"true",value:!0},{text:"false",value:!1},{text:"NULL",value:null}]},null,8,["modelValue"])):e.type==="json"?(m(),F(f,{key:5,value:e.defaultValue,language:"JSON",placeholder:"NULL",type:"json",onInput:t[12]||(t[12]=v=>e.defaultValue=v)},null,8,["value"])):(m(),F(i,{key:6,modelValue:e.defaultValue,"onUpdate:modelValue":t[13]||(t[13]=v=>e.defaultValue=v),class:"monospace",disabled:"",placeholder:"NULL"},null,8,["modelValue"]))])):M("",!0),e.isAlias?M("",!0):(m(),A("div",D7,[$("div",P7,w(e.t("nullable")),1),a(_,{modelValue:e.nullable,"onUpdate:modelValue":t[14]||(t[14]=v=>e.nullable=v),disabled:e.isGenerated,label:e.t("allow_null_value"),block:""},null,8,["modelValue","disabled","label"])])),e.isAlias?M("",!0):(m(),A("div",T7,[$("div",O7,w(e.t("unique")),1),a(_,{modelValue:e.unique,"onUpdate:modelValue":t[15]||(t[15]=v=>e.unique=v),disabled:e.isGenerated,label:e.t("value_unique"),block:""},null,8,["modelValue","disabled","label"])]))])])}var j7=H(m7,[["render",L7],["__scopeId","data-v-7f881b22"]]);const R7=Z({components:{RelatedCollectionSelect:Zn},setup(){const{t:e}=ae(),t=$t(),n=Me(),l=Re("relations.m2o.related_collection"),o=Re("fields.corresponding"),u=Re("fields.corresponding.field"),r=Re("relations.m2o.schema.on_delete"),{field:i,collection:s,editing:p,generationInfo:f}=bt(t),_=V(()=>p.value!=="+"),v=V(()=>{var S,I;return(I=(S=n.getPrimaryKeyFieldForCollection(l.value))==null?void 0:S.field)!=null?I:"id"}),y=V(()=>i.value.field),g=V({get(){return!!o.value},set(S){S?o.value={field:s.value,collection:l.value,type:"alias",meta:{special:["o2m"],interface:"list-o2m"}}:o.value=null}}),h=V(()=>l.value?e("add_o2m_to_collection",{collection:l.value}):e("add_field_related")),b=V(()=>[{text:e("referential_action_set_null",{field:y.value}),value:"SET NULL"},{text:e("referential_action_set_default",{field:y.value}),value:"SET DEFAULT"},{text:e("referential_action_cascade",{collection:s.value,field:y.value}),value:"CASCADE"},{text:e("referential_action_no_action",{field:y.value}),value:"NO ACTION"}].filter(S=>{var I;return!(S.value==="SET NULL"&&((I=i.value.schema)==null?void 0:I.is_nullable)===!1)}));return{t:e,collection:s,relatedCollection:l,isExisting:_,relatedPrimaryKey:v,currentField:y,hasCorresponding:g,correspondingLabel:h,correspondingFieldKey:u,generationInfo:f,onDeleteRelated:r,onDeleteOptions:b}}}),M7={class:"grid"},U7={class:"field"},N7={class:"type-label"},B7={class:"field"},q7={class:"type-label"},z7={key:1,class:"grid"},K7={class:"field"},W7={class:"type-label"},H7={class:"field"},G7={class:"type-label"},Z7={class:"relational-triggers"},J7={class:"field"},X7={class:"type-label"},Y7={class:"field-name"};function Q7(e,t,n,l,o,u){const r=c("v-input"),i=c("related-collection-select"),s=c("v-icon"),p=c("v-divider"),f=c("v-checkbox"),_=c("v-select"),v=c("v-notice");return m(),A("div",null,[$("div",M7,[$("div",U7,[$("div",N7,w(e.t("this_collection")),1),a(r,{disabled:"","model-value":e.collection},null,8,["model-value"])]),$("div",B7,[$("div",q7,w(e.t("related_collection")),1),a(i,{modelValue:e.relatedCollection,"onUpdate:modelValue":t[0]||(t[0]=y=>e.relatedCollection=y),disabled:e.isExisting},null,8,["modelValue","disabled"])]),a(r,{disabled:"","model-value":e.currentField},null,8,["model-value"]),a(r,{"model-value":e.relatedPrimaryKey,disabled:"",placeholder:e.t("primary_key")+"..."},null,8,["model-value","placeholder"]),a(s,{class:"arrow",name:"arrow_back"})]),e.isExisting?M("",!0):(m(),F(p,{key:0,large:"","inline-title":!1},{default:d(()=>[P(w(e.t("corresponding_field")),1)]),_:1})),e.isExisting?M("",!0):(m(),A("div",z7,[$("div",K7,[$("div",W7,w(e.t("create_field")),1),a(f,{modelValue:e.hasCorresponding,"onUpdate:modelValue":t[1]||(t[1]=y=>e.hasCorresponding=y),block:"",label:e.correspondingLabel},null,8,["modelValue","label"])]),$("div",H7,[$("div",G7,w(e.t("field_name")),1),a(r,{modelValue:e.correspondingFieldKey,"onUpdate:modelValue":t[2]||(t[2]=y=>e.correspondingFieldKey=y),disabled:e.hasCorresponding===!1,placeholder:e.t("field_name")+"...","db-safe":""},null,8,["modelValue","disabled","placeholder"])]),a(s,{name:"arrow_forward",class:"arrow"})])),$("div",Z7,[a(p,{class:"field full",large:"","inline-title":!1},{default:d(()=>[P(w(e.t("relational_triggers")),1)]),_:1}),$("div",J7,[$("div",X7,w(e.t("referential_action_field_label_m2o",{collection:e.relatedCollection||"related"})),1),a(_,{modelValue:e.onDeleteRelated,"onUpdate:modelValue":t[3]||(t[3]=y=>e.onDeleteRelated=y),disabled:e.collection===e.relatedCollection,placeholder:e.t("choose_action")+"...",items:e.onDeleteOptions},null,8,["modelValue","disabled","placeholder","items"])])]),e.generationInfo.length>0?(m(),F(v,{key:2,class:"generated-data",type:"warning"},{default:d(()=>[$("span",null,[P(w(e.t("new_data_alert"))+" ",1),$("ul",null,[(m(!0),A(se,null,Ve(e.generationInfo,(y,g)=>(m(),A("li",{key:g},[$("span",Y7,w(y.name),1)]))),128))])])]),_:1})):M("",!0)])}var x7=H(R7,[["render",Q7],["__scopeId","data-v-f6066574"]]);const eI=Z({components:{RelatedCollectionSelect:Zn,RelatedFieldSelect:fl},setup(){const{t:e}=ae(),t=$t(),n=Me(),l=Re("relations.o2m.collection"),o=Re("relations.o2m.field"),u=Re("relations.o2m.meta.sort_field"),r=Re("relations.o2m.schema.on_delete"),i=Re("relations.o2m.meta.one_deselect_action"),{collection:s,editing:p,generationInfo:f}=bt(t),_=V(()=>p.value!=="+"),v=V(()=>{var y;return(y=n.getPrimaryKeyFieldForCollection(s.value))==null?void 0:y.field});return{t:e,isExisting:_,collection:s,relatedCollection:l,currentPrimaryKey:v,relatedField:o,generationInfo:f,sortField:u,onDelete:r,onDeselect:i}}}),tI={class:"grid"},nI={class:"field"},lI={class:"type-label"},oI={class:"field"},aI={class:"type-label"},iI={class:"sort-field"},rI={class:"relational-triggers"},sI={class:"field"},dI={class:"type-label"},uI={class:"field"},cI={class:"type-label"},pI={class:"field-name"};function mI(e,t,n,l,o,u){const r=c("v-input"),i=c("related-collection-select"),s=c("related-field-select"),p=c("v-icon"),f=c("v-divider"),_=c("v-select"),v=c("v-notice");return m(),A("div",null,[$("div",tI,[$("div",nI,[$("div",lI,w(e.t("this_collection")),1),a(r,{disabled:"","model-value":e.collection},null,8,["model-value"])]),$("div",oI,[$("div",aI,w(e.t("related_collection")),1),a(i,{modelValue:e.relatedCollection,"onUpdate:modelValue":t[0]||(t[0]=y=>e.relatedCollection=y),disabled:e.isExisting},null,8,["modelValue","disabled"])]),a(r,{disabled:"","model-value":e.currentPrimaryKey},null,8,["model-value"]),a(s,{modelValue:e.relatedField,"onUpdate:modelValue":t[1]||(t[1]=y=>e.relatedField=y),collection:e.relatedCollection},null,8,["modelValue","collection"]),a(p,{class:"arrow",name:"arrow_forward"})]),$("div",iI,[a(f,{large:"","inline-title":!1},{default:d(()=>[P(w(e.t("sort_field")),1)]),_:1}),a(s,{modelValue:e.sortField,"onUpdate:modelValue":t[2]||(t[2]=y=>e.sortField=y),collection:e.relatedCollection,placeholder:e.t("add_sort_field")+"...",nullable:!0},null,8,["modelValue","collection","placeholder"])]),$("div",rI,[a(f,{class:"field full",large:"","inline-title":!1},{default:d(()=>[P(w(e.t("relational_triggers")),1)]),_:1}),$("div",sI,[$("div",dI,w(e.t("referential_action_field_label_o2m",{collection:e.relatedCollection||"related"})),1),a(_,{modelValue:e.onDeselect,"onUpdate:modelValue":t[3]||(t[3]=y=>e.onDeselect=y),placeholder:e.t("choose_action")+"...",items:[{text:e.t("referential_action_set_null",{field:e.relatedField}),value:"nullify"},{text:e.t("referential_action_cascade",{collection:e.relatedCollection,field:e.relatedField}),value:"delete"}]},null,8,["modelValue","placeholder","items"])]),$("div",uI,[$("div",cI,w(e.t("referential_action_field_label_m2o",{collection:e.collection||"related"})),1),a(_,{modelValue:e.onDelete,"onUpdate:modelValue":t[4]||(t[4]=y=>e.onDelete=y),disabled:e.collection===e.relatedCollection,placeholder:e.t("choose_action")+"...",items:[{text:e.t("referential_action_set_null",{field:e.relatedField}),value:"SET NULL"},{text:e.t("referential_action_set_default",{field:e.relatedField}),value:"SET DEFAULT"},{text:e.t("referential_action_cascade",{collection:e.collection,field:e.relatedField}),value:"CASCADE"},{text:e.t("referential_action_no_action"),value:"NO ACTION"}]},null,8,["modelValue","disabled","placeholder","items"])])]),e.generationInfo.length>0?(m(),F(v,{key:0,class:"generated-data",type:"warning"},{default:d(()=>[$("span",null,[P(w(e.t("new_data_alert"))+" ",1),$("ul",null,[(m(!0),A(se,null,Ve(e.generationInfo,(y,g)=>(m(),A("li",{key:g},[$("span",pI,w(y.name),1)]))),128))])])]),_:1})):M("",!0)])}var fI=H(eI,[["render",mI],["__scopeId","data-v-bb6d41dc"]]);const _I=Z({components:{RelatedCollectionSelect:Zn,RelatedFieldSelect:fl},setup(){const{t:e}=ae(),t=$t(),n=Me(),{field:l,collection:o,editing:u,generationInfo:r}=bt(t),i=Re("relations.o2m.meta.sort_field"),s=Re("relations.o2m.collection"),p=Re("relations.o2m.field"),f=Re("relations.m2o.field"),_=Re("relations.m2o.related_collection"),v=Re("autoGenerateJunctionRelation"),y=Re("relations.o2m.schema.on_delete"),g=Re("relations.m2o.schema.on_delete"),h=Re("relations.o2m.meta.one_deselect_action"),b=Re("fields.corresponding"),S=Re("fields.corresponding.field"),I=V(()=>l.value.type),E=V(()=>u.value!=="+"),R=V(()=>{var T;return(T=n.getPrimaryKeyFieldForCollection(o.value))==null?void 0:T.field}),O=V(()=>{var T,j;return(j=(T=n.getPrimaryKeyFieldForCollection(_.value))==null?void 0:T.field)!=null?j:"id"}),L=V({get(){return!!b.value},set(T){T?b.value={field:o.value,collection:_.value,type:"alias",meta:{special:["m2m"],interface:"list-m2m"}}:b.value=null}}),q=V(()=>s.value?e("add_m2m_to_collection",{collection:_.value}):e("add_field_related"));return{t:e,autoGenerateJunctionRelation:v,collection:o,type:I,isExisting:E,junctionCollection:s,junctionFieldCurrent:p,relatedCollection:_,sortField:i,currentPrimaryKey:R,junctionFieldRelated:f,relatedPrimaryKey:O,onDeleteCurrent:y,onDeleteRelated:g,deselectAction:h,hasCorresponding:L,correspondingLabel:q,correspondingFieldKey:S,generationInfo:r}}}),Xo=e=>(xe("data-v-2ef7c0d9"),e=e(),et(),e),vI={class:"grid"},yI={class:"field"},hI={class:"type-label"},gI={class:"field"},bI={class:"type-label"},wI={class:"field"},kI={class:"type-label"},$I=Xo(()=>$("div",{class:"spacer"},null,-1)),CI=Xo(()=>$("div",{class:"spacer"},null,-1)),SI=Xo(()=>$("div",{class:"spacer"},null,-1)),FI={key:1,class:"corresponding"},VI={class:"field"},AI={class:"type-label"},II={class:"field"},EI={class:"type-label"},DI={class:"sort-field"},PI={class:"relational-triggers"},TI={class:"field"},OI={class:"type-label"},LI={class:"field"},jI={class:"type-label"},RI={class:"field"},MI={class:"type-label"},UI={class:"field-name"};function NI(e,t,n,l,o,u){const r=c("v-input"),i=c("related-collection-select"),s=c("related-field-select"),p=c("v-checkbox"),f=c("v-icon"),_=c("v-divider"),v=c("v-select"),y=c("v-notice");return m(),A("div",null,[$("div",vI,[$("div",yI,[$("div",hI,w(e.t("this_collection")),1),a(r,{disabled:"","model-value":e.collection},null,8,["model-value"])]),$("div",gI,[$("div",bI,w(e.t("junction_collection")),1),a(i,{modelValue:e.junctionCollection,"onUpdate:modelValue":t[0]||(t[0]=g=>e.junctionCollection=g),disabled:e.autoGenerateJunctionRelation||e.isExisting},null,8,["modelValue","disabled"])]),$("div",wI,[$("div",kI,w(e.t("related_collection")),1),a(i,{modelValue:e.relatedCollection,"onUpdate:modelValue":t[1]||(t[1]=g=>e.relatedCollection=g),disabled:e.type==="files"||e.isExisting},null,8,["modelValue","disabled"])]),a(r,{disabled:"","model-value":e.currentPrimaryKey},null,8,["model-value"]),a(s,{modelValue:e.junctionFieldCurrent,"onUpdate:modelValue":t[2]||(t[2]=g=>e.junctionFieldCurrent=g),collection:e.junctionCollection,disabled:e.autoGenerateJunctionRelation||e.isExisting},null,8,["modelValue","collection","disabled"]),$I,CI,a(s,{modelValue:e.junctionFieldRelated,"onUpdate:modelValue":t[3]||(t[3]=g=>e.junctionFieldRelated=g),collection:e.junctionCollection,disabled:e.autoGenerateJunctionRelation||e.isExisting},null,8,["modelValue","collection","disabled"]),a(r,{modelValue:e.relatedPrimaryKey,"onUpdate:modelValue":t[4]||(t[4]=g=>e.relatedPrimaryKey=g),disabled:"",placeholder:e.t("primary_key")+"..."},null,8,["modelValue","placeholder"]),SI,e.isExisting?M("",!0):(m(),F(p,{key:0,modelValue:e.autoGenerateJunctionRelation,"onUpdate:modelValue":t[5]||(t[5]=g=>e.autoGenerateJunctionRelation=g),block:"",label:e.t("auto_fill")},null,8,["modelValue","label"])),a(f,{class:"arrow",name:"arrow_forward"}),a(f,{class:"arrow",name:"arrow_backward"})]),e.isExisting?M("",!0):(m(),F(_,{key:0,large:"","inline-title":!1},{default:d(()=>[P(w(e.t("corresponding_field")),1)]),_:1})),e.isExisting?M("",!0):(m(),A("div",FI,[$("div",VI,[$("div",AI,w(e.t("create_field")),1),a(p,{modelValue:e.hasCorresponding,"onUpdate:modelValue":t[6]||(t[6]=g=>e.hasCorresponding=g),block:"",label:e.correspondingLabel},null,8,["modelValue","label"])]),$("div",II,[$("div",EI,w(e.t("field_name")),1),a(r,{modelValue:e.correspondingFieldKey,"onUpdate:modelValue":t[7]||(t[7]=g=>e.correspondingFieldKey=g),disabled:e.hasCorresponding===!1,placeholder:e.t("field_name")+"...","db-safe":""},null,8,["modelValue","disabled","placeholder"])]),a(f,{name:"arrow_forward",class:"arrow"})])),$("div",DI,[a(_,{large:"","inline-title":!1},{default:d(()=>[P(w(e.t("sort_field")),1)]),_:1}),a(s,{modelValue:e.sortField,"onUpdate:modelValue":t[8]||(t[8]=g=>e.sortField=g),collection:e.junctionCollection,placeholder:e.t("add_sort_field")+"...",nullable:!0},null,8,["modelValue","collection","placeholder"])]),$("div",PI,[a(_,{class:"field full",large:"","inline-title":!1},{default:d(()=>[P(w(e.t("relational_triggers")),1)]),_:1}),$("div",TI,[$("div",OI,w(e.t("referential_action_field_label_o2m",{collection:e.junctionCollection||""})),1),a(v,{modelValue:e.deselectAction,"onUpdate:modelValue":t[9]||(t[9]=g=>e.deselectAction=g),placeholder:e.t("choose_action")+"...",items:[{text:e.t("referential_action_set_null",{collection:e.junctionCollection,field:e.junctionFieldCurrent}),value:"nullify"},{text:e.t("referential_action_cascade",{collection:e.junctionCollection,field:e.junctionFieldCurrent}),value:"delete"}]},null,8,["modelValue","placeholder","items"])]),$("div",LI,[$("div",jI,w(e.t("referential_action_field_label_m2o",{collection:e.collection||"related"})),1),a(v,{modelValue:e.onDeleteCurrent,"onUpdate:modelValue":t[10]||(t[10]=g=>e.onDeleteCurrent=g),disabled:e.junctionCollection===e.collection,placeholder:e.t("choose_action")+"...",items:[{text:e.t("referential_action_set_null",{field:e.junctionFieldCurrent}),value:"SET NULL"},{text:e.t("referential_action_set_default",{field:e.junctionFieldCurrent}),value:"SET DEFAULT"},{text:e.t("referential_action_cascade",{collection:e.junctionCollection,field:e.junctionFieldCurrent}),value:"CASCADE"},{text:e.t("referential_action_no_action"),value:"NO ACTION"}]},null,8,["modelValue","disabled","placeholder","items"])]),$("div",RI,[$("div",MI,w(e.t("referential_action_field_label_m2o",{collection:e.relatedCollection||"related"})),1),a(v,{modelValue:e.onDeleteRelated,"onUpdate:modelValue":t[11]||(t[11]=g=>e.onDeleteRelated=g),disabled:e.junctionCollection===e.relatedCollection,placeholder:e.t("choose_action")+"...",items:[{text:e.t("referential_action_set_null",{field:e.junctionFieldRelated}),value:"SET NULL"},{text:e.t("referential_action_set_default",{field:e.junctionFieldRelated}),value:"SET DEFAULT"},{text:e.t("referential_action_cascade",{collection:e.junctionCollection,field:e.junctionFieldRelated}),value:"CASCADE"},{text:e.t("referential_action_no_action"),value:"NO ACTION"}]},null,8,["modelValue","disabled","placeholder","items"])])]),e.generationInfo.length>0?(m(),F(y,{key:2,class:"generated-data",type:"warning"},{default:d(()=>[$("span",null,[P(w(e.t("new_data_alert"))+" ",1),$("ul",null,[(m(!0),A(se,null,Ve(e.generationInfo,(g,h)=>(m(),A("li",{key:h},[$("span",UI,w(g.name),1)]))),128))])])]),_:1})):M("",!0)])}var BI=H(_I,[["render",NI],["__scopeId","data-v-2ef7c0d9"]]);const qI=Z({components:{RelatedCollectionSelect:Zn,RelatedFieldSelect:fl},setup(){const{t:e}=ae(),t=$t(),n=Xe(),l=Me(),{collection:o,editing:u,generationInfo:r}=bt(t),i=Re("autoGenerateJunctionRelation"),s=Re("relations.o2m.collection"),p=Re("relations.o2m.field"),f=Re("relations.m2o.field"),_=Re("relations.m2o.meta.one_collection_field"),v=Re("relations.m2o.meta.one_allowed_collections",[]),y=Re("relations.o2m.meta.sort_field"),g=Re("relations.o2m.schema.on_delete"),h=Re("relations.o2m.meta.one_deselect_action"),b=V(()=>u.value!=="+"),S=V(()=>{var E;return(E=l.getPrimaryKeyFieldForCollection(o.value))==null?void 0:E.field}),I=V(()=>z.exports.orderBy([...n.allCollections,{divider:!0},{name:e("system"),selectable:!1,children:n.crudSafeSystemCollections}],["collection"],["asc"]));return{t:e,availableCollections:I,generationInfo:r,collection:o,isExisting:b,autoGenerateJunctionRelation:i,junctionCollection:s,oneAllowedCollections:v,currentPrimaryKey:S,junctionFieldCurrent:p,junctionFieldRelated:f,oneCollectionField:_,sortField:y,onDelete:g,onDeselect:h}}}),Yo=e=>(xe("data-v-2c8bde2f"),e=e(),et(),e),zI={class:"grid"},KI={class:"field"},WI={class:"type-label"},HI={class:"field"},GI={class:"type-label"},ZI={class:"field"},JI={class:"type-label"},XI={class:"related-collections-preview"},YI=Yo(()=>$("div",{class:"spacer"},null,-1)),QI=Yo(()=>$("div",{class:"spacer"},null,-1)),xI=Yo(()=>$("div",{class:"spacer"},null,-1)),eE={class:"sort-field"},tE={class:"relational-triggers"},nE={class:"field"},lE={class:"type-label"},oE={class:"field"},aE={class:"type-label"},iE={class:"field-name"};function rE(e,t,n,l,o,u){var g,h;const r=c("v-input"),i=c("related-collection-select"),s=c("v-select"),p=c("related-field-select"),f=c("v-checkbox"),_=c("v-icon"),v=c("v-divider"),y=c("v-notice");return m(),A("div",null,[$("div",zI,[$("div",KI,[$("div",WI,w(e.t("this_collection")),1),a(r,{disabled:"","model-value":e.collection},null,8,["model-value"])]),$("div",HI,[$("div",GI,w(e.t("junction_collection")),1),a(i,{modelValue:e.junctionCollection,"onUpdate:modelValue":t[0]||(t[0]=b=>e.junctionCollection=b),disabled:e.autoGenerateJunctionRelation||e.isExisting},null,8,["modelValue","disabled"])]),$("div",ZI,[$("div",JI,w(e.t("related_collections")),1),a(s,{modelValue:e.oneAllowedCollections,"onUpdate:modelValue":t[1]||(t[1]=b=>e.oneAllowedCollections=b),placeholder:e.t("collection")+"...",items:e.availableCollections,"item-value":"collection","item-text":"name","item-disabled":"meta.singleton",multiple:"","multiple-preview-threshold":0},null,8,["modelValue","placeholder","items"])]),a(r,{disabled:"","model-value":e.currentPrimaryKey},null,8,["model-value"]),a(p,{modelValue:e.junctionFieldCurrent,"onUpdate:modelValue":t[2]||(t[2]=b=>e.junctionFieldCurrent=b),collection:e.junctionCollection,disabled:e.autoGenerateJunctionRelation||e.isExisting},null,8,["modelValue","collection","disabled"]),$("div",XI,w(((g=e.oneAllowedCollections)!=null?g:[]).join(", ")),1),YI,a(p,{modelValue:e.oneCollectionField,"onUpdate:modelValue":t[3]||(t[3]=b=>e.oneCollectionField=b),collection:e.junctionCollection,placeholder:e.t("collection_key")+"...",disabled:e.autoGenerateJunctionRelation||e.isExisting},null,8,["modelValue","collection","placeholder","disabled"]),QI,a(p,{modelValue:e.junctionFieldRelated,"onUpdate:modelValue":t[4]||(t[4]=b=>e.junctionFieldRelated=b),disabled:e.autoGenerateJunctionRelation||e.isExisting},null,8,["modelValue","disabled"]),a(r,{disabled:"","model-value":e.t("primary_key")},null,8,["model-value"]),xI,e.isExisting?M("",!0):(m(),F(f,{key:0,modelValue:e.autoGenerateJunctionRelation,"onUpdate:modelValue":t[5]||(t[5]=b=>e.autoGenerateJunctionRelation=b),block:"",label:e.t("auto_fill")},null,8,["modelValue","label"])),a(_,{class:"arrow",name:"arrow_forward"}),a(_,{class:"arrow",name:"arrow_backward"}),a(_,{class:"arrow",name:"arrow_backward"})]),$("div",eE,[a(v,{large:"","inline-title":!1},{default:d(()=>[P(w(e.t("sort_field")),1)]),_:1}),a(p,{modelValue:e.sortField,"onUpdate:modelValue":t[6]||(t[6]=b=>e.sortField=b),collection:e.junctionCollection,placeholder:e.t("add_sort_field"),nullable:!0},null,8,["modelValue","collection","placeholder"])]),$("div",tE,[a(v,{class:"field full",large:"","inline-title":!1},{default:d(()=>[P(w(e.t("relational_triggers")),1)]),_:1}),$("div",nE,[$("div",lE,w(e.t("referential_action_field_label_m2o",{collection:e.collection||"related"})),1),a(s,{modelValue:e.onDelete,"onUpdate:modelValue":t[7]||(t[7]=b=>e.onDelete=b),disabled:e.collection===e.junctionCollection,placeholder:e.t("choose_action")+"...",items:[{text:e.t("referential_action_set_null",{field:e.junctionFieldRelated}),value:"SET NULL"},{text:e.t("referential_action_set_default",{field:e.junctionFieldRelated}),value:"SET DEFAULT"},{text:e.t("referential_action_cascade",{collection:e.junctionCollection,field:e.junctionFieldRelated}),value:"CASCADE"},{text:e.t("referential_action_no_action"),value:"NO ACTION"}]},null,8,["modelValue","disabled","placeholder","items"])]),$("div",oE,[$("div",aE,w(e.t("referential_action_field_label_o2m",{collection:e.junctionCollection||"related"})),1),a(s,{modelValue:e.onDeselect,"onUpdate:modelValue":t[8]||(t[8]=b=>e.onDeselect=b),placeholder:e.t("choose_action")+"...",items:[{text:e.t("referential_action_set_null",{field:e.junctionFieldRelated}),value:"nullify"},{text:e.t("referential_action_cascade",{collection:((h=e.oneAllowedCollections)!=null?h:[]).join(" / "),field:e.junctionFieldRelated}),value:"delete"}]},null,8,["modelValue","placeholder","items"])])]),e.generationInfo.length>0?(m(),F(y,{key:0,class:"generated-data",type:"warning"},{default:d(()=>[$("span",null,[P(w(e.t("new_data_alert"))+" ",1),$("ul",null,[(m(!0),A(se,null,Ve(e.generationInfo,(b,S)=>(m(),A("li",{key:S},[$("span",iE,w(b.name),1)]))),128))])])]),_:1})):M("",!0)])}var sE=H(qI,[["render",rE],["__scopeId","data-v-2c8bde2f"]]);const dE=Z({components:{RelatedCollectionSelect:Zn,RelatedFieldSelect:fl},setup(){const{t:e}=ae(),t=$t(),n=Me(),{field:l,collection:o,editing:u,generationInfo:r}=bt(t),i=Re("relations.o2m.meta.sort_field"),s=Re("relations.o2m.collection"),p=Re("relations.o2m.field"),f=Re("relations.m2o.field"),_=Re("relations.m2o.related_collection"),v=Re("autoGenerateJunctionRelation"),y=Re("relations.o2m.schema.on_delete"),g=Re("relations.m2o.schema.on_delete"),h=Re("relations.o2m.meta.one_deselect_action"),b=Re("fields.corresponding"),S=V(()=>l.value.type),I=V(()=>u.value!=="+"),E=V(()=>{var T;return(T=n.getPrimaryKeyFieldForCollection(o.value))==null?void 0:T.field}),R=V(()=>{var T,j;return(j=(T=n.getPrimaryKeyFieldForCollection(_.value))==null?void 0:T.field)!=null?j:"id"}),O=V({get(){return!!b.value},set(T){T?b.value={field:o.value,collection:_.value,type:"alias",meta:{special:["m2m"],interface:"list-m2m"}}:b.value=null}}),L=V(()=>s.value?e("add_m2m_to_collection",{collection:_.value}):e("add_field_related")),q=V({get(){var T;return(T=b.value)==null?void 0:T.field},set(T){O.value||(O.value=!0),b.value.field=T}});return{t:e,autoGenerateJunctionRelation:v,collection:o,type:S,isExisting:I,junctionCollection:s,junctionFieldCurrent:p,relatedCollection:_,sortField:i,currentPrimaryKey:E,junctionFieldRelated:f,relatedPrimaryKey:R,onDeleteCurrent:y,onDeleteRelated:g,deselectAction:h,hasCorresponding:O,correspondingLabel:L,correspondingFieldKey:q,generationInfo:r}}}),Qo=e=>(xe("data-v-4e650362"),e=e(),et(),e),uE={class:"grid"},cE={class:"field"},pE={class:"type-label"},mE={class:"field"},fE={class:"type-label"},_E={class:"field"},vE={class:"type-label"},yE=Qo(()=>$("div",{class:"spacer"},null,-1)),hE=Qo(()=>$("div",{class:"spacer"},null,-1)),gE=Qo(()=>$("div",{class:"spacer"},null,-1)),bE={class:"relational-triggers"},wE={class:"field"},kE={class:"type-label"},$E={class:"field"},CE={class:"type-label"},SE={class:"field"},FE={class:"type-label"};function VE(e,t,n,l,o,u){const r=c("v-input"),i=c("related-collection-select"),s=c("related-field-select"),p=c("v-checkbox"),f=c("v-icon"),_=c("v-divider"),v=c("v-select");return m(),A("div",null,[$("div",uE,[$("div",cE,[$("div",pE,w(e.t("this_collection")),1),a(r,{disabled:"","model-value":e.collection},null,8,["model-value"])]),$("div",mE,[$("div",fE,w(e.t("translations_collection")),1),a(i,{modelValue:e.junctionCollection,"onUpdate:modelValue":t[0]||(t[0]=y=>e.junctionCollection=y),disabled:e.autoGenerateJunctionRelation||e.isExisting},null,8,["modelValue","disabled"])]),$("div",_E,[$("div",vE,w(e.t("languages_collection")),1),a(i,{modelValue:e.relatedCollection,"onUpdate:modelValue":t[1]||(t[1]=y=>e.relatedCollection=y),disabled:e.type==="files"||e.isExisting},null,8,["modelValue","disabled"])]),a(r,{disabled:"","model-value":e.currentPrimaryKey},null,8,["model-value"]),a(s,{modelValue:e.junctionFieldCurrent,"onUpdate:modelValue":t[2]||(t[2]=y=>e.junctionFieldCurrent=y),collection:e.junctionCollection,disabled:e.autoGenerateJunctionRelation||e.isExisting},null,8,["modelValue","collection","disabled"]),yE,hE,a(s,{modelValue:e.junctionFieldRelated,"onUpdate:modelValue":t[3]||(t[3]=y=>e.junctionFieldRelated=y),collection:e.junctionCollection,disabled:e.autoGenerateJunctionRelation||e.isExisting},null,8,["modelValue","collection","disabled"]),a(r,{modelValue:e.relatedPrimaryKey,"onUpdate:modelValue":t[4]||(t[4]=y=>e.relatedPrimaryKey=y),disabled:"",placeholder:e.t("primary_key")+"..."},null,8,["modelValue","placeholder"]),gE,a(p,{modelValue:e.autoGenerateJunctionRelation,"onUpdate:modelValue":t[5]||(t[5]=y=>e.autoGenerateJunctionRelation=y),disabled:e.isExisting,block:"",label:e.t("auto_fill")},null,8,["modelValue","disabled","label"]),a(f,{class:"arrow",name:"arrow_forward"}),a(f,{class:"arrow",name:"arrow_backward"})]),$("div",bE,[a(_,{class:"field full",large:"","inline-title":!1},{default:d(()=>[P(w(e.t("relational_triggers")),1)]),_:1}),$("div",wE,[$("div",kE,w(e.t("referential_action_field_label_o2m",{collection:e.junctionCollection||""})),1),a(v,{modelValue:e.deselectAction,"onUpdate:modelValue":t[6]||(t[6]=y=>e.deselectAction=y),placeholder:e.t("choose_action")+"...",items:[{text:e.t("referential_action_set_null",{collection:e.junctionCollection,field:e.junctionFieldCurrent}),value:"nullify"},{text:e.t("referential_action_cascade",{collection:e.junctionCollection,field:e.junctionFieldCurrent}),value:"delete"}]},null,8,["modelValue","placeholder","items"])]),$("div",$E,[$("div",CE,w(e.t("referential_action_field_label_m2o",{collection:e.collection||"related"})),1),a(v,{modelValue:e.onDeleteCurrent,"onUpdate:modelValue":t[7]||(t[7]=y=>e.onDeleteCurrent=y),disabled:e.junctionCollection===e.collection,placeholder:e.t("choose_action")+"...",items:[{text:e.t("referential_action_set_null",{field:e.junctionFieldCurrent}),value:"SET NULL"},{text:e.t("referential_action_set_default",{field:e.junctionFieldCurrent}),value:"SET DEFAULT"},{text:e.t("referential_action_cascade",{collection:e.junctionCollection,field:e.junctionFieldCurrent}),value:"CASCADE"},{text:e.t("referential_action_no_action"),value:"NO ACTION"}]},null,8,["modelValue","disabled","placeholder","items"])]),$("div",SE,[$("div",FE,w(e.t("referential_action_field_label_m2o",{collection:e.relatedCollection||"related"})),1),a(v,{modelValue:e.onDeleteRelated,"onUpdate:modelValue":t[8]||(t[8]=y=>e.onDeleteRelated=y),disabled:e.junctionCollection===e.relatedCollection,placeholder:e.t("choose_action")+"...",items:[{text:e.t("referential_action_set_null",{field:e.junctionFieldRelated}),value:"SET NULL"},{text:e.t("referential_action_set_default",{field:e.junctionFieldRelated}),value:"SET DEFAULT"},{text:e.t("referential_action_cascade",{collection:e.junctionCollection,field:e.junctionFieldRelated}),value:"CASCADE"},{text:e.t("referential_action_no_action"),value:"NO ACTION"}]},null,8,["modelValue","disabled","placeholder","items"])])])])}var AE=H(dE,[["render",VE],["__scopeId","data-v-4e650362"]]);const IE=Z({components:{RelationshipM2o:x7,RelationshipO2m:fI,RelationshipM2m:BI,RelationshipM2a:sE,RelationshipTranslations:AE},setup(){const e=$t(),{collection:t,localType:n}=bt(e);return{collection:t,localType:n}}});function EE(e,t,n,l,o,u){const r=c("relationship-m2o"),i=c("relationship-o2m"),s=c("relationship-m2m"),p=c("relationship-m2a"),f=c("relationship-translations");return e.localType==="m2o"||e.localType==="file"?(m(),F(r,{key:0})):e.localType==="o2m"?(m(),F(i,{key:1})):e.localType==="m2m"||e.localType==="files"?(m(),F(s,{key:2})):e.localType==="m2a"?(m(),F(p,{key:3})):e.localType==="translations"?(m(),F(f,{key:4})):M("",!0)}var DE=H(IE,[["render",EE]]);const PE=Z({setup(){const{t:e}=ae(),t=$t(),n=Re("field.meta.readonly",!1),l=Re("field.meta.hidden",!1),o=Re("field.meta.required",!1),u=Re("field.meta.note"),r=Re("field.meta.translations"),{field:i}=bt(t),s=V(()=>i.value.type),p=V(()=>{var f;return(f=i.value.schema)==null?void 0:f.is_generated});return{t:e,readonly:n,hidden:l,required:o,note:u,translations:r,type:s,isGenerated:p}}}),TE={class:"form"},OE={key:0,class:"field half-left"},LE={class:"label type-label"},jE={key:1,class:"field half-right"},RE={class:"label type-label"},ME={class:"field half-left"},UE={class:"label type-label"},NE={key:2,class:"field full"},BE={class:"label type-label"},qE={class:"field full"},zE={class:"label type-label"};function KE(e,t,n,l,o,u){const r=c("v-checkbox"),i=c("interface-system-input-translated-string"),s=c("interface-list");return m(),A("div",TE,[e.isGenerated?M("",!0):(m(),A("div",OE,[$("div",LE,w(e.t("readonly")),1),a(r,{modelValue:e.readonly,"onUpdate:modelValue":t[0]||(t[0]=p=>e.readonly=p),label:e.t("disabled_editing_value"),block:""},null,8,["modelValue","label"])])),e.isGenerated?M("",!0):(m(),A("div",jE,[$("div",RE,w(e.t("required")),1),a(r,{modelValue:e.required,"onUpdate:modelValue":t[1]||(t[1]=p=>e.required=p),label:e.t("require_value_to_be_set"),block:""},null,8,["modelValue","label"])])),$("div",ME,[$("div",UE,w(e.t("hidden")),1),a(r,{modelValue:e.hidden,"onUpdate:modelValue":t[2]||(t[2]=p=>e.hidden=p),label:e.t("hidden_on_detail"),block:""},null,8,["modelValue","label"])]),e.type!=="group"?(m(),A("div",NE,[$("div",BE,w(e.t("note")),1),a(i,{value:e.note,placeholder:e.t("add_note"),onInput:t[3]||(t[3]=p=>e.note=p)},null,8,["value","placeholder"])])):M("",!0),$("div",qE,[$("div",zE,w(e.t("field_name_translations")),1),a(s,{template:"[{{ language }}] {{ translation }}",fields:[{field:"language",type:"string",name:e.t("language"),meta:{interface:"system-language",width:"half",display:"formatted-value",display_options:{font:"monospace",color:"var(--foreground-subdued)"}},schema:{default_value:"en-US"}},{field:"translation",type:"string",name:e.t("translation"),meta:{interface:"input",width:"half",options:{placeholder:e.t("translation_placeholder")}}}],value:e.translations,onInput:t[4]||(t[4]=p=>e.translations=p)},null,8,["fields","value"])])])}var WE=H(PE,[["render",KE],["__scopeId","data-v-0a8dbbff"]]);const HE=Z({components:{ExtensionOptions:Zl},setup(){const{t:e}=ae(),t=$t(),n=Re("field.meta.interface"),{field:l,interfacesForType:o}=bt(t),u=V(()=>l.value.type),r=V(()=>{var S;const v={string:["input","select-dropdown"],text:["input-rich-text-html"],boolean:["boolean"],integer:["input"],bigInteger:["input"],float:["input"],decimal:["input"],timestamp:["datetime"],datetime:["datetime"],date:["datetime"],time:["datetime"],json:["select-multiple-checkbox","tags"],uuid:["input"],csv:["tags"]}[(S=u.value)!=null?S:"alias"]||[],y=o.value.map(I=>{const E={text:I.name,description:I.description,value:I.id,icon:I.icon};return v.includes(E.value)&&(E.iconRight="star"),E}),g=[],h=v.map(I=>y.find(E=>E.value===I));h!==void 0&&g.push(...h.filter(I=>I)),y.length>=5&&v.length>0&&g.push({divider:!0});const b=y.filter(I=>v.includes(I.value)===!1);return b!==void 0&&g.push(...b.filter(I=>I)),g}),i=V(()=>Lt(n.value)),s=V(()=>Lt(n.value)),p=V(()=>{var _,v;return typeof((_=s.value)==null?void 0:_.options)=="function"?(v=s.value)==null?void 0:v.options(t):null}),f=V({get(){var _,v;return(v=(_=t.field.meta)==null?void 0:_.options)!=null?v:{}},set(_){t.$patch(v=>{var y;v.field.meta=Ie(ve({},(y=v.field.meta)!=null?y:{}),{options:_})})}});return{t:e,selectItems:r,selectedInterface:i,interfaceID:n,customOptionsFields:p,options:f}}}),GE=e=>(xe("data-v-1fd2336e"),e=e(),et(),e),ZE=GE(()=>$("div",{class:"spacer"},null,-1));function JE(e,t,n,l,o,u){const r=c("v-fancy-select"),i=c("v-notice"),s=c("extension-options");return m(),A("div",null,[a(r,{modelValue:e.interfaceID,"onUpdate:modelValue":t[0]||(t[0]=p=>e.interfaceID=p),class:"select",items:e.selectItems},null,8,["modelValue","items"]),e.interfaceID&&!e.selectedInterface?(m(),F(i,{key:0,class:"not-found",type:"danger"},{default:d(()=>[P(w(e.t("interface_not_found",{interface:e.interfaceID}))+" ",1),ZE,$("button",{onClick:t[1]||(t[1]=p=>e.interfaceID=null)},w(e.t("reset_interface")),1)]),_:1})):M("",!0),e.interfaceID&&e.selectedInterface?(m(),F(s,{key:1,modelValue:e.options,"onUpdate:modelValue":t[2]||(t[2]=p=>e.options=p),type:"interface",options:e.customOptionsFields,extension:e.interfaceID,"show-advanced":""},null,8,["modelValue","options","extension"])):M("",!0)])}var XE=H(HE,[["render",JE],["__scopeId","data-v-1fd2336e"]]);const YE=Z({components:{ExtensionOptions:Zl},setup(){const{t:e}=ae(),t=$t(),{field:n,displaysForType:l}=bt(t),o=V(()=>{var _;return(_=n.value.meta)==null?void 0:_.interface}),u=Re("field.meta.display"),r=V(()=>Lt(o.value)),i=V(()=>yn(u.value)),s=V(()=>{var b;let _=z.exports.clone((b=r.value)==null?void 0:b.recommendedDisplays)||[];_.push("raw","formatted-value"),_=[...new Set(_)];const v=l.value.map(S=>{const I={text:S.name,description:S.description,value:S.id,icon:S.icon};return _.includes(I.value)&&(I.iconRight="star"),I}),y=[],g=_.map(S=>v.find(I=>I.value===S));g!==void 0&&y.push(...g.filter(S=>S)),v.length>=5&&_.length>0&&y.push({divider:!0});const h=v.filter(S=>_.includes(S.value)===!1);return h!==void 0&&y.push(...h.filter(S=>S)),y}),p=V(()=>{var _,v;return typeof((_=i.value)==null?void 0:_.options)=="function"?(v=i.value)==null?void 0:v.options(t):null}),f=V({get(){var _,v;return(v=(_=t.field.meta)==null?void 0:_.display_options)!=null?v:{}},set(_){t.$patch(v=>{var y;v.field.meta=Ie(ve({},(y=v.field.meta)!=null?y:{}),{display_options:_})})}});return{t:e,selectItems:s,selectedDisplay:i,display:u,options:f,customOptionsFields:p}}}),QE=e=>(xe("data-v-1f1d74cc"),e=e(),et(),e),xE=QE(()=>$("div",{class:"spacer"},null,-1));function eD(e,t,n,l,o,u){const r=c("v-fancy-select"),i=c("v-notice"),s=c("extension-options");return m(),A("div",null,[a(r,{modelValue:e.display,"onUpdate:modelValue":t[0]||(t[0]=p=>e.display=p),class:"select",items:e.selectItems},null,8,["modelValue","items"]),e.display&&!e.selectedDisplay?(m(),F(i,{key:0,class:"not-found",type:"danger"},{default:d(()=>[P(w(e.t("display_not_found",{display:e.display}))+" ",1),xE,$("button",{onClick:t[1]||(t[1]=p=>e.display=null)},w(e.t("reset_display")),1)]),_:1})):M("",!0),e.display&&e.selectedDisplay?(m(),F(s,{key:1,modelValue:e.options,"onUpdate:modelValue":t[2]||(t[2]=p=>e.options=p),type:"display",options:e.customOptionsFields,extension:e.display},null,8,["modelValue","options","extension"])):M("",!0)])}var tD=H(YE,[["render",eD],["__scopeId","data-v-1f1d74cc"]]);const nD={class:"form"},lD={class:"field full"},oD={class:"label type-label"},aD={class:"field full"},iD={class:"label type-label"},rD=Z({setup(e){const t=$t(),{collection:n,field:l}=bt(t),{t:o}=ae(),u=Re("field.meta.validation"),r=Re("field.meta.validation_message");return(i,s)=>{const p=c("interface-system-filter"),f=c("interface-system-input-translated-string");return m(),A("div",nD,[$("div",lD,[$("div",oD,w(C(o)("validation")),1),a(p,{"collection-name":C(n),value:C(u),"field-name":C(l).field,"include-functions":"","include-validation":"",onInput:s[0]||(s[0]=_=>u.value=_)},null,8,["collection-name","value","field-name"])]),$("div",aD,[$("div",iD,w(C(o)("custom_validation_message")),1),a(f,{value:C(r),onInput:s[1]||(s[1]=_=>r.value=_)},null,8,["value"])])])}}});var sD=H(rD,[["__scopeId","data-v-50e69ac8"]]);const dD=Z({setup(){const{t:e}=ae(),t=$t(),{field:n,collection:l}=bt(t),o=Re("field.meta.conditions"),u=V(()=>{var p;return(p=n.value.meta)==null?void 0:p.interface}),r=V(()=>[{field:"name",name:e("name"),type:"string",meta:{interface:"input",options:{iconLeft:"label",placeholder:e("enter_a_value")}}},{field:"rule",name:e("rule"),type:"json",meta:{interface:"system-filter",options:{collectionName:l.value}}},{field:"readonly",name:e("readonly"),type:"boolean",meta:{interface:"boolean",options:{label:e("disabled_editing_value")},width:"half"}},{field:"hidden",name:e("hidden"),type:"boolean",meta:{interface:"boolean",options:{label:e("hidden_on_detail")},width:"half"}},{field:"required",name:e("required"),type:"boolean",meta:{interface:"boolean",options:{label:e("require_value_to_be_set")},width:"half"}},{field:"options",name:e("interface_options"),type:"json",meta:{interface:"system-interface-options",options:{interface:u.value}}}]),i=V(()=>{const p=Lt(u.value);if(!p)return[];let f=[];return typeof p.options=="function"?f=p.options({field:{type:"unknown"},editing:"+",collection:l,relations:{o2m:void 0,m2o:void 0,m2a:void 0},collections:{related:void 0,junction:void 0},fields:{corresponding:void 0,junctionCurrent:void 0,junctionRelated:void 0,sort:void 0},items:{},localType:"standard",autoGenerateJunctionRelation:!1,saving:!1}):f=p.value.options,(Array.isArray(f)?f:[...f.standard,...f.advanced]).filter(v=>{var y;return((y=v.schema)==null?void 0:y.default_value)!==void 0}).reduce((v,y)=>Ie(ve({},v),{[y.field]:y.schema.default_value}),{})});return{repeaterFields:r,conditions:o,onInput:s};function s(p){o.value=(p!=null?p:[]).map(f=>{var y;const _=(y=f.options)!=null?y:{},v=C(i);return f.options=ve(ve({},v),_),f})}}});function uD(e,t,n,l,o,u){const r=c("interface-list");return m(),A("div",null,[a(r,{fields:e.repeaterFields,template:"{{ name }}",value:e.conditions,onInput:t[0]||(t[0]=i=>e.onInput(i))},null,8,["fields","value"])])}var cD=H(dD,[["render",uD]]);const pD={class:"content"},mD=Z({props:{currentTab:null},setup(e){return(t,n)=>(m(),A("div",pD,[e.currentTab==="schema"?(m(),F(j7,{key:0})):M("",!0),e.currentTab==="relationship"?(m(),F(DE,{key:1})):M("",!0),e.currentTab==="field"?(m(),F(WE,{key:2})):M("",!0),e.currentTab==="interface"?(m(),F(XE,{key:3})):M("",!0),e.currentTab==="display"?(m(),F(tD,{key:4})):M("",!0),e.currentTab==="validation"?(m(),F(sD,{key:5})):M("",!0),e.currentTab==="conditions"?(m(),F(cD,{key:6})):M("",!0)]))}});var fD=H(mD,[["__scopeId","data-v-66287584"]]);const _D=Z({props:{currentTab:{type:Array,required:!0}},emits:["update:currentTab"],setup(e,{emit:t}){const n=$t(),{localType:l}=bt(n),o=Ge(e,"currentTab",t),{t:u}=ae();return{tabs:V(()=>{const i=[{text:u("schema"),value:"schema"},{text:u("field",1),value:"field"},{text:u("interface_label"),value:"interface"}];return l.value!=="presentation"&&l.value!=="group"&&i.push({text:u("display"),value:"display"}),["o2m","m2o","m2m","m2a","files","file"].includes(l.value)&&i.splice(1,0,{text:u("relationship"),value:"relationship"}),l.value==="translations"&&i.splice(1,0,{text:u("translations"),value:"relationship"}),i.push({text:u("validation"),value:"validation"}),i.push({text:u("conditions"),value:"conditions"}),i}),currentTabSync:o}}});function vD(e,t,n,l,o,u){const r=c("v-tab"),i=c("v-tabs");return m(),F(i,{modelValue:e.currentTabSync,"onUpdate:modelValue":t[0]||(t[0]=s=>e.currentTabSync=s),vertical:""},{default:d(()=>[(m(!0),A(se,null,Ve(e.tabs,s=>(m(),F(r,{key:s.value,value:s.value,disabled:s.disabled},{default:d(()=>[P(w(s.text),1)]),_:2},1032,["value","disabled"]))),128))]),_:1},8,["modelValue"])}var yD=H(_D,[["render",vD]]);const hD=Z({emits:["save"],setup(){const e=$t(),{saving:t,readyToSave:n}=bt(e),{t:l}=ae();return{saving:t,t:l,readyToSave:n}}});function gD(e,t,n,l,o,u){const r=c("v-icon"),i=c("v-button"),s=Fe("tooltip");return ie((m(),F(i,{disabled:e.readyToSave===!1,loading:e.saving,icon:"",rounded:"",onClick:t[0]||(t[0]=p=>e.$emit("save"))},{default:d(()=>[a(r,{name:"check"})]),_:1},8,["disabled","loading"])),[[s,e.t("save"),void 0,{bottom:!0}]])}var bD=H(hD,[["render",gD]]);const wD=Z({name:"FieldDetail",components:{FieldDetailSimple:c7,FieldDetailAdvanced:fD,FieldDetailAdvancedTabs:yD,FieldDetailAdvancedActions:bD},props:{collection:{type:String,required:!0},field:{type:String,required:!0},type:{type:String,default:null}},setup(e){const{collection:t}=ze(e),n=Vn(),l=$t(),{editing:o}=bt(l);he(()=>e.field,()=>l.startEditing(e.collection,e.field,e.type),{immediate:!0});const u=Xe(),r=Me(),i=it(),{t:s}=ae(),p=V(()=>u.getCollection(t.value)),f=D(e.type===null),_=V(()=>{var I,E;const b=r.getField(e.collection,e.field),S=(b==null?void 0:b.name)||kt(l.field.name||"");return e.field==="+"&&S===""?s("creating_new_field",{collection:(I=p.value)==null?void 0:I.name}):s("field_in_collection",{field:S,collection:(E=p.value)==null?void 0:E.name})}),v=D(["schema"]),y=V(()=>o.value!=="+"||!f.value);return{simple:f,cancel:g,collectionInfo:p,t:s,title:_,save:h,isOpen:n,currentTab:v,showAdvanced:y};async function g(){await i.push(`/settings/data-model/${e.collection}`),l.$reset()}async function h(){await l.save(),i.push(`/settings/data-model/${e.collection}`),l.$reset()}}});function kD(e,t,n,l,o,u){const r=c("field-detail-simple"),i=c("field-detail-advanced-tabs"),s=c("field-detail-advanced-actions"),p=c("field-detail-advanced"),f=c("v-drawer");return m(),F(f,{"model-value":e.isOpen,title:e.title,persistent:"",onCancel:e.cancel,"onUpdate:modelValue":e.cancel},at({default:d(()=>[e.showAdvanced?M("",!0):(m(),F(r,{key:0,collection:e.collectionInfo,onSave:e.save,onToggleAdvanced:t[0]||(t[0]=_=>e.simple=!1)},null,8,["collection","onSave"])),e.showAdvanced?(m(),F(p,{key:1,collection:e.collectionInfo,"current-tab":e.currentTab[0],onSave:e.save},null,8,["collection","current-tab","onSave"])):M("",!0)]),_:2},[e.showAdvanced?{name:"sidebar",fn:d(()=>[a(i,{"current-tab":e.currentTab,"onUpdate:current-tab":t[1]||(t[1]=_=>e.currentTab=_)},null,8,["current-tab"])])}:void 0,e.showAdvanced?{name:"actions",fn:d(()=>[a(s,{onSave:e.save},null,8,["onSave"])])}:void 0]),1032,["model-value","title","onCancel","onUpdate:modelValue"])}var $D=H(wD,[["render",kD],["__scopeId","data-v-4fc67dfe"]]);const CD=Z({name:"FieldSelectMenu",props:{field:{type:Object,required:!0},noDelete:{type:Boolean,default:!1}},emits:["toggleVisibility","duplicate","delete","setWidth"],setup(e){const{t}=ae(),n=V(()=>ml(e.field.collection,e.field.field)),l=V(()=>{var u;return((u=e.field.schema)==null?void 0:u.is_primary_key)===!0}),o=V(()=>n.value==="standard"&&l.value===!1);return{t,localType:n,isPrimaryKey:l,duplicable:o}}});function SD(e,t,n,l,o,u){const r=c("v-icon"),i=c("v-list-item-icon"),s=c("v-list-item-content"),p=c("v-list-item"),f=c("v-divider"),_=c("v-list"),v=c("v-menu");return m(),F(v,{"show-arrow":"",placement:"bottom-end"},{activator:d(({toggle:y})=>[a(r,{clickable:"",name:"more_vert",onClick:y},null,8,["onClick"])]),default:d(()=>[a(_,null,{default:d(()=>{var y,g,h,b;return[a(p,{to:`/settings/data-model/${e.field.collection}/${e.field.field}`},{default:d(()=>[a(i,null,{default:d(()=>[a(r,{name:"edit"})]),_:1}),a(s,null,{default:d(()=>[P(w(e.t("edit_field")),1)]),_:1})]),_:1},8,["to"]),a(p,{disabled:e.duplicable===!1,clickable:"",onClick:t[0]||(t[0]=S=>e.$emit("duplicate"))},{default:d(()=>[a(i,null,{default:d(()=>[a(r,{name:"content_copy"})]),_:1}),a(s,null,{default:d(()=>[P(w(e.t("duplicate_field")),1)]),_:1})]),_:1},8,["disabled"]),a(p,{clickable:"",onClick:t[1]||(t[1]=S=>e.$emit("toggleVisibility"))},{default:d(()=>{var S;return[((S=e.field.meta)==null?void 0:S.hidden)===!1?(m(),A(se,{key:0},[a(i,null,{default:d(()=>[a(r,{name:"visibility_off"})]),_:1}),a(s,null,{default:d(()=>[P(w(e.t("hide_field_on_detail")),1)]),_:1})],64)):(m(),A(se,{key:1},[a(i,null,{default:d(()=>[a(r,{name:"visibility"})]),_:1}),a(s,null,{default:d(()=>[P(w(e.t("show_field_on_detail")),1)]),_:1})],64))]}),_:1}),a(f),a(p,{clickable:"",disabled:((y=e.field.meta)==null?void 0:y.width)==="half"||e.localType==="group",onClick:t[2]||(t[2]=S=>e.$emit("setWidth","half"))},{default:d(()=>[a(i,null,{default:d(()=>[a(r,{name:"border_vertical"})]),_:1}),a(s,null,{default:d(()=>[P(w(e.t("half_width")),1)]),_:1})]),_:1},8,["disabled"]),a(p,{clickable:"",disabled:((g=e.field.meta)==null?void 0:g.width)==="full"||e.localType==="group",onClick:t[3]||(t[3]=S=>e.$emit("setWidth","full"))},{default:d(()=>[a(i,null,{default:d(()=>[a(r,{name:"border_right"})]),_:1}),a(s,null,{default:d(()=>[P(w(e.t("full_width")),1)]),_:1})]),_:1},8,["disabled"]),a(p,{clickable:"",disabled:((h=e.field.meta)==null?void 0:h.width)==="fill"||e.localType==="group",onClick:t[4]||(t[4]=S=>e.$emit("setWidth","fill"))},{default:d(()=>[a(i,null,{default:d(()=>[a(r,{name:"aspect_ratio"})]),_:1}),a(s,null,{default:d(()=>[P(w(e.t("fill_width")),1)]),_:1})]),_:1},8,["disabled"]),a(f),a(p,{clickable:"",class:"danger",disabled:((b=e.field.schema)==null?void 0:b.is_primary_key)===!0||e.noDelete,onClick:t[5]||(t[5]=S=>e.$emit("delete"))},{default:d(()=>[a(i,null,{default:d(()=>[a(r,{name:"delete"})]),_:1}),a(s,null,{default:d(()=>[P(w(e.t("delete_field")),1)]),_:1})]),_:1},8,["disabled"])]}),_:1})]),_:1})}var FD=H(CD,[["render",SD],["__scopeId","data-v-924af9de"]]);function dn(e){const t=new Image;e.setDragImage(t,0,0)}const VD=Z({name:"FieldSelect",components:{FieldSelectMenu:FD,Draggable:Ot},props:{field:{type:Object,required:!0},disabled:{type:Boolean,default:!1},fields:{type:Array,default:()=>[]}},emits:["setNestedSort"],setup(e,{emit:t}){const{t:n}=ae(),l=it(),o=Xe(),u=Me(),r=D(!1),{deleteActive:i,deleting:s,deleteField:p}=L(),{duplicateActive:f,duplicateName:_,collections:v,duplicateTo:y,saveDuplicate:g,duplicating:h}=q(),b=V(()=>{var U,B;return(B=Lt((U=e.field.meta)==null?void 0:U.interface))==null?void 0:B.name}),S=V(()=>{var U;return((U=e.field.meta)==null?void 0:U.hidden)===!0}),I=V(()=>ml(e.field.collection,e.field.field)),E=V(()=>e.fields.filter(U=>{var B;return((B=U.meta)==null?void 0:B.group)===e.field.field}));return{t:n,interfaceName:b,formatTitle:kt,editActive:r,setWidth:R,deleteActive:i,deleting:s,deleteField:p,duplicateActive:f,collections:v,duplicateName:_,duplicateTo:y,saveDuplicate:g,duplicating:h,openFieldDetail:T,hidden:S,toggleVisibility:O,localType:I,hideDragImage:dn,onGroupSortChange:j,nestedFields:E};function R(U){u.updateField(e.field.collection,e.field.field,{meta:{width:U}})}function O(){var U;u.updateField(e.field.collection,e.field.field,{meta:{hidden:!((U=e.field.meta)==null?void 0:U.hidden)}})}function L(){const U=D(!1),B=D(!1);return{deleteActive:U,deleting:B,deleteField:K};async function K(){await u.deleteField(e.field.collection,e.field.field),B.value=!1,U.value=!1}}function q(){const U=D(!1),B=D(e.field.field+"_copy"),K=D(!1),J=V(()=>o.collections.map(({collection:G})=>G).filter(G=>G.startsWith("directus_")===!1)),Y=D(e.field.collection);return{duplicateActive:U,duplicateName:B,collections:J,duplicateTo:Y,saveDuplicate:W,duplicating:K};async function W(){const G=Ie(ve({},z.exports.cloneDeep(e.field)),{field:B.value,collection:Y.value});G.meta&&(delete G.meta.id,delete G.meta.sort,delete G.meta.group),G.schema&&delete G.schema.comment,delete G.name,K.value=!0;try{await u.createField(Y.value,G),yt({title:n("field_create_success",{field:G.field})}),U.value=!1}catch(Q){Pe(Q)}finally{K.value=!1}}}async function T(){e.field.meta||await u.updateField(e.field.collection,e.field.field,{meta:{}}),l.push(`/settings/data-model/${e.field.collection}/${e.field.field}`)}async function j(U){const B=U.map((K,J)=>({field:K.field,meta:{sort:J+1,group:e.field.meta.field}}));t("setNestedSort",B)}}}),AD={class:"label"},ID={class:"name"},ED={class:"header full"},DD={class:"name"},PD={class:"label-inner"},TD={class:"name"},OD={key:0,class:"interface"},LD={key:1,class:"interface"},jD={class:"icons"},RD={class:"form-grid"},MD={class:"field"},UD={class:"type-label"},ND={class:"field"},BD={class:"type-label"};function qD(e,t,n,l,o,u){var E;const r=c("v-icon"),i=c("v-input"),s=c("field-select-menu"),p=c("field-select",!0),f=c("draggable"),_=c("v-card-title"),v=c("v-select"),y=c("v-card-text"),g=c("v-button"),h=c("v-card-actions"),b=c("v-card"),S=c("v-dialog"),I=Fe("tooltip");return m(),A("div",{class:de(["field-select",((E=e.field.meta)==null?void 0:E.width)||"full"])},[e.disabled?(m(),F(i,{key:0,disabled:"",class:"field"},{prepend:d(()=>[ie(a(r,{name:"lock"},null,512),[[I,e.t("system_fields_locked")]])]),input:d(()=>[$("div",AD,[$("span",ID,w(e.field.field),1)])]),_:1})):(m(),A(se,{key:1},[e.localType==="group"?(m(),F(f,{key:0,class:"field-grid group full nested","model-value":e.nestedFields,"force-fallback":!0,handle:".drag-handle",group:{name:"fields"},"set-data":e.hideDragImage,animation:150,"item-key":"field","fallback-on-body":!0,"invert-swap":!0,"onUpdate:modelValue":e.onGroupSortChange},{header:d(()=>[$("div",ED,[a(r,{class:"drag-handle",name:"drag_indicator",onClick:t[0]||(t[0]=Te(()=>{},["stop"]))}),$("span",DD,w(e.field.field),1),e.hidden?ie((m(),F(r,{key:0,name:"visibility_off",class:"hidden-icon",small:""},null,512)),[[I,e.t("hidden_field")]]):M("",!0),a(s,{field:e.field,"no-delete":e.nestedFields.length>0,onToggleVisibility:e.toggleVisibility,onSetWidth:t[1]||(t[1]=R=>e.setWidth(R)),onDuplicate:t[2]||(t[2]=R=>e.duplicateActive=!0),onDelete:t[3]||(t[3]=R=>e.deleteActive=!0)},null,8,["field","no-delete","onToggleVisibility"])])]),item:d(({element:R})=>[a(p,{field:R,fields:e.fields,onSetNestedSort:t[4]||(t[4]=O=>e.$emit("setNestedSort",O))},null,8,["field","fields"])]),_:1},8,["model-value","set-data","onUpdate:modelValue"])):(m(),F(i,{key:1,class:de(["field",{hidden:e.hidden}]),readonly:""},{prepend:d(()=>[a(r,{class:"drag-handle",name:"drag_indicator",onClick:t[5]||(t[5]=Te(()=>{},["stop"]))})]),input:d(()=>{var R;return[ie($("div",{class:"label",onClick:t[6]||(t[6]=(...O)=>e.openFieldDetail&&e.openFieldDetail(...O))},[$("div",PD,[$("span",TD,[P(w(e.field.field)+" ",1),((R=e.field.meta)==null?void 0:R.required)===!0?(m(),F(r,{key:0,name:"star",class:"required",sup:""})):M("",!0)]),e.field.meta?(m(),A("span",OD,w(e.interfaceName),1)):(m(),A("span",LD,w(e.t("db_only_click_to_configure")),1))])],512),[[I,e.interfaceName?`${e.field.name} (${e.formatTitle(e.field.type)}) - ${e.interfaceName}`:e.field.name]])]}),append:d(()=>[$("div",jD,[e.field.schema&&e.field.schema.is_primary_key?ie((m(),F(r,{key:0,name:"vpn_key",small:""},null,512)),[[I,e.t("primary_key")]]):M("",!0),e.field.meta?M("",!0):ie((m(),F(r,{key:1,name:"report_problem",class:"unmanaged",small:""},null,512)),[[I,e.t("db_only_click_to_configure")]]),e.hidden?ie((m(),F(r,{key:2,name:"visibility_off",class:"hidden-icon",small:""},null,512)),[[I,e.t("hidden_field")]]):M("",!0),a(s,{field:e.field,onToggleVisibility:e.toggleVisibility,onSetWidth:t[7]||(t[7]=R=>e.setWidth(R)),onDuplicate:t[8]||(t[8]=R=>e.duplicateActive=!0),onDelete:t[9]||(t[9]=R=>e.deleteActive=!0)},null,8,["field","onToggleVisibility"])])]),_:1},8,["class"])),a(S,{modelValue:e.duplicateActive,"onUpdate:modelValue":t[13]||(t[13]=R=>e.duplicateActive=R),onEsc:t[14]||(t[14]=R=>e.duplicateActive=!1)},{default:d(()=>[a(b,{class:"duplicate"},{default:d(()=>[a(_,null,{default:d(()=>[P(w(e.t("duplicate_where_to")),1)]),_:1}),a(y,null,{default:d(()=>[$("div",RD,[$("div",MD,[$("span",UD,w(e.t("collection",0)),1),a(v,{modelValue:e.duplicateTo,"onUpdate:modelValue":t[10]||(t[10]=R=>e.duplicateTo=R),class:"monospace",items:e.collections},null,8,["modelValue","items"])]),$("div",ND,[$("span",BD,w(e.t("field",0)),1),a(i,{modelValue:e.duplicateName,"onUpdate:modelValue":t[11]||(t[11]=R=>e.duplicateName=R),class:"monospace","db-safe":"",autofocus:""},null,8,["modelValue"])])])]),_:1}),a(h,null,{default:d(()=>[a(g,{secondary:"",onClick:t[12]||(t[12]=R=>e.duplicateActive=!1)},{default:d(()=>[P(w(e.t("cancel")),1)]),_:1}),a(g,{disabled:e.duplicateName===null,loading:e.duplicating,onClick:e.saveDuplicate},{default:d(()=>[P(w(e.t("duplicate")),1)]),_:1},8,["disabled","loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),a(S,{modelValue:e.deleteActive,"onUpdate:modelValue":t[16]||(t[16]=R=>e.deleteActive=R),onEsc:t[17]||(t[17]=R=>e.deleteActive=!1)},{default:d(()=>[a(b,null,{default:d(()=>[a(_,null,{default:d(()=>[P(w(e.t("delete_field_are_you_sure",{field:e.field.field})),1)]),_:1}),a(h,null,{default:d(()=>[a(g,{secondary:"",onClick:t[15]||(t[15]=R=>e.deleteActive=!1)},{default:d(()=>[P(w(e.t("cancel")),1)]),_:1}),a(g,{loading:e.deleting,kind:"danger",onClick:e.deleteField},{default:d(()=>[P(w(e.t("delete_label")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))],2)}var zD=H(VD,[["render",qD],["__scopeId","data-v-9025b3ce"]]);const KD=Z({name:"FieldsManagement",components:{Draggable:Ot,FieldSelect:zD},props:{collection:{type:String,required:!0}},setup(e){const{t}=ae(),{collection:n}=ze(e),{fields:l}=_t(n),o=Me(),u=V(()=>z.exports.orderBy(l.value,[_=>{var v,y;return((v=_.meta)==null?void 0:v.sort)?Number((y=_.meta)==null?void 0:y.sort):null},_=>{var v;return(v=_.meta)==null?void 0:v.id}]).filter(_=>_.field.startsWith("$")===!1)),r=V(()=>u.value.filter(_=>{var v;return((v=_.meta)==null?void 0:v.system)===!0})),i=V(()=>u.value.filter(_=>{var v;return((v=_.meta)==null?void 0:v.system)!==!0})),s=V(()=>[{type:"standard",icon:"create",text:t("standard_field")},{type:"presentation",icon:"scatter_plot",text:t("presentation_and_aliases")},{type:"group",icon:"view_in_ar",text:t("field_group")},{divider:!0},{type:"file",icon:"photo",text:t("single_file")},{type:"files",icon:"collections",text:t("multiple_files")},{divider:!0},{type:"m2o",icon:"call_merge",text:t("m2o_relationship")},{type:"o2m",icon:"call_split",text:t("o2m_relationship")},{type:"m2m",icon:"import_export",text:t("m2m_relationship")},{type:"m2a",icon:"gesture",text:t("m2a_relationship")},{divider:!0},{type:"translations",icon:"translate",text:t("translations")}]);return{t,usableFields:i,lockedFields:r,setSort:p,hideDragImage:dn,addOptions:s,setNestedSort:f,isNil:z.exports.isNil};async function p(_){const v=_.map((y,g)=>({field:y.field,meta:{sort:g+1,group:null}}));await o.updateFields(n.value,v)}async function f(_){_=(_||[]).filter(v=>z.exports.isNil(v)===!1),_.length>0&&await o.updateFields(n.value,_)}}}),WD={class:"fields-management"},HD={key:0,class:"field-grid"},GD=["dashed","onClick"];function ZD(e,t,n,l,o,u){const r=c("field-select"),i=c("draggable"),s=c("v-button"),p=c("v-divider"),f=c("v-icon"),_=c("v-list-item-icon"),v=c("v-list-item-content"),y=c("v-list-item"),g=c("v-list"),h=c("v-menu");return m(),A("div",WD,[e.lockedFields.length>0?(m(),A("div",HD,[(m(!0),A(se,null,Ve(e.lockedFields,b=>(m(),F(r,{key:b.field,disabled:"",field:b},null,8,["field"]))),128))])):M("",!0),a(i,{class:"field-grid","model-value":e.usableFields.filter(b=>{var S;return e.isNil((S=b==null?void 0:b.meta)==null?void 0:S.group)}),"force-fallback":!0,handle:".drag-handle",group:{name:"fields"},"set-data":e.hideDragImage,"item-key":"field",animation:150,"fallback-on-body":!0,"invert-swap":!0,"onUpdate:modelValue":e.setSort},{item:d(({element:b})=>[a(r,{field:b,fields:e.usableFields,onSetNestedSort:e.setNestedSort},null,8,["field","fields","onSetNestedSort"])]),_:1},8,["model-value","set-data","onUpdate:modelValue"]),a(s,{"full-width":"",to:`/settings/data-model/${e.collection}/+`},{default:d(()=>[P(w(e.t("create_field")),1)]),_:1},8,["to"]),a(h,{"show-arrow":""},{activator:d(({toggle:b,active:S})=>[$("button",{class:de(["add-field-advanced",{active:S}]),dashed:!S,onClick:b},w(e.t("create_in_advanced_field_creation_mode")),11,GD)]),default:d(()=>[a(g,null,{default:d(()=>[(m(!0),A(se,null,Ve(e.addOptions,(b,S)=>(m(),A(se,{key:S},[b.divider===!0?(m(),F(p,{key:0})):(m(),F(y,{key:1,to:`/settings/data-model/${e.collection}/+?type=${b.type}`},{default:d(()=>[a(_,null,{default:d(()=>[a(f,{name:b.icon},null,8,["name"])]),_:2},1024),a(v,null,{default:d(()=>[P(w(b.text),1)]),_:2},1024)]),_:2},1032,["to"]))],64))),128))]),_:1})]),_:1})])}var JD=H(KD,[["render",ZD],["__scopeId","data-v-4cc65bb1"]]);const XD=Z({components:{SettingsNavigation:zt,FieldsManagement:JD},props:{collection:{type:String,required:!0},field:{type:String,default:null},type:{type:String,default:null}},setup(e){const{t}=ae(),n=it(),{collection:l}=ze(e),{info:o,fields:u}=_t(l),r=Xe(),i=Me(),{isNew:s,edits:p,item:f,saving:_,loading:v,error:y,save:g,remove:h,deleting:b,saveAsCopy:S,isBatch:I}=En(D("directus_collections"),l),E=V(()=>p.value.meta?Object.keys(p.value.meta).length>0:!1);rt("meta+s",()=>{E.value&&T()});const R=D(!1),{confirmLeave:O,leaveTo:L}=sn(E);return{t,collectionInfo:o,fields:u,confirmDelete:R,isNew:s,edits:p,item:f,saving:_,loading:v,error:y,save:g,remove:h,deleting:b,saveAsCopy:S,isBatch:I,deleteAndQuit:q,saveAndQuit:j,hasEdits:E,confirmLeave:O,leaveTo:L,discardAndLeave:U};async function q(){await h(),await r.hydrate(),await i.hydrate(),n.replace("/settings/data-model")}async function T(){await g(),await r.hydrate(),await i.hydrate()}async function j(){await g(),await r.hydrate(),await i.hydrate(),n.push("/settings/data-model")}function U(){!L.value||(p.value={},O.value=!1,n.push(L.value))}}}),YD={class:"collections-item"},QD={class:"fields"},xD={class:"title type-label"},eP={class:"instant-save"},tP={class:"page-description"};function nP(e,t,n,l,o,u){const r=c("v-breadcrumb"),i=c("v-icon"),s=c("v-button"),p=c("v-card-title"),f=c("v-card-actions"),_=c("v-card"),v=c("v-dialog"),y=c("settings-navigation"),g=c("fields-management"),h=c("router-view"),b=c("v-form"),S=c("sidebar-detail"),I=c("v-card-text"),E=c("private-view"),R=Fe("tooltip"),O=Fe("md");return m(),F(E,{title:e.collectionInfo&&e.collectionInfo.name},{headline:d(()=>[a(r,{items:[{name:e.t("settings_data_model"),to:"/settings/data-model"}]},null,8,["items"])]),"title-outer:prepend":d(()=>[a(s,{class:"header-icon",rounded:"",icon:"",exact:"",to:"/settings/data-model"},{default:d(()=>[a(i,{name:"arrow_back"})]),_:1})]),actions:d(()=>[a(v,{modelValue:e.confirmDelete,"onUpdate:modelValue":t[1]||(t[1]=L=>e.confirmDelete=L),onEsc:t[2]||(t[2]=L=>e.confirmDelete=!1)},{activator:d(({on:L})=>[e.item&&e.item.collection.startsWith("directus_")===!1?ie((m(),F(s,{key:0,rounded:"",icon:"",class:"action-delete",secondary:"",disabled:e.item===null,onClick:L},{default:d(()=>[a(i,{name:"delete"})]),_:2},1032,["disabled","onClick"])),[[R,e.t("delete_collection"),void 0,{bottom:!0}]]):M("",!0)]),default:d(()=>[a(_,null,{default:d(()=>[a(p,null,{default:d(()=>[P(w(e.t("delete_are_you_sure")),1)]),_:1}),a(f,null,{default:d(()=>[a(s,{secondary:"",onClick:t[0]||(t[0]=L=>e.confirmDelete=!1)},{default:d(()=>[P(w(e.t("cancel")),1)]),_:1}),a(s,{kind:"danger",loading:e.deleting,onClick:e.deleteAndQuit},{default:d(()=>[P(w(e.t("delete_label")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),ie(a(s,{rounded:"",icon:"",loading:e.saving,disabled:e.hasEdits===!1,onClick:e.saveAndQuit},{default:d(()=>[a(i,{name:"check"})]),_:1},8,["loading","disabled","onClick"]),[[R,e.t("save"),void 0,{bottom:!0}]])]),navigation:d(()=>[a(y)]),sidebar:d(()=>[a(S,{icon:"info",title:e.t("information"),close:""},{default:d(()=>[ie($("div",tP,null,512),[[O,e.t("page_help_settings_datamodel_fields")]])]),_:1},8,["title"])]),default:d(()=>[$("div",YD,[$("div",QD,[$("h2",xD,[P(w(e.t("fields_and_layout"))+" ",1),$("span",eP,w(e.t("saves_automatically")),1)]),a(g,{collection:e.collection},null,8,["collection"])]),a(h,{name:"field",collection:e.collection,field:e.field,type:e.type},null,8,["collection","field","type"]),a(b,{modelValue:e.edits.meta,"onUpdate:modelValue":t[3]||(t[3]=L=>e.edits.meta=L),collection:"directus_collections",loading:e.loading,"initial-values":e.item&&e.item.meta,"batch-mode":e.isBatch,"primary-key":e.collection,disabled:e.item&&e.item.collection.startsWith("directus_")},null,8,["modelValue","loading","initial-values","batch-mode","primary-key","disabled"])]),a(v,{modelValue:e.confirmLeave,"onUpdate:modelValue":t[5]||(t[5]=L=>e.confirmLeave=L),onEsc:t[6]||(t[6]=L=>e.confirmLeave=!1)},{default:d(()=>[a(_,null,{default:d(()=>[a(p,null,{default:d(()=>[P(w(e.t("unsaved_changes")),1)]),_:1}),a(I,null,{default:d(()=>[P(w(e.t("unsaved_changes_copy")),1)]),_:1}),a(f,null,{default:d(()=>[a(s,{secondary:"",onClick:e.discardAndLeave},{default:d(()=>[P(w(e.t("discard_changes")),1)]),_:1},8,["onClick"]),a(s,{onClick:t[4]||(t[4]=L=>e.confirmLeave=!1)},{default:d(()=>[P(w(e.t("keep_editing")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["title"])}var lP=H(XD,[["render",nP],["__scopeId","data-v-2c8d903a"]]);const zr={status:{enabled:!1,inputDisabled:!1,name:"status",label:"status",icon:"flag"},sort:{enabled:!1,inputDisabled:!1,name:"sort",label:"sort",icon:"low_priority"},dateCreated:{enabled:!1,inputDisabled:!1,name:"date_created",label:"created_on",icon:"access_time"},userCreated:{enabled:!1,inputDisabled:!1,name:"user_created",label:"created_by",icon:"account_circle"},dateUpdated:{enabled:!1,inputDisabled:!1,name:"date_updated",label:"updated_on",icon:"access_time"},userUpdated:{enabled:!1,inputDisabled:!1,name:"user_updated",label:"updated_by",icon:"account_circle"}},oP=Z({setup(){const{t:e}=ae(),t=it(),n=Xe(),l=Me(),o=mt(),u=Vn(),r=D(["collection_setup"]),i=D(null),s=D(!1),p=D("id"),f=D("auto_int"),_=D(),v=D(),y=D(),g=D(),h=Jt(z.exports.cloneDeep(zr)),b=D(!1);return he(()=>s.value,S),{t:e,router:t,isOpen:u,currentTab:r,save:I,systemFields:h,primaryKeyFieldName:p,primaryKeyFieldType:f,collectionName:i,saving:b,singleton:s};function S(){h.sort=ve({},zr.sort),h.sort.inputDisabled=s.value}async function I(){b.value=!0;try{await me.post("/collections",{collection:i.value,fields:[E(),...R()],schema:{},meta:{sort_field:_.value,archive_field:v.value,archive_value:y.value,unarchive_value:g.value,singleton:s.value}});const L=O();if(L.length>0){for(const q of L)await me.post("/relations",q);await o.hydrate()}await n.hydrate(),await l.hydrate(),yt({title:e("collection_created")}),t.replace(`/settings/data-model/${i.value}`)}catch(L){Pe(L)}finally{b.value=!1}}function E(){return f.value==="uuid"?{field:p.value,type:"uuid",meta:{hidden:!0,readonly:!0,interface:"input",special:["uuid"]},schema:{is_primary_key:!0,length:36,has_auto_increment:!1}}:f.value==="manual"?{field:p.value,type:"string",meta:{interface:"input",readonly:!1,hidden:!1},schema:{is_primary_key:!0,length:255,has_auto_increment:!1}}:{field:p.value,type:f.value==="auto_big_int"?"bigInteger":"integer",meta:{hidden:!0,interface:"input",readonly:!0},schema:{is_primary_key:!0,has_auto_increment:!0}}}function R(){const L=[];return h.status.enabled===!0&&(L.push({field:h.status.name,type:"string",meta:{width:"full",options:{choices:[{text:"$t:published",value:"published"},{text:"$t:draft",value:"draft"},{text:"$t:archived",value:"archived"}]},interface:"select-dropdown",display:"labels",display_options:{showAsDot:!0,choices:[{text:"$t:published",value:"published",foreground:"#FFFFFF",background:"var(--primary)"},{text:"$t:draft",value:"draft",foreground:"#18222F",background:"#D3DAE4"},{text:"$t:archived",value:"archived",foreground:"#FFFFFF",background:"var(--warning)"}]}},schema:{default_value:"draft",is_nullable:!1}}),v.value="status",y.value="archived",g.value="draft"),h.sort.enabled===!0&&(L.push({field:h.sort.name,type:"integer",meta:{interface:"input",hidden:!0},schema:{}}),_.value=h.sort.name),h.userCreated.enabled===!0&&L.push({field:h.userCreated.name,type:"uuid",meta:{special:["user-created"],interface:"select-dropdown-m2o",options:{template:"{{avatar.$thumbnail}} {{first_name}} {{last_name}}"},display:"user",readonly:!0,hidden:!0,width:"half"},schema:{}}),h.dateCreated.enabled===!0&&L.push({field:h.dateCreated.name,type:"timestamp",meta:{special:["date-created"],interface:"datetime",readonly:!0,hidden:!0,width:"half",display:"datetime",display_options:{relative:!0}},schema:{}}),h.userUpdated.enabled===!0&&L.push({field:h.userUpdated.name,type:"uuid",meta:{special:["user-updated"],interface:"select-dropdown-m2o",options:{template:"{{avatar.$thumbnail}} {{first_name}} {{last_name}}"},display:"user",readonly:!0,hidden:!0,width:"half"},schema:{}}),h.dateUpdated.enabled===!0&&L.push({field:h.dateUpdated.name,type:"timestamp",meta:{special:["date-updated"],interface:"datetime",readonly:!0,hidden:!0,width:"half",display:"datetime",display_options:{relative:!0}},schema:{}}),L}function O(){const L=[];return h.userCreated.enabled===!0&&L.push({collection:i.value,field:h.userCreated.name,related_collection:"directus_users",schema:{}}),h.userUpdated.enabled===!0&&L.push({collection:i.value,field:h.userUpdated.name,related_collection:"directus_users",schema:{}}),L}}}),aP={class:"grid"},iP={class:"field half"},rP={class:"type-label"},sP={class:"field half"},dP={class:"type-label"},uP={class:"field half"},cP={class:"type-label"},pP={class:"field half"},mP={class:"type-label"},fP={class:"grid system"},_P={class:"type-label"};function vP(e,t,n,l,o,u){const r=c("v-tab"),i=c("v-tabs"),s=c("v-notice"),p=c("v-icon"),f=c("v-input"),_=c("v-checkbox"),v=c("v-divider"),y=c("v-select"),g=c("v-tab-item"),h=c("v-tabs-items"),b=c("v-button"),S=c("v-drawer"),I=Fe("tooltip");return m(),F(S,{title:e.t("creating_new_collection"),"model-value":e.isOpen,class:"new-collection",persistent:"","sidebar-label":e.t(e.currentTab[0]),onCancel:t[7]||(t[7]=E=>e.router.push("/settings/data-model"))},{sidebar:d(()=>[a(i,{modelValue:e.currentTab,"onUpdate:modelValue":t[0]||(t[0]=E=>e.currentTab=E),vertical:""},{default:d(()=>[a(r,{value:"collection_setup"},{default:d(()=>[P(w(e.t("collection_setup")),1)]),_:1}),a(r,{value:"optional_system_fields",disabled:!e.collectionName},{default:d(()=>[P(w(e.t("optional_system_fields")),1)]),_:1},8,["disabled"])]),_:1},8,["modelValue"])]),actions:d(()=>[e.currentTab[0]==="collection_setup"?ie((m(),F(b,{key:0,disabled:!e.collectionName||e.collectionName.length===0,icon:"",rounded:"",onClick:t[6]||(t[6]=E=>e.currentTab=["optional_system_fields"])},{default:d(()=>[a(p,{name:"arrow_forward"})]),_:1},8,["disabled"])),[[I,e.t("next"),void 0,{bottom:!0}]]):M("",!0),e.currentTab[0]==="optional_system_fields"?ie((m(),F(b,{key:1,loading:e.saving,icon:"",rounded:"",onClick:e.save},{default:d(()=>[a(p,{name:"check"})]),_:1},8,["loading","onClick"])),[[I,e.t("finish_setup"),void 0,{bottom:!0}]]):M("",!0)]),default:d(()=>[a(h,{modelValue:e.currentTab,"onUpdate:modelValue":t[5]||(t[5]=E=>e.currentTab=E),class:"content"},{default:d(()=>[a(g,{value:"collection_setup"},{default:d(()=>[a(s,{type:"info"},{default:d(()=>[P(w(e.t("creating_collection_info")),1)]),_:1}),$("div",aP,[$("div",iP,[$("div",rP,[P(w(e.t("name"))+" ",1),ie(a(p,{class:"required",name:"star",sup:""},null,512),[[I,e.t("required")]])]),a(f,{modelValue:e.collectionName,"onUpdate:modelValue":t[1]||(t[1]=E=>e.collectionName=E),autofocus:"",class:"monospace","db-safe":"",placeholder:e.t("a_unique_table_name")},null,8,["modelValue","placeholder"])]),$("div",sP,[$("div",dP,w(e.t("singleton")),1),a(_,{modelValue:e.singleton,"onUpdate:modelValue":t[2]||(t[2]=E=>e.singleton=E),block:"",label:e.t("singleton_label")},null,8,["modelValue","label"])]),a(v,{class:"full"}),$("div",uP,[$("div",cP,w(e.t("primary_key_field")),1),a(f,{modelValue:e.primaryKeyFieldName,"onUpdate:modelValue":t[3]||(t[3]=E=>e.primaryKeyFieldName=E),class:"monospace","db-safe":"",placeholder:e.t("a_unique_column_name")},null,8,["modelValue","placeholder"])]),$("div",pP,[$("div",mP,w(e.t("type")),1),a(y,{modelValue:e.primaryKeyFieldType,"onUpdate:modelValue":t[4]||(t[4]=E=>e.primaryKeyFieldType=E),items:[{text:e.t("auto_increment_integer"),value:"auto_int"},{text:e.t("auto_increment_big_integer"),value:"auto_big_int"},{text:e.t("generated_uuid"),value:"uuid"},{text:e.t("manual_string"),value:"manual"}]},null,8,["modelValue","items"])])])]),_:1}),a(g,{value:"optional_system_fields"},{default:d(()=>[a(s,{type:"info"},{default:d(()=>[P(w(e.t("creating_collection_system")),1)]),_:1}),$("div",fP,[(m(!0),A(se,null,Ve(e.systemFields,(E,R,O)=>(m(),A("div",{key:R,class:de(["field",O%2==0?"half":"half-right"])},[$("div",_P,w(e.t(E.label)),1),a(f,{modelValue:E.name,"onUpdate:modelValue":L=>E.name=L,class:de(["monospace",{active:E.enabled}]),disabled:E.inputDisabled,onFocus:L=>E.enabled=!0},{prepend:d(()=>[a(_,{modelValue:E.enabled,"onUpdate:modelValue":L=>E.enabled=L,disabled:E.inputDisabled},null,8,["modelValue","onUpdate:modelValue","disabled"])]),append:d(()=>[a(p,{name:E.icon},null,8,["name"])]),_:2},1032,["modelValue","onUpdate:modelValue","class","disabled","onFocus"])],2))),128))])]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["title","model-value","sidebar-label"])}var yP=H(oP,[["render",vP],["__scopeId","data-v-5d3b37a5"]]);const hP=Z({components:{SettingsNavigation:zt},setup(){const{t:e}=ae();return{t:e}}}),gP={class:"not-found"};function bP(e,t,n,l,o,u){const r=c("settings-navigation"),i=c("v-info"),s=c("private-view");return m(),F(s,{title:e.t("page_not_found")},{navigation:d(()=>[a(r)]),default:d(()=>[$("div",gP,[a(i,{title:e.t("page_not_found"),icon:"not_interested"},{default:d(()=>[P(w(e.t("page_not_found_body")),1)]),_:1},8,["title"])])]),_:1},8,["title"])}var wP=H(hP,[["render",bP],["__scopeId","data-v-bf888afe"]]);const kP=Z({setup(){const{t:e}=ae(),t=D(!1),n=D(null),l=D(null);return o(),{t:e,bookmarksCount:n,presetsCount:l};async function o(){t.value=!0;try{const u=await me.get("/presets",{params:{["filter[bookmark][_nnull]"]:!0,fields:["id"],meta:"filter_count,total_count"}});n.value=u.data.meta.filter_count,l.value=u.data.meta.total_count-n.value}catch(u){Pe(u)}finally{t.value=!1}}}}),$P={class:"page-description"};function CP(e,t,n,l,o,u){const r=c("v-divider"),i=c("sidebar-detail"),s=Fe("md");return m(),F(i,{icon:"info_outline",title:e.t("information"),close:""},{default:d(()=>[$("dl",null,[$("div",null,[$("dt",null,w(e.t("bookmarks")),1),$("dd",null,w(e.bookmarksCount),1)]),$("div",null,[$("dt",null,w(e.t("presets")),1),$("dd",null,w(e.presetsCount),1)])]),a(r),ie($("div",$P,null,512),[[s,e.t("page_help_settings_presets_collection")]])]),_:1},8,["title"])}var SP=H(kP,[["render",CP],["__scopeId","data-v-7ed28445"]]);const FP=Z({name:"ContentCollection",components:{SettingsNavigation:zt,PresetsInfoSidebarDetail:SP,LayoutSidebarDetail:zn,SearchInput:Fn,DrawerBatch:Bl,RefreshSidebarDetail:ri},setup(){const e=D("tabular"),t=D("directus_presets"),n=D({}),l=D({}),o=D(null),u=D(null),r=D(null),{t:i}=ae(),{layouts:s}=Cn(),p=Ye(),f=Vt(),_=D(),{selection:v}=B(),{info:y}=_t(t),{layoutWrapper:g}=vn(e),{confirmDelete:h,deleting:b,batchDelete:S,error:I,batchEditActive:E}=K(),R=V(()=>s.value.find(W=>W.id===e.value)),{batchEditAllowed:O,batchDeleteAllowed:L,createAllowed:q}=Y(),T=On();return{t:i,batchDelete:S,batchEditActive:E,confirmDelete:h,currentCollection:y,deleting:b,filter:o,layoutRef:_,layoutWrapper:g,selection:v,layoutOptions:n,layoutQuery:l,layout:e,search:u,clearFilters:J,batchEditAllowed:O,batchDeleteAllowed:L,deleteError:I,createAllowed:q,drawerBatchRefresh:U,refresh:j,refreshInterval:r,currentLayout:R,collection:t};async function j(){var W,G,Q;await((Q=(G=(W=_.value)==null?void 0:W.state)==null?void 0:G.refresh)==null?void 0:Q.call(G))}async function U(){v.value=[],await j()}function B(){return{selection:D([])}}function K(){const W=D(!1),G=D(!1),Q=D(!1),X=D(null);return{batchEditActive:Q,confirmDelete:W,deleting:G,batchDelete:ee,error:X};async function ee(){G.value=!0;try{const le=v.value;await T.delete(le),v.value=[],await j(),W.value=!1}catch(le){X.value=le}finally{G.value=!1}}}function J(){o.value=null,u.value=null}function Y(){const W=V(()=>{var le;return((le=p==null?void 0:p.currentUser)==null?void 0:le.role.admin_access)===!0?!0:!!f.permissions.find(te=>te.action==="update"&&te.collection===t.value)}),G=V(()=>{var le;return((le=p==null?void 0:p.currentUser)==null?void 0:le.role.admin_access)===!0?!0:!!f.permissions.find(te=>te.action==="delete"&&te.collection===t.value)}),Q=V(()=>{var le;return((le=p==null?void 0:p.currentUser)==null?void 0:le.role.admin_access)===!0?!0:!!f.permissions.find(te=>te.action==="create"&&te.collection===t.value)});return{batchEditAllowed:W,batchDeleteAllowed:G,createAllowed:Q}}}});function VP(e,t,n,l,o,u){const r=c("v-breadcrumb"),i=c("v-icon"),s=c("v-button"),p=c("search-input"),f=c("v-card-title"),_=c("v-card-actions"),v=c("v-card"),y=c("v-dialog"),g=c("settings-navigation"),h=c("v-info"),b=c("drawer-batch"),S=c("presets-info-sidebar-detail"),I=c("layout-sidebar-detail"),E=c("refresh-sidebar-detail"),R=c("export-sidebar-detail"),O=c("v-error"),L=c("v-card-text"),q=c("private-view"),T=Fe("tooltip");return e.currentCollection?(m(),F(He(e.layoutWrapper),{key:0,ref:"layoutRef",selection:e.selection,"onUpdate:selection":t[10]||(t[10]=j=>e.selection=j),"layout-options":e.layoutOptions,"onUpdate:layout-options":t[11]||(t[11]=j=>e.layoutOptions=j),"layout-query":e.layoutQuery,"onUpdate:layout-query":t[12]||(t[12]=j=>e.layoutQuery=j),"filter-user":e.filter,filter:e.filter,search:e.search,collection:e.collection,"clear-filters":e.clearFilters},{default:d(({layoutState:j})=>{var U;return[a(q,{title:e.t("settings_presets"),"small-header":(U=e.currentLayout)==null?void 0:U.smallHeader},{headline:d(()=>[a(r,{items:[{name:e.t("settings"),to:"/settings"}]},null,8,["items"])]),"title-outer:prepend":d(()=>[a(s,{class:"header-icon",rounded:"",disabled:"",icon:"",secondary:""},{default:d(()=>[a(i,{name:"bookmark_border"})]),_:1})]),"actions:prepend":d(()=>[(m(),F(He(`layout-actions-${e.layout||"tabular"}`),nt(lt(j)),null,16))]),actions:d(()=>[a(p,{modelValue:e.search,"onUpdate:modelValue":t[0]||(t[0]=B=>e.search=B),filter:e.filter,"onUpdate:filter":t[1]||(t[1]=B=>e.filter=B),collection:e.collection},null,8,["modelValue","filter","collection"]),e.selection.length>0?(m(),F(y,{key:0,modelValue:e.confirmDelete,"onUpdate:modelValue":t[3]||(t[3]=B=>e.confirmDelete=B),onEsc:t[4]||(t[4]=B=>e.confirmDelete=!1)},{activator:d(({on:B})=>[ie(a(s,{disabled:e.batchDeleteAllowed!==!0,rounded:"",icon:"",class:"action-delete",secondary:"",onClick:B},{default:d(()=>[a(i,{name:"delete",outline:""})]),_:2},1032,["disabled","onClick"]),[[T,e.batchDeleteAllowed?e.t("delete_label"):e.t("not_allowed"),void 0,{bottom:!0}]])]),default:d(()=>[a(v,null,{default:d(()=>[a(f,null,{default:d(()=>[P(w(e.t("batch_delete_confirm",e.selection.length)),1)]),_:1}),a(_,null,{default:d(()=>[a(s,{secondary:"",onClick:t[2]||(t[2]=B=>e.confirmDelete=!1)},{default:d(()=>[P(w(e.t("cancel")),1)]),_:1}),a(s,{kind:"danger",loading:e.deleting,onClick:e.batchDelete},{default:d(()=>[P(w(e.t("delete_label")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])):M("",!0),e.selection.length>0?ie((m(),F(s,{key:1,rounded:"",icon:"",secondary:"",disabled:e.batchEditAllowed===!1,onClick:t[5]||(t[5]=B=>e.batchEditActive=!0)},{default:d(()=>[a(i,{name:"edit",outline:""})]),_:1},8,["disabled"])),[[T,e.batchEditAllowed?e.t("edit"):e.t("not_allowed"),void 0,{bottom:!0}]]):M("",!0),ie(a(s,{rounded:"",icon:"",to:"/settings/presets/+",disabled:e.createAllowed===!1},{default:d(()=>[a(i,{name:"add"})]),_:1},8,["disabled"]),[[T,e.createAllowed?e.t("create_preset"):e.t("not_allowed"),void 0,{bottom:!0}]])]),navigation:d(()=>[a(g)]),sidebar:d(()=>[a(S),a(I,{modelValue:e.layout,"onUpdate:modelValue":t[7]||(t[7]=B=>e.layout=B)},{default:d(()=>[(m(),F(He(`layout-options-${e.layout||"tabular"}`),nt(lt(j)),null,16))]),_:2},1032,["modelValue"]),(m(),F(He(`layout-sidebar-${e.layout||"tabular"}`),nt(lt(j)),null,16)),a(E,{modelValue:e.refreshInterval,"onUpdate:modelValue":t[8]||(t[8]=B=>e.refreshInterval=B),onRefresh:e.refresh},null,8,["modelValue","onRefresh"]),a(R,{collection:e.collection,filter:e.filter,search:e.search},null,8,["collection","filter","search"])]),default:d(()=>[(m(),F(He(`layout-${e.layout||"tabular"}`),ft({class:"layout"},j),{"no-results":d(()=>[a(h,{title:e.t("no_presets"),icon:"bookmark",center:"",type:"warning"},{append:d(()=>[a(s,{onClick:e.clearFilters},{default:d(()=>[P(w(e.t("clear_filters")),1)]),_:1},8,["onClick"])]),default:d(()=>[P(w(e.t("no_presets_copy"))+" ",1)]),_:1},8,["title"])]),"no-items":d(()=>[a(h,{title:e.t("no_presets"),icon:"bookmark",center:"",type:"warning"},at({default:d(()=>[P(w(e.t("no_presets_copy"))+" ",1)]),_:2},[e.createAllowed?{name:"append",fn:d(()=>[a(s,{to:"/settings/presets/+"},{default:d(()=>[P(w(e.t("create_preset")),1)]),_:1})])}:void 0]),1032,["title"])]),_:2},1040)),a(b,{active:e.batchEditActive,"onUpdate:active":t[6]||(t[6]=B=>e.batchEditActive=B),"primary-keys":e.selection,collection:e.collection,onRefresh:e.drawerBatchRefresh},null,8,["active","primary-keys","collection","onRefresh"]),a(y,{"model-value":e.deleteError!==null},{default:d(()=>[a(v,null,{default:d(()=>[a(f,null,{default:d(()=>[P(w(e.t("something_went_wrong")),1)]),_:1}),a(L,null,{default:d(()=>[a(O,{error:e.deleteError},null,8,["error"])]),_:1}),a(_,null,{default:d(()=>[a(s,{onClick:t[9]||(t[9]=B=>e.deleteError=null)},{default:d(()=>[P(w(e.t("done")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["model-value"])]),_:2},1032,["title","small-header"])]}),_:1},8,["selection","layout-options","layout-query","filter-user","filter","search","collection","clear-filters"])):M("",!0)}var AP=H(FP,[["render",VP],["__scopeId","data-v-1ce0624e"]]);const IP=Z({components:{SettingsNavigation:zt},props:{id:{type:String,default:null}},setup(e){const{t}=ae(),n=it(),l=Xe(),o=On(),{layouts:u}=Cn(),{backLink:r}=Q(),i=V(()=>e.id==="+"),{loading:s,preset:p}=G(),{fields:f}=X(),{edits:_,hasEdits:v,initialValues:y,values:g,layoutQuery:h,layoutOptions:b,updateFilters:S,search:I}=W(),{save:E,saving:R}=J(),{deleting:O,deleteAndQuit:L,confirmDelete:q}=Y(),T=V({get(){var le;return(le=g.value.filter)!=null?le:null},set(le){S(le)}}),j=V(()=>g.value.layout),{layoutWrapper:U}=vn(j);rt("meta+s",()=>{v.value&&E()});const{confirmLeave:B,leaveTo:K}=sn(v);return{t,backLink:r,loading:s,preset:p,edits:_,fields:f,values:g,initialValues:y,saving:R,save:E,layoutWrapper:U,layoutQuery:h,layoutOptions:b,layoutFilter:T,hasEdits:v,deleting:O,deleteAndQuit:L,confirmDelete:q,updateFilters:S,search:I,confirmLeave:B,leaveTo:K,discardAndLeave:ee};function J(){const le=D(!1);return{saving:le,save:te};async function te(){var ye;le.value=!0;const re={};_.value.name&&(re.bookmark=_.value.name),((ye=_.value.name)==null?void 0:ye.length)===0&&(re.bookmark=null),_.value.icon&&(re.icon=_.value.icon),_.value.color&&(re.color=_.value.color),_.value.collection&&(re.collection=_.value.collection),_.value.layout&&(re.layout=_.value.layout),_.value.layout_query&&(re.layout_query=_.value.layout_query),_.value.layout_options&&(re.layout_options=_.value.layout_options),_.value.filter&&(re.filter=_.value.filter),re.search=_.value.search,_.value.scope&&(_.value.scope.startsWith("role_")?(re.role=_.value.scope.substring(5),re.user=null):_.value.scope.startsWith("user_")?(re.user=_.value.scope.substring(5),re.role=null):(re.role=null,re.user=null));try{i.value===!0?await me.post("/presets",re):await me.patch(`/presets/${e.id}`,re),await o.hydrate(),_.value={}}catch(fe){Pe(fe)}finally{le.value=!1,n.push("/settings/presets")}}}function Y(){const le=D(!1),te=D(!1);return{deleting:le,confirmDelete:te,deleteAndQuit:re};async function re(){le.value=!0;try{await o.delete([Number(e.id)]),n.replace("/settings/presets")}catch(ye){Pe(ye)}finally{le.value=!1}}}function W(){const le=D({}),te=V(()=>Object.keys(le.value).length>0),re=V(()=>{const oe={collection:null,layout:"tabular",search:null,scope:"all",layout_query:null,layout_options:null,filter:null};if(i.value===!0||p.value===null)return oe;let ne="all";return p.value.user!==null?ne=`user_${p.value.user}`:p.value.role!==null&&(ne=`role_${p.value.role}`),{id:p.value.id,collection:p.value.collection,layout:p.value.layout,name:p.value.bookmark,icon:p.value.icon,color:p.value.color,search:p.value.search,scope:ne,layout_query:p.value.layout_query,layout_options:p.value.layout_options,filter:p.value.filter}}),ye=V(()=>ve(ve({},re.value),le.value)),fe=V({get(){return!ye.value.layout_query||!ye.value.layout?null:ye.value.layout_query[ye.value.layout]},set(oe){ye.value.layout_query&&ye.value.layout&&z.exports.isEqual(oe,ye.value.layout_query[ye.value.layout])||(le.value=Ie(ve({},le.value),{layout_query:Ie(ve({},le.value.layout_query),{[ye.value.layout||"tabular"]:oe})}))}}),ue=V({get(){return!ye.value.layout_options||!ye.value.layout?null:ye.value.layout_options[ye.value.layout]},set(oe){ye.value.layout_options&&ye.value.layout&&z.exports.isEqual(oe,ye.value.layout_options[ye.value.layout])||(le.value=Ie(ve({},le.value),{layout_options:Ie(ve({},le.value.layout_options),{[ye.value.layout||"tabular"]:oe})}))}}),_e=V({get(){return ye.value.search},set(oe){le.value=Ie(ve({},le.value),{search:oe})}});return{edits:le,initialValues:re,values:ye,layoutQuery:fe,layoutOptions:ue,hasEdits:te,updateFilters:ce,search:_e};function ce(oe){le.value=Ie(ve({},le.value),{filter:oe})}}function G(){const le=D(!1),te=D(null);return re(),{loading:le,preset:te,fetchPreset:re};async function re(){if(e.id!=="+"){le.value=!0;try{const ye=await me.get(`/presets/${e.id}`);te.value=ye.data.data}catch(ye){Pe(ye)}finally{le.value=!1}}}}function Q(){return{backLink:V(()=>"/settings/presets")}}function X(){const le=["directus_users","directus_files","directus_activity"];return{fields:V(()=>[{field:"collection",name:t("collection"),type:"string",meta:{interface:"select-dropdown",options:{choices:l.collections.map(re=>({text:re.name,value:re.collection})).filter(re=>re.value.startsWith("directus_")?le.includes(re.value):!0)},width:"half"}},{field:"scope",name:t("scope"),type:"string",meta:{interface:"system-scope",width:"half"}},{field:"layout",name:t("layout"),type:"string",meta:{interface:"select-dropdown",options:{choices:u.value.map(re=>({text:re.name,value:re.id}))},width:"half"}},{field:"name",name:t("name"),type:"string",meta:{interface:"system-input-translated-string",width:"half",options:{placeholder:t("preset_name_placeholder")}}},{field:"icon",name:"$t:icon",type:"string",meta:{interface:"select-icon",width:"half"},schema:{default_value:"bookmark_outline"}},{field:"color",name:"$t:color",type:"string",meta:{interface:"select-color",width:"half"}},{field:"search",name:t("search"),type:"string",meta:{interface:"input",width:"half",options:{placeholder:t("search_items")}}},{field:"filter",name:t("filter"),type:"string",meta:{interface:"system-filter",width:"half",options:{collectionField:"collection"}}},{field:"divider",name:t("divider"),type:"alias",meta:{interface:"presentation-divider",width:"fill",options:{title:t("layout_preview"),icon:"visibility"}}}])}}function ee(){!K.value||(_.value={},B.value=!1,n.push(K.value))}}}),EP={class:"preset-item"},DP={class:"layout"},PP={class:"page-description"},TP={class:"layout-sidebar"},OP={class:"layout-options"};function LP(e,t,n,l,o,u){const r=c("v-breadcrumb"),i=c("v-icon"),s=c("v-button"),p=c("settings-navigation"),f=c("v-card-title"),_=c("v-card-actions"),v=c("v-card"),y=c("v-dialog"),g=c("v-form"),h=c("v-info"),b=c("v-notice"),S=c("sidebar-detail"),I=c("v-card-text"),E=c("private-view"),R=Fe("tooltip"),O=Fe("md");return m(),F(He(e.layoutWrapper),{"layout-options":e.layoutOptions,"onUpdate:layout-options":t[7]||(t[7]=L=>e.layoutOptions=L),"layout-query":e.layoutQuery,"onUpdate:layout-query":t[8]||(t[8]=L=>e.layoutQuery=L),filter:e.layoutFilter,search:e.search,collection:e.values.collection,readonly:""},{default:d(({layoutState:L})=>[a(E,{title:e.t("editing_preset")},{headline:d(()=>[a(r,{items:[{name:e.t("settings_presets"),to:"/settings/presets"}]},null,8,["items"])]),"title-outer:prepend":d(()=>[a(s,{class:"header-icon",rounded:"",icon:"",exact:"",to:e.backLink},{default:d(()=>[a(i,{name:"arrow_back"})]),_:1},8,["to"])]),navigation:d(()=>[a(p)]),actions:d(()=>[a(y,{modelValue:e.confirmDelete,"onUpdate:modelValue":t[1]||(t[1]=q=>e.confirmDelete=q),onEsc:t[2]||(t[2]=q=>e.confirmDelete=!1)},{activator:d(({on:q})=>[ie(a(s,{rounded:"",icon:"",class:"action-delete",secondary:"",disabled:e.preset===null||e.id==="+",onClick:q},{default:d(()=>[a(i,{name:"delete"})]),_:2},1032,["disabled","onClick"]),[[R,e.t("delete_label"),void 0,{bottom:!0}]])]),default:d(()=>[a(v,null,{default:d(()=>[a(f,null,{default:d(()=>[P(w(e.t("delete_are_you_sure")),1)]),_:1}),a(_,null,{default:d(()=>[a(s,{secondary:"",onClick:t[0]||(t[0]=q=>e.confirmDelete=!1)},{default:d(()=>[P(w(e.t("cancel")),1)]),_:1}),a(s,{kind:"danger",loading:e.deleting,onClick:e.deleteAndQuit},{default:d(()=>[P(w(e.t("delete_label")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),ie(a(s,{icon:"",rounded:"",disabled:e.hasEdits===!1,loading:e.saving,onClick:e.save},{default:d(()=>[a(i,{name:"check"})]),_:1},8,["disabled","loading","onClick"]),[[R,e.t("save"),void 0,{bottom:!0}]])]),sidebar:d(()=>[a(S,{icon:"info_outline",title:e.t("information"),close:""},{default:d(()=>[ie($("div",PP,null,512),[[O,e.t("page_help_settings_presets_item")]])]),_:1},8,["title"]),$("div",TP,[e.values.layout&&e.values.collection?(m(),F(He(`layout-sidebar-${e.values.layout}`),nt(ft({key:0},L)),null,16)):M("",!0),a(S,{icon:"layers",title:e.t("layout_options")},{default:d(()=>[$("div",OP,[e.values.layout&&e.values.collection?(m(),F(He(`layout-options-${e.values.layout}`),nt(ft({key:0},L)),null,16)):M("",!0)])]),_:2},1032,["title"])])]),default:d(()=>[$("div",EP,[a(g,{modelValue:e.edits,"onUpdate:modelValue":t[3]||(t[3]=q=>e.edits=q),fields:e.fields,loading:e.loading,"initial-values":e.initialValues,"primary-key":e.id},null,8,["modelValue","fields","loading","initial-values","primary-key"]),$("div",DP,[e.values.layout&&e.values.collection?(m(),F(He(`layout-${e.values.layout}`),nt(ft({key:0},L)),{"no-results":d(()=>[a(h,{title:e.t("no_results"),icon:"search",center:""},{default:d(()=>[P(w(e.t("no_results_copy")),1)]),_:1},8,["title"])]),"no-items":d(()=>[a(h,{title:e.t("item_count",0),center:""},{default:d(()=>[P(w(e.t("no_items_copy")),1)]),_:1},8,["title"])]),_:2},1040)):(m(),F(b,{key:1},{default:d(()=>[P(w(e.t("no_layout_collection_selected_yet")),1)]),_:1}))])]),a(y,{modelValue:e.confirmLeave,"onUpdate:modelValue":t[5]||(t[5]=q=>e.confirmLeave=q),onEsc:t[6]||(t[6]=q=>e.confirmLeave=!1)},{default:d(()=>[a(v,null,{default:d(()=>[a(f,null,{default:d(()=>[P(w(e.t("unsaved_changes")),1)]),_:1}),a(I,null,{default:d(()=>[P(w(e.t("unsaved_changes_copy")),1)]),_:1}),a(_,null,{default:d(()=>[a(s,{secondary:"",onClick:e.discardAndLeave},{default:d(()=>[P(w(e.t("discard_changes")),1)]),_:1},8,["onClick"]),a(s,{onClick:t[4]||(t[4]=q=>e.confirmLeave=!1)},{default:d(()=>[P(w(e.t("keep_editing")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:2},1032,["title"])]),_:1},8,["layout-options","layout-query","filter","search","collection"])}var jP=H(IP,[["render",LP],["__scopeId","data-v-007ec8f8"]]);const RP=Z({setup(){const{t:e}=ae(),{parsedInfo:t}=Br();return{t:e,parsedInfo:t}}}),MP={key:0},UP={class:"page-description"};function NP(e,t,n,l,o,u){const r=c("v-divider"),i=c("sidebar-detail"),s=Fe("md");return m(),F(i,{icon:"info_outline",title:e.t("information"),close:""},{default:d(()=>[e.parsedInfo?(m(),A("dl",MP,[$("div",null,[$("dt",null,w(e.t("directus_version")),1),$("dd",null,w(e.parsedInfo.directus.version),1)]),$("div",null,[$("dt",null,w(e.t("node_version")),1),$("dd",null,w(e.parsedInfo.node.version),1)]),$("div",null,[$("dt",null,w(e.t("node_uptime")),1),$("dd",null,w(e.parsedInfo.node.uptime),1)]),$("div",null,[$("dt",null,w(e.t("os_type")),1),$("dd",null,w(e.parsedInfo.os.type),1)]),$("div",null,[$("dt",null,w(e.t("os_version")),1),$("dd",null,w(e.parsedInfo.os.version),1)]),$("div",null,[$("dt",null,w(e.t("os_uptime")),1),$("dd",null,w(e.parsedInfo.os.uptime),1)]),$("div",null,[$("dt",null,w(e.t("os_totalmem")),1),$("dd",null,w(e.parsedInfo.os.totalmem),1)])])):M("",!0),a(r),ie($("div",UP,null,512),[[s,e.t("page_help_settings_project")]])]),_:1},8,["title"])}var BP=H(RP,[["render",NP],["__scopeId","data-v-1a92ed59"]]);const qP=Z({components:{SettingsNavigation:zt,ProjectInfoSidebarDetail:BP},setup(){const{t:e}=ae(),t=it(),n=Xl(),l=pn(),{fields:o}=_t("directus_settings"),u=D(z.exports.clone(n.settings)),r=D(null),i=V(()=>r.value!==null&&Object.keys(r.value).length>0),s=D(!1);rt("meta+s",()=>{i.value&&_()});const{confirmLeave:p,leaveTo:f}=sn(i);return{t:e,fields:o,initialValues:u,edits:r,hasEdits:i,saving:s,confirmLeave:p,leaveTo:f,save:_,discardAndLeave:v};async function _(){r.value!==null&&(s.value=!0,await n.updateSettings(r.value),await l.hydrate(),r.value=null,s.value=!1,u.value=z.exports.clone(n.settings))}function v(){!f.value||(r.value={},p.value=!1,t.push(f.value))}}}),zP={class:"settings"};function KP(e,t,n,l,o,u){const r=c("v-breadcrumb"),i=c("v-icon"),s=c("v-button"),p=c("settings-navigation"),f=c("v-form"),_=c("project-info-sidebar-detail"),v=c("v-card-title"),y=c("v-card-text"),g=c("v-card-actions"),h=c("v-card"),b=c("v-dialog"),S=c("private-view"),I=Fe("tooltip");return m(),F(S,{title:e.t("settings_project")},{headline:d(()=>[a(r,{items:[{name:e.t("settings"),to:"/settings"}]},null,8,["items"])]),"title-outer:prepend":d(()=>[a(s,{class:"header-icon",rounded:"",disabled:"",icon:"",secondary:""},{default:d(()=>[a(i,{name:"public"})]),_:1})]),actions:d(()=>[ie(a(s,{icon:"",rounded:"",disabled:!e.hasEdits,loading:e.saving,onClick:e.save},{default:d(()=>[a(i,{name:"check"})]),_:1},8,["disabled","loading","onClick"]),[[I,e.t("save"),void 0,{bottom:!0}]])]),navigation:d(()=>[a(p)]),sidebar:d(()=>[a(_)]),default:d(()=>[$("div",zP,[a(f,{modelValue:e.edits,"onUpdate:modelValue":t[0]||(t[0]=E=>e.edits=E),"initial-values":e.initialValues,fields:e.fields,"primary-key":1},null,8,["modelValue","initial-values","fields"])]),a(b,{modelValue:e.confirmLeave,"onUpdate:modelValue":t[2]||(t[2]=E=>e.confirmLeave=E),onEsc:t[3]||(t[3]=E=>e.confirmLeave=!1)},{default:d(()=>[a(h,null,{default:d(()=>[a(v,null,{default:d(()=>[P(w(e.t("unsaved_changes")),1)]),_:1}),a(y,null,{default:d(()=>[P(w(e.t("unsaved_changes_copy")),1)]),_:1}),a(g,null,{default:d(()=>[a(s,{secondary:"",onClick:e.discardAndLeave},{default:d(()=>[P(w(e.t("discard_changes")),1)]),_:1},8,["onClick"]),a(s,{onClick:t[1]||(t[1]=E=>e.confirmLeave=!1)},{default:d(()=>[P(w(e.t("keep_editing")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["title"])}var WP=H(qP,[["render",KP],["__scopeId","data-v-3d0fc971"]]);const Kr=[{collection:"directus_files",action:"create",permissions:{},fields:["*"]},{collection:"directus_files",action:"read",permissions:{},fields:["*"]},{collection:"directus_files",action:"update",permissions:{},fields:["*"]},{collection:"directus_files",action:"delete",permissions:{},fields:["*"]},{collection:"directus_dashboards",action:"create",permissions:{},fields:["*"]},{collection:"directus_dashboards",action:"read",permissions:{},fields:["*"]},{collection:"directus_dashboards",action:"update",permissions:{},fields:["*"]},{collection:"directus_dashboards",action:"delete",permissions:{},fields:["*"]},{collection:"directus_panels",action:"create",permissions:{},fields:["*"]},{collection:"directus_panels",action:"read",permissions:{},fields:["*"]},{collection:"directus_panels",action:"update",permissions:{},fields:["*"]},{collection:"directus_panels",action:"delete",permissions:{},fields:["*"]},{collection:"directus_folders",action:"create",permissions:{},fields:["*"]},{collection:"directus_folders",action:"read",permissions:{},fields:["*"]},{collection:"directus_folders",action:"update",permissions:{},fields:["*"]},{collection:"directus_folders",action:"delete",permissions:{}},{collection:"directus_users",action:"read",permissions:{},fields:["*"]},{collection:"directus_users",action:"update",permissions:{id:{_eq:"$CURRENT_USER"}},fields:["first_name","last_name","email","password","location","title","description","avatar","language","theme"]},{collection:"directus_roles",action:"read",permissions:{},fields:["*"]},{collection:"directus_shares",action:"read",permissions:{_or:[{role:{_eq:"$CURRENT_ROLE"}},{role:{_null:!0}}]},fields:["*"]},{collection:"directus_shares",action:"create",permissions:{},fields:["*"]},{collection:"directus_shares",action:"update",permissions:{user_created:{_eq:"$CURRENT_USER"}},fields:["*"]},{collection:"directus_shares",action:"delete",permissions:{user_created:{_eq:"$CURRENT_USER"}},fields:["*"]}],Wr=[{collection:"directus_activity",action:"read",permissions:{user:{_eq:"$CURRENT_USER"}}},{collection:"directus_activity",action:"create",validation:{comment:{_nnull:!0}}},{collection:"directus_collections",action:"read"},{collection:"directus_fields",action:"read"},{collection:"directus_permissions",action:"read",permissions:{role:{_eq:"$CURRENT_ROLE"}}},{collection:"directus_presets",action:"read",permissions:{_or:[{user:{_eq:"$CURRENT_USER"}},{_and:[{user:{_null:!0}},{role:{_eq:"$CURRENT_ROLE"}}]},{_and:[{user:{_null:!0}},{role:{_null:!0}}]}]}},{collection:"directus_presets",action:"create",validation:{user:{_eq:"$CURRENT_USER"}}},{collection:"directus_presets",action:"update",permissions:{user:{_eq:"$CURRENT_USER"}}},{collection:"directus_presets",action:"delete",permissions:{user:{_eq:"$CURRENT_USER"}}},{collection:"directus_relations",action:"read"},{collection:"directus_roles",action:"read",permissions:{id:{_eq:"$CURRENT_ROLE"}}},{collection:"directus_settings",action:"read"},{collection:"directus_shares",action:"read",permissions:{user_created:{_eq:"$CURRENT_USER"}}},{collection:"directus_users",action:"read",permissions:{id:{_eq:"$CURRENT_USER"}},fields:["id","first_name","last_name","last_page","email","password","location","title","description","tags","preferences_divider","avatar","language","theme","tfa_secret","status","role"]}];const HP=Z({setup(){const{t:e}=ae(),t=it(),n=Vn(),l=D(null),o=D(!0),u=D(!1),{saving:r,save:i}=s();return{t:e,router:t,isOpen:n,roleName:l,saving:r,save:i,appAccess:o,adminAccess:u};function s(){const p=D(!1);return{saving:p,save:f};async function f(){p.value=!0;try{const _=await me.post("/roles",{name:l.value,admin_access:u.value,app_access:o.value});o.value===!0&&u.value===!1&&await me.post("/permissions",Kr.map(v=>Ie(ve({},v),{role:_.data.data.id}))),t.push(`/settings/roles/${_.data.data.id}`)}catch(_){Pe(_)}finally{p.value=!1}}}}}),GP={class:"form-grid"},ZP={class:"field full"},JP={class:"field half"},XP={class:"type-label"},YP={class:"field half"},QP={class:"type-label"};function xP(e,t,n,l,o,u){const r=c("v-card-title"),i=c("v-input"),s=c("v-checkbox"),p=c("v-card-text"),f=c("v-button"),_=c("v-card-actions"),v=c("v-card"),y=c("v-dialog");return m(),F(y,{"model-value":e.isOpen,persistent:"",onEsc:t[3]||(t[3]=g=>e.router.push("/settings/roles"))},{default:d(()=>[a(v,null,{default:d(()=>[a(r,null,{default:d(()=>[P(w(e.t("create_role")),1)]),_:1}),a(p,null,{default:d(()=>[$("div",GP,[$("div",ZP,[a(i,{modelValue:e.roleName,"onUpdate:modelValue":t[0]||(t[0]=g=>e.roleName=g),autofocus:"",placeholder:e.t("role_name")+"...",onKeyup:Mn(e.save,["enter"])},null,8,["modelValue","placeholder","onKeyup"])]),$("div",JP,[$("p",XP,w(e.t("fields.directus_roles.app_access")),1),a(s,{modelValue:e.appAccess,"onUpdate:modelValue":t[1]||(t[1]=g=>e.appAccess=g),block:"",label:e.t("enabled")},null,8,["modelValue","label"])]),$("div",YP,[$("p",QP,w(e.t("fields.directus_roles.admin_access")),1),a(s,{modelValue:e.adminAccess,"onUpdate:modelValue":t[2]||(t[2]=g=>e.adminAccess=g),block:"",label:e.t("enabled")},null,8,["modelValue","label"])])])]),_:1}),a(_,null,{default:d(()=>[a(f,{to:"/settings/roles",secondary:""},{default:d(()=>[P(w(e.t("cancel")),1)]),_:1}),a(f,{disabled:e.roleName===null,loading:e.saving,onClick:e.save},{default:d(()=>[P(w(e.t("save")),1)]),_:1},8,["disabled","loading","onClick"])]),_:1})]),_:1})]),_:1},8,["model-value"])}var eT=H(HP,[["render",xP],["__scopeId","data-v-2bf24ab7"]]);const tT={},nT={class:"null"};function lT(e,t){return m(),A("span",nT,"--")}var un=H(tT,[["render",lT],["__scopeId","data-v-cf005d72"]]);const oT=Z({name:"RolesCollection",components:{SettingsNavigation:zt,ValueNull:un},props:{},setup(){const{t:e}=ae(),t=it(),n=D([]),l=D(!1),o=V(()=>{const p=n.value.filter(f=>f.admin_access===!0);return p.length===1?p[0].id:null}),u=D([{text:"",value:"icon",sortable:!1,width:42,align:"left",description:null},{text:e("name"),value:"name",sortable:!1,width:200,align:"left",description:null},{text:e("users"),value:"count",sortable:!1,width:140,align:"left",description:null},{text:e("description"),value:"description",sortable:!1,width:470,align:"left",description:null}]);i();const r=V(()=>"/settings/roles/+");return{t:e,loading:l,roles:n,tableHeaders:u,addNewLink:r,navigateToRole:s};async function i(){l.value=!0;try{const p=await me.get("/roles",{params:{limit:-1,fields:["id","name","description","icon","admin_access","users"],deep:{users:{_aggregate:{count:"id"},_groupBy:["role"],_sort:"role",_limit:-1}},sort:"name"}});n.value=[{public:!0,name:e("public_label"),icon:"public",description:e("public_description"),id:"public"},...p.data.data.map(f=>{var _;return Ie(ve({},Dt(f)),{count:((_=f.users[0])==null?void 0:_.count.id)||0})})]}catch(p){Pe(p)}finally{l.value=!1}}function s({item:p}){p.id!=="public"&&o.value?t.push({name:"settings-roles-item",params:{primaryKey:p.id,lastAdminRoleId:o.value}}):t.push(`/settings/roles/${p.id}`)}}}),aT={class:"page-description"},iT={class:"roles"};function rT(e,t,n,l,o,u){const r=c("v-breadcrumb"),i=c("v-icon"),s=c("v-button"),p=c("settings-navigation"),f=c("sidebar-detail"),_=c("v-text-overflow"),v=c("value-null"),y=c("v-table"),g=c("router-view"),h=c("private-view"),b=Fe("tooltip"),S=Fe("md");return m(),F(h,{title:e.t("settings_permissions")},{headline:d(()=>[a(r,{items:[{name:e.t("settings"),to:"/settings"}]},null,8,["items"])]),"title-outer:prepend":d(()=>[a(s,{class:"header-icon",rounded:"",disabled:"",icon:"",secondary:""},{default:d(()=>[a(i,{name:"admin_panel_settings"})]),_:1})]),actions:d(()=>[ie(a(s,{rounded:"",icon:"",to:e.addNewLink},{default:d(()=>[a(i,{name:"add"})]),_:1},8,["to"]),[[b,e.t("create_role"),void 0,{bottom:!0}]])]),navigation:d(()=>[a(p)]),sidebar:d(()=>[a(f,{icon:"info_outline",title:e.t("information"),close:""},{default:d(()=>[ie($("div",aT,null,512),[[S,e.t("page_help_settings_roles_collection")]])]),_:1},8,["title"])]),default:d(()=>[$("div",iT,[a(y,{headers:e.tableHeaders,"onUpdate:headers":t[0]||(t[0]=I=>e.tableHeaders=I),"show-resize":"",items:e.roles,"fixed-header":"","item-key":"id",loading:e.loading,"onClick:row":e.navigateToRole},{["item.icon"]:d(({item:I})=>[a(i,{class:de(["icon",{public:I.public}]),name:I.icon},null,8,["name","class"])]),["item.name"]:d(({item:I})=>[a(_,{text:I.name,class:de(["name",{public:I.public}])},null,8,["text","class"])]),["item.count"]:d(({item:I})=>[I.public?(m(),F(v,{key:0})):M("",!0)]),["item.description"]:d(({item:I})=>[a(_,{text:I.description,class:"description"},null,8,["text"])]),_:2},1032,["headers","items","loading","onClick:row"])]),a(g,{name:"add"})]),_:1},8,["title"])}var sT=H(oT,[["render",rT],["__scopeId","data-v-1cdc77b6"]]);const dT={class:"description-list"},uT={class:"page-description"},cT=Z({props:{role:{default:()=>null}},setup(e){const{t}=ae(),{isCopySupported:n,copyToClipboard:l}=il();return(o,u)=>{const r=c("v-icon"),i=c("v-divider"),s=c("sidebar-detail"),p=Fe("md");return m(),F(s,{icon:"info_outline",title:C(t)("information"),close:""},{default:d(()=>[e.role?(m(),A(se,{key:0},[$("dl",null,[$("div",dT,[$("dt",null,w(C(t)("primary_key")),1),$("dd",null,w(e.role.id),1),C(n)?(m(),F(r,{key:0,name:"copy",small:"",clickable:"",class:"clipboard-icon",onClick:u[0]||(u[0]=f=>C(l)(e.role.id))})):M("",!0)])]),a(i)],64)):M("",!0),ie($("div",uT,null,512),[[p,C(t)("page_help_settings_roles_item")]])]),_:1},8,["title"])}}});var Hr=H(cT,[["__scopeId","data-v-ddb4a712"]]);const pT={class:"permissions-overview-header"},mT={class:"name"},fT=Z({setup(e){const{t}=ae();return(n,l)=>{const o=c("v-icon"),u=Fe("tooltip");return m(),A("div",pT,[$("span",mT,w(C(t)("collection")),1),ie(a(o,{name:"add"},null,512),[[u,C(t)("create")]]),ie(a(o,{name:"visibility"},null,512),[[u,C(t)("read")]]),ie(a(o,{name:"edit"},null,512),[[u,C(t)("update")]]),ie(a(o,{name:"delete"},null,512),[[u,C(t)("delete_label")]]),ie(a(o,{name:"share"},null,512),[[u,C(t)("share")]])])}}});var _T=H(fT,[["__scopeId","data-v-ddf91006"]]);const vT=["create","read","update","delete","share"];function Gr(e,t,n){const l=D(!1),o=vt("refresh-permissions");return{getPermission:u,setFullAccess:r,setNoAccess:i,setFullAccessAll:s,setNoAccessAll:p};function u(f){return t.value.find(_=>_.action===f)}async function r(f){if(l.value===!0)return;l.value=!0,e.value.meta===null&&await me.patch(`/collections/${e.value.collection}`,{meta:{}});const _=u(f);if(_)try{await me.patch(`/permissions/${_.id}`,{fields:"*",permissions:{},validation:{}})}catch(v){Pe(v)}finally{await(o==null?void 0:o()),l.value=!1}else try{await me.post("/permissions/",{role:n.value,collection:e.value.collection,action:f,fields:"*",permissions:{},validation:{}})}catch(v){Pe(v)}finally{await(o==null?void 0:o()),l.value=!1}}async function i(f){if(l.value===!0)return;const _=u(f);if(!!_){l.value=!0;try{await me.delete(`/permissions/${_.id}`)}catch(v){Pe(v)}finally{await(o==null?void 0:o()),l.value=!1}}}async function s(){l.value!==!0&&(l.value=!0,e.value.meta===null&&await me.patch(`/collections/${e.value.collection}`,{meta:{}}),await Promise.all(vT.map(async f=>{const _=u(f);if(_)try{await me.patch(`/permissions/${_.id}`,{fields:"*",permissions:{},validation:{}})}catch(v){Pe(v)}else try{await me.post("/permissions/",{role:n.value,collection:e.value.collection,action:f,fields:"*",permissions:{},validation:{}})}catch(v){Pe(v)}})),await(o==null?void 0:o()),l.value=!1)}async function p(){if(l.value!==!0){l.value=!0;try{await me.delete("/permissions",{data:t.value.map(f=>f.id)})}catch(f){Pe(f)}finally{await(o==null?void 0:o()),l.value=!1}}}}const yT=Z({props:{collection:{type:Object,required:!0},role:{type:String,default:null},action:{type:String,required:!0},permissions:{type:Array,default:null},loading:{type:Boolean,default:!1},appMinimal:{type:[Boolean,Object],default:!1}},setup(e){const{t}=ae(),n=it(),{collection:l,role:o,permissions:u}=ze(e),{setFullAccess:r,setNoAccess:i,getPermission:s}=Gr(l,u,o),p=V(()=>s(e.action)),f=V(()=>{var h;return p.value===void 0?"none":((h=p.value.fields)==null?void 0:h.includes("*"))&&Object.keys(p.value.permissions||{}).length===0&&Object.keys(p.value.validation||{}).length===0?"all":"custom"}),_=D(!1),v=vt("refresh-permissions"),y=V(()=>e.appMinimal===!1?null:Object.keys(e.appMinimal).length===2?"full":"partial");return{t,permissionLevel:f,saving:_,setFullAccess:r,setNoAccess:i,openPermissions:g,appMinimalLevel:y};async function g(){if(e.collection.meta===null&&await me.patch(`/collections/${e.collection.collection}`,{meta:{}}),p.value)n.push(`/settings/roles/${e.role||"public"}/${p.value.id}`);else{_.value=!0;const h=await me.post("/permissions",{role:e.role,collection:e.collection.collection,action:e.action});await(v==null?void 0:v()),_.value=!1,n.push(`/settings/roles/${e.role||"public"}/${h.data.data.id}`)}}}});function hT(e,t,n,l,o,u){const r=c("v-icon"),i=c("v-progress-circular"),s=c("v-list-item-icon"),p=c("v-list-item-content"),f=c("v-list-item"),_=c("v-divider"),v=c("v-list"),y=c("v-menu"),g=Fe("tooltip");return ie((m(),A("div",{class:de(["permissions-overview-toggle",[{"has-app-minimal":!!e.appMinimal},e.permissionLevel,e.appMinimalLevel]])},[e.appMinimalLevel==="full"?(m(),F(r,{key:0,name:"check",class:"all app-minimal"})):(m(),F(y,{key:1,"show-arrow":""},{activator:d(({toggle:h})=>[$("div",null,[e.loading||e.saving?(m(),F(i,{key:0,indeterminate:"",small:""})):e.permissionLevel==="all"?(m(),F(r,{key:1,clickable:"",name:"check",onClick:h},null,8,["onClick"])):e.appMinimalLevel==="partial"||e.permissionLevel==="custom"?(m(),F(r,{key:2,clickable:"",name:"rule",onClick:h},null,8,["onClick"])):e.permissionLevel==="none"?(m(),F(r,{key:3,clickable:"",name:"block",onClick:h},null,8,["onClick"])):M("",!0)])]),default:d(()=>[a(v,null,{default:d(()=>[a(f,{disabled:e.permissionLevel==="all",clickable:"",onClick:t[0]||(t[0]=h=>e.setFullAccess(e.action))},{default:d(()=>[a(s,null,{default:d(()=>[a(r,{name:"check"})]),_:1}),a(p,null,{default:d(()=>[P(w(e.t("all_access")),1)]),_:1})]),_:1},8,["disabled"]),e.appMinimalLevel?M("",!0):(m(),F(f,{key:0,disabled:e.permissionLevel==="none",clickable:"",onClick:t[1]||(t[1]=h=>e.setNoAccess(e.action))},{default:d(()=>[a(s,null,{default:d(()=>[a(r,{name:"block"})]),_:1}),a(p,null,{default:d(()=>[P(w(e.t("no_access")),1)]),_:1})]),_:1},8,["disabled"])),a(_),a(f,{clickable:"",onClick:e.openPermissions},{default:d(()=>[a(s,null,{default:d(()=>[a(r,{name:"rule"})]),_:1}),a(p,null,{default:d(()=>[P(w(e.t("use_custom")),1)]),_:1}),a(s,null,{default:d(()=>[a(r,{name:"launch"})]),_:1})]),_:1},8,["onClick"])]),_:1})]),_:1}))],2)),[[g,e.appMinimal&&e.t("required_for_app_access")]])}var gT=H(yT,[["render",hT],["__scopeId","data-v-169ac11c"]]);const bT=Z({components:{PermissionsOverviewToggle:gT},props:{role:{type:String,default:null},collection:{type:Object,required:!0},permissions:{type:Array,required:!0},refreshing:{type:Array,required:!0},appMinimal:{type:[Boolean,Array],default:!1}},setup(e){const{t}=ae(),{collection:n,role:l,permissions:o}=ze(e),{setFullAccessAll:u,setNoAccessAll:r,getPermission:i}=Gr(n,o,l);return{t,getPermission:i,isLoading:s,setFullAccessAll:u,setNoAccessAll:r};function s(p){const f=i(p);return f?e.refreshing.includes(f.id):!1}}}),wT=e=>(xe("data-v-2a06bd5f"),e=e(),et(),e),kT={class:"permissions-overview-row"},$T={class:"name"},CT={class:"actions"},ST=wT(()=>$("span",{class:"divider"},"/",-1));function FT(e,t,n,l,o,u){const r=c("permissions-overview-toggle"),i=Fe("tooltip");return m(),A("div",kT,[$("span",$T,[ie($("span",null,[P(w(e.collection.name),1)],512),[[i,e.collection.collection,void 0,{left:!0}]]),$("span",CT,[$("span",{class:"all",onClick:t[0]||(t[0]=(...s)=>e.setFullAccessAll&&e.setFullAccessAll(...s))},w(e.t("all")),1),ST,$("span",{class:"none",onClick:t[1]||(t[1]=(...s)=>e.setNoAccessAll&&e.setNoAccessAll(...s))},w(e.t("none")),1)])]),a(r,{action:"create",collection:e.collection,role:e.role,permissions:e.permissions,loading:e.isLoading("create"),"app-minimal":e.appMinimal&&e.appMinimal.find(s=>s.action==="create")},null,8,["collection","role","permissions","loading","app-minimal"]),a(r,{action:"read",collection:e.collection,role:e.role,permissions:e.permissions,loading:e.isLoading("read"),"app-minimal":e.appMinimal&&e.appMinimal.find(s=>s.action==="read")},null,8,["collection","role","permissions","loading","app-minimal"]),a(r,{action:"update",collection:e.collection,role:e.role,permissions:e.permissions,loading:e.isLoading("update"),"app-minimal":e.appMinimal&&e.appMinimal.find(s=>s.action==="update")},null,8,["collection","role","permissions","loading","app-minimal"]),a(r,{action:"delete",collection:e.collection,role:e.role,permissions:e.permissions,loading:e.isLoading("delete"),"app-minimal":e.appMinimal&&e.appMinimal.find(s=>s.action==="delete")},null,8,["collection","role","permissions","loading","app-minimal"]),a(r,{action:"share",collection:e.collection,role:e.role,permissions:e.permissions,loading:e.isLoading("share"),"app-minimal":e.appMinimal&&e.appMinimal.find(s=>s.action==="share")},null,8,["collection","role","permissions","loading","app-minimal"])])}var VT=H(bT,[["render",FT],["__scopeId","data-v-2a06bd5f"]]);const AT=Z({components:{PermissionsOverviewHeader:_T,PermissionsOverviewRow:VT},props:{role:{type:String,default:null},permission:{type:String,default:null},appAccess:{type:Boolean,default:!1}},setup(e){const{t}=ae(),n=Xe(),l=V(()=>n.collections.filter(S=>S.collection.startsWith("directus_")===!1&&S.schema)),o=V(()=>z.exports.orderBy(n.collections.filter(S=>S.collection.startsWith("directus_")===!0),"name")),u=D(!1),{permissions:r,loading:i,fetchPermissions:s,refreshPermission:p,refreshing:f}=h(),{resetActive:_,resetSystemPermissions:v,resetting:y,resetError:g}=b();return s(),he(()=>e.permission,s,{immediate:!0}),nn("refresh-permissions",s),{t,systemVisible:u,regularCollections:l,systemCollections:o,permissions:r,loading:i,fetchPermissions:s,refreshPermission:p,refreshing:f,resetActive:_,resetSystemPermissions:v,resetting:y,resetError:g,appMinimalPermissions:Wr};function h(){const S=D([]),I=D(!1),E=D([]);return{permissions:S,loading:I,fetchPermissions:R,refreshPermission:O,refreshing:E};async function R(){I.value=!0;try{const L={filter:{role:{}},limit:-1};e.role===null?L.filter.role={_null:!0}:L.filter.role={_eq:e.role};const q=await me.get("/permissions",{params:L});S.value=q.data.data}catch(L){Pe(L)}finally{I.value=!1}}async function O(L){E.value.includes(L)===!1&&E.value.push(L);try{const q=await me.get(`/permissions/${L}`);S.value=S.value.map(T=>T.id===L?q.data.data:T)}catch(q){Pe(q)}finally{E.value=E.value.filter(q=>q!==L)}}}function b(){const S=D(!1),I=D(!1),E=D(null);return{resetActive:S,resetSystemPermissions:R,resetting:I,resetError:E};async function R(O){I.value=!0;const L=r.value.filter(q=>q.collection.startsWith("directus_")).map(q=>q.id);try{L.length>0&&await me.delete("/permissions",{data:L}),e.role!==null&&e.appAccess===!0&&O===!0&&await me.post("/permissions",Kr.map(q=>Ie(ve({},q),{role:e.role}))),await s(),S.value=!1}catch(q){E.value=q}finally{I.value=!1}}}}}),IT={class:"permissions-overview"},ET={class:"title type-label"},DT={class:"instant-save"},PT={class:"table"},TT={key:0},OT={key:0,class:"reset-toggle"},LT=P(" / ");function jT(e,t,n,l,o,u){const r=c("permissions-overview-header"),i=c("permissions-overview-row"),s=c("v-icon"),p=c("transition-expand"),f=c("router-view"),_=c("v-card-title"),v=c("v-button"),y=c("v-card-actions"),g=c("v-card"),h=c("v-dialog");return m(),A("div",IT,[$("h2",ET,[P(w(e.t("permissions"))+" ",1),$("span",DT,w(e.t("saves_automatically")),1)]),$("div",PT,[a(r),(m(!0),A(se,null,Ve(e.regularCollections,b=>(m(),F(i,{key:b.collection,collection:b,role:e.role,permissions:e.permissions.filter(S=>S.collection===b.collection),refreshing:e.refreshing},null,8,["collection","role","permissions","refreshing"]))),128)),$("button",{class:"system-toggle",onClick:t[0]||(t[0]=b=>e.systemVisible=!e.systemVisible)},[P(w(e.t("system_collections"))+" ",1),a(s,{name:e.systemVisible?"expand_less":"expand_more"},null,8,["name"])]),a(p,null,{default:d(()=>[e.systemVisible?(m(),A("div",TT,[(m(!0),A(se,null,Ve(e.systemCollections,b=>(m(),F(i,{key:b.collection,collection:b,role:e.role,permissions:e.permissions.filter(S=>S.collection===b.collection),refreshing:e.refreshing,"app-minimal":e.appAccess&&e.appMinimalPermissions.filter(S=>S.collection===b.collection)},null,8,["collection","role","permissions","refreshing","app-minimal"]))),128))])):M("",!0)]),_:1}),e.systemVisible&&e.appAccess?(m(),A("span",OT,[P(w(e.t("reset_system_permissions_to"))+" ",1),$("button",{onClick:t[1]||(t[1]=b=>e.resetActive="minimum")},w(e.t("app_access_minimum")),1),LT,$("button",{onClick:t[2]||(t[2]=b=>e.resetActive="recommended")},w(e.t("recommended_defaults")),1)])):M("",!0)]),a(f,{name:"permissionsDetail","role-key":e.role,"permission-key":e.permission},null,8,["role-key","permission-key"]),a(h,{"model-value":!!e.resetActive,"onUpdate:modelValue":t[5]||(t[5]=b=>e.resetActive=!1),onEsc:t[6]||(t[6]=b=>e.resetActive=!1)},{default:d(()=>[a(g,null,{default:d(()=>[a(_,null,{default:d(()=>[P(w(e.t("reset_system_permissions_copy")),1)]),_:1}),a(y,null,{default:d(()=>[a(v,{secondary:"",onClick:t[3]||(t[3]=b=>e.resetActive=!1)},{default:d(()=>[P(w(e.t("cancel")),1)]),_:1}),a(v,{loading:e.resetting,onClick:t[4]||(t[4]=b=>e.resetSystemPermissions(e.resetActive==="recommended"))},{default:d(()=>[P(w(e.t("reset")),1)]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1},8,["model-value"])])}var Zr=H(AT,[["render",jT],["__scopeId","data-v-554c2db2"]]);const RT=Z({props:{modelValue:{type:Boolean,default:!1},role:{type:String,default:null}},emits:["update:modelValue"],setup(e,{emit:t}){const{t:n}=ae(),l=D(""),o=D([]),u=D(e.role),r=D(!1),i=D([]);return he(()=>e.modelValue,()=>{p()}),{t:n,emails:l,inviteUsers:s,roles:o,roleSelected:u,loading:r,uniqueValidationErrors:i};async function s(){var f,_,v,y,g,h;r.value=!0;try{const b=l.value.split(/,|\n/).filter(S=>S).map(S=>S.trim());await me.post("/users/invite",{email:b,role:u.value}),l.value="",t("update:modelValue",!1)}catch(b){i.value=(v=(_=(f=b==null?void 0:b.response)==null?void 0:f.data)==null?void 0:_.errors)==null?void 0:v.filter(I=>{var E;return((E=I.extensions)==null?void 0:E.code)==="RECORD_NOT_UNIQUE"});const S=(h=(g=(y=b==null?void 0:b.response)==null?void 0:y.data)==null?void 0:g.errors)==null?void 0:h.filter(I=>{var E;return((E=I==null?void 0:I.extensions)==null?void 0:E.code)!=="RECORD_NOT_UNIQUE"});S.length>0&&S.forEach(I=>Pe(I))}finally{r.value=!1}}async function p(){const f=await me.get("/roles");o.value=f.data.data.map(_=>({text:_.name,value:_.id})),o.value.length>0&&u.value===null&&(u.value=o.value[0].value)}}}),MT={class:"grid"},UT={class:"field"},NT={class:"type-label"},BT={key:0,class:"field"},qT={class:"type-label"};function zT(e,t,n,l,o,u){const r=c("v-card-title"),i=c("v-textarea"),s=c("v-select"),p=c("v-notice"),f=c("v-card-text"),_=c("v-button"),v=c("v-card-actions"),y=c("v-card"),g=c("v-dialog");return m(),F(g,{"model-value":e.modelValue,"onUpdate:modelValue":t[3]||(t[3]=h=>e.$emit("update:modelValue",h)),onEsc:t[4]||(t[4]=h=>e.$emit("update:modelValue",!1))},{default:d(()=>[a(y,null,{default:d(()=>[a(r,null,{default:d(()=>[P(w(e.t("invite_users")),1)]),_:1}),a(f,null,{default:d(()=>[$("div",MT,[$("div",UT,[$("div",NT,w(e.t("emails")),1),a(i,{modelValue:e.emails,"onUpdate:modelValue":t[0]||(t[0]=h=>e.emails=h),nullable:!1,placeholder:"admin@example.com, user@example.com..."},null,8,["modelValue"])]),e.role===null?(m(),A("div",BT,[$("div",qT,w(e.t("role")),1),a(s,{modelValue:e.roleSelected,"onUpdate:modelValue":t[1]||(t[1]=h=>e.roleSelected=h),items:e.roles},null,8,["modelValue","items"])])):M("",!0),e.uniqueValidationErrors.length>0?(m(),F(p,{key:1,class:"field",type:"danger"},{default:d(()=>[(m(!0),A(se,null,Ve(e.uniqueValidationErrors,(h,b)=>(m(),A("div",{key:b},[h.extensions.invalid?(m(),A(se,{key:0},[P(w(e.t("email_already_invited",{email:h.extensions.invalid})),1)],64)):b===0?(m(),A(se,{key:1},[P(w(e.t("validationError.unique")),1)],64)):M("",!0)]))),128))]),_:1})):M("",!0)])]),_:1}),a(v,null,{default:d(()=>[a(_,{secondary:"",onClick:t[2]||(t[2]=h=>e.$emit("update:modelValue",!1))},{default:d(()=>[P(w(e.t("cancel")),1)]),_:1}),a(_,{disabled:e.emails===null||e.emails.length===0,loading:e.loading,onClick:e.inviteUsers},{default:d(()=>[P(w(e.t("invite")),1)]),_:1},8,["disabled","loading","onClick"])]),_:1})]),_:1})]),_:1},8,["model-value"])}var Jr=H(RT,[["render",zT],["__scopeId","data-v-52e00551"]]);const KT=Z({name:"RolesItem",components:{SettingsNavigation:zt,RevisionsDrawerDetail:al,RoleInfoSidebarDetail:Hr,PermissionsOverview:Zr,UsersInvite:Jr},props:{primaryKey:{type:String,required:!0},permissionKey:{type:String,default:null},lastAdminRoleId:{type:String,default:null}},setup(e){const{t}=ae(),n=it(),l=Ye(),o=D(!1),{primaryKey:u}=ze(e),{edits:r,hasEdits:i,item:s,saving:p,loading:f,error:_,save:v,remove:y,deleting:g,isBatch:h}=En(D("directus_roles"),u),b=D(!1),S=V(()=>!!ve(ve({},s.value),r.value).admin_access),I=V(()=>!!ve(ve({},s.value),r.value).app_access);rt("meta+s",()=>{i.value&&O()});const{confirmLeave:E,leaveTo:R}=sn(i);return{t,item:s,loading:f,error:_,edits:r,hasEdits:i,saving:p,saveAndQuit:L,deleteAndQuit:q,confirmDelete:b,deleting:g,isBatch:h,adminEnabled:S,userInviteModalActive:o,appAccess:I,confirmLeave:E,leaveTo:R,discardAndLeave:T};async function O(){await v(),await l.hydrate()}async function L(){await v(),await l.hydrate(),n.push("/settings/roles")}async function q(){await y(),n.replace("/settings/roles")}function T(){!R.value||(r.value={},E.value=!1,n.push(R.value))}}}),WT={class:"roles"};function HT(e,t,n,l,o,u){const r=c("v-breadcrumb"),i=c("v-icon"),s=c("v-button"),p=c("v-card-title"),f=c("v-card-actions"),_=c("v-card"),v=c("v-dialog"),y=c("settings-navigation"),g=c("users-invite"),h=c("v-notice"),b=c("permissions-overview"),S=c("v-form"),I=c("role-info-sidebar-detail"),E=c("revisions-drawer-detail"),R=c("v-card-text"),O=c("private-view"),L=Fe("tooltip");return m(),F(O,{title:e.loading?e.t("loading"):e.t("editing_role",{role:e.item&&e.item.name})},{headline:d(()=>[a(r,{items:[{name:e.t("settings_permissions"),to:"/settings/roles"}]},null,8,["items"])]),"title-outer:prepend":d(()=>[a(s,{class:"header-icon",rounded:"",icon:"",exact:"",to:"/settings/roles/"},{default:d(()=>[a(i,{name:"arrow_back"})]),_:1})]),actions:d(()=>[[1,2].includes(+e.primaryKey)===!1?(m(),F(v,{key:0,modelValue:e.confirmDelete,"onUpdate:modelValue":t[1]||(t[1]=q=>e.confirmDelete=q),onEsc:t[2]||(t[2]=q=>e.confirmDelete=!1)},{activator:d(({on:q})=>[e.primaryKey!==e.lastAdminRoleId?ie((m(),F(s,{key:0,rounded:"",icon:"",class:"action-delete",secondary:"",disabled:e.item===null,onClick:q},{default:d(()=>[a(i,{name:"delete"})]),_:2},1032,["disabled","onClick"])),[[L,e.t("delete_label"),void 0,{bottom:!0}]]):M("",!0)]),default:d(()=>[a(_,null,{default:d(()=>[a(p,null,{default:d(()=>[P(w(e.t("delete_are_you_sure")),1)]),_:1}),a(f,null,{default:d(()=>[a(s,{secondary:"",onClick:t[0]||(t[0]=q=>e.confirmDelete=!1)},{default:d(()=>[P(w(e.t("cancel")),1)]),_:1}),a(s,{kind:"danger",loading:e.deleting,onClick:e.deleteAndQuit},{default:d(()=>[P(w(e.t("delete_label")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])):M("",!0),ie(a(s,{rounded:"",icon:"",secondary:"",onClick:t[3]||(t[3]=q=>e.userInviteModalActive=!0)},{default:d(()=>[a(i,{name:"person_add"})]),_:1},512),[[L,e.t("invite_users"),void 0,{bottom:!0}]]),ie(a(s,{rounded:"",icon:"",loading:e.saving,disabled:e.hasEdits===!1,onClick:e.saveAndQuit},{default:d(()=>[a(i,{name:"check"})]),_:1},8,["loading","disabled","onClick"]),[[L,e.t("save"),void 0,{bottom:!0}]])]),navigation:d(()=>[a(y)]),sidebar:d(()=>[a(I,{role:e.item},null,8,["role"]),a(E,{collection:"directus_roles","primary-key":e.primaryKey},null,8,["primary-key"])]),default:d(()=>[a(g,{modelValue:e.userInviteModalActive,"onUpdate:modelValue":t[4]||(t[4]=q=>e.userInviteModalActive=q),role:e.primaryKey},null,8,["modelValue","role"]),$("div",WT,[e.adminEnabled?(m(),F(h,{key:0,type:"info"},{default:d(()=>[P(w(e.t("admins_have_all_permissions")),1)]),_:1})):(m(),F(b,{key:1,role:e.primaryKey,permission:e.permissionKey,"app-access":e.appAccess},null,8,["role","permission","app-access"])),a(S,{modelValue:e.edits,"onUpdate:modelValue":t[5]||(t[5]=q=>e.edits=q),collection:"directus_roles","primary-key":e.primaryKey,loading:e.loading,"initial-values":e.item,"batch-mode":e.isBatch},null,8,["modelValue","primary-key","loading","initial-values","batch-mode"])]),a(v,{modelValue:e.confirmLeave,"onUpdate:modelValue":t[7]||(t[7]=q=>e.confirmLeave=q),onEsc:t[8]||(t[8]=q=>e.confirmLeave=!1)},{default:d(()=>[a(_,null,{default:d(()=>[a(p,null,{default:d(()=>[P(w(e.t("unsaved_changes")),1)]),_:1}),a(R,null,{default:d(()=>[P(w(e.t("unsaved_changes_copy")),1)]),_:1}),a(f,null,{default:d(()=>[a(s,{secondary:"",onClick:e.discardAndLeave},{default:d(()=>[P(w(e.t("discard_changes")),1)]),_:1},8,["onClick"]),a(s,{onClick:t[6]||(t[6]=q=>e.confirmLeave=!1)},{default:d(()=>[P(w(e.t("keep_editing")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["title"])}var GT=H(KT,[["render",HT],["__scopeId","data-v-0511bbb4"]]);function Xr(e){return(e.fields||[]).length===0&&Object.keys(e.validation||{}).length===0&&Object.keys(e.presets||{}).length===0&&Object.keys(e.permissions||{}).length===0}const ZT=Z({props:{roleKey:{type:String,default:null},permission:{type:Object,required:!0}},emits:["refresh"],setup(e,{emit:t}){const{t:n}=ae(),l=it(),o=D(!1);return{t:n,save:u,loading:o};async function u(){o.value=!0;try{Xr(e.permission)?await me.delete(`/permissions/${e.permission.id}`):await me.patch(`/permissions/${e.permission.id}`,e.permission),t("refresh"),l.push(`/settings/roles/${e.roleKey||"public"}`)}catch(r){Pe(r)}finally{o.value=!1}}}}),JT={class:"actions"};function XT(e,t,n,l,o,u){const r=c("v-icon"),i=c("v-button"),s=Fe("tooltip");return m(),A("div",JT,[ie(a(i,{loading:e.loading,icon:"",rounded:"",onClick:e.save},{default:d(()=>[a(r,{name:"check"})]),_:1},8,["loading","onClick"]),[[s,e.t("save"),void 0,{bottom:!0}]])])}var YT=H(ZT,[["render",XT],["__scopeId","data-v-47610afd"]]);const QT=Z({props:{currentTab:{type:Array,default:null},tabs:{type:Array,required:!0}},emits:["update:currentTab"],setup(e,{emit:t}){return{internalCurrentTab:Ge(e,"currentTab",t)}}}),xT={class:"text"};function eO(e,t,n,l,o,u){const r=c("v-tab"),i=c("v-tabs");return m(),F(i,{modelValue:e.internalCurrentTab,"onUpdate:modelValue":t[0]||(t[0]=s=>e.internalCurrentTab=s),vertical:""},{default:d(()=>[(m(!0),A(se,null,Ve(e.tabs,s=>(m(),F(r,{key:s.value,value:s.value},{default:d(()=>[$("span",xT,w(s.text),1),$("span",{class:de(["dot",{on:s.hasValue}])},null,2)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])}var tO=H(QT,[["render",eO],["__scopeId","data-v-678d5948"]]);const nO=Z({props:{permission:{type:Object,required:!0},role:{type:Object,default:null},appMinimal:{type:Object,default:void 0}},emits:["update:permission"],setup(e,{emit:t}){const{t:n}=ae(),l=Ge(e,"permission",t),o=V(()=>[{field:"permissions",name:n("rule"),type:"json",meta:{interface:"system-filter",options:{collectionName:l.value.collection}}}]);return{t:n,fields:o,permissionSync:l}}}),lO={key:0,class:"app-minimal"},oO={class:"app-minimal-preview"};function aO(e,t,n,l,o,u){const r=c("v-notice"),i=c("v-form"),s=c("v-divider");return m(),A("div",null,[a(r,{type:"info"},{default:d(()=>[P(w(e.t("permissions_for_role",{action:e.t(e.permission.action==="delete"?"delete_label":e.permission.action).toLowerCase(),role:e.role?e.role.name:e.t("public_label")})),1)]),_:1}),a(i,{modelValue:e.permissionSync,"onUpdate:modelValue":t[0]||(t[0]=p=>e.permissionSync=p),fields:e.fields},null,8,["modelValue","fields"]),e.appMinimal?(m(),A("div",lO,[a(s),a(r,{type:"warning"},{default:d(()=>[P(w(e.t("the_following_are_minimum_permissions")),1)]),_:1}),$("pre",oO,w(e.appMinimal),1)])):M("",!0)])}var iO=H(nO,[["render",aO],["__scopeId","data-v-da09841c"]]);const rO=Z({props:{permission:{type:Object,required:!0},role:{type:Object,default:null},appMinimal:{type:Object,default:void 0}},emits:["update:permission"],setup(e,{emit:t}){const{t:n}=ae(),l=Me(),o=Ge(e,"permission",t),u=V(()=>l.getFieldsForCollectionSorted(e.permission.collection).map(s=>({text:s.name,value:s.field}))),r=V({get(){return o.value.fields?o.value.fields.includes("*")?u.value.map(({value:i})=>i):o.value.fields:[]},set(i){i&&i.length>0?o.value=Ie(ve({},o.value),{fields:i}):o.value=Ie(ve({},o.value),{fields:null})}});return{t:n,fields:r,fieldsInCollection:u}}}),sO={class:"type-label"},dO={key:0,class:"app-minimal"},uO={class:"app-minimal-preview"};function cO(e,t,n,l,o,u){const r=c("v-notice"),i=c("interface-select-multiple-checkbox"),s=c("v-divider");return m(),A("div",null,[a(r,{type:"info"},{default:d(()=>[P(w(e.t("fields_for_role",{role:e.role?e.role.name:e.t("public_label"),action:e.t(e.permission.action).toLowerCase()})),1)]),_:1}),$("p",sO,w(e.t("field",0)),1),a(i,{value:e.fields,type:"json",choices:e.fieldsInCollection,onInput:t[0]||(t[0]=p=>e.fields=p)},null,8,["value","choices"]),e.appMinimal?(m(),A("div",dO,[a(s),a(r,{type:"warning"},{default:d(()=>[P(w(e.t("the_following_are_minimum_permissions")),1)]),_:1}),$("pre",uO,w(e.appMinimal),1)])):M("",!0)])}var pO=H(rO,[["render",cO],["__scopeId","data-v-51594cba"]]);const mO=Z({props:{permission:{type:Object,required:!0},role:{type:Object,default:null}},emits:["update:permission"],setup(e,{emit:t}){const{t:n}=ae(),l=Ge(e,"permission",t),o=V(()=>[{field:"validation",name:n("rule"),type:"json",meta:{interface:"system-filter",options:{collectionName:l.value.collection,includeValidation:!0}}}]);return{t:n,permissionSync:l,fields:o}}});function fO(e,t,n,l,o,u){const r=c("v-notice"),i=c("v-form");return m(),A("div",null,[a(r,{type:"info"},{default:d(()=>[P(w(e.t("validation_for_role",{action:e.t(e.permission.action).toLowerCase(),role:e.role?e.role.name:e.t("public_label")})),1)]),_:1}),a(i,{modelValue:e.permissionSync,"onUpdate:modelValue":t[0]||(t[0]=s=>e.permissionSync=s),fields:e.fields},null,8,["modelValue","fields"])])}var _O=H(mO,[["render",fO],["__scopeId","data-v-4a256791"]]);const vO=Z({props:{permission:{type:Object,default:null},role:{type:Object,default:null}},emits:["update:permission"],setup(e,{emit:t}){const{t:n}=ae(),l=Ge(e,"permission",t),o=V({get(){return l.value.presets},set(u){l.value=Ie(ve({},l.value),{presets:u})}});return{t:n,presets:o}}});function yO(e,t,n,l,o,u){const r=c("v-notice"),i=c("interface-input-code");return m(),A("div",null,[a(r,{type:"info"},{default:d(()=>[P(w(e.t("presets_for_role",{action:e.t(e.permission.action).toLowerCase(),role:e.role?e.role.name:e.t("public_label")})),1)]),_:1}),a(i,{value:e.presets,language:"json",type:"json",onInput:t[0]||(t[0]=s=>e.presets=s)},null,8,["value"])])}var hO=H(vO,[["render",yO],["__scopeId","data-v-660c7066"]]);const gO=Z({components:{Actions:YT,Tabs:tO,Permissions:iO,Fields:pO,Validation:_O,Presets:hO},props:{roleKey:{type:String,default:null},permissionKey:{type:String,required:!0}},emits:["refresh"],setup(e){const{t}=ae(),n=it(),l=Xe(),o=Vn(),u=D(),r=D(),i=D(!1),s=V(()=>{var b;return u.value?(b=l.collections.find(S=>S.collection===u.value.collection))==null?void 0:b.name:null}),p=V(()=>i.value||!u.value?t("loading"):e.roleKey?r.value.name+" -> "+s.value+" -> "+t(u.value.action):t("public_label")+" -> "+s.value+" -> "+t(u.value.action));he(()=>e.permissionKey,h,{immediate:!0});const f=V(()=>{if(!u.value)return[];const b=u.value.action,S=[];return["read","update","delete","share"].includes(b)&&S.push({text:t("item_permissions"),value:"permissions",hasValue:u.value.permissions!==null&&Object.keys(u.value.permissions).length>0}),["create","read","update"].includes(b)&&S.push({text:t("field_permissions"),value:"fields",hasValue:u.value.fields!==null}),["create","update"].includes(b)&&S.push({text:t("field_validation"),value:"validation",hasValue:u.value.validation!==null&&Object.keys(u.value.validation).length>0}),["create","update"].includes(b)&&S.push({text:t("field_presets"),value:"presets",hasValue:u.value.presets!==null&&Object.keys(u.value.presets).length>0}),S}),_=D([]),v=V(()=>{var S;const b=(S=_.value)==null?void 0:S[0];return b?f.value.find(I=>I.value===b):null});he(f,(b,S)=>{var I,E;b&&S&&b.length===S.length||(_.value=[(E=(I=f==null?void 0:f.value)==null?void 0:I[0])==null?void 0:E.value])},{immediate:!0});const y=V(()=>u.value?Wr.find(b=>b.collection===u.value.collection&&b.action===u.value.action):null);return{isOpen:o,permission:u,role:r,loading:i,modalTitle:p,tabs:f,currentTab:_,currentTabInfo:v,appMinimal:y,close:g};async function g(){u.value&&Xr(u.value)?(await me.delete(`/permissions/${u.value.id}`),n.replace(`/settings/roles/${e.roleKey||"public"}`)):n.push(`/settings/roles/${e.roleKey||"public"}`)}async function h(){var b;i.value=!0;try{if(e.roleKey){const I=await me.get(`/roles/${e.roleKey}`);r.value=I.data.data}const S=await me.get(`/permissions/${e.permissionKey}`);u.value=S.data.data}catch(S){((b=S==null?void 0:S.response)==null?void 0:b.status)===403?n.push(`/settings/roles/${e.roleKey||"public"}`):Pe(S)}finally{i.value=!1}}}}),bO={key:0,class:"content"};function wO(e,t,n,l,o,u){const r=c("tabs"),i=c("permissions"),s=c("fields"),p=c("validation"),f=c("presets"),_=c("actions"),v=c("v-drawer");return m(),F(v,{title:e.modalTitle,"model-value":e.isOpen,class:"new-collection",persistent:"","sidebar-label":e.currentTabInfo&&e.currentTabInfo.text,onCancel:e.close},at({default:d(()=>[e.loading?M("",!0):(m(),A("div",bO,[e.currentTab[0]==="permissions"?(m(),F(i,{key:0,permission:e.permission,"onUpdate:permission":t[1]||(t[1]=y=>e.permission=y),role:e.role,"app-minimal":e.appMinimal&&e.appMinimal.permissions},null,8,["permission","role","app-minimal"])):M("",!0),e.currentTab[0]==="fields"?(m(),F(s,{key:1,permission:e.permission,"onUpdate:permission":t[2]||(t[2]=y=>e.permission=y),role:e.role,"app-minimal":e.appMinimal&&e.appMinimal.fields},null,8,["permission","role","app-minimal"])):M("",!0),e.currentTab[0]==="validation"?(m(),F(p,{key:2,permission:e.permission,"onUpdate:permission":t[3]||(t[3]=y=>e.permission=y),role:e.role,"app-minimal":e.appMinimal&&e.appMinimal.validation},null,8,["permission","role","app-minimal"])):M("",!0),e.currentTab[0]==="presets"?(m(),F(f,{key:3,permission:e.permission,"onUpdate:permission":t[4]||(t[4]=y=>e.permission=y),role:e.role,"app-minimal":e.appMinimal&&e.appMinimal.presets},null,8,["permission","role","app-minimal"])):M("",!0)]))]),_:2},[e.loading?void 0:{name:"sidebar",fn:d(()=>[a(r,{"current-tab":e.currentTab,"onUpdate:current-tab":t[0]||(t[0]=y=>e.currentTab=y),tabs:e.tabs},null,8,["current-tab","tabs"])])},e.loading?void 0:{name:"actions",fn:d(()=>[a(_,{"role-key":e.roleKey,permission:e.permission,onRefresh:t[5]||(t[5]=y=>e.$emit("refresh",Number(e.permissionKey)))},null,8,["role-key","permission"])])}]),1032,["title","model-value","sidebar-label","onCancel"])}var Yr=H(gO,[["render",wO],["__scopeId","data-v-16a8989c"]]);const kO=Z({name:"RolesItem",components:{SettingsNavigation:zt,PermissionsOverview:Zr,RoleInfoSidebarDetail:Hr},props:{permissionKey:{type:String,default:null}},setup(){const{t:e}=ae();return{t:e}}}),$O={class:"roles"};function CO(e,t,n,l,o,u){const r=c("v-icon"),i=c("v-button"),s=c("settings-navigation"),p=c("permissions-overview"),f=c("role-info-sidebar-detail"),_=c("private-view");return m(),F(_,{title:e.t("public_label")},{headline:d(()=>[P(w(e.t("settings_permissions")),1)]),"title-outer:prepend":d(()=>[a(i,{class:"header-icon",rounded:"",icon:"",exact:"",to:"/settings/roles/"},{default:d(()=>[a(r,{name:"arrow_back"})]),_:1})]),navigation:d(()=>[a(s)]),sidebar:d(()=>[a(f,{role:null})]),default:d(()=>[$("div",$O,[a(p,{role:null,permission:e.permissionKey},null,8,["permission"])])]),_:1},8,["title"])}var SO=H(kO,[["render",CO],["__scopeId","data-v-1df5a737"]]);const FO=Z({name:"WebhooksCollection",components:{SettingsNavigation:zt,LayoutSidebarDetail:zn,SearchInput:Fn},setup(){const{t:e}=ae(),t=D(),n=D([]),{layout:l,layoutOptions:o,layoutQuery:u,filter:r,search:i}=qn(D("directus_webhooks")),{addNewLink:s,batchLink:p}=b(),{confirmDelete:f,deleting:_,batchDelete:v}=h(),{layoutWrapper:y}=vn(l);return{t:e,addNewLink:s,batchDelete:v,batchLink:p,confirmDelete:f,deleting:_,layoutRef:t,layoutWrapper:y,filter:r,selection:n,layoutOptions:o,layoutQuery:u,layout:l,search:i,clearFilters:S};async function g(){var I,E,R;await((R=(E=(I=t.value)==null?void 0:I.state)==null?void 0:E.refresh)==null?void 0:R.call(E))}function h(){const I=D(!1),E=D(!1);return{confirmDelete:I,deleting:E,batchDelete:R};async function R(){E.value=!0,I.value=!1;const O=n.value;await me.delete(`/webhooks/${O}`),await g(),n.value=[],E.value=!1,I.value=!1}}function b(){const I=V(()=>"/settings/webhooks/+"),E=V(()=>`/settings/webhooks/${n.value}`);return{addNewLink:I,batchLink:E}}function S(){r.value=null,i.value=null}}}),VO={class:"page-description"};function AO(e,t,n,l,o,u){const r=c("v-breadcrumb"),i=c("v-icon"),s=c("v-button"),p=c("settings-navigation"),f=c("search-input"),_=c("v-card-title"),v=c("v-card-actions"),y=c("v-card"),g=c("v-dialog"),h=c("v-info"),b=c("sidebar-detail"),S=c("layout-sidebar-detail"),I=c("private-view"),E=Fe("tooltip"),R=Fe("md");return m(),F(He(e.layoutWrapper),{ref:"layoutRef",selection:e.selection,"onUpdate:selection":t[5]||(t[5]=O=>e.selection=O),"layout-options":e.layoutOptions,"onUpdate:layout-options":t[6]||(t[6]=O=>e.layoutOptions=O),"layout-query":e.layoutQuery,"onUpdate:layout-query":t[7]||(t[7]=O=>e.layoutQuery=O),filter:e.filter,search:e.search,collection:"directus_webhooks"},{default:d(({layoutState:O})=>[a(I,{title:e.t("webhooks")},{headline:d(()=>[a(r,{items:[{name:e.t("settings"),to:"/settings"}]},null,8,["items"])]),"title-outer:prepend":d(()=>[a(s,{class:"header-icon",rounded:"",disabled:"",icon:"",secondary:""},{default:d(()=>[a(i,{name:"anchor"})]),_:1})]),navigation:d(()=>[a(p)]),actions:d(()=>[a(f,{modelValue:e.search,"onUpdate:modelValue":t[0]||(t[0]=L=>e.search=L),collection:"directus_webhooks"},null,8,["modelValue"]),e.selection.length>0?(m(),F(g,{key:0,modelValue:e.confirmDelete,"onUpdate:modelValue":t[2]||(t[2]=L=>e.confirmDelete=L),onEsc:t[3]||(t[3]=L=>e.confirmDelete=!1)},{activator:d(({on:L})=>[a(s,{rounded:"",icon:"",class:"action-delete",secondary:"",onClick:L},{default:d(()=>[a(i,{name:"delete"})]),_:2},1032,["onClick"])]),default:d(()=>[a(y,null,{default:d(()=>[a(_,null,{default:d(()=>[P(w(e.t("batch_delete_confirm",e.selection.length)),1)]),_:1}),a(v,null,{default:d(()=>[a(s,{secondary:"",onClick:t[1]||(t[1]=L=>e.confirmDelete=!1)},{default:d(()=>[P(w(e.t("cancel")),1)]),_:1}),a(s,{kind:"danger",loading:e.deleting,onClick:e.batchDelete},{default:d(()=>[P(w(e.t("delete_label")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])):M("",!0),e.selection.length>0?ie((m(),F(s,{key:1,rounded:"",icon:"",secondary:"",to:e.batchLink},{default:d(()=>[a(i,{name:"edit"})]),_:1},8,["to"])),[[E,e.t("edit"),void 0,{bottom:!0}]]):M("",!0),ie(a(s,{rounded:"",icon:"",to:e.addNewLink},{default:d(()=>[a(i,{name:"add"})]),_:1},8,["to"]),[[E,e.t("create_webhook"),void 0,{bottom:!0}]])]),sidebar:d(()=>[a(b,{icon:"info_outline",title:e.t("information"),close:""},{default:d(()=>[ie($("div",VO,null,512),[[R,e.t("page_help_settings_webhooks_collection")]])]),_:1},8,["title"]),a(S,{modelValue:e.layout,"onUpdate:modelValue":t[4]||(t[4]=L=>e.layout=L)},{default:d(()=>[(m(),F(He(`layout-options-${e.layout}`),nt(lt(O)),null,16))]),_:2},1032,["modelValue"]),(m(),F(He(`layout-sidebar-${e.layout}`),nt(lt(O)),null,16))]),default:d(()=>[(m(),F(He(`layout-${e.layout}`),ft({class:"layout"},O),{"no-results":d(()=>[a(h,{title:e.t("no_results"),icon:"search",center:""},{append:d(()=>[a(s,{onClick:e.clearFilters},{default:d(()=>[P(w(e.t("clear_filters")),1)]),_:1},8,["onClick"])]),default:d(()=>[P(w(e.t("no_results_copy"))+" ",1)]),_:1},8,["title"])]),"no-items":d(()=>[a(h,{title:e.t("webhooks_count",0),icon:"anchor",center:"",type:"info"},{append:d(()=>[a(s,{to:{path:"/settings/webhooks/+"}},{default:d(()=>[P(w(e.t("create_webhook")),1)]),_:1})]),default:d(()=>[P(w(e.t("no_webhooks_copy"))+" ",1)]),_:1},8,["title"])]),_:2},1040))]),_:2},1032,["title"])]),_:1},8,["selection","layout-options","layout-query","filter","search"])}var IO=H(FO,[["render",AO],["__scopeId","data-v-2f24d6f4"]]);const EO=Z({name:"WebhooksItem",components:{SettingsNavigation:zt,RevisionsDrawerDetail:al,SaveOptions:zl},props:{primaryKey:{type:String,required:!0}},setup(e){const{t}=ae(),n=it(),{primaryKey:l}=ze(e),{isNew:o,edits:u,hasEdits:r,item:i,saving:s,loading:p,error:f,save:_,remove:v,deleting:y,saveAsCopy:g,isBatch:h,validationErrors:b}=En(D("directus_webhooks"),l),S=D(!1),I=V(()=>{var K;return p.value?t("loading"):o.value?t("creating_webhook"):(K=i.value)==null?void 0:K.name});rt("meta+s",()=>{r.value&&L()}),rt("meta+shift+s",()=>{r.value&&q()});const{confirmLeave:E,leaveTo:R}=sn(r);return{t,item:i,loading:p,error:f,isNew:o,edits:u,hasEdits:r,saving:s,saveAndQuit:O,deleteAndQuit:j,confirmDelete:S,deleting:y,saveAndStay:L,saveAndAddNew:q,saveAsCopyAndNavigate:T,discardAndStay:B,isBatch:h,title:I,validationErrors:b,confirmLeave:E,leaveTo:R,discardAndLeave:U};async function O(){await _(),n.push("/settings/webhooks")}async function L(){await _()}async function q(){await _(),n.push("/settings/webhooks/+")}async function T(){const K=await g();K&&n.push(`/settings/webhooks/${K}`)}async function j(){await v(),n.replace("/settings/webhooks")}function U(){!R.value||(u.value={},E.value=!1,n.push(R.value))}function B(){u.value={},E.value=!1}}}),DO={class:"page-description"};function PO(e,t,n,l,o,u){const r=c("v-breadcrumb"),i=c("v-icon"),s=c("v-button"),p=c("v-card-title"),f=c("v-card-actions"),_=c("v-card"),v=c("v-dialog"),y=c("save-options"),g=c("settings-navigation"),h=c("v-form"),b=c("sidebar-detail"),S=c("revisions-drawer-detail"),I=c("v-card-text"),E=c("private-view"),R=Fe("md");return m(),F(E,{title:e.title},{headline:d(()=>[a(r,{items:[{name:e.t("settings_webhooks"),to:"/settings/webhooks"}]},null,8,["items"])]),"title-outer:prepend":d(()=>[a(s,{class:"header-icon",rounded:"",icon:"",exact:"",to:"/settings/webhooks/"},{default:d(()=>[a(i,{name:"arrow_back"})]),_:1})]),actions:d(()=>[a(v,{modelValue:e.confirmDelete,"onUpdate:modelValue":t[1]||(t[1]=O=>e.confirmDelete=O),onEsc:t[2]||(t[2]=O=>e.confirmDelete=!1)},{activator:d(({on:O})=>[a(s,{rounded:"",icon:"",class:"action-delete",disabled:e.item===null,onClick:O},{default:d(()=>[a(i,{name:"delete"})]),_:2},1032,["disabled","onClick"])]),default:d(()=>[a(_,null,{default:d(()=>[a(p,null,{default:d(()=>[P(w(e.t("delete_are_you_sure")),1)]),_:1}),a(f,null,{default:d(()=>[a(s,{secondary:"",onClick:t[0]||(t[0]=O=>e.confirmDelete=!1)},{default:d(()=>[P(w(e.t("cancel")),1)]),_:1}),a(s,{kind:"danger",loading:e.deleting,onClick:e.deleteAndQuit},{default:d(()=>[P(w(e.t("delete_label")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),a(s,{rounded:"",icon:"",loading:e.saving,disabled:e.hasEdits===!1,onClick:e.saveAndQuit},{"append-outer":d(()=>[e.hasEdits===!0?(m(),F(y,{key:0,onSaveAndStay:e.saveAndStay,onSaveAndAddNew:e.saveAndAddNew,onSaveAsCopy:e.saveAsCopyAndNavigate,onDiscardAndStay:e.discardAndStay},null,8,["onSaveAndStay","onSaveAndAddNew","onSaveAsCopy","onDiscardAndStay"])):M("",!0)]),default:d(()=>[a(i,{name:"check"})]),_:1},8,["loading","disabled","onClick"])]),navigation:d(()=>[a(g)]),sidebar:d(()=>[a(b,{icon:"info_outline",title:e.t("information"),close:""},{default:d(()=>[ie($("div",DO,null,512),[[R,e.t("page_help_settings_webhooks_item")]])]),_:1},8,["title"]),e.isNew===!1?(m(),F(S,{key:0,collection:"directus_webhooks","primary-key":e.primaryKey},null,8,["primary-key"])):M("",!0)]),default:d(()=>[a(h,{modelValue:e.edits,"onUpdate:modelValue":t[3]||(t[3]=O=>e.edits=O),loading:e.loading,"initial-values":e.item,collection:"directus_webhooks","batch-mode":e.isBatch,"primary-key":e.primaryKey,"validation-errors":e.validationErrors},null,8,["modelValue","loading","initial-values","batch-mode","primary-key","validation-errors"]),a(v,{modelValue:e.confirmLeave,"onUpdate:modelValue":t[5]||(t[5]=O=>e.confirmLeave=O),onEsc:t[6]||(t[6]=O=>e.confirmLeave=!1)},{default:d(()=>[a(_,null,{default:d(()=>[a(p,null,{default:d(()=>[P(w(e.t("unsaved_changes")),1)]),_:1}),a(I,null,{default:d(()=>[P(w(e.t("unsaved_changes_copy")),1)]),_:1}),a(f,null,{default:d(()=>[a(s,{secondary:"",onClick:e.discardAndLeave},{default:d(()=>[P(w(e.t("discard_changes")),1)]),_:1},8,["onClick"]),a(s,{onClick:t[4]||(t[4]=O=>e.confirmLeave=!1)},{default:d(()=>[P(w(e.t("keep_editing")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["title"])}var TO=H(EO,[["render",PO],["__scopeId","data-v-c70f9d00"]]);const OO={class:"drawer-content"},LO=Z({props:{modelValue:{type:Boolean,default:!1},translationString:{default:()=>null}},emits:["update:modelValue","savedKey"],setup(e,{emit:t}){const n=e,{t:l}=ae(),o=D(!1),u=D({key:null,translations:null}),r=V({get(){return u.value},set(h){if(u.value.key=h.key,!h.translations){u.value.translations=null;return}u.value.translations=[...new Map(h.translations.map(b=>[b.language,b])).values()]}}),i=D({key:null,translations:null}),s=V(()=>[{field:"key",name:"$t:key",type:"string",meta:{interface:"input",width:"full",required:!0,options:{placeholder:"$t:translation_string_key_placeholder",font:"monospace",dbSafe:!0}}},{field:"translations",name:"$t:translations",type:"json",meta:{interface:"list",width:"full",required:!0,options:{placeholder:"$t:translation_string_translations_placeholder",template:"{{ language }} {{ translation }}",fields:[{field:"language",name:"$t:language",type:"string",meta:{interface:"system-language",width:"half",display:"formatted-value",display_options:{font:"monospace",color:"var(--primary)",background:"var(--primary-alt)"}}},{field:"translation",name:"$t:translation",type:"string",meta:{interface:"input",width:"half",options:{placeholder:"$t:field_options.directus_collections.translation_placeholder"}}}]}}}]),{translationStrings:p,updating:f,update:_}=ol();he(()=>n.translationString,h=>{var b,S,I,E;u.value.key=(b=h==null?void 0:h.key)!=null?b:null,u.value.translations=(S=h==null?void 0:h.translations)!=null?S:null,i.value.key=(I=h==null?void 0:h.key)!=null?I:null,i.value.translations=(E=h==null?void 0:h.translations)!=null?E:null},{immediate:!0});function v(){u.value.key=null,u.value.translations=null,i.value.key=null,i.value.translations=null,t("update:modelValue",!1)}async function y(){const h=p.value?[...p.value,u.value]:[u.value];try{await _(h),t("savedKey",u.value.key),v()}catch{}}async function g(){const h=p.value?p.value.filter(b=>b.key!==u.value.key):[];try{await _(h),o.value=!1,v()}catch{}}return(h,b)=>{const S=c("v-icon"),I=c("v-button"),E=c("v-card-title"),R=c("v-card-actions"),O=c("v-card"),L=c("v-dialog"),q=c("v-form"),T=c("v-drawer"),j=Fe("tooltip");return m(),F(T,{title:e.translationString?C(l)("edit_translation_string"):C(l)("create_translation_string"),icon:"translate","model-value":e.modelValue,"onUpdate:modelValue":v,onCancel:v},{actions:d(()=>[e.translationString?(m(),F(L,{key:0,modelValue:o.value,"onUpdate:modelValue":b[1]||(b[1]=U=>o.value=U),onEsc:b[2]||(b[2]=U=>o.value=!1)},{activator:d(({on:U})=>[a(I,{class:"delete-action",rounded:"",icon:"",secondary:"",onClick:U},{default:d(()=>[a(S,{name:"delete"})]),_:2},1032,["onClick"])]),default:d(()=>[a(O,null,{default:d(()=>[a(E,null,{default:d(()=>[P(w(C(l)("delete_translation_string_copy",{key:u.value.key})),1)]),_:1}),a(R,null,{default:d(()=>[a(I,{secondary:"",onClick:b[0]||(b[0]=U=>o.value=!1)},{default:d(()=>[P(w(C(l)("cancel")),1)]),_:1}),a(I,{kind:"danger",loading:C(f),onClick:g},{default:d(()=>[P(w(C(l)("delete_label")),1)]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"])):M("",!0),ie(a(I,{loading:C(f),disabled:!u.value.key||!u.value.translations||C(z.exports.isEqual)(u.value,i.value),icon:"",rounded:"",onClick:y},{default:d(()=>[a(S,{name:"check"})]),_:1},8,["loading","disabled"]),[[j,C(l)("save"),void 0,{bottom:!0}]])]),default:d(()=>[$("div",OO,[a(q,{modelValue:C(r),"onUpdate:modelValue":b[3]||(b[3]=U=>ut(r)?r.value=U:null),autofocus:!e.translationString,"initial-values":i.value,fields:C(s)},null,8,["modelValue","autofocus","initial-values","fields"])])]),_:1},8,["title","model-value"])}}});var Qr=H(LO,[["__scopeId","data-v-a856c408"]]);const jO={key:1,class:"translation-strings-display"},RO={key:0,class:"translation-display-text"},MO={class:"header"},UO={class:"lang"},NO={key:1,class:"translation-item-text"},BO=Z({props:{translations:{default:()=>null},hideDisplayText:{type:Boolean,default:!1}},setup(e){const t=e,{t:n}=ae(),{currentUser:l}=Ye(),o=V(()=>{var u;return!t.translations||t.translations.length===0?null:l&&"id"in l&&(u=t.translations.find(r=>r.language===l.language))!=null?u:t.translations[0]});return(u,r)=>{const i=c("v-icon"),s=c("v-list-item-content"),p=c("v-list-item"),f=c("v-list"),_=c("v-menu"),v=Fe("tooltip");return!C(o)&&!e.hideDisplayText?(m(),F(C(un),{key:0})):(m(),A("div",jO,[e.hideDisplayText?M("",!0):(m(),A("span",RO,w(C(o).translation),1)),a(_,{class:"menu","show-arrow":"",disabled:!e.translations||e.translations.length===0},{activator:d(({toggle:y,deactivate:g,active:h})=>[ie(a(i,{small:!e.hideDisplayText,class:de(["icon",{active:h}]),name:"info",tabindex:"-1",onClick:Te(y,["stop"]),onBlur:g},null,8,["small","class","onClick","onBlur"]),[[v,e.translations&&e.translations.length===0&&C(n)("no_translations"),void 0,{bottom:!0}]])]),default:d(()=>[a(f,{class:"translations"},{default:d(()=>[(m(!0),A(se,null,Ve(e.translations,y=>(m(),F(p,{key:y.language},{default:d(()=>[a(s,null,{default:d(()=>[$("div",MO,[$("div",UO,[a(i,{name:"translate",small:""}),P(" "+w(y.language),1)])]),y.translation?(m(),A("div",NO,w(y.translation),1)):(m(),F(C(un),{key:0}))]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1},8,["disabled"])]))}}});var xr=H(BO,[["__scopeId","data-v-a9ceeca0"]]);const qO={class:"page-description"},zO={class:"translation-strings"},KO={class:"key"},WO=Z({setup(e){const{t}=ae(),n=[{text:t("key"),value:"key",sortable:!1,width:250,align:"left"},{text:t("translations"),value:"translations",sortable:!1,width:800,align:"left"}],l=D(!1),o=D(null),{loading:u,translationStrings:r}=ol(),i=V(()=>r.value?r.value:[]);function s({item:f}){o.value=f||null,l.value=!0}function p(f){f||(o.value=null,l.value=f)}return(f,_)=>{const v=c("v-breadcrumb"),y=c("v-icon"),g=c("v-button"),h=c("sidebar-detail"),b=c("v-info"),S=c("v-table"),I=c("private-view"),E=Fe("tooltip"),R=Fe("md");return m(),F(I,{title:C(t)("settings_translation_strings")},{headline:d(()=>[a(v,{items:[{name:C(t)("settings"),to:"/settings"}]},null,8,["items"])]),"title-outer:prepend":d(()=>[a(g,{class:"header-icon",rounded:"",disabled:"",icon:"",secondary:""},{default:d(()=>[a(y,{name:"translate"})]),_:1})]),actions:d(()=>[ie(a(g,{rounded:"",icon:"",onClick:s},{default:d(()=>[a(y,{name:"add"})]),_:1},512),[[E,C(t)("create_translation_string"),void 0,{bottom:!0}]])]),navigation:d(()=>[a(zt)]),sidebar:d(()=>[a(h,{icon:"info_outline",title:C(t)("information"),close:""},{default:d(()=>[ie($("div",qO,null,512),[[R,C(t)("page_help_settings_translation_strings_collection")]])]),_:1},8,["title"])]),default:d(()=>[$("div",zO,[!C(u)&&C(i).length===0?(m(),F(b,{key:0,icon:"translate",title:C(t)("no_translation_string"),center:""},{append:d(()=>[a(g,{onClick:s},{default:d(()=>[P(w(C(t)("create_translation_string")),1)]),_:1})]),default:d(()=>[P(w(C(t)("no_translation_string_copy"))+" ",1)]),_:1},8,["title"])):(m(),F(S,{key:1,headers:n,"fixed-header":"","item-key":"key",items:C(i),loading:C(u),"onClick:row":s},{["item.key"]:d(({item:O})=>[$("span",KO,w(O.key),1)]),["item.translations"]:d(({item:O})=>[a(xr,{translations:O.translations},null,8,["translations"])]),_:2},1032,["items","loading"]))]),a(Qr,{"model-value":l.value,"translation-string":o.value,"onUpdate:modelValue":p},null,8,["model-value","translation-string"])]),_:1},8,["title"])}}});var HO=H(WO,[["__scopeId","data-v-05aea698"]]),GO=kn({id:"settings",name:"$t:settings",icon:"settings",color:"var(--primary)",routes:[{path:"",redirect:"/settings/data-model"},{name:"settings-project",path:"project",component:WP},{path:"data-model",component:hn,children:[{name:"settings-collections",path:"",component:kA,beforeEnter(){Xe().hydrate()},children:[{path:"+",name:"settings-add-new",components:{add:yP}}]},{name:"settings-fields",path:":collection",component:lP,async beforeEnter(e){const n=Xe().getCollection(e.params.collection);if(!n)return{name:"settings-not-found",params:{_:e.path.split("/").slice(1)}};(n==null?void 0:n.meta)||await me.patch(`/collections/${e.params.collection}`,{meta:{}}),Me().hydrate()},props:e=>({collection:e.params.collection,field:e.params.field,type:e.query.type}),children:[{path:":field",name:"settings-fields-field",components:{field:$D}}]}]},{path:"roles",component:hn,children:[{name:"settings-roles-collection",path:"",component:sT,children:[{path:"+",name:"settings-add-new-role",components:{add:eT}}]},{path:"public",component:SO,props:!0,children:[{path:":permissionKey",components:{permissionsDetail:Yr}}]},{name:"settings-roles-item",path:":primaryKey",component:GT,props:!0,children:[{path:":permissionKey",components:{permissionsDetail:Yr}}]}]},{path:"presets",component:hn,children:[{name:"settings-presets-collection",path:"",component:AP},{name:"settings-presets-item",path:":id",component:jP,props:!0}]},{path:"webhooks",component:hn,children:[{name:"settings-webhooks-collection",path:"",component:IO},{name:"settings-webhooks-item",path:":primaryKey",component:TO,props:!0}]},{path:"translation-strings",component:hn,children:[{name:"settings-translation-strings-collection",path:"",component:HO}]},{name:"settings-not-found",path:":_(.+)+",component:wP}],preRegisterCheck:e=>e.role.admin_access===!0}),ZO=Object.freeze(Object.defineProperty({__proto__:null,default:GO},Symbol.toStringTag,{value:"Module"}));let Jn=null,cn=null;function es(){return Jn===null&&(Jn=D(null)),cn===null&&(cn=D(!1)),(cn==null?void 0:cn.value)===!1&&e(),{roles:Jn,loading:cn};async function e(){if(!cn||!Jn)return;Jn.value||(cn.value=!0);const t=await me.get("/roles",{params:{sort:"name"}});Jn.value=t.data.data,cn.value=!1}}const JO=Z({props:{role:{type:Object,required:!0},lastAdmin:{type:Boolean,default:!1}},setup(e){const{t}=ae(),{isAdmin:n}=Ye(),l=V(()=>e.role.id!=="public"&&e.lastAdmin?{name:"settings-roles-item",params:{primaryKey:e.role.id,lastAdminRoleId:e.role.id}}:`/settings/roles/${e.role.id}`);return{t,isAdmin:n,settingLink:l}}});function XO(e,t,n,l,o,u){const r=c("v-icon"),i=c("v-list-item-icon"),s=c("v-list-item-content"),p=c("v-text-overflow"),f=c("v-list-item"),_=c("v-list"),v=c("v-menu"),y=Fe("context-menu");return ie((m(),F(f,{to:`/users/roles/${e.role.id}`},{default:d(()=>[a(i,null,{default:d(()=>[a(r,{name:e.role.icon},null,8,["name"])]),_:1}),a(s,null,{default:d(()=>[P(w(e.role.name),1)]),_:1}),e.isAdmin?(m(),F(v,{key:0,ref:"contextMenu","show-arrow":"",placement:"bottom-start"},{default:d(()=>[a(_,null,{default:d(()=>[a(f,{clickable:"",to:e.settingLink},{default:d(()=>[a(i,null,{default:d(()=>[a(r,{name:"list_alt"})]),_:1}),a(s,null,{default:d(()=>[a(p,{text:e.t("edit_role")},null,8,["text"])]),_:1})]),_:1},8,["to"])]),_:1})]),_:1},512)):M("",!0)]),_:1},8,["to"])),[[y,"contextMenu"]])}var YO=H(JO,[["render",XO]]);const QO=Z({components:{NavigationRole:YO},props:{currentRole:{type:String,default:null}},setup(){const{t:e}=ae(),{roles:t,loading:n}=es(),l=V(()=>{if(!t.value)return null;const o=t.value.filter(u=>u.admin_access===!0);return o.length===1?o[0].id:null});return{t:e,roles:t,loading:n,lastAdminRoleId:l}}});function xO(e,t,n,l,o,u){const r=c("v-icon"),i=c("v-list-item-icon"),s=c("v-list-item-content"),p=c("v-list-item"),f=c("v-divider"),_=c("v-skeleton-loader"),v=c("navigation-role"),y=c("v-list");return m(),F(y,{nav:""},{default:d(()=>[a(p,{to:"/users",exact:"",active:e.currentRole===null},{default:d(()=>[a(i,null,{default:d(()=>[a(r,{name:"folder_shared"})]),_:1}),a(s,null,{default:d(()=>[P(w(e.t("all_users")),1)]),_:1})]),_:1},8,["active"]),e.roles&&e.roles.length>0||e.loading?(m(),F(f,{key:0})):M("",!0),e.loading?(m(),A(se,{key:1},Ve(4,g=>a(p,{key:g},{default:d(()=>[a(_,{type:"list-item-icon"})]),_:2},1024)),64)):M("",!0),(m(!0),A(se,null,Ve(e.roles,g=>(m(),F(v,{key:g.id,role:g,"last-admin":e.lastAdminRoleId===g.id,active:e.currentRole===g.id},null,8,["role","last-admin","active"]))),128))]),_:1})}var ts=H(QO,[["render",xO],["__scopeId","data-v-40ea5313"]]);const eL=Z({name:"UsersCollection",components:{UsersNavigation:ts,LayoutSidebarDetail:zn,SearchInput:Fn,UsersInvite:Jr,DrawerBatch:Bl},props:{role:{type:String,default:null}},setup(e){const{t}=ae(),{roles:n}=es(),l=D(!1),o=Ye(),u=Vt(),r=D(),i=D([]),{layout:s,layoutOptions:p,layoutQuery:f,filter:_,search:v,resetPreset:y}=qn(D("directus_users")),{addNewLink:g}=Y(),{confirmDelete:h,deleting:b,batchDelete:S,error:I,batchEditActive:E}=J(),{breadcrumb:R,title:O}=W(),L=V(()=>e.role!==null?{_and:[{role:{_eq:e.role}}]}:null),q=V(()=>{var te,re;if(!!((re=(te=o.currentUser)==null?void 0:te.role)==null?void 0:re.admin_access))return!0;const ee=u.permissions.find(ye=>ye.collection==="directus_users"&&ye.action==="create"),le=u.permissions.find(ye=>ye.collection==="directus_roles"&&ye.action==="read");return!!ee&&!!le}),{layoutWrapper:T}=vn(s),{batchEditAllowed:j,batchDeleteAllowed:U,createAllowed:B}=Q();return Sl(()=>{i.value=[]}),ro(()=>{i.value=[]}),{t,canInviteUsers:q,addNewLink:g,breadcrumb:R,title:O,layoutRef:r,layoutWrapper:T,selection:i,layoutOptions:p,layoutQuery:f,layout:s,search:v,clearFilters:G,userInviteModalActive:l,refresh:K,batchEditAllowed:j,batchDeleteAllowed:U,createAllowed:B,resetPreset:y,confirmDelete:h,deleting:b,batchDelete:S,deleteError:I,batchEditActive:E,filter:_,roleFilter:L,mergeFilters:jl};async function K(){var X,ee,le;await((le=(ee=(X=r.value)==null?void 0:X.state)==null?void 0:ee.refresh)==null?void 0:le.call(ee))}function J(){const X=D(!1),ee=D(!1),le=D(!1),te=D();return{batchEditActive:le,confirmDelete:X,deleting:ee,batchDelete:re,error:te};async function re(){ee.value=!0;const ye=i.value;try{await me.delete("/users",{data:ye}),await K(),i.value=[],X.value=!1}catch(fe){te.value=fe,Pe(fe)}finally{ee.value=!1}}}function Y(){return{addNewLink:V(()=>e.role?`/users/roles/${e.role}/+`:"/users/+")}}function W(){const X=V(()=>e.role?[{name:t("user_directory"),to:"/users"}]:null),ee=V(()=>{var le,te;return e.role?(te=(le=n.value)==null?void 0:le.find(re=>re.id===e.role))==null?void 0:te.name:t("user_directory")});return{breadcrumb:X,title:ee}}function G(){_.value=null,v.value=null}function Q(){const X=V(()=>{var ye;return((ye=o==null?void 0:o.currentUser)==null?void 0:ye.role.admin_access)===!0?!0:!!u.permissions.find(fe=>fe.action==="update"&&fe.collection==="directus_users")}),ee=V(()=>{var ye;return((ye=o==null?void 0:o.currentUser)==null?void 0:ye.role.admin_access)===!0?!0:!!u.permissions.find(fe=>fe.action==="delete"&&fe.collection==="directus_users")}),le=V(()=>{var ye;return((ye=o==null?void 0:o.currentUser)==null?void 0:ye.role.admin_access)===!0?!0:!!u.permissions.find(fe=>fe.action==="create"&&fe.collection==="directus_users")});return{batchEditAllowed:X,batchDeleteAllowed:ee,createAllowed:le}}}}),tL={class:"page-description"};function nL(e,t,n,l,o,u){const r=c("v-breadcrumb"),i=c("v-icon"),s=c("v-button"),p=c("search-input"),f=c("v-card-title"),_=c("v-card-actions"),v=c("v-card"),y=c("v-dialog"),g=c("users-navigation"),h=c("users-invite"),b=c("v-info"),S=c("drawer-batch"),I=c("sidebar-detail"),E=c("layout-sidebar-detail"),R=c("export-sidebar-detail"),O=c("private-view"),L=Fe("tooltip"),q=Fe("md");return m(),F(He(e.layoutWrapper),{ref:"layoutRef",selection:e.selection,"onUpdate:selection":t[10]||(t[10]=T=>e.selection=T),"layout-options":e.layoutOptions,"onUpdate:layout-options":t[11]||(t[11]=T=>e.layoutOptions=T),"layout-query":e.layoutQuery,"onUpdate:layout-query":t[12]||(t[12]=T=>e.layoutQuery=T),filter:e.mergeFilters(e.filter,e.roleFilter),"filter-user":e.filter,"filter-system":e.roleFilter,search:e.search,collection:"directus_users","reset-preset":e.resetPreset},{default:d(({layoutState:T})=>[a(O,{title:e.title},at({"title-outer:prepend":d(()=>[a(s,{class:"header-icon",rounded:"",disabled:"",icon:"",secondary:""},{default:d(()=>[a(i,{name:"people_alt"})]),_:1})]),"actions:prepend":d(()=>[(m(),F(He(`layout-actions-${e.layout}`),nt(lt(T)),null,16))]),actions:d(()=>[a(p,{modelValue:e.search,"onUpdate:modelValue":t[0]||(t[0]=j=>e.search=j),filter:e.filter,"onUpdate:filter":t[1]||(t[1]=j=>e.filter=j),collection:"directus_users"},null,8,["modelValue","filter"]),e.selection.length>0?(m(),F(y,{key:0,modelValue:e.confirmDelete,"onUpdate:modelValue":t[3]||(t[3]=j=>e.confirmDelete=j),onEsc:t[4]||(t[4]=j=>e.confirmDelete=!1)},{activator:d(({on:j})=>[ie(a(s,{disabled:e.batchDeleteAllowed!==!0,rounded:"",icon:"",class:"action-delete",secondary:"",onClick:j},{default:d(()=>[a(i,{name:"delete"})]),_:2},1032,["disabled","onClick"]),[[L,e.batchDeleteAllowed?e.t("delete_label"):e.t("not_allowed"),void 0,{bottom:!0}]])]),default:d(()=>[a(v,null,{default:d(()=>[a(f,null,{default:d(()=>[P(w(e.t("batch_delete_confirm",e.selection.length)),1)]),_:1}),a(_,null,{default:d(()=>[a(s,{secondary:"",onClick:t[2]||(t[2]=j=>e.confirmDelete=!1)},{default:d(()=>[P(w(e.t("cancel")),1)]),_:1}),a(s,{kind:"danger",loading:e.deleting,onClick:e.batchDelete},{default:d(()=>[P(w(e.t("delete_label")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])):M("",!0),e.selection.length>0?ie((m(),F(s,{key:1,rounded:"",icon:"",secondary:"",disabled:e.batchEditAllowed===!1,onClick:t[5]||(t[5]=j=>e.batchEditActive=!0)},{default:d(()=>[a(i,{name:"edit"})]),_:1},8,["disabled"])),[[L,e.batchEditAllowed?e.t("edit"):e.t("not_allowed"),void 0,{bottom:!0}]]):M("",!0),e.canInviteUsers?ie((m(),F(s,{key:2,rounded:"",icon:"",secondary:"",onClick:t[6]||(t[6]=j=>e.userInviteModalActive=!0)},{default:d(()=>[a(i,{name:"person_add"})]),_:1},512)),[[L,e.t("invite_users"),void 0,{bottom:!0}]]):M("",!0),ie(a(s,{rounded:"",icon:"",to:e.addNewLink,disabled:e.createAllowed===!1},{default:d(()=>[a(i,{name:"add"})]),_:1},8,["to","disabled"]),[[L,e.createAllowed?e.t("create_item"):e.t("not_allowed"),void 0,{bottom:!0}]])]),navigation:d(()=>[a(g,{"current-role":e.role},null,8,["current-role"])]),sidebar:d(()=>[a(I,{icon:"info_outline",title:e.t("information"),close:""},{default:d(()=>[ie($("div",tL,null,512),[[q,e.t("page_help_users_collection")]])]),_:1},8,["title"]),a(E,{modelValue:e.layout,"onUpdate:modelValue":t[9]||(t[9]=j=>e.layout=j)},{default:d(()=>[(m(),F(He(`layout-options-${e.layout}`),nt(lt(T)),null,16))]),_:2},1032,["modelValue"]),(m(),F(He(`layout-sidebar-${e.layout}`),nt(lt(T)),null,16)),a(R,{collection:"directus_users","layout-query":e.layoutQuery,filter:e.mergeFilters(e.filter,e.roleFilter),search:e.search},null,8,["layout-query","filter","search"])]),default:d(()=>[e.canInviteUsers?(m(),F(h,{key:0,modelValue:e.userInviteModalActive,"onUpdate:modelValue":[t[7]||(t[7]=j=>e.userInviteModalActive=j),e.refresh]},null,8,["modelValue","onUpdate:modelValue"])):M("",!0),(m(),F(He(`layout-${e.layout}`),ft({class:"layout"},T),{"no-results":d(()=>[!e.filter&&!e.search?(m(),F(b,{key:0,title:e.t("user_count",0),icon:"people_alt",center:""},at({default:d(()=>[P(w(e.t("no_users_copy"))+" ",1)]),_:2},[e.canInviteUsers?{name:"append",fn:d(()=>[a(s,{to:e.role?{path:`/users/roles/${e.role}/+`}:{path:"/users/+"}},{default:d(()=>[P(w(e.t("create_user")),1)]),_:1},8,["to"])])}:void 0]),1032,["title"])):(m(),F(b,{key:1,title:e.t("no_results"),icon:"search",center:""},{append:d(()=>[a(s,{onClick:e.clearFilters},{default:d(()=>[P(w(e.t("clear_filters")),1)]),_:1},8,["onClick"])]),default:d(()=>[P(w(e.t("no_results_copy"))+" ",1)]),_:1},8,["title"]))]),"no-items":d(()=>[a(b,{title:e.t("user_count",0),icon:"people_alt",center:""},at({default:d(()=>[P(w(e.t("no_users_copy"))+" ",1)]),_:2},[e.canInviteUsers?{name:"append",fn:d(()=>[a(s,{to:e.role?{path:`/users/roles/${e.role}/+`}:{path:"/users/+"}},{default:d(()=>[P(w(e.t("create_user")),1)]),_:1},8,["to"])])}:void 0]),1032,["title"])]),_:2},1040)),a(S,{active:e.batchEditActive,"onUpdate:active":t[8]||(t[8]=j=>e.batchEditActive=j),"primary-keys":e.selection,collection:"directus_users",onRefresh:e.refresh},null,8,["active","primary-keys","onRefresh"])]),_:2},[e.breadcrumb?{name:"headline",fn:d(()=>[a(r,{items:e.breadcrumb},null,8,["items"])])}:void 0]),1032,["title"])]),_:1},8,["selection","layout-options","layout-query","filter","filter-user","filter-system","search","reset-preset"])}var ns=H(eL,[["render",nL],["__scopeId","data-v-36487765"]]);const lL={alias:"input",bigInteger:"input",binary:"input",boolean:"boolean",date:"datetime",dateTime:"datetime",decimal:"input",float:"input",integer:"input",json:"input-code",string:"input",text:"input-multiline",time:"datetime",timestamp:"datetime",uuid:"input",unknown:"input",csv:"tags",hash:"input-hash",geometry:"map","geometry.Point":"map","geometry.LineString":"map","geometry.Polygon":"map","geometry.MultiPoint":"map","geometry.MultiLineString":"map","geometry.MultiPolygon":"map"};function ls(e){return lL[e]||"input"}function os(e){return{formFields:V(()=>{let n=z.exports.cloneDeep(e.value);return n=n.filter(l=>{var u;return(((u=l.field)==null?void 0:u.startsWith("$"))||!1)===!1}),n=z.exports.orderBy(n,[l=>{var o;return!!((o=l.meta)==null?void 0:o.system)},"meta.sort","meta.id"],["desc","asc","asc"]),n=n.map((l,o)=>{var r;if(!l.meta)return l;let u=Lt(l.meta.interface);if(u===void 0&&(l.meta.interface=ls(l.type),u=Lt(l.meta.interface)),(u==null?void 0:u.hideLabel)===!0&&(l.hideLabel=!0),(u==null?void 0:u.hideLoader)===!0&&(l.hideLoader=!0),o!==0&&l.meta.width==="half"&&l.meta.hidden!==!0){const s=[...n].slice(0,o).reverse().find(p=>{var f;return((f=p.meta)==null?void 0:f.hidden)!==!0});s&&((r=s.meta)==null?void 0:r.width)==="half"&&(l.meta.width="half-right")}return l}),n=Dt(n),n})}}const oL=Z({props:{user:{type:Object,default:null},isNew:{type:Boolean,default:!1}},setup(e){const{t}=ae(),n=D("");return he([()=>e.user,()=>e.isNew],async()=>{!e.user||e.user.last_access&&(n.value=await wt(new Date(e.user.last_access),String(t("date-fns_date_short"))))},{immediate:!0}),{t,lastAccessDate:n}}}),aL={key:0},iL={key:0},rL={key:1},sL={key:2},dL={key:3},uL={key:4},cL={key:5},pL={class:"page-description"};function mL(e,t,n,l,o,u){const r=c("router-link"),i=c("v-divider"),s=c("sidebar-detail"),p=Fe("md");return m(),F(s,{icon:"info_outline",title:e.t("information"),close:""},{default:d(()=>[e.isNew===!1&&e.user?(m(),A("dl",aL,[e.user.id?(m(),A("div",iL,[$("dt",null,w(e.t("key")),1),$("dd",null,w(e.user.id),1)])):M("",!0),e.user.last_page?(m(),A("div",rL,[$("dt",null,w(e.t("last_page")),1),$("dd",null,[a(r,{to:e.user.last_page},{default:d(()=>[P(w(e.user.last_page),1)]),_:1},8,["to"])])])):M("",!0),e.user.last_access?(m(),A("div",sL,[$("dt",null,w(e.t("last_access")),1),$("dd",null,w(e.lastAccessDate),1)])):M("",!0),e.user.created_on?(m(),A("div",dL,[$("dt",null,w(e.t("created_on")),1),$("dd",null,w(e.user.created_on),1)])):M("",!0),e.user.created_by?(m(),A("div",uL,[$("dt",null,w(e.t("created_by")),1),$("dd",null,w(e.user.created_by),1)])):M("",!0),e.user.modified_on?(m(),A("div",cL,[$("dt",null,w(e.t("modified_on")),1),$("dd",null,w(e.user.modified_on),1)])):M("",!0)])):M("",!0),a(i),ie($("div",pL,null,512),[[p,e.t("page_help_users_item")]])]),_:1},8,["title"])}var fL=H(oL,[["render",mL],["__scopeId","data-v-f606e54a"]]);const _L=Z({name:"UsersItem",components:{UsersNavigation:ts,RevisionsDrawerDetail:al,SaveOptions:zl,CommentsSidebarDetail:Ao,UserInfoSidebarDetail:fL},props:{primaryKey:{type:String,required:!0},role:{type:String,default:null}},setup(e){const{t,locale:n}=ae(),l=it(),o=D(),u=Me(),r=Xe(),i=Ye(),s=pn(),{primaryKey:p}=ze(e),{breadcrumb:f}=$e(),{info:_}=_t("directus_users"),v=D(null),{isNew:y,edits:g,hasEdits:h,item:b,saving:S,loading:I,save:E,remove:R,deleting:O,saveAsCopy:L,isBatch:q,archive:T,archiving:j,isArchived:U,validationErrors:B}=En(D("directus_users"),p);e.role&&(g.value=ve({role:e.role},g.value));const K=V(()=>ue.value&&h.value),{confirmLeave:J,leaveTo:Y}=sn(h),W=D(!1),G=D(!1),Q=D(null),X=V(()=>{if(I.value===!0)return t("loading");if(y.value===!1&&b.value){const Ae=b.value;return Ft(Ae)}return t("adding_user")}),{loading:ee,avatarSrc:le,roleName:te}=Le(),{createAllowed:re,deleteAllowed:ye,archiveAllowed:fe,saveAllowed:ue,updateAllowed:_e,revisionsAllowed:ce,fields:oe}=Wn(D("directus_users"),b,y),ne=["id","external_id","last_page","created_on","created_by","modified_by","modified_on","last_access"],x=V(()=>oe.value.filter(Ae=>(!y.value&&["provider","external_identifier"].includes(Ae.field)&&(Ae.meta.readonly=!0),!ne.includes(Ae.field)))),{formFields:pe}=os(x),ge=V(()=>fe.value===!1?t("not_allowed"):U.value===!0?t("unarchive"):t("archive"));return rt("meta+s",be,o),rt("meta+shift+s",De,o),{t,router:l,title:X,item:b,loading:I,isNew:y,breadcrumb:f,edits:g,hasEdits:h,saving:S,saveAndQuit:we,deleteAndQuit:Ke,confirmDelete:W,deleting:O,saveAndStay:be,saveAndAddNew:De,saveAsCopyAndNavigate:qe,discardAndStay:Ce,isBatch:q,revisionsDrawerDetail:v,previewLoading:ee,avatarSrc:le,roleName:te,confirmLeave:J,leaveTo:Y,discardAndLeave:Ee,formFields:pe,createAllowed:re,deleteAllowed:ye,saveAllowed:ue,archiveAllowed:fe,isArchived:U,updateAllowed:_e,toggleArchive:Ne,confirmArchive:G,collectionInfo:_,archiving:j,archiveTooltip:ge,form:o,userName:Ft,revisionsAllowed:ce,validationErrors:B,revert:Se,avatarError:Q,isSavable:K};function $e(){return{breadcrumb:V(()=>[{name:t("user_directory"),to:"/users"}])}}async function we(){try{const Ae=await E();await je(Ae),await Ue(),l.push("/users")}catch{}}async function be(){var Ae,Oe;try{const Qe=await E();if(await je(Qe),(Oe=(Ae=v.value)==null?void 0:Ae.refresh)==null||Oe.call(Ae),e.primaryKey==="+"){const We=Qe.id;l.replace(`/users/${We}`)}}catch{}}async function De(){try{const Ae=await E();await je(Ae),await Ue(),l.push("/users/+")}catch{}}async function qe(){try{const Ae=await L();Ae&&l.push(`/users/${Ae}`)}catch{}}async function Ke(){try{await R(),l.replace("/users")}catch{}}async function je(Ae){var Qe,We,st,gt;if(i.currentUser.id!==((Qe=b.value)==null?void 0:Qe.id))return;const Oe=(gt=Ae==null?void 0:Ae.language)!=null?gt:(st=(We=s.info)==null?void 0:We.project)==null?void 0:st.default_language;Oe&&Oe!==n.value&&(await yo(Oe),await u.hydrate(),await r.hydrate())}async function Ue(){var Ae;i.currentUser.id===((Ae=b.value)==null?void 0:Ae.id)&&await i.hydrate()}function Le(){const Ae=D(!1),Oe=D(null),Qe=D(null);return he(()=>e.primaryKey,We,{immediate:!0}),{loading:Ae,avatarSrc:Oe,roleName:Qe};async function We(){var st,gt,Rn;if(e.primaryKey!=="+"){Ae.value=!0;try{const Zt=await me.get(`/users/${e.primaryKey}`,{params:{fields:["role.name","avatar.id"]}});Oe.value=((st=Zt.data.data.avatar)==null?void 0:st.id)?ct(tt()+`assets/${Zt.data.data.avatar.id}?key=system-medium-cover`):null,Qe.value=(Rn=(gt=Zt.data.data)==null?void 0:gt.role)==null?void 0:Rn.name}catch(Zt){Pe(Zt)}finally{Ae.value=!1}}}}function Ee(){!Y.value||(g.value={},J.value=!1,l.push(Y.value))}function Ce(){g.value={},J.value=!1}async function Ne(){await T(),U.value===!0?l.push("/users"):G.value=!1}function Se(Ae){g.value=ve(ve({},g.value),Ae)}}}),vL={class:"user-item"},yL={key:0,class:"user-box"},hL={class:"avatar"},gL=["src","alt"],bL={class:"user-box-content"},wL={class:"name type-label"},kL={key:0,class:"title"},$L={key:0,class:"email"},CL={key:1,class:"location"};function SL(e,t,n,l,o,u){const r=c("v-icon"),i=c("v-button"),s=c("v-breadcrumb"),p=c("v-card-title"),f=c("v-card-actions"),_=c("v-card"),v=c("v-dialog"),y=c("save-options"),g=c("users-navigation"),h=c("v-skeleton-loader"),b=c("v-chip"),S=c("v-form"),I=c("v-card-text"),E=c("user-info-sidebar-detail"),R=c("revisions-drawer-detail"),O=c("comments-sidebar-detail"),L=c("private-view"),q=Fe("tooltip");return m(),F(L,{title:e.title},{"title-outer:prepend":d(()=>[a(i,{class:"header-icon",rounded:"",icon:"",secondary:"",exact:"",onClick:t[0]||(t[0]=T=>e.router.back())},{default:d(()=>[a(r,{name:"arrow_back"})]),_:1})]),headline:d(()=>[a(s,{items:e.breadcrumb},null,8,["items"])]),actions:d(()=>[a(v,{modelValue:e.confirmDelete,"onUpdate:modelValue":t[2]||(t[2]=T=>e.confirmDelete=T),disabled:e.deleteAllowed===!1,onEsc:t[3]||(t[3]=T=>e.confirmDelete=!1)},{activator:d(({on:T})=>[ie(a(i,{rounded:"",icon:"",class:"action-delete",secondary:"",disabled:e.item===null||e.deleteAllowed!==!0,onClick:T},{default:d(()=>[a(r,{name:"delete"})]),_:2},1032,["disabled","onClick"]),[[q,e.deleteAllowed?e.t("delete_label"):e.t("not_allowed"),void 0,{bottom:!0}]])]),default:d(()=>[a(_,null,{default:d(()=>[a(p,null,{default:d(()=>[P(w(e.t("delete_are_you_sure")),1)]),_:1}),a(f,null,{default:d(()=>[a(i,{secondary:"",onClick:t[1]||(t[1]=T=>e.confirmDelete=!1)},{default:d(()=>[P(w(e.t("cancel")),1)]),_:1}),a(i,{kind:"danger",loading:e.deleting,onClick:e.deleteAndQuit},{default:d(()=>[P(w(e.t("delete_label")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue","disabled"]),e.collectionInfo.meta&&e.collectionInfo.meta.archive_field&&!e.isNew?(m(),F(v,{key:0,modelValue:e.confirmArchive,"onUpdate:modelValue":t[5]||(t[5]=T=>e.confirmArchive=T),disabled:e.archiveAllowed===!1,onEsc:t[6]||(t[6]=T=>e.confirmArchive=!1)},{activator:d(({on:T})=>[e.collectionInfo.meta&&e.collectionInfo.meta.singleton===!1?ie((m(),F(i,{key:0,rounded:"",icon:"",secondary:"",disabled:e.item===null||e.archiveAllowed!==!0,onClick:T},{default:d(()=>[a(r,{name:e.isArchived?"unarchive":"archive"},null,8,["name"])]),_:2},1032,["disabled","onClick"])),[[q,e.archiveTooltip,void 0,{bottom:!0}]]):M("",!0)]),default:d(()=>[a(_,null,{default:d(()=>[a(p,null,{default:d(()=>[P(w(e.isArchived?e.t("unarchive_confirm"):e.t("archive_confirm")),1)]),_:1}),a(f,null,{default:d(()=>[a(i,{secondary:"",onClick:t[4]||(t[4]=T=>e.confirmArchive=!1)},{default:d(()=>[P(w(e.t("cancel")),1)]),_:1}),a(i,{kind:"warning",loading:e.archiving,onClick:e.toggleArchive},{default:d(()=>[P(w(e.isArchived?e.t("unarchive"):e.t("archive")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue","disabled"])):M("",!0),ie(a(i,{rounded:"",icon:"",loading:e.saving,disabled:!e.isSavable,onClick:e.saveAndQuit},{"append-outer":d(()=>[e.isSavable?(m(),F(y,{key:0,"disabled-options":e.createAllowed?[]:["save-and-add-new","save-as-copy"],onSaveAndStay:e.saveAndStay,onSaveAndAddNew:e.saveAndAddNew,onSaveAsCopy:e.saveAsCopyAndNavigate,onDiscardAndStay:e.discardAndStay},null,8,["disabled-options","onSaveAndStay","onSaveAndAddNew","onSaveAsCopy","onDiscardAndStay"])):M("",!0)]),default:d(()=>[a(r,{name:"check"})]),_:1},8,["loading","disabled","onClick"]),[[q,e.saveAllowed?e.t("save"):e.t("not_allowed"),void 0,{bottom:!0}]])]),navigation:d(()=>[a(g,{"current-role":e.item&&e.item.role||e.role},null,8,["current-role"])]),sidebar:d(()=>[a(E,{"is-new":e.isNew,user:e.item},null,8,["is-new","user"]),e.isBatch===!1&&e.isNew===!1&&e.revisionsAllowed?(m(),F(R,{key:0,ref:"revisionsDrawerDetail",collection:"directus_users","primary-key":e.primaryKey,onRevert:e.revert},null,8,["primary-key","onRevert"])):M("",!0),e.isBatch===!1&&e.isNew===!1?(m(),F(O,{key:1,collection:"directus_users","primary-key":e.primaryKey},null,8,["primary-key"])):M("",!0)]),default:d(()=>[$("div",vL,[e.isNew===!1?(m(),A("div",yL,[$("div",hL,[e.loading||e.previewLoading?(m(),F(h,{key:0})):e.avatarSrc&&!e.avatarError?(m(),A("img",{key:1,src:e.avatarSrc,alt:e.t("avatar"),onError:t[7]||(t[7]=T=>e.avatarError=T)},null,40,gL)):(m(),F(r,{key:2,name:"account_circle","x-large":""}))]),$("div",bL,[e.loading?(m(),A(se,{key:0},[a(h,{type:"text"}),a(h,{type:"text"}),a(h,{type:"text"})],64)):e.isNew===!1&&e.item?(m(),A(se,{key:1},[$("div",wL,[P(w(e.userName(e.item))+" ",1),e.item.title?(m(),A("span",kL,", "+w(e.item.title),1)):M("",!0)]),e.item.email?(m(),A("div",$L,[a(r,{name:"alternate_email",small:""}),P(" "+w(e.item.email),1)])):M("",!0),e.item.location?(m(),A("div",CL,[a(r,{name:"place",small:""}),P(" "+w(e.item.location),1)])):M("",!0),e.roleName?(m(),F(b,{key:2,class:de(e.item.status),small:""},{default:d(()=>[P(w(e.roleName),1)]),_:1},8,["class"])):M("",!0)],64)):M("",!0)])])):M("",!0),a(S,{ref:"form",modelValue:e.edits,"onUpdate:modelValue":t[8]||(t[8]=T=>e.edits=T),disabled:e.isNew?!1:e.updateAllowed===!1,fields:e.formFields,loading:e.loading,"initial-values":e.item,"batch-mode":e.isBatch,"primary-key":e.primaryKey,"validation-errors":e.validationErrors},null,8,["modelValue","disabled","fields","loading","initial-values","batch-mode","primary-key","validation-errors"])]),a(v,{modelValue:e.confirmLeave,"onUpdate:modelValue":t[10]||(t[10]=T=>e.confirmLeave=T),onEsc:t[11]||(t[11]=T=>e.confirmLeave=!1)},{default:d(()=>[a(_,null,{default:d(()=>[a(p,null,{default:d(()=>[P(w(e.t("unsaved_changes")),1)]),_:1}),a(I,null,{default:d(()=>[P(w(e.t("unsaved_changes_copy")),1)]),_:1}),a(f,null,{default:d(()=>[a(i,{secondary:"",onClick:e.discardAndLeave},{default:d(()=>[P(w(e.t("discard_changes")),1)]),_:1},8,["onClick"]),a(i,{onClick:t[9]||(t[9]=T=>e.confirmLeave=!1)},{default:d(()=>[P(w(e.t("keep_editing")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["title"])}var as=H(_L,[["render",SL],["__scopeId","data-v-152a9e6a"]]),FL=kn({id:"users",name:"$t:user_directory",icon:"people_alt",routes:[{name:"users-collection",path:"",component:ns},{name:"users-item",path:":primaryKey",component:as,props:!0},{path:"roles",redirect:"/users"},{name:"roles-collection",path:"roles/:role",component:ns,props:!0},{name:"roles-item-add",path:"roles/:role/+",component:as,props:e=>({primaryKey:"+",role:e.params.role})}],preRegisterCheck(e,t){return e.role.admin_access?!0:!!t.find(o=>o.collection==="directus_users"&&o.action==="read")}}),VL=Object.freeze(Object.defineProperty({__proto__:null,default:FL},Symbol.toStringTag,{value:"Module"}));const{modulesRaw:xo}=Ll();let is=[];async function AL(){const t=Object.values({"./activity/index.ts":X8,"./content/index.ts":OC,"./docs/index.ts":tS,"./files/index.ts":h6,"./insights/index.ts":tA,"./settings/index.ts":ZO,"./users/index.ts":VL}).map(n=>n.default);try{const n=await N(()=>import(`${tt()}extensions/modules/index.js`),[]);t.push(...n.default)}catch(n){console.warn("Couldn't load custom modules"),console.warn(n)}is=t}async function IL(){const e=Ye(),t=Vt(),n=[];for(const l of is)!e.currentUser||(l.preRegisterCheck?await l.preRegisterCheck(e.currentUser,t.permissions)&&n.push(l):n.push(l));for(const l of n)Gt.addRoute({name:l.id,path:`/${l.id}`,component:hn,children:l.routes});xo.value=n}function EL(){for(const e of xo.value)Gt.removeRoute(e.id);xo.value=[]}function Xn(e){const t=Xl();return t.settings?t.settings[e]:null}function DL(){const e=Ye();return e.currentUser?e.currentUser.theme==="auto"?window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":e.currentUser.theme:"light"}const rs={name:"OpenStreetMap",type:"raster",url:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png",tileSize:256,attribution:"\xA9 OpenStreetMap contributors"},PL={version:8,glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"};function _l(){return Xn("mapbox_key")?[LL(),rs,...Xn("basemaps")||[]]:[rs,...Xn("basemaps")||[]]}function ea(e){if(OL(e.url),e.type=="style")return e.url;{const t=ve({},PL),n={type:"raster"};return e.attribution&&(n.attribution=e.attribution),e.type=="raster"&&(n.tiles=TL(e.url),n.tileSize=e.tileSize||512),e.type=="tile"&&(n.url=e.url),t.layers=[{id:e.name,source:e.name,type:"raster"}],t.sources={[e.name]:n},t}}function TL(e){const t=[];let n=/\{([a-z])-([a-z])\}/.exec(e);if(n){const l=n[1].charCodeAt(0),o=n[2].charCodeAt(0);let u;for(u=l;u<=o;++u)t.push(e.replace(n[0],String.fromCharCode(u)));return t}if(n=/\{(\d+)-(\d+)\}/.exec(e),n){const l=parseInt(n[2],10);for(let o=parseInt(n[1],10);o<=l;o++)t.push(e.replace(n[0],o.toString()));return t}if(n=/\{(([a-z0-9]+)(,([a-z0-9]+))+)\}/.exec(e),n){const l=n[1].split(",");for(const o of l)t.push(e.replace(n[0],o));return t}return t.push(e),t}function OL(e){e=e.replace(/^mapbox:\//,"https://api.mapbox.com/styles/v1");try{const t=new URL(e);if(t.host=="api.mapbox.com"){const n=t.searchParams.get("access_token");n&&(uo.accessToken=n)}}catch{return}}function LL(){const e={name:"Mapbox",type:"style",url:"mapbox://styles/directus/cktaiz31c509n18nrxj63zdy6"};return DL()==="dark"&&(e.url="mapbox://styles/directus/cl0bombrr001115taz5ilsynw"),e}function ss(e=[Xe,Me,Ye,bl,On,Xl,pn,ia,mt,Vt,xn,gl]){return e.map(t=>t())}async function vl(){var r,i,s,p,f;const e=ss(),t=Et(),n=Ye(),l=pn(),o=Vt(),{refresh:u}=ol();if(!t.hydrated&&!t.hydrating){t.hydrating=!0;try{await n.hydrate();let _="en-US";if(((i=(r=l.info)==null?void 0:r.project)==null?void 0:i.default_language)&&(_=l.info.project.default_language),(s=n.currentUser)==null?void 0:s.role){await o.hydrate();const v=["userStore","permissionsStore"];await Promise.all(e.filter(({$id:y})=>!v.includes(y)).map(y=>{var g;return(g=y.hydrate)==null?void 0:g.call(y)})),await IL(),await u(),((p=n.currentUser)==null?void 0:p.language)&&(_=(f=n.currentUser)==null?void 0:f.language)}await yo(_),t.basemap=_l()[0].name}catch(_){t.error=_}finally{t.hydrating=!1}t.hydrated=!0}}async function jL(e=ss()){var n;const t=Et();if(t.hydrated!==!1){for(const l of e)await((n=l.dehydrate)==null?void 0:n.call(l));EL(),t.hydrated=!1}}const ds=["pointermove","pointerdown","keydown"],RL=5*60*1e3;let ta,Jl=!0,na=!1;const bn=Da();function ML(){document.addEventListener("visibilitychange",cs);for(const e of ds)document.addEventListener(e,us);ps()}function UL(){document.removeEventListener("visibilitychange",cs);for(const e of ds)document.removeEventListener(e,us)}function us(){na===!0&&(na=!1,bn.emit("active")),ps()}function cs(){document.visibilityState==="hidden"&&Jl===!0&&(Jl=!1,bn.emit("hide")),document.visibilityState==="visible"&&Jl===!1&&(Jl=!0,bn.emit("show"))}function ps(){ta&&clearTimeout(ta),ta=setTimeout(()=>{na=!0,bn.emit("idle")},RL)}function NL(e,t){return t?"/shares/auth":e===Vo?"/auth/login":`/auth/login/${e}`}async function la({credentials:e,provider:t,share:n}){const l=Et(),o=await me.post(NL(t,n),Ie(ve({},e),{mode:"cookie"})),u=o.data.data.access_token;me.defaults.headers.common.Authorization=`Bearer ${u}`,o.data.data.expires<=21e8&&(wn=setTimeout(()=>Tn(),o.data.data.expires-1e4)),l.accessTokenExpiry=Date.now()+o.data.data.expires,l.authenticated=!0,await vl()}let wn,Yn=!1,oa=!1,ms=!0;bn.on("idle",()=>{clearTimeout(wn),Yn=!0});bn.on("hide",()=>{clearTimeout(wn),Yn=!0});bn.on("active",()=>{Yn===!0&&(Tn(),Yn=!1)});bn.on("show",()=>{Yn===!0&&(Tn(),Yn=!1)});async function Tn({navigate:e}={navigate:!0}){if(ms)ms=!1;else if(!me.defaults.headers.common.Authorization)return;if(oa)return;const t=Et();if(t.accessTokenExpiry&&Date.now()<t.accessTokenExpiry-1e4){clearTimeout(wn),wn=setTimeout(()=>Tn(),t.accessTokenExpiry-1e4-Date.now());return}oa=!0;try{const n=await me.post("/auth/refresh",void 0,{transformRequest(o,u){var r;return(r=u==null?void 0:u.common)==null||delete r.Authorization,o}}),l=n.data.data.access_token;return me.defaults.headers.common.Authorization=`Bearer ${l}`,clearTimeout(wn),n.data.data.expires<=21e8&&(wn=setTimeout(()=>Tn(),n.data.data.expires-1e4)),t.accessTokenExpiry=Date.now()+n.data.data.expires,t.authenticated=!0,l}catch{await yl({navigate:e,reason:Qn.SESSION_EXPIRED})}finally{oa=!1}}var Qn;(function(e){e.SIGN_OUT="SIGN_OUT",e.SESSION_EXPIRED="SESSION_EXPIRED"})(Qn||(Qn={}));async function yl(e={}){const t=Et(),n={navigate:!0,reason:Qn.SIGN_OUT};delete me.defaults.headers.common.Authorization,clearTimeout(wn);const l=ve(ve({},n),e);if(l.reason===Qn.SIGN_OUT&&await me.post("/auth/logout"),t.authenticated=!1,await jL(),l.navigate===!0){const o={path:"/login",query:{reason:l.reason}};Gt.push(o)}}const hl=io.create({baseURL:tt(),withCredentials:!0,headers:{"Cache-Control":"no-store"}}),aa=new Dd({concurrency:5,intervalCap:5,interval:500,carryoverConcurrencyCount:!0}),BL=e=>{const n=bl().startRequest(),l=ve({id:n},e);return new Promise(o=>{e.url&&e.url==="/auth/refresh"?(aa.pause(),o(l),aa.start()):aa.add(()=>o(l))})},qL=e=>{var l;const t=bl(),n=(l=e.config)==null?void 0:l.id;return n&&t.endRequest(n),e},zL=async e=>{var u,r,i,s,p,f,_,v;const t=bl(),n=(r=(u=e.response)==null?void 0:u.config)==null?void 0:r.id;n&&t.endRequest(n);const l=(i=e.response)==null?void 0:i.status,o=(v=(_=(f=(p=(s=e.response)==null?void 0:s.data)==null?void 0:p.errors)==null?void 0:f[0])==null?void 0:_.extensions)==null?void 0:v.code;if(l===401&&o==="INVALID_CREDENTIALS"&&e.request.responseURL.includes("refresh")===!1&&e.request.responseURL.includes("login")===!1&&e.request.responseURL.includes("tfa")===!1){let y;try{y=await Tn()}catch{return yl({reason:Qn.SESSION_EXPIRED}),Promise.reject()}if(y)return hl.request(Ie(ve({},e.config),{headers:{Authorization:`Bearer ${y}`}}))}return Promise.reject(e)};hl.interceptors.request.use(BL);hl.interceptors.response.use(qL,zL);var me=hl;function KL(){var e;return((e=hl.defaults.headers.common.Authorization)==null?void 0:e.split(" ")[1])||null}function ct(e,t){const n=t||KL();return n?$o(e,{access_token:n}):e}const mt=Rt({id:"relationsStore",state:()=>({relations:[]}),actions:{async hydrate(){const e=await me.get("/relations",{params:{limit:-1}});this.relations=e.data.data},async dehydrate(){this.$reset()},getRelationsForCollection(e){return this.relations.filter(t=>t.collection===e||t.related_collection===e)},async upsertRelation(e,t,n){const l=this.getRelationForField(e,t);try{if(l){if(z.exports.isEqual(l,n))return;const o=await me.patch(`/relations/${e}/${t}`,n);this.relations=this.relations.map(u=>u.collection===e&&u.field===t?o.data.data:u)}else{const o=await me.post("/relations",n);this.relations=[...this.relations,o.data.data]}}catch(o){Pe(o)}},getRelationsForField(e,t){var u;if(!Me().getField(e,t))return[];const o=this.getRelationsForCollection(e).filter(r=>{var i;return r.collection===e&&r.field===t||r.related_collection===e&&((i=r.meta)==null?void 0:i.one_field)===t});if(o.length>0&&((u=o[0].meta)==null?void 0:u.junction_field)!==null){const i=this.relations.find(s=>{var p;return s.collection===o[0].collection&&s.field===((p=o[0].meta)==null?void 0:p.junction_field)});i&&o.push(i)}return o},getRelationForField(e,t){return Me().getField(e,t)&&this.getRelationsForCollection(e).filter(u=>{var r;return u.collection===e&&u.field===t||u.related_collection===e&&((r=u.meta)==null?void 0:r.one_field)===t}).find(u=>u.collection===e&&u.field===t)||null}}}),Xe=Rt({id:"collectionsStore",state:()=>({collections:[]}),getters:{visibleCollections(){return this.collections.filter(({collection:e})=>e.startsWith("directus_")===!1).filter(e=>{var t;return e.meta&&((t=e.meta)==null?void 0:t.hidden)!==!0})},allCollections(){return this.collections.filter(({collection:e})=>e.startsWith("directus_")===!1)},crudSafeSystemCollections(){return z.exports.orderBy(this.collections.filter(e=>e.collection.startsWith("directus_")===!0),["collection"],["asc"]).filter(e=>_4.includes(e.collection)===!1)}},actions:{async hydrate(){const t=(await me.get("/collections",{params:{limit:-1}})).data.data;this.collections=t.map(this.prepareCollectionForApp)},prepareCollectionForApp(e){var u,r;const t=((u=e.meta)==null?void 0:u.icon)||"label",n=(r=e.meta)==null?void 0:r.color;let l=kt(e.collection);const o=t8(e);if(e.meta&&en(e.meta.translations))for(let i=0;i<e.meta.translations.length;i++){const{language:s,translation:p,singular:f,plural:_}=e.meta.translations[i],v=p?p.replace(/([{}@$|])/g,"{'$1'}"):null;Be.global.mergeLocaleMessage(s,ve(ve(ve({},v&&{collection_names:{[e.collection]:v}}),f&&{collection_names_singular:{[e.collection]:f}}),_&&{collection_names_plural:{[e.collection]:_}}))}return Be.global.te(`collection_names.${e.collection}`)&&(l=Be.global.t(`collection_names.${e.collection}`)),Ie(ve({},e),{name:l,type:o,icon:t,color:n})},async dehydrate(){this.$reset()},translateCollections(){this.collections=this.collections.map(e=>(Be.global.te(`collection_names.${e.collection}`)&&(e.name=Be.global.t(`collection_names.${e.collection}`)),e))},async upsertCollection(e,t){const n=this.getCollection(e),l=z.exports.omit(t,["name","type","icon","color"]);try{if(n){if(z.exports.isEqual(n,t))return;const o=await me.patch(`/collections/${e}`,l);this.collections=this.collections.map(u=>u.collection===e?this.prepareCollectionForApp(o.data.data):u)}else{const o=await me.post("/collections",l);this.collections=[...this.collections,this.prepareCollectionForApp(o.data.data)]}}catch(o){Pe(o)}},async updateCollection(e,t){try{await me.patch(`/collections/${e}`,t),await this.hydrate(),yt({title:Be.global.t("update_collection_success")})}catch(n){Pe(n)}},async deleteCollection(e){const t=mt();try{await me.delete(`/collections/${e}`),await this.hydrate(),await t.hydrate(),yt({title:Be.global.t("delete_collection_success")})}catch(n){Pe(n)}},getCollection(e){return this.collections.find(t=>t.collection===e)||null}}}),WL={collection:"directus_files",field:"$thumbnail",schema:null,name:"$thumbnail",type:"integer",meta:{id:-1,collection:"directus_files",field:"$thumbnail",sort:null,special:null,interface:null,options:null,display:"file",display_options:null,hidden:!1,translations:null,readonly:!0,width:"full",group:null,note:null,required:!1,conditions:null}};let fs;const Me=Rt({id:"fieldsStore",state:()=>({fields:[]}),actions:{async hydrate(){const t=(await me.get("/fields",{params:{limit:-1}})).data.data;this.fields=[...t.map(this.parseField),WL],this.translateFields()},async dehydrate(){this.$reset()},parseField(e){let t=kt(e.field);if(e.meta&&en(e.meta.translations)&&e.meta.translations.length>0)for(let n=0;n<e.meta.translations.length;n++){const{language:l,translation:o}=e.meta.translations[n],u=o?o.replace(/([{}@$|])/g,"{'$1'}"):null;Be.global.mergeLocaleMessage(l,ve({},u&&{fields:{[e.collection]:{[e.field]:u}}}))}return Be.global.te(`fields.${e.collection}.${e.field}`)&&(t=Be.global.t(`fields.${e.collection}.${e.field}`)),Ie(ve({},e),{name:t})},translateFields(){this.fields=this.fields.map(e=>(Be.global.te(`fields.${e.collection}.${e.field}`)&&(e.name=Be.global.t(`fields.${e.collection}.${e.field}`)),e))},async upsertField(e,t,n){const l=this.getField(e,t),o=z.exports.omit(n,["name"]);return l?z.exports.isEqual(n,l)?void 0:await this.updateField(e,t,o):await this.createField(e,o)},async createField(e,t){const n=[...this.fields];try{const l=await me.post(`/fields/${e}`,t),o=this.parseField(l.data.data);return this.fields=[...this.fields,o],o}catch(l){this.fields=n,Pe(l)}},async updateField(e,t,n){const l=[...this.fields];this.fields=this.fields.map(o=>o.collection===e&&o.field===t?z.exports.merge({},o,n):o);try{const o=await me.patch(`/fields/${e}/${t}`,n);this.fields=this.fields.map(u=>u.collection===e&&u.field===t?this.parseField(o.data.data):u)}catch(o){this.fields=l,Pe(o)}},async updateFields(e,t){const n=Tt(),l=[...this.fields];fs=n,this.fields=this.fields.map(o=>{if(o.collection===e){const u=t.find(r=>r.field===o.field);if(u)return z.exports.merge({},o,u)}return o});try{const o=await me.patch(`/fields/${e}`,t);fs===n&&(this.fields=this.fields.map(u=>{if(u.collection===e){const r=o.data.data.find(i=>i.field===u.field);if(r)return this.parseField(r)}return u}),this.translateFields())}catch(o){this.fields=l,Pe(o)}},async deleteField(e,t){const n=mt(),l=Xe(),o=[...this.fields],u=[...n.relations];this.fields=this.fields.filter(r=>!(r.field===t&&r.collection===e)),n.relations=n.relations.filter(r=>{var i;return!(r.collection===e&&r.field===t||r.related_collection===e&&((i=r.meta)==null?void 0:i.one_field)===t)});try{await me.delete(`/fields/${e}/${t}`),await l.hydrate()}catch(r){this.fields=o,n.relations=u,Pe(r)}},getPrimaryKeyFieldForCollection(e){const t=this.fields.find(n=>{var l;return n.collection===e&&((l=n.schema)==null?void 0:l.is_primary_key)===!0});return t!=null?t:null},getFieldsForCollection(e){return z.exports.orderBy(this.fields.filter(t=>t.collection===e),[t=>{var n;return((n=t.meta)==null?void 0:n.system)===!0},t=>{var n,l;return((n=t.meta)==null?void 0:n.sort)?Number((l=t.meta)==null?void 0:l.sort):null}],["desc","asc"])},getFieldsForCollectionAlphabetical(e){return this.getFieldsForCollection(e).sort((t,n)=>t.field<n.field?-1:(t.field>n.field,1))},getFieldsForCollectionSorted(e){const t=z.exports.orderBy(this.fields.filter(l=>l.collection===e),"meta.sort"),n=t.filter(l=>{var o;return!((o=l.meta)==null?void 0:o.group)});for(const[l,o]of n.entries()){const u=t.filter(r=>{var i;return((i=r.meta)==null?void 0:i.group)===o.field});u.length&&n.splice(l+1,0,...z.exports.orderBy(u,"meta.sort"))}return n},getField(e,t){return t.includes(".")?this.getRelationalField(e,t)||null:this.fields.find(n=>n.collection===e&&n.field===t)||null},getFieldGroupChildren(e,t){return this.fields.filter(n=>{var l;return n.collection===e&&((l=n.meta)==null?void 0:l.group)===t})||null},getRelationalField(e,t){const n=mt(),[l,...o]=t.split(".");if(l.includes(":")){const[p,f]=l.split(":");return this.getField(f,o.join("."))}const u=n.getRelationsForField(e,l),r=u==null?void 0:u.find(p=>{var f;return p.field===l||((f=p.meta)==null?void 0:f.one_field)===l});if(r===void 0)return!1;const i=r.field===l?r.related_collection:r.collection;if(i===null)return!1;const s=o.join(".");return this.getField(i,s)}}}),xn=Rt({id:"insightsStore",state:()=>({dashboards:[]}),actions:{async hydrate(){const e=Ye(),t=Vt();if(e.isAdmin!==!0&&!t.hasPermission("directus_dashboards","read"))this.dashboards=[];else try{const n=await me.get("/dashboards",{params:{limit:-1,fields:["*","panels.*"],sort:["name"]}});this.dashboards=n.data.data}catch{this.dashboards=[]}},async dehydrate(){this.$reset()}}}),ia=Rt({id:"latencyStore",state:()=>({latency:[]}),actions:{async dehydrate(){this.$reset()},save(e){this.latency.push(e),this.latency=this.latency.slice(-20)}}}),gl=Rt({id:"notificationsStore",state:()=>({dialogs:[],queue:[],previous:[],notifications:[],unread:0}),actions:{async hydrate(){const e=Ye();e.currentUser&&!("share"in e.currentUser)&&await this.getUnreadCount()},async getUnreadCount(){const e=Ye();if(!e.currentUser||!("id"in e.currentUser))return;const t=await me.get("/notifications",{params:{filter:{_and:[{recipient:{_eq:e.currentUser.id}},{status:{_eq:"inbox"}}]},aggregate:{count:"id"}}});this.unread=t.data.data[0].count.id},add(e){const t=Tt(),n=Date.now();return e.dialog===!0?(e.persist=!0,this.dialogs=[...this.dialogs,Ie(ve({},e),{id:t,timestamp:n})]):this.queue=[...this.queue,Ie(ve({},e),{id:t,timestamp:n})],e.persist!==!0&&setTimeout(()=>{this.remove(t)},3e3),t},hide(e){const n=[...this.queue,...this.dialogs].find(l=>l.id===e);!n||(n.dialog===!0?this.dialogs=this.dialogs.filter(l=>l.id!==e):this.queue=this.queue.filter(l=>l.id!==e),this.previous=[...this.previous,n])},remove(e){const n=[...this.queue,...this.dialogs].find(l=>l.id===e);!n||(n.dialog===!0?this.dialogs=this.dialogs.filter(l=>l.id!==e):this.queue=this.queue.filter(l=>l.id!==e))},update(e,t){this.queue=this.queue.map(n),this.dialogs=this.dialogs.map(n),this.previous=this.queue.map(n);function n(l){return l.id===e?ve(ve({},l),t):l}}},getters:{lastFour(){const e=[...this.queue,...this.previous.filter(l=>l.dialog!==!0)],n=z.exports.reverse(z.exports.sortBy(e,["timestamp"])).slice(0,4);return z.exports.reverse(n)}}}),Vt=Rt({id:"permissionsStore",state:()=>({permissions:[]}),actions:{async hydrate(){const e=Ye(),t=await me.get("/permissions",{params:{limit:-1,filter:{role:{_eq:e.currentUser.role.id}}}});this.permissions=t.data.data.map(n=>(n.permissions&&(n.permissions=In(n.permissions)),n.validation&&(n.validation=In(n.validation)),n))},dehydrate(){this.$reset()},getPermissionsForUser(e,t){const n=Ye();return this.permissions.find(l=>{var o,u;return l.action===t&&l.collection===e&&l.role===((u=(o=n.currentUser)==null?void 0:o.role)==null?void 0:u.id)})||null},hasPermission(e,t){var l,o;return((o=(l=Ye().currentUser)==null?void 0:l.role)==null?void 0:o.admin_access)===!0?!0:!!this.getPermissionsForUser(e,t)}}}),_s={bookmark:null,role:null,user:null,search:null,filter:null,layout:null,layout_query:null,layout_options:null,refresh_interval:null,icon:"bookmark_outline",color:null},vs={directus_files:{collection:"directus_files",layout:"cards",layout_query:{cards:{sort:["-uploaded_on"]}},layout_options:{cards:{icon:"insert_drive_file",title:"{{ title }}",subtitle:"{{ type }} \u2022 {{ filesize }}",size:4,imageFit:"crop"}}},directus_users:{collection:"directus_users",layout:"cards",layout_query:{cards:{sort:["email"]}},layout_options:{cards:{icon:"account_circle",title:"{{ first_name }} {{ last_name }}",subtitle:"{{ email }}",size:4}}},directus_activity:{collection:"directus_activity",layout:"tabular",layout_query:{tabular:{sort:["-timestamp"],fields:["action","collection","timestamp","user"]}},layout_options:{tabular:{widths:{action:100,collection:210,timestamp:240,user:240}}}},directus_roles:{collection:"directus_roles",layout:"tabular",layout_query:{tabular:{fields:["icon","name","description"]}},layout_options:{tabular:{widths:{icon:36,name:248,description:500}}}},directus_webhooks:{collection:"directus_webhooks",layout:"tabular",layout_query:{tabular:{fields:["status","method","name","collections","actions"]}},layout_options:{tabular:{widths:{status:32,method:100,name:210,collections:240,actions:210}}}}},ys={},On=Rt({id:"presetsStore",state:()=>({collectionPresets:[]}),getters:{bookmarks(){return z.exports.orderBy(this.collectionPresets.filter(e=>e.bookmark!==null),[e=>e.user===null&&e.role===null,e=>e.user===null&&e.role!==null,"bookmark"])}},actions:{async hydrate(){const e=Ye();if(!e.currentUser||"share"in e.currentUser)return;const{id:t,role:n}=e.currentUser,o=(await Promise.all([me.get("/presets",{params:{"filter[user][_eq]":t,limit:-1}}),me.get("/presets",{params:{"filter[role][_eq]":n.id,"filter[user][_null]":!0,limit:-1}}),me.get("/presets",{params:{"filter[role][_null]":!0,"filter[user][_null]":!0,limit:-1}})])).map(u=>u.data.data).flat();for(const u of Object.keys(vs))o.find(i=>i.collection===u&&!i.user&&!i.role&&!i.bookmark)||o.push(z.exports.merge({},_s,vs[u]));this.collectionPresets=o},async dehydrate(){this.$reset()},async create(e){const t=await me.post("/presets",e);return this.collectionPresets.push(t.data.data),t.data.data},async update(e,t){const n=Tt();ys[e]=n;const l=await me.patch(`/presets/${e}`,t);return ys[e]===n&&(this.collectionPresets=this.collectionPresets.map(o=>{const u=l.data.data;return o.id===u.id?u:o})),l.data.data},async delete(e){await me.delete("/presets",{data:e}),this.collectionPresets=this.collectionPresets.filter(t=>!e.includes(t.id))},getPresetForCollection(e){const t=Ye();if(t.currentUser===null)return null;const{id:n,role:l}=t.currentUser,o=Ie(ve({},_s),{collection:e,user:n}),u=this.collectionPresets.filter(p=>{const f=p.user===n||p.user===null,_=p.role===l.id||p.role===null,v=p.collection===e;return p.bookmark?!1:!!(f&&v||_&&v)});if(u.length===0)return o;if(u.length===1)return u[0];const r=u.find(p=>p.user===n);if(r)return r;const i=u.find(p=>p.role===l.id);return i||u[u.length-1]},getBookmark(e){return this.collectionPresets.find(t=>t.id===e)||null},async savePreset(e){const t=Ye();if(t.currentUser===null)return null;const{id:n}=t.currentUser;if(e=z.exports.cloneDeep(e),e.id===void 0||e.id===null)return await this.create(Ie(ve({},e),{user:n}));if(e.user!==n)return"id"in e&&delete e.id,await this.create(Ie(ve({},e),{user:n}));{const l=e.id;return delete e.id,await this.update(l,e)}},saveLocal(e){this.collectionPresets=this.collectionPresets.map(t=>t.id===e.id?ve({},e):t)},async clearLocalSave(e){const t=await me.get(`/presets/${e.id}`);this.collectionPresets=this.collectionPresets.map(n=>n.id===t.data.data.id?t.data.data:n)}}}),bl=Rt({id:"requestsStore",state:()=>({queue:[]}),getters:{queueHasItems(){return this.queue.length>0}},actions:{startRequest(){const e=Tt();return this.queue=[...this.queue,e],setTimeout(()=>this.endRequest(e),3500),e},endRequest(e){this.queue=this.queue.filter(t=>t!==e)}}}),pn=Rt({id:"serverStore",state:()=>({info:null}),actions:{async hydrate(){var t,n,l;const e=await me.get("/server/info",{params:{limit:-1}});this.info=e.data.data,await yo((l=(n=(t=this.info)==null?void 0:t.project)==null?void 0:n.default_language)!=null?l:"en-US")},dehydrate(){this.$reset()}}}),Xl=Rt({id:"settingsStore",state:()=>({settings:null}),actions:{async hydrate(){const e=Ye();if(!e.currentUser||"share"in e.currentUser)return;const t=await me.get("/settings");this.settings=t.data.data},async dehydrate(){this.$reset()},async updateSettings(e){const t=ve({},this.settings),n=z.exports.merge({},this.settings,e);this.settings=n;try{const l=await me.patch("/settings",e);this.settings=l.data.data,yt({title:Be.global.t("settings_update_success")})}catch(l){this.settings=t,Pe(l)}}}});var HL=Object.freeze(Object.defineProperty({__proto__:null,useAppStore:Et,useCollectionsStore:Xe,useFieldsStore:Me,useInsightsStore:xn,useLatencyStore:ia,useNotificationsStore:gl,usePermissionsStore:Vt,usePresetsStore:On,useRelationsStore:mt,useRequestsStore:bl,useServerStore:pn,useSettingsStore:Xl,useUserStore:Ye},Symbol.toStringTag,{value:"Module"}));function GL(){nn(Vu,HL),nn(Au,me),nn(Iu,{interfaces:$n().interfaces,displays:Ol().displays,layouts:Cn().layouts,modules:Ll().modules,panels:nl().panels})}function ot(e){return getComputedStyle(document.body).getPropertyValue(e).trim()}const ZL=(e,t)=>`
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 200">
	<style>
		circle {
			fill: ${e};
		}
	</style>

	<circle cx="100" cy="100" r="100"/>

	${t?"":'<path d="M143.122 109.533c-.663-.167-1.216-.334-1.715-.557a3.945 3.945 0 01-1.216-.836c.332-2.952 0-5.514.276-8.411 1.106-11.253 8.132-7.688 14.439-9.526 3.928-1.114 7.855-3.398 8.851-8.078-4.315-5.069-9.128-9.526-14.383-13.314-17.094-12.255-39.444-17.157-59.747-13.76a30.762 30.762 0 0013.428 12.535s-5.502 0-10.218-3.548c-1.383.558-4.15 1.654-5.478 2.322 10.788 10.417 27.66 11.587 39.776 2.228-.055.112-1.107 1.727-2.379 8.468-2.821 14.372-10.954 13.258-21.022 9.637-20.911-7.631-32.418-.557-42.873-15.04a9.73 9.73 0 00-4.924 8.467c0 3.621 1.992 6.685 4.868 8.356 1.57-2.098 2.275-2.695 5.014-2.695-4.239 2.42-4.737 4.533-6.563 10.382-2.213 7.075-1.272 14.317-11.617 16.211-5.477.279-5.366 4.011-7.358 9.582-2.489 7.242-5.808 10.139-12.281 16.99 2.655 3.231 5.421 3.621 8.243 2.451 5.808-2.45 10.29-10.027 14.494-14.929 4.702-5.46 15.988-3.12 24.507-8.467 5.864-3.622 8.74-8.524 4.868-16.824 2.49 2.785 3.983 6.295 4.204 10.027 9.848-1.28 23.014 10.807 35.019 12.813-1.217-1.56-2.213-3.231-2.932-4.958-1.383-3.342-1.826-6.406-1.55-9.08 1.107 6.629 7.746 15.152 18.423 15.932 2.71.223 5.697-.112 8.795-1.058 3.707-1.115 7.137-2.563 11.23-1.783 3.043.557 5.864 2.117 7.635 4.735 2.655 3.9 8.464 4.735 11.064-.056-5.864-15.43-22.018-16.433-28.878-18.216z" fill="#FFF"/>'}
</svg>`;function JL(e,t=!1){e=e||ot("--primary");const n=ZL(e,t),l=document.createElement("div");if(l.innerHTML=n.trim(),l.firstChild){const o=new XMLSerializer().serializeToString(l.firstChild),u="data:image/svg+xml;base64,"+window.btoa(o),r=document.querySelector("link[rel*='icon']")||document.createElement("link");r.type="image/x-icon",r.rel="icon",r.href=u,document.getElementsByTagName("head")[0].appendChild(r)}}const XL=Z({setup(){const{t:e}=ae(),t=Et(),n=Ye(),l=pn(),{hydrating:o}=ze(t),u=V(()=>{var s,p;return{"--brand":((p=(s=l.info)==null?void 0:s.project)==null?void 0:p.project_color)||"var(--primary)"}});dt(()=>ML()),At(()=>UL()),he([()=>{var s,p;return(p=(s=l.info)==null?void 0:s.project)==null?void 0:p.project_color},()=>{var s,p;return(p=(s=l.info)==null?void 0:s.project)==null?void 0:p.project_logo}],()=>{var p,f,_,v;const s=!!((f=(p=l.info)==null?void 0:p.project)==null?void 0:f.project_logo);JL((v=(_=l.info)==null?void 0:_.project)==null?void 0:v.project_color,s)},{immediate:!0}),he(()=>n.currentUser,s=>{var p;document.body.classList.remove("dark"),document.body.classList.remove("light"),document.body.classList.remove("auto"),s!=null&&s.theme?(document.body.classList.add(s.theme),(p=document.querySelector('head meta[name="theme-color"]'))==null||p.setAttribute("content",s.theme==="light"?"#ffffff":"#263238")):document.body.classList.add("auto")},{immediate:!0}),he(()=>{var s,p;return(p=(s=l.info)==null?void 0:s.project)==null?void 0:p.project_name},s=>{document.title=s||"Directus"},{immediate:!0});const r=V(()=>{var s,p;return((p=(s=l.info)==null?void 0:s.project)==null?void 0:p.custom_css)||""}),i=V(()=>t.error);return GL(),{t:e,hydrating:o,brandStyle:u,error:i,customCSS:r}}}),YL={key:0,class:"hydrating"};function QL(e,t,n,l,o,u){const r=c("v-progress-circular"),i=c("v-error"),s=c("v-info"),p=c("router-view");return m(),A("div",{id:"directus",style:Je(e.brandStyle)},[a(Bt,{name:"fade"},{default:d(()=>[e.hydrating?(m(),A("div",YL,[a(r,{indeterminate:""})])):M("",!0)]),_:1}),e.error?(m(),F(s,{key:0,type:"danger",title:e.t("unexpected_error"),icon:"error",center:""},{append:d(()=>[a(i,{error:e.error},null,8,["error"])]),default:d(()=>[P(w(e.t("unexpected_error_copy"))+" ",1)]),_:1},8,["title"])):e.hydrating?M("",!0):(m(),F(p,{key:1})),(m(),F(co,{to:"#custom-css"},[P(w(e.customCSS),1)]))],4)}var xL=H(XL,[["render",QL],["__scopeId","data-v-a83fd9c2"]]);const e9=Z({components:{ValueNull:un},props:{display:{type:String,default:null},options:{type:Object,default:()=>({})},interface:{type:String,default:null},interfaceOptions:{type:Object,default:null},value:{type:[String,Number,Object,Array,Boolean],default:null},type:{type:String,required:!0},collection:{type:String,required:!0},field:{type:String,required:!0}},setup(e){return{displayInfo:V(()=>yn(e.display))}}});function t9(e,t,n,l,o,u){const r=c("value-null"),i=c("v-text-overflow");return e.value===null||e.value===void 0?(m(),F(r,{key:0})):e.displayInfo===null?(m(),F(i,{key:1,class:"display",text:e.value},null,8,["text"])):(m(),F(He(`display-${e.display}`),ft({key:2},e.options,{interface:e.interface,"interface-options":e.interfaceOptions,value:e.value,type:e.type,collection:e.collection,field:e.field}),null,16,["interface","interface-options","value","type","collection","field"]))}var n9=H(e9,[["render",t9],["__scopeId","data-v-3c1719c8"]]);const l9={alias:"raw",bigInteger:"formatted-value",binary:"raw",boolean:"boolean",date:"datetime",dateTime:"datetime",decimal:"formatted-value",float:"formatted-value",integer:"formatted-value",json:"raw",string:"formatted-value",text:"formatted-value",time:"datetime",timestamp:"datetime",uuid:"formatted-value",unknown:"raw",csv:"labels",hash:"formatted-value",geometry:"raw","geometry.Point":"raw","geometry.LineString":"raw","geometry.Polygon":"raw","geometry.MultiPoint":"raw","geometry.MultiLineString":"raw","geometry.MultiPolygon":"raw"};function hs(e){return l9[e]||"raw"}const o9=Z({components:{ValueNull:un},props:{collection:{type:String,default:null},fields:{type:Array,default:null},item:{type:Object,default:null},template:{type:String,required:!0}},setup(e){const t=Me(),n=D(),l=/({{.*?}})/g;return{parts:V(()=>e.template.split(l).filter(u=>u).map(u=>{var _,v,y,g,h,b,S;if(u.startsWith("{{")===!1)return u;let r=u.replace(/{{/g,"").replace(/}}/g,"").trim();const i=t.getField(e.collection,r)||((_=e.fields)==null?void 0:_.find(I=>I.field===r));i&&i.collection==="directus_files"&&i.field==="$thumbnail"&&(r=r.split(".").filter(I=>I!=="$thumbnail").join("."));const s=z.exports.get(e.item,r);return s===void 0?null:!i||(((v=i==null?void 0:i.meta)==null?void 0:v.display)||hs(i.type))==="raw"||!yn((y=i.meta)==null?void 0:y.display)?s:{component:(g=i.meta)==null?void 0:g.display,options:(h=i.meta)==null?void 0:h.display_options,value:s,interface:(b=i.meta)==null?void 0:b.interface,interfaceOptions:(S=i.meta)==null?void 0:S.options,type:i.type,collection:i.collection,field:i.field}}).map(u=>u!=null?u:null)),templateEl:n,translate:ll}}}),a9=e=>(xe("data-v-c51c776c"),e=e(),et(),e),i9={ref:"templateEl",class:"render-template"},r9=a9(()=>$("span",{class:"vertical-aligner"},null,-1)),s9={key:2},d9={key:3};function u9(e,t,n,l,o,u){const r=c("value-null");return m(),A("div",i9,[r9,(m(!0),A(se,null,Ve(e.parts,(i,s)=>(m(),A(se,{key:s},[i===null||typeof i=="object"&&i.value===null?(m(),F(r,{key:0})):typeof i=="object"&&i.component?(m(),F(He(`display-${i.component}`),ft({key:1},i.options,{value:i.value,interface:i.interface,"interface-options":i.interfaceOptions,type:i.type,collection:i.collection,field:i.field}),null,16,["value","interface","interface-options","type","collection","field"])):typeof i=="string"?(m(),A("span",s9,w(e.translate(i)),1)):(m(),A("span",d9,w(i),1))],64))),128))],512)}var c9=H(o9,[["render",u9],["__scopeId","data-v-c51c776c"]]);function Ln(e){var p;const t=vt((e==null?void 0:e.group)||"item-group",null);if(oi(t))return{active:D(!1),toggle:()=>{},activate:()=>{},deactivate:()=>{}};const{register:n,unregister:l,toggle:o,selection:u}=t;let r=!1;((p=e==null?void 0:e.active)==null?void 0:p.value)===!0&&(r=!0),(e==null?void 0:e.value)&&u.value.includes(e.value)&&(r=!0);const i=D(r),s={active:i,value:e==null?void 0:e.value};return n(s),(e==null?void 0:e.active)!==void 0&&e.watch===!0&&he(e.active,()=>{e.active!==void 0&&(e.active.value===!0&&(i.value===!1&&o(s),i.value=!0),e.active.value===!1&&(i.value===!0&&o(s),i.value=!1))}),Vl(()=>l(s)),{active:i,toggle:()=>{o(s)},activate:()=>{i.value===!1&&o(s)},deactivate:()=>{i.value===!0&&o(s)}}}function ra(e={},t={},n="item-group"){const l=Kt([]),o=D([]),u=V({get(){return en(e.selection)&&en(e.selection.value)?e.selection.value:o.value},set(y){en(e.onSelectionChange)&&e.onSelectionChange(y),o.value=[...y]}});return nn(n,{register:r,unregister:i,toggle:s,selection:u}),he(u,v,{immediate:!0}),Al().then(v),he(()=>{var y;return(y=t==null?void 0:t.mandatory)==null?void 0:y.value},(y,g)=>{var h;z.exports.isEqual(y,g)||(!u.value||u.value.length===0&&((h=t==null?void 0:t.mandatory)==null?void 0:h.value)===!0)&&(u.value=[_(l.value[0])])}),{items:l,selection:u,internalSelection:o,getValueForItem:_,updateChildren:v};function r(y){var h;l.value=[...l.value,y];const g=_(y);u.value.length===0&&((h=t==null?void 0:t.mandatory)==null?void 0:h.value)===!0&&l.value.length===1&&(u.value=[g]),y.active.value&&u.value.includes(g)===!1&&s(y)}function i(y){l.value=l.value.filter(g=>g!==y)}function s(y){var g;((g=t==null?void 0:t.multiple)==null?void 0:g.value)===!0?f(y):p(y),en(e.onToggle)&&e.onToggle(y)}function p(y){var h;const g=_(y);if(u.value[0]===g&&((h=t==null?void 0:t.mandatory)==null?void 0:h.value)!==!0){u.value=[];return}u.value[0]!==g&&(u.value=[g])}function f(y){var h,b;const g=_(y);if(u.value.includes(g)){if(((h=t==null?void 0:t.mandatory)==null?void 0:h.value)===!0&&u.value.length===1){v();return}u.value=u.value.filter(S=>S!==g);return}if(((b=t==null?void 0:t.max)==null?void 0:b.value)&&t.max.value!==-1&&u.value.length>=t.max.value){v();return}u.value=[...u.value,g]}function _(y){return y.value||l.value.findIndex(g=>y===g)}function v(){l.value.forEach(y=>{y.active.value=u.value.includes(_(y))})}}const p9=Z({props:{icon:{type:String,required:!0},title:{type:String,required:!0},badge:{type:[Boolean,String,Number],default:null},close:{type:Boolean,default:!1}},setup(e){const{active:t,toggle:n}=Ln({value:e.title,group:"sidebar-detail"}),l=Et(),{sidebarOpen:o}=ze(l);return{active:t,toggle:n,sidebarOpen:o}}}),m9={class:"icon"},f9={key:0,class:"icon"},_9={class:"content"};function v9(e,t,n,l,o,u){const r=c("v-icon"),i=c("v-badge"),s=c("transition-expand"),p=Fe("tooltip");return m(),A("div",{class:de(["sidebar-detail",{open:e.sidebarOpen}])},[ie($("button",{class:de(["toggle",{open:e.active}]),onClick:t[0]||(t[0]=(...f)=>e.toggle&&e.toggle(...f))},[$("div",m9,[a(i,{dot:e.badge===!0,bordered:"",value:e.badge,disabled:!e.badge},{default:d(()=>[a(r,{name:e.icon},null,8,["name"])]),_:1},8,["dot","value","disabled"])]),ie($("div",{class:"title"},w(e.title),513),[[Nt,e.sidebarOpen]]),e.close?M("",!0):(m(),A("div",f9,[a(r,{class:"expand-icon",name:e.active?"expand_less":"expand_more"},null,8,["name"])]))],2),[[p,e.title,void 0,{left:!0}]]),e.close?ie((m(),A("div",{key:0,class:"close",onClick:t[1]||(t[1]=f=>e.sidebarOpen=!1)},[a(r,{name:"close"})],512)),[[Nt,e.sidebarOpen]]):M("",!0),a(s,{class:"scroll-container"},{default:d(()=>[ie($("div",null,[$("div",_9,[ke(e.$slots,"default",{},void 0,!0)])],512),[[Nt,e.active]])]),_:3})],2)}var y9=H(p9,[["render",v9],["__scopeId","data-v-95ed4d2c"]]);const h9=Z({props:{user:{type:String,required:!0}},setup(e){const{t}=ae(),n=it(),l=D(!1),o=D(null),u=D(null),r=V(()=>{var f;return u.value===null?null:((f=u.value.avatar)==null?void 0:f.id)?ct(`${tt()}assets/${u.value.avatar.id}?key=system-medium-cover`):null}),i=D(!1);return he(i,()=>{i.value===!0&&u.value===null&&l.value===!1&&s()}),At(()=>{l.value=!1,o.value=null,u.value=null}),{t,loading:l,error:o,data:u,active:i,avatarSrc:r,userName:Ft,navigateToUser:p};async function s(){l.value=!0,o.value=null;try{const f=await me.get(`/users/${e.user}`,{params:{fields:["id","first_name","last_name","avatar.id","role.name","status","email"]}});u.value=f.data.data}catch(f){o.value=f}finally{l.value=!1}}function p(){u.value&&n.push(`/users/${u.value.id}`)}}}),g9={key:0,class:"loading"},b9={key:1,class:"error"},w9=["src","alt"],k9={class:"data"},$9={class:"name type-title"},C9={class:"email"};function S9(e,t,n,l,o,u){const r=c("v-skeleton-loader"),i=c("v-icon"),s=c("v-avatar"),p=c("v-menu");return m(),F(p,{modelValue:e.active,"onUpdate:modelValue":t[1]||(t[1]=f=>e.active=f),"show-arrow":"",placement:"top",trigger:"hover",delay:300},{activator:d(()=>[ke(e.$slots,"default",{},void 0,!0)]),default:d(()=>[e.loading?(m(),A("div",g9,[a(r,{class:"avatar"}),$("div",null,[a(r,{type:"text"}),a(r,{type:"text"}),a(r,{type:"text"})])])):e.error?(m(),A("div",b9,w(e.error),1)):e.data?(m(),A("div",{key:2,class:"user-box",onClick:t[0]||(t[0]=Te((...f)=>e.navigateToUser&&e.navigateToUser(...f),["stop"]))},[a(s,{"x-large":"",class:"avatar"},{default:d(()=>[e.avatarSrc?(m(),A("img",{key:0,src:e.avatarSrc,alt:e.data.first_name},null,8,w9)):(m(),F(i,{key:1,name:"person"}))]),_:1}),$("div",k9,[$("div",$9,w(e.userName(e.data)),1),$("div",{class:de(["status-role",e.data.status])},w(e.t(e.data.status))+" "+w(e.data.role.name),3),$("div",C9,w(e.data.email),1)])])):M("",!0)]),_:3},8,["modelValue"])}var F9=H(h9,[["render",S9],["__scopeId","data-v-3201fe3a"]]);const V9=Z({props:{frontmatter:{type:Object,required:!0}},emits:["update:title","update:modularExtension"],setup(e,{emit:t}){const n=Wt(),l=vt("main-element"),o=V(()=>{var u;return(u=e.frontmatter)==null?void 0:u.pageClass});return he(()=>e.frontmatter,()=>{t("update:title",e.frontmatter.title),t("update:modularExtension",e.frontmatter.modularExtension)},{immediate:!0}),dt(()=>{if(n.hash&&(l==null?void 0:l.value)){const u=document.querySelector(n.hash);u&&l.value.scrollTo({top:u.offsetTop-100})}}),{pageClass:o}}});function A9(e,t,n,l,o,u){return m(),A("div",{class:de(["md",e.pageClass])},[ke(e.$slots,"default",{},void 0,!0)],2)}var I9=H(V9,[["render",A9],["__scopeId","data-v-58afec75"]]);const E9={};function D9(e,t){return m(),F(La,ft({name:"bounce",tag:"div"},e.$attrs),{default:d(()=>[ke(e.$slots,"default")]),_:3},16)}var P9=H(E9,[["render",D9]]);const T9={};function O9(e,t){return m(),F(Bt,{name:"dialog"},{default:d(()=>[ke(e.$slots,"default")]),_:3})}var L9=H(T9,[["render",O9]]);function j9(e="",t=!1,n){const l=t?"width":"height",o=`offset${Do(l)}`;return{beforeEnter(r){n("beforeEnter"),r._parent=r.parentNode,r._initialStyle={transition:r.style.transition,visibility:r.style.visibility,overflow:r.style.overflow,[l]:r.style[l]}},enter(r){n("enter");const i=r._initialStyle;if(!i)return;const s=`${r[o]}px`;r.style.setProperty("transition","none","important"),r.style.visibility="hidden",r.style.visibility=i.visibility,r.style.overflow="hidden",r.style[l]="0",r.offsetHeight,r.style.transition=i.transition!==""?i.transition:`${l} var(--medium) var(--transition)`,e&&r._parent&&r._parent.classList.add(e),requestAnimationFrame(()=>{r.style[l]=s})},afterEnter(r){n("afterEnter"),u(r)},enterCancelled(r){n("enterCancelled"),u(r)},leave(r){n("leave"),r._initialStyle={transition:"",visibility:"",overflow:r.style.overflow,[l]:r.style[l]},r.style.overflow="hidden",r.style[l]=`${r[o]}px`,r.offsetHeight,requestAnimationFrame(()=>r.style[l]="0")},afterLeave(r){n("afterLeave"),e&&r._parent&&r._parent.classList.remove(e),u(r)},leaveCancelled(r){n("leaveCancelled"),e&&r._parent&&r._parent.classList.remove(e),u(r)}};function u(r){if(!r._initialStyle)return;const i=r._initialStyle[l];r.style.overflow=r._initialStyle.overflow,i!=null&&(r.style[l]=i),delete r._initialStyle}}const R9=Z({props:{xAxis:{type:Boolean,default:!1},expandedParentClass:{type:String,default:""}},emits:["beforeEnter","enter","afterEnter","enterCancelled","leave","afterLeave","leaveCancelled"],setup(e,{emit:t}){return{methods:j9(e.expandedParentClass,e.xAxis,t)}}});function M9(e,t,n,l,o,u){return m(),F(Bt,ft({name:"expand-transition",mode:"in-out"},Il(e.methods)),{default:d(()=>[ke(e.$slots,"default")]),_:3},16)}var U9=H(R9,[["render",M9]]);const wl={xSmall:{type:Boolean,default:!1},small:{type:Boolean,default:!1},large:{type:Boolean,default:!1},xLarge:{type:Boolean,default:!1}};function kl(e){return V(()=>e.xSmall?"x-small":e.small?"small":e.large?"large":e.xLarge?"x-large":null)}const N9=Z({props:ve({size:{type:Number,default:null},tile:{type:Boolean,default:!1}},wl),setup(e){return{sizeClass:kl(e)}}});function B9(e,t,n,l,o,u){return m(),A("div",{class:de(["v-avatar",[{tile:e.tile},e.sizeClass]])},[ke(e.$slots,"default")],2)}var q9=H(N9,[["render",B9],["__scopeId","data-v-7c299c19"]]);const z9=Z({props:{value:{type:[Boolean,String,Number],default:null},dot:{type:Boolean,default:!1},left:{type:Boolean,default:!1},bottom:{type:Boolean,default:!1},icon:{type:String,default:null},bordered:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}}}),K9={key:1};function W9(e,t,n,l,o,u){const r=c("v-icon");return m(),A("div",{class:de(["v-badge",{dot:e.dot,bordered:e.bordered}])},[e.disabled?M("",!0):(m(),A("span",{key:0,class:de(["badge",{dot:e.dot,bordered:e.bordered,left:e.left,bottom:e.bottom}])},[e.icon?(m(),F(r,{key:0,name:e.icon,color:e.color,"x-small":""},null,8,["name","color"])):(m(),A("span",K9,w(e.value),1))],2)),ke(e.$slots,"default",{},void 0,!0)],2)}var H9=H(z9,[["render",W9],["__scopeId","data-v-1a740429"]]);const G9=Z({props:{items:{type:Array,default:()=>[]}},setup(){return{}}}),Z9={class:"v-breadcrumb"},J9={key:2,class:"section-link"};function X9(e,t,n,l,o,u){const r=c("v-icon"),i=c("router-link");return m(),A("span",Z9,[(m(!0),A(se,null,Ve(e.items,(s,p)=>(m(),A("span",{key:s.name,class:de(["section",{disabled:s.disabled}])},[p>0?(m(),F(r,{key:0,name:"chevron_right",small:""})):M("",!0),s.disabled?(m(),A("span",J9,[s.icon?(m(),F(r,{key:0,name:s.icon},null,8,["name"])):M("",!0),P(" "+w(s.name),1)])):(m(),F(i,{key:1,to:s.to,class:"section-link"},{default:d(()=>[s.icon?(m(),F(r,{key:0,name:s.icon,small:""},null,8,["name"])):M("",!0),P(" "+w(s.name),1)]),_:2},1032,["to"]))],2))),128))])}var Y9=H(G9,[["render",X9],["__scopeId","data-v-884352f6"]]);const Q9=Z({props:ve({autofocus:{type:Boolean,default:!1},kind:{type:String,default:"normal"},fullWidth:{type:Boolean,default:!1},rounded:{type:Boolean,default:!1},outlined:{type:Boolean,default:!1},icon:{type:Boolean,default:!1},type:{type:String,default:"button"},disabled:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},to:{type:[String,Object],default:""},href:{type:String,default:void 0},active:{type:Boolean,default:void 0},exact:{type:Boolean,default:!1},query:{type:Boolean,default:!1},secondary:{type:Boolean,default:!1},warning:{type:Boolean,default:!1},danger:{type:Boolean,default:!1},value:{type:[Number,String],default:void 0},dashed:{type:Boolean,default:!1},tile:{type:Boolean,default:!1},align:{type:String,default:"center",validator:e=>["left","center","right"].includes(e)},download:{type:String,default:void 0}},wl),emits:["click"],setup(e,{emit:t}){const n=Wt(),{route:l,isActive:o,isExactActive:u}=ja(e),r=kl(e),i=V(()=>e.disabled?"button":en(e.href)?"a":e.to?"router-link":"button"),{active:s,toggle:p}=Ln({value:e.value,group:"item-group"}),f=V(()=>{if(e.active!==void 0)return e.active;if(e.to){const v=!e.query||z.exports.isEqual(n.query,l.value.query);return e.exact?u.value&&v||s.value:o.value&&v||s.value}return!1});return{sizeClass:r,onClick:_,component:i,isActiveRoute:f,toggle:p};function _(v){e.loading!==!0&&(p(),t("click",v))}}}),x9={class:"spinner"};function ej(e,t,n,l,o,u){const r=c("v-progress-circular"),i=Fe("focus");return m(),A("div",{class:de(["v-button",{secondary:e.secondary,warning:e.warning,danger:e.danger,"full-width":e.fullWidth,rounded:e.rounded}])},[ke(e.$slots,"prepend-outer",{},void 0,!0),ie((m(),F(He(e.component),{download:e.download,class:de(["button",[e.sizeClass,`align-${e.align}`,{active:e.isActiveRoute,icon:e.icon,outlined:e.outlined,loading:e.loading,dashed:e.dashed,tile:e.tile,"full-width":e.fullWidth},e.kind]]),type:e.type,disabled:e.disabled,to:e.to!==""?e.to:void 0,href:e.href,target:e.component==="a"?"_blank":void 0,rel:e.component==="a"?"noopener noreferrer":void 0,onClick:e.onClick},{default:d(()=>[$("span",{class:de(["content",{invisible:e.loading}])},[ke(e.$slots,"default",nt(lt({active:e.active,toggle:e.toggle})),void 0,!0)],2),$("div",x9,[e.loading?ke(e.$slots,"loading",{key:0},()=>[a(r,{"x-small":e.xSmall,small:e.small,indeterminate:""},null,8,["x-small","small"])],!0):M("",!0)])]),_:3},8,["download","class","type","disabled","to","href","target","rel","onClick"])),[[i,e.autofocus]]),ke(e.$slots,"append-outer",{},void 0,!0)],2)}var tj=H(Q9,[["render",ej],["__scopeId","data-v-0b5a1e2e"]]);const nj={},lj={class:"v-card-actions"};function oj(e,t){return m(),A("div",lj,[ke(e.$slots,"default")])}var aj=H(nj,[["render",oj],["__scopeId","data-v-1c0af2d8"]]);const ij={},rj={class:"v-card-subtitle"};function sj(e,t){return m(),A("div",rj,[ke(e.$slots,"default",{},void 0,!0)])}var dj=H(ij,[["render",sj],["__scopeId","data-v-61d074a0"]]);const uj={},cj={class:"v-card-text"};function pj(e,t){return m(),A("div",cj,[ke(e.$slots,"default",{},void 0,!0)])}var mj=H(uj,[["render",pj],["__scopeId","data-v-641303f3"]]);const fj={},_j={class:"v-card-title type-label"};function vj(e,t){return m(),A("div",_j,[ke(e.$slots,"default",{},void 0,!0)])}var yj=H(fj,[["render",vj],["__scopeId","data-v-4ef4d67b"]]);const hj=Z({props:{disabled:{type:Boolean,default:!1},tile:{type:Boolean,default:!1}},setup(){return{}}});function gj(e,t,n,l,o,u){return m(),A("div",{class:de(["v-card",{disabled:e.disabled,tile:e.tile}])},[ke(e.$slots,"default",{},void 0,!0)],2)}var bj=H(hj,[["render",gj],["__scopeId","data-v-50411ea0"]]);const wj=Z({props:{value:{type:String,default:null},modelValue:{type:[Boolean,Array],default:null},label:{type:String,default:null},disabled:{type:Boolean,default:!1},indeterminate:{type:Boolean,default:!1},iconOn:{type:String,default:"check_box"},iconOff:{type:String,default:"check_box_outline_blank"},iconIndeterminate:{type:String,default:"indeterminate_check_box"},block:{type:Boolean,default:!1},customValue:{type:Boolean,default:!1},checked:{type:Boolean,default:null}},emits:["update:indeterminate","update:modelValue","update:value"],setup(e,{emit:t}){const n=Ge(e,"value",t),l=V(()=>e.checked!==null?e.checked:e.modelValue instanceof Array?e.modelValue.includes(e.value):e.modelValue===!0),o=V(()=>e.indeterminate===!0||e.checked===null&&e.modelValue===null?e.iconIndeterminate:l.value?e.iconOn:e.iconOff);return{isChecked:l,toggleInput:u,icon:o,internalValue:n};function u(){if(e.indeterminate===!0&&t("update:indeterminate",!1),e.modelValue instanceof Array){const r=[...e.modelValue];e.modelValue.includes(e.value)===!1?r.push(e.value):r.splice(r.indexOf(e.value),1),t("update:modelValue",r)}else t("update:modelValue",!e.modelValue)}}}),kj={key:0,class:"prepend"},$j={class:"label type-text"},Cj={key:1,class:"append"};function Sj(e,t,n,l,o,u){const r=c("v-icon");return m(),F(He(e.customValue?"div":"button"),{class:de(["v-checkbox",{checked:e.isChecked,indeterminate:e.indeterminate,block:e.block}]),type:"button",role:"checkbox","aria-pressed":e.isChecked?"true":"false",disabled:e.disabled,onClick:Te(e.toggleInput,["stop"])},{default:d(()=>[e.$slots.prepend?(m(),A("div",kj,[ke(e.$slots,"prepend",{},void 0,!0)])):M("",!0),a(r,{class:"checkbox",name:e.icon,disabled:e.disabled},null,8,["name","disabled"]),$("span",$j,[e.customValue===!1?ke(e.$slots,"default",{key:0},()=>[P(w(e.label),1)],!0):ie((m(),A("input",{key:1,"onUpdate:modelValue":t[0]||(t[0]=i=>e.internalValue=i),class:"custom-input"},null,512)),[[po,e.internalValue]])]),e.$slots.append?(m(),A("div",Cj,[ke(e.$slots,"append",{},void 0,!0)])):M("",!0)]),_:3},8,["aria-pressed","disabled","class","onClick"])}var Fj=H(wj,[["render",Sj],["__scopeId","data-v-7e3bd693"]]);function gs(e,t,n,l,o,u,r,i,s){return{visibleChildrenValues:V(()=>{let f=n.value||[];return e.value&&(f=f.filter(y=>y[o.value].toLowerCase().includes(e.value.toLowerCase())||_(y[r.value]))),l.value&&(f=f.filter(y=>t.value.includes(y[u.value])||v(y[r.value])||t.value.includes(i.value)||t.value.includes(s.value))),f.map(y=>y[u.value]);function _(y){return y?y.some(g=>g[o.value].toLowerCase().includes(e.value.toLowerCase())||_(g[r.value])):!1}function v(y){return y?y.some(g=>t.value.includes(g[u.value])||v(g[r.value])):!1}})}}const Vj=Z({name:"VCheckboxTreeCheckbox",props:{text:{type:String,required:!0},value:{type:[String,Number],required:!0},children:{type:Array,default:null},modelValue:{type:Array,default:()=>[]},valueCombining:{type:String,required:!0},checked:{type:Boolean,default:null},search:{type:String,default:null},hidden:{type:Boolean,default:!1},itemText:{type:String,default:"text"},itemValue:{type:String,default:"value"},itemChildren:{type:String,default:"children"},disabled:{type:Boolean,default:!1},showSelectionOnly:{type:Boolean,default:!1},parentValue:{type:[String,Number],default:null}},emits:["update:modelValue"],setup(e,{emit:t}){const{search:n,modelValue:l,children:o,showSelectionOnly:u,itemText:r,itemValue:i,itemChildren:s,parentValue:p,value:f}=ze(e),{visibleChildrenValues:_}=gs(n,l,o,u,r,i,s,p,f),v=V(()=>e.showSelectionOnly===!0&&e.modelValue.includes(e.value)?!0:_.value.length>0),y=V(()=>e.showSelectionOnly===!0?_.value.length>0:!1),g=V(()=>{var U;return((U=e.children)==null?void 0:U.map(B=>B[e.itemValue]))||[]}),h=V({get(){return e.modelValue||[]},set(U){const B=z.exports.difference(U,e.modelValue),K=z.exports.difference(e.modelValue,U);if(e.children)switch(e.valueCombining){case"all":return E(U,{added:B,removed:K});case"branch":return R(U,{added:B,removed:K});case"leaf":return O(U,{added:B,removed:K});case"indeterminate":return L(U,{added:B,removed:K});case"exclusive":return q(U,{added:B,removed:K});default:return T(U)}T(U)}}),b=V(()=>e.checked!==null?e.checked:e.valueCombining==="all"?null:e.valueCombining==="leaf"?j("leaf").every(B=>e.modelValue.includes(B)):null),S=V(()=>{const U=j("all");if(e.valueCombining==="all"||e.valueCombining==="branch")return U.some(B=>e.modelValue.includes(B))&&e.modelValue.includes(e.value)===!1;if(e.valueCombining==="indeterminate")return U.some(B=>e.modelValue.includes(B))&&U.every(B=>e.modelValue.includes(B))===!1;if(e.valueCombining==="leaf"){const B=j("leaf");return B.some(K=>e.modelValue.includes(K))&&B.every(K=>e.modelValue.includes(K))===!1}return e.valueCombining==="exclusive"?U.some(B=>e.modelValue.includes(B)):null}),I=V(()=>e.checked!==null?e.checked:e.valueCombining==="all"?null:e.valueCombining==="branch"&&e.modelValue.includes(e.value)?!0:null);return{groupCheckedStateOverride:b,childrenCheckedStateOverride:I,treeValue:h,groupIndeterminateState:S,visibleChildrenValues:_,groupShown:v,groupOpen:y};function E(U,{added:B,removed:K}){const J=j("all");if((B==null?void 0:B[0])===e.value){const W=[...U.filter(G=>G!==e.value&&g.value.includes(G)===!1),...J,e.value];return T(W)}if((K==null?void 0:K[0])===e.value){const W=U.filter(G=>G!==e.value&&J.includes(G)===!1);return T(W)}if(g.value.every(W=>U.includes(W))){const W=[...U.filter(G=>G!==e.value&&J.includes(G)===!1),...J,e.value];return T(W)}const Y=U.filter(W=>W!==e.value);return T(Y)}function R(U,{added:B,removed:K}){var Y;const J=j("all");if((e.modelValue.includes(e.value)||e.checked===!0)&&B&&B.length===1&&g.value.includes(B[0])){const W=[...U.filter(G=>G!==e.value&&G!==B[0]),...g.value.filter(G=>G!==B[0])];return T(W)}if(e.modelValue.includes(e.value)&&J.some(W=>U.includes(W))){const W=e.children.find(Q=>{const X=j("all",Q[e.itemChildren]);return U.some(ee=>X.includes(ee))===!0}),G=[...U.filter(Q=>Q!==e.value),...(e.children||[]).filter(Q=>Q[e.itemChildren]?Q[e.itemValue]!==(W==null?void 0:W[e.itemValue]):!0).map(Q=>Q[e.itemValue]),...((Y=W==null?void 0:W[e.itemChildren])!=null?Y:[]).filter(Q=>{const X=j("all",Q[e.itemChildren]);return U.some(ee=>X.includes(ee))===!1}).map(Q=>Q[e.itemValue])];return T(G)}if(B==null?void 0:B.includes(e.value)){const W=[...U.filter(G=>G!==e.value&&J.includes(G)===!1),e.value];return T(W)}if(K==null?void 0:K.includes(e.value)){const W=U.filter(G=>G!==e.value&&J.includes(G)===!1);return T(W)}if(g.value.every(W=>U.includes(W))){const W=[...U.filter(G=>G!==e.value&&J.includes(G)===!1),e.value];return T(W)}return T(U)}function O(U,{added:B}){const K=j("all"),J=j("leaf");if(B==null?void 0:B.includes(e.value))if(J.every(Y=>U.includes(Y))){const Y=U.filter(W=>W!==e.value&&K.includes(W)===!1);return T(Y)}else{const Y=[...U.filter(W=>W!==e.value&&K.includes(W)===!1),...J];return T(Y)}return T(U)}function L(U,{added:B,removed:K}){const J=j("all");if((B==null?void 0:B[0])===e.value){const Y=[...U.filter(W=>W!==e.value&&g.value.includes(W)===!1),...J,e.value];return T(Y)}if((K==null?void 0:K[0])===e.value){const Y=U.filter(W=>W!==e.value&&J.includes(W)===!1);return T(Y)}if(g.value.some(Y=>U.includes(Y))){const Y=[...U.filter(W=>W!==e.value),e.value];return T(Y)}return g.value.every(Y=>U.includes(Y)===!1)?T(U.filter(Y=>Y!==e.value)):T(U)}function q(U,{added:B}){const K=j("all");if((B==null?void 0:B[0])===e.value){const J=[...U.filter(Y=>Y!==e.value&&K.includes(Y)===!1),e.value];return T(J)}if(K.some(J=>U.includes(J))){const J=[...U.filter(Y=>Y!==e.value)];return T(J)}return T(U)}function T(U){t("update:modelValue",U)}function j(U,B=e.children){const K=[];return J(B),K;function J(Y){if(!!Y)for(const W of Y)U==="all"&&K.push(W[e.itemValue]),U==="branch"&&W[e.itemChildren]&&K.push(W[e.itemValue]),U==="leaf"&&!W[e.itemChildren]&&K.push(W[e.itemValue]),W[e.itemChildren]&&J(W[e.itemChildren])}}}});function Aj(e,t,n,l,o,u){const r=c("v-highlight"),i=c("v-checkbox"),s=c("v-checkbox-tree-checkbox",!0),p=c("v-list-group"),f=c("v-list-item");return e.children?ie((m(),F(p,{key:0,value:e.value,open:e.groupOpen,"arrow-placement":"before"},{activator:d(()=>[a(i,{modelValue:e.treeValue,"onUpdate:modelValue":t[0]||(t[0]=_=>e.treeValue=_),indeterminate:e.groupIndeterminateState,checked:e.groupCheckedStateOverride,label:e.text,value:e.value,disabled:e.disabled},{default:d(()=>[a(r,{text:e.text,query:e.search},null,8,["text","query"])]),_:1},8,["modelValue","indeterminate","checked","label","value","disabled"])]),default:d(()=>[(m(!0),A(se,null,Ve(e.children,_=>(m(),F(s,{key:_[e.itemValue],modelValue:e.treeValue,"onUpdate:modelValue":t[1]||(t[1]=v=>e.treeValue=v),"value-combining":e.valueCombining,checked:e.childrenCheckedStateOverride,hidden:e.visibleChildrenValues.includes(_[e.itemValue])===!1,search:e.search,"item-text":e.itemText,"item-value":e.itemValue,"item-children":e.itemChildren,text:_[e.itemText],value:_[e.itemValue],children:_[e.itemChildren],disabled:e.disabled,"show-selection-only":e.showSelectionOnly,"parent-value":e.value},null,8,["modelValue","value-combining","checked","hidden","search","item-text","item-value","item-children","text","value","children","disabled","show-selection-only","parent-value"]))),128))]),_:1},8,["value","open"])),[[Nt,e.groupShown]]):e.children?M("",!0):ie((m(),F(f,{key:1,class:"item"},{default:d(()=>[a(i,{modelValue:e.treeValue,"onUpdate:modelValue":t[2]||(t[2]=_=>e.treeValue=_),disabled:e.disabled,checked:e.checked,label:e.text,value:e.value},{default:d(()=>[a(r,{text:e.text,query:e.search},null,8,["text","query"])]),_:1},8,["modelValue","disabled","checked","label","value"])]),_:1},512)),[[Nt,!e.hidden]])}var Ij=H(Vj,[["render",Aj],["__scopeId","data-v-2d7b2ed0"]]);const Ej=Z({name:"VCheckboxTree",components:{VCheckboxTreeCheckbox:Ij},props:{choices:{type:Array,default:()=>[]},modelValue:{type:Array,default:null},valueCombining:{type:String,default:"all"},search:{type:String,default:null},itemText:{type:String,default:"text"},itemValue:{type:String,default:"value"},itemChildren:{type:String,default:"children"},disabled:{type:Boolean,default:!1},showSelectionOnly:{type:Boolean,default:!1}},emits:["update:modelValue","group-toggle"],setup(e,{emit:t}){const n=V({get(){return e.modelValue||[]},set(h){t("update:modelValue",h)}}),l=D(""),o=D(""),{search:u,modelValue:r,showSelectionOnly:i,itemText:s,itemValue:p,itemChildren:f,choices:_}=ze(e),{visibleChildrenValues:v}=gs(u,r,_,i,s,p,f,o,l),y=D([]);he(()=>e.search,h=>{if(!h)return;const b=new Set([...y.value,...g(h,e.choices)]);y.value=[...b]},{immediate:!0});function g(h,b){const S=[];for(const I of b)I[e.itemText].toLowerCase().includes(h.toLowerCase())&&S.push(I[e.itemValue]),I[e.itemChildren]&&S.push(...g(h,I[e.itemChildren]));return S}return{value:n,openSelection:y,visibleChildrenValues:v}}});function Dj(e,t,n,l,o,u){const r=c("v-checkbox-tree-checkbox"),i=c("v-list");return m(),F(i,{modelValue:e.openSelection,"onUpdate:modelValue":t[1]||(t[1]=s=>e.openSelection=s),mandatory:!1,onToggle:t[2]||(t[2]=s=>e.$emit("group-toggle",s))},{default:d(()=>[(m(!0),A(se,null,Ve(e.choices,s=>(m(),F(r,{key:s[e.itemValue],modelValue:e.value,"onUpdate:modelValue":t[0]||(t[0]=p=>e.value=p),"value-combining":e.valueCombining,search:e.search,"item-text":e.itemText,"item-value":e.itemValue,"item-children":e.itemChildren,text:s[e.itemText],hidden:e.visibleChildrenValues.includes(s[e.itemValue])===!1,value:s[e.itemValue],children:s[e.itemChildren],disabled:e.disabled,"show-selection-only":e.showSelectionOnly},null,8,["modelValue","value-combining","search","item-text","item-value","item-children","text","hidden","value","children","disabled","show-selection-only"]))),128))]),_:1},8,["modelValue"])}var Pj=H(Ej,[["render",Dj]]);const Tj=Z({props:ve({active:{type:Boolean,default:null},close:{type:Boolean,default:!1},closeIcon:{type:String,default:"close"},outlined:{type:Boolean,default:!1},label:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1}},wl),emits:["update:active","click","close"],setup(e,{emit:t}){const n=D(!0),l=V({get:()=>e.active!==null?e.active:n.value,set:i=>{t("update:active",i),n.value=i}});return{sizeClass:kl(e),internalActive:l,onClick:u,onCloseClick:r};function u(i){e.disabled||t("click",i)}function r(i){e.disabled||(l.value=!l.value,t("close",i))}}}),Oj={class:"chip-content"};function Lj(e,t,n,l,o,u){const r=c("v-icon");return e.internalActive?(m(),A("span",{key:0,class:de(["v-chip",[e.sizeClass,{outlined:e.outlined,label:e.label,disabled:e.disabled,close:e.close}]]),onClick:t[1]||(t[1]=(...i)=>e.onClick&&e.onClick(...i))},[$("span",Oj,[ke(e.$slots,"default",{},void 0,!0),e.close?(m(),A("span",{key:0,class:de(["close-outline",{disabled:e.disabled}]),onClick:t[0]||(t[0]=Te((...i)=>e.onCloseClick&&e.onCloseClick(...i),["stop"]))},[a(r,{class:"close",name:e.closeIcon,"x-small":""},null,8,["name"])],2)):M("",!0)])],2)):M("",!0)}var jj=H(Tj,[["render",Lj],["__scopeId","data-v-d55b27c0"]]);const Rj=Z({props:{modelValue:{type:Boolean,default:void 0},label:{type:String,default:Be.global.t("toggle")},startOpen:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e,{emit:t}){const n=D(e.startOpen),l=V({get(){return e.modelValue!==void 0?e.modelValue:n.value},set(i){n.value=i,t("update:modelValue",i)}});return{internalActive:l,enable:o,disable:u,toggle:r};function o(){l.value=!0}function u(){l.value=!1}function r(){l.value=!l.value}}});function Mj(e,t,n,l,o,u){const r=c("v-icon"),i=c("v-divider"),s=c("transition-expand");return m(),A("div",{class:de(["v-detail",{disabled:e.disabled}])},[ke(e.$slots,"activator",nt(lt({active:e.internalActive,enable:e.enable,disable:e.disable,toggle:e.toggle})),()=>[a(i,{onClick:t[0]||(t[0]=p=>e.internalActive=!e.internalActive)},{default:d(()=>[e.disabled?M("",!0):(m(),F(r,{key:0,name:e.internalActive?"expand_more":"chevron_right",small:""},null,8,["name"])),ke(e.$slots,"title",{},()=>[P(w(e.label),1)],!0)]),_:3})],!0),a(s,null,{default:d(()=>[ie($("div",null,[ke(e.$slots,"default",{},void 0,!0)],512),[[Nt,e.internalActive]])]),_:3})],2)}var Uj=H(Rj,[["render",Mj],["__scopeId","data-v-47c16e2c"]]);const Nj=Z({props:{modelValue:{type:Boolean,default:void 0},persistent:{type:Boolean,default:!1},placement:{type:String,default:"center",validator:e=>["center","right"].includes(e)}},emits:["esc","update:modelValue"],setup(e,{emit:t}){rt("escape",(p,f)=>{u.value&&(t("esc"),f())});const n=D(!1),l=D(null),o=V(()=>Tt()),u=V({get(){return e.modelValue!==void 0?e.modelValue:n.value},set(p){n.value=p,t("update:modelValue",p)}}),r=j8();return{emitToggle:i,className:l,nudge:s,leave:r,id:o,internalActive:u};function i(){e.persistent===!1?t("update:modelValue",!e.modelValue):s()}function s(){l.value="nudge",setTimeout(()=>{l.value=null},200)}}}),Bj={class:"v-dialog"};function qj(e,t,n,l,o,u){const r=c("v-overlay"),i=c("transition-dialog");return m(),A("div",Bj,[ke(e.$slots,"activator",nt(lt({on:()=>e.internalActive=!0}))),(m(),F(co,{to:"#dialog-outlet"},[a(i,{onAfterLeave:e.leave},{default:d(()=>[e.internalActive?(m(),F(He(e.placement==="right"?"div":"span"),{key:0,class:de(["container",[e.className,e.placement]])},{default:d(()=>[a(r,{active:"",absolute:"",onClick:e.emitToggle},null,8,["onClick"]),ke(e.$slots,"default")]),_:3},8,["class"])):M("",!0)]),_:3},8,["onAfterLeave"])]))])}var zj=H(Nj,[["render",qj],["__scopeId","data-v-02af2763"]]);const Kj=Z({props:{vertical:{type:Boolean,default:!1},inlineTitle:{type:Boolean,default:!0},large:{type:Boolean,default:!1}}}),Wj={key:0,class:"wrapper"},Hj={key:0,class:"type-text"},Gj=["aria-orientation"];function Zj(e,t,n,l,o,u){return m(),A("div",{class:de(["v-divider",{vertical:e.vertical,inlineTitle:e.inlineTitle,large:e.large}])},[e.$slots.icon||e.$slots.default?(m(),A("span",Wj,[ke(e.$slots,"icon",{class:"icon"}),!e.vertical&&e.$slots.default?(m(),A("span",Hj,[ke(e.$slots,"default")])):M("",!0)])):M("",!0),$("hr",{role:"separator","aria-orientation":e.vertical?"vertical":"horizontal"},null,8,Gj)],2)}var Jj=H(Kj,[["render",Zj],["__scopeId","data-v-70aa2cf8"]]);const Xj=Z({props:{showSidebarToggle:{type:Boolean,default:!1}},emits:["toggle:sidebar"],setup(){return{active:D(!1)}}}),Yj={class:"action-buttons"};function Qj(e,t,n,l,o,u){const r=c("v-icon"),i=c("v-button");return m(),A("div",{class:de(["actions",{active:e.active}])},[a(i,{class:"expand",icon:"",rounded:"",secondary:"",outlined:"",onClick:t[0]||(t[0]=s=>e.active=!e.active)},{default:d(()=>[a(r,{name:"arrow_left"})]),_:1}),$("div",Yj,[e.showSidebarToggle?(m(),F(i,{key:0,class:"sidebar-toggle",icon:"",rounded:"",secondary:"",outlined:"",onClick:t[1]||(t[1]=s=>e.$emit("toggle:sidebar"))},{default:d(()=>[a(r,{name:"info"})]),_:1})):M("",!0),ke(e.$slots,"default",{},void 0,!0)])],2)}var xj=H(Xj,[["render",Qj],["__scopeId","data-v-7ddd5ffe"]]);const eR=Z({components:{HeaderBarActions:xj},props:{title:{type:String,default:null},showSidebarToggle:{type:Boolean,default:!1},primaryActionIcon:{type:String,default:"menu"},small:{type:Boolean,default:!1}},emits:["primary","toggle:sidebar"],setup(){const e=D(),t=D(!1),n=new IntersectionObserver(([l])=>{t.value=l.boundingClientRect.y===-1},{threshold:[1]});return dt(()=>{n.observe(e.value)}),At(()=>{n.disconnect()}),{headerEl:e,collapsed:t}}}),tR=e=>(xe("data-v-7fc2665b"),e=e(),et(),e),nR={key:0,class:"title-outer-prepend"},lR={class:"headline"},oR={class:"title"},aR={class:"type-title"},iR=tR(()=>$("div",{class:"spacer"},null,-1));function rR(e,t,n,l,o,u){const r=c("v-icon"),i=c("v-button"),s=c("header-bar-actions");return m(),A("header",{ref:"headerEl",class:de(["header-bar",{collapsed:e.collapsed,small:e.small}])},[a(i,{secondary:"",class:"nav-toggle",icon:"",rounded:"",onClick:t[0]||(t[0]=p=>e.$emit("primary"))},{default:d(()=>[a(r,{name:e.primaryActionIcon},null,8,["name"])]),_:1}),e.$slots["title-outer:prepend"]?(m(),A("div",nR,[ke(e.$slots,"title-outer:prepend",{},void 0,!0)])):M("",!0),$("div",{class:de(["title-container",{full:!e.$slots["title-outer:append"]}])},[$("div",lR,[ke(e.$slots,"headline",{},void 0,!0)]),$("div",oR,[ke(e.$slots,"title",{},()=>[ke(e.$slots,"title:prepend",{},void 0,!0),$("h1",aR,w(e.title),1),ke(e.$slots,"title:append",{},void 0,!0)],!0)]),ke(e.$slots,"title-outer:append",{},void 0,!0)],2),iR,ke(e.$slots,"actions:prepend",{},void 0,!0),a(s,{"show-sidebar-toggle":e.showSidebarToggle,"onToggle:sidebar":t[1]||(t[1]=p=>e.$emit("toggle:sidebar"))},{default:d(()=>[ke(e.$slots,"actions",{},void 0,!0)]),_:3},8,["show-sidebar-toggle"]),ke(e.$slots,"actions:append",{},void 0,!0)],2)}var sR=H(eR,[["render",rR],["__scopeId","data-v-7fc2665b"]]);const dR=Z({components:{HeaderBar:sR},props:{title:{type:String,required:!0},subtitle:{type:String,default:null},modelValue:{type:Boolean,default:void 0},persistent:{type:Boolean,default:!1},icon:{type:String,default:"box"},sidebarLabel:{type:String,default:Be.global.t("sidebar")},cancelable:{type:Boolean,default:!0}},emits:["cancel","update:modelValue"],setup(e,{emit:t}){const{t:n}=ae(),l=D(!1),o=D();nn("main-element",o);const u=V({get(){return e.modelValue===void 0?l.value:e.modelValue},set(r){l.value=r,t("update:modelValue",r)}});return{t:n,internalActive:u,mainEl:o}}}),uR={class:"v-drawer"},cR={class:"content"},pR={key:1,class:"sidebar"},mR={ref:"mainEl",class:"main"},fR={key:0,class:"subtitle"};function _R(e,t,n,l,o,u){const r=c("v-icon"),i=c("v-button"),s=c("v-overlay"),p=c("header-bar"),f=c("v-detail"),_=c("v-dialog"),v=Fe("tooltip");return m(),F(_,{modelValue:e.internalActive,"onUpdate:modelValue":t[3]||(t[3]=y=>e.internalActive=y),persistent:e.persistent,placement:"right",onEsc:t[4]||(t[4]=y=>e.$emit("cancel"))},{activator:d(({on:y})=>[ke(e.$slots,"activator",nt(lt({on:y})),void 0,!0)]),default:d(()=>[$("article",uR,[e.cancelable?ie((m(),F(i,{key:0,class:"cancel",icon:"",rounded:"",secondary:"",onClick:t[0]||(t[0]=y=>e.$emit("cancel"))},{default:d(()=>[a(r,{name:"close"})]),_:1},512)),[[v,e.t("cancel"),void 0,{bottom:!0}]]):M("",!0),$("div",cR,[e.$slots.sidebar?(m(),F(s,{key:0,absolute:"",onClick:t[1]||(t[1]=y=>e.sidebarActive=!1)})):M("",!0),e.$slots.sidebar?(m(),A("nav",pR,[ke(e.$slots,"sidebar",{},void 0,!0)])):M("",!0),$("main",mR,[a(p,{title:e.title,"primary-action-icon":"close",onPrimary:t[2]||(t[2]=y=>e.$emit("cancel"))},{title:d(()=>[ke(e.$slots,"title",{},void 0,!0)]),headline:d(()=>[ke(e.$slots,"subtitle",{},()=>[e.subtitle?(m(),A("p",fR,w(e.subtitle),1)):M("",!0)],!0)]),"title-outer:prepend":d(()=>[ke(e.$slots,"title-outer:prepend",{},()=>[a(i,{class:"header-icon",rounded:"",icon:"",secondary:"",disabled:""},{default:d(()=>[a(r,{name:e.icon},null,8,["name"])]),_:1})],!0)]),"actions:prepend":d(()=>[ke(e.$slots,"actions:prepend",{},void 0,!0)]),actions:d(()=>[ke(e.$slots,"actions",{},void 0,!0)]),"title:append":d(()=>[ke(e.$slots,"header:append",{},void 0,!0)]),_:3},8,["title"]),e.$slots.sidebar?(m(),F(f,{key:0,class:"mobile-sidebar",label:e.sidebarLabel},{default:d(()=>[$("nav",null,[ke(e.$slots,"sidebar",{},void 0,!0)])]),_:3},8,["label"])):M("",!0),ke(e.$slots,"default",{},void 0,!0)],512)])])]),_:3},8,["modelValue","persistent"])}var vR=H(dR,[["render",_R],["__scopeId","data-v-67243b93"]]);const yR=Z({props:{error:{type:[Object,Error],required:!0}},setup(e){const{t}=ae(),n=V(()=>{var s,p,f,_,v,y,g,h;return((y=(v=(_=(f=(p=(s=e.error)==null?void 0:s.response)==null?void 0:p.data)==null?void 0:f.errors)==null?void 0:_[0])==null?void 0:v.extensions)==null?void 0:y.code)||((h=(g=e.error)==null?void 0:g.extensions)==null?void 0:h.code)||"UNKNOWN"}),l=V(()=>{var p,f,_,v,y,g;let s=((y=(v=(_=(f=(p=e.error)==null?void 0:p.response)==null?void 0:f.data)==null?void 0:_.errors)==null?void 0:v[0])==null?void 0:y.message)||((g=e.error)==null?void 0:g.message);return s.length>200&&(s=s.substring(0,197)+"..."),s}),o=D(!1),{isCopySupported:u,copyToClipboard:r}=il();return{t,code:n,copyError:i,isCopySupported:u,copied:o,message:l};async function i(){var f,_;const s=((_=(f=e.error)==null?void 0:f.response)==null?void 0:_.data)||e.error;!await r(JSON.stringify(s,z.exports.isPlainObject(s)?null:Object.getOwnPropertyNames(s),2))||(o.value=!0)}}}),hR={class:"v-error selectable"};function gR(e,t,n,l,o,u){const r=c("v-icon"),i=Fe("tooltip");return m(),A("div",hR,[$("output",null,"["+w(e.code)+"] "+w(e.message),1),e.isCopySupported?ie((m(),F(r,{key:0,small:"",class:"copy-error",name:e.copied?"check":"content_copy",clickable:"",onClick:e.copyError},null,8,["name","onClick"])),[[i,e.t("copy_details")]]):M("",!0)])}var bR=H(yR,[["render",gR],["__scopeId","data-v-64779ad1"]]);const wR=Z({props:{items:{type:Array,required:!0},modelValue:{type:[String,Number],default:null},disabled:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e,{emit:t}){const n=V(()=>e.modelValue===null?e.items:e.items.filter(o=>o.value===e.modelValue));return{toggle:l,visibleItems:n};function l(o){e.disabled!==!0&&(e.modelValue===o.value?t("update:modelValue",null):t("update:modelValue",o.value))}}}),kR={class:"v-fancy-select"},$R=["onClick"],CR={class:"icon"},SR={class:"content"},FR={class:"text"},VR={class:"description"};function AR(e,t,n,l,o,u){const r=c("v-divider"),i=c("v-icon");return m(),A("div",kR,[a(La,{tag:"div",name:"option"},{default:d(()=>[(m(!0),A(se,null,Ve(e.visibleItems,(s,p)=>(m(),A(se,{key:p},[s.divider===!0?(m(),F(r,{key:0})):(m(),A("div",{key:1,class:de(["v-fancy-select-option",{active:s.value===e.modelValue,disabled:e.disabled}]),style:Je({"--index":p}),onClick:f=>e.toggle(s)},[$("div",CR,[a(i,{name:s.icon},null,8,["name"])]),$("div",SR,[$("div",FR,w(s.text),1),$("div",VR,w(s.description),1)]),e.modelValue===s.value&&e.disabled===!1?(m(),F(i,{key:0,name:"cancel",onClick:Te(f=>e.toggle(s),["stop"])},null,8,["onClick"])):s.iconRight?(m(),F(i,{key:1,class:"icon-right",name:s.iconRight},null,8,["name"])):M("",!0)],14,$R))],64))),128))]),_:1})])}var IR=H(wR,[["render",AR],["__scopeId","data-v-70a5597b"]]);const ER=Z({name:"FieldListItem",props:{field:{type:Object,required:!0},depth:{type:Number,default:void 0}},emits:["add"],setup(){return{formatTitle:kt}}});function DR(e,t,n,l,o,u){const r=c("v-list-item-content"),i=c("v-list-item"),s=c("field-list-item",!0),p=c("v-list-group");return e.field.children===void 0||e.depth===0?(m(),F(i,{key:0,disabled:e.field.disabled,clickable:"",onClick:t[0]||(t[0]=f=>e.$emit("add",e.field))},{default:d(()=>[a(r,null,{default:d(()=>[P(w(e.field.name||e.formatTitle(e.field.field)),1)]),_:1})]),_:1},8,["disabled"])):(m(),F(p,{key:1,value:e.field.key,clickable:"",onClick:t[2]||(t[2]=f=>e.$emit("add",e.field))},{activator:d(()=>[P(w(e.field.name||e.formatTitle(e.field.field)),1)]),default:d(()=>[(m(!0),A(se,null,Ve(e.field.children,f=>(m(),F(s,{key:f.key,field:f,depth:e.depth-1,onAdd:t[1]||(t[1]=_=>e.$emit("add",_))},null,8,["field","depth"]))),128))]),_:1},8,["value"]))}var PR=H(ER,[["render",DR]]);function sa(e,t,n=()=>!0){const l=Me(),o=mt(),u=D([]),r=D(new Set);return he(()=>e.value,i,{immediate:!0}),{treeList:u,loadFieldRelations:y,refresh:i};function i(){var g;r.value=new Set,u.value=(g=s(e.value))!=null?g:[];for(const h of u.value)h.relatedCollection&&(h.children=s(h.relatedCollection,h))}function s(g,h){var R;const b=(R=t==null?void 0:t.value)==null?void 0:R.fields.filter(O=>O.collection===g),E=l.getFieldsForCollectionSorted(g).concat(b||[]).filter(O=>{var L,q,T,j,U,B;return((q=(L=O.meta)==null?void 0:L.special)==null?void 0:q.includes("group"))||!((j=(T=O.meta)==null?void 0:T.special)==null?void 0:j.includes("alias"))&&!((B=(U=O.meta)==null?void 0:U.special)==null?void 0:B.includes("no-data"))}).filter(O=>n(O)).filter(O=>{var L,q;return(h==null?void 0:h.group)===!0?((L=O.meta)==null?void 0:L.group)===(h==null?void 0:h.field):z.exports.isNil((q=O.meta)==null?void 0:q.group)}).flatMap(O=>p(O,h));return E.length?E:void 0}function p(g,h){var E,R;const b=f(g),S=(h==null?void 0:h.path)?h.path+".":"",I=(h==null?void 0:h.key)?h.key+".":"";if((R=(E=g==null?void 0:g.meta)==null?void 0:E.special)==null?void 0:R.includes("group")){const O={name:g.name,field:g.field,collection:g.collection,relatedCollection:void 0,key:h?h.key:"",path:S+g.field,group:!0,type:g.type};return Ie(ve({},O),{children:s(g.collection,O)})}return b.length<=1?{name:g.name,field:g.field,collection:g.collection,relatedCollection:b[0],key:I+g.field,path:S+g.field,type:g.type}:b.map(O=>({name:`${g.name} (${O})`,field:`${g.field}:${O}`,collection:g.collection,relatedCollection:O,key:I+`${g.field}:${O}`,path:S+`${g.field}:${O}`,type:g.type}))}function f(g){const h=_(g);if(!(h==null?void 0:h.meta))return[];switch(Eu({relation:h,collection:g.collection,field:g.field})){case"o2m":return[h.meta.many_collection];case"m2o":return[h.meta.one_collection];case"m2a":return h.meta.one_allowed_collections;default:return[]}}function _(g){var b;return[...o.getRelationsForField(g.collection,g.field),...((b=t==null?void 0:t.value)==null?void 0:b.relations)||[]].find(S=>{var I;return S.collection===g.collection&&S.field===g.field||S.related_collection===g.collection&&((I=S.meta)==null?void 0:I.one_field)===g.field})}function v([g,...h],b){for(const S of b||[])if(S.field===g)return h.length?v(h,S.children):S}function y(g){if(!r.value.has(g)){r.value.add(g);const h=v(g.split("."),u.value);for(const b of(h==null?void 0:h.children)||[])(b==null?void 0:b.relatedCollection)&&(b.children=s(b.relatedCollection,b))}}}const TR=Z({components:{FieldListItem:PR},props:{disabled:{type:Boolean,default:!1},modelValue:{type:String,default:null},nullable:{type:Boolean,default:!0},collection:{type:String,default:null},depth:{type:Number,default:void 0},placeholder:{type:String,default:null},inject:{type:Object,default:null}},emits:["update:modelValue"],setup(e,{emit:t}){const n=D(null),l=D(!1),{collection:o,inject:u}=ze(e),{treeList:r,loadFieldRelations:i}=sa(o,u);return he(()=>e.modelValue,S,{immediate:!0}),dt(()=>{n.value&&(n.value.addEventListener("selectstart",_),S())}),At(()=>{n.value&&n.value.removeEventListener("selectstart",_)}),{menuActive:l,treeList:r,addField:v,onInput:s,contentEl:n,onClick:p,loadFieldRelations:i,onKeyDown:f};function s(){if(!n.value)return;const I=b();t("update:modelValue",I)}function p(I){var q;const E=I.target;if(E.tagName.toLowerCase()!=="button")return;const R=E.dataset.field;t("update:modelValue",e.modelValue.replace(`{{${R}}}`,""));const O=E.previousElementSibling,L=E.nextElementSibling;!O||!L||!(O instanceof HTMLElement)||!(L instanceof HTMLElement)||(E.remove(),g(O,L),(q=window.getSelection())==null||q.removeAllRanges(),s())}function f(I){var E;(I.key==="{"||I.key==="}")&&(I.preventDefault(),l.value=!0),((E=n.value)==null?void 0:E.innerHTML)===""&&(n.value.innerHTML='<span class="text"></span>')}function _(){var O;if(!n.value)return;const I=window.getSelection();if(!I||I.rangeCount<=0)return;const E=I.getRangeAt(0);if(!E)return;const R=E.startContainer;if(!(R instanceof HTMLElement&&R.classList.contains("text"))&&!((O=R.parentElement)==null?void 0:O.classList.contains("text"))){I.removeAllRanges();const L=new Range;let q=null;for(let T=0;T<n.value.childNodes.length||!q;T++){const j=n.value.children[T];j.classList.contains("text")&&(q=j)}q||(q=document.createElement("span"),q.classList.add("text"),n.value.appendChild(q)),L.setStart(q,0),I.addRange(L)}}function v(I){var L,q,T,j;if(!n.value)return;const E=document.createElement("button");if(E.dataset.field=I.key,E.setAttribute("contenteditable","false"),E.innerText=String(I.name),((L=window.getSelection())==null?void 0:L.rangeCount)==0){const U=document.createRange();U.selectNodeContents(n.value.children[0]),(q=window.getSelection())==null||q.addRange(U)}const R=(T=window.getSelection())==null?void 0:T.getRangeAt(0);if(!R)return;R.deleteContents();const O=h();if(O)n.value.insertBefore(E,O),(j=window.getSelection())==null||j.removeAllRanges();else{n.value.appendChild(E);const U=document.createElement("span");U.classList.add("text"),n.value.appendChild(U)}s()}function y(I,E){if(I===void 0)return;const R=I.find(O=>O.field===E[0]);if(R!==void 0)return E.length===1?R:y(R.children,E.slice(1))}function g(I,E){I.innerText+=E.innerText,E.remove()}function h(){var j,U,B,K;const I=(j=window.getSelection())==null?void 0:j.getRangeAt(0);if(!I)return;const E=I.startContainer;if(E.nodeType!==Node.TEXT_NODE)return;const R=E.parentElement;if(!R||!(R instanceof HTMLSpanElement)||!R.classList.contains("text"))return;const O=I.startOffset,L=((U=R.textContent)==null?void 0:U.slice(0,O))||"",q=((B=R.textContent)==null?void 0:B.slice(O))||"";R.innerText=L;const T=document.createElement("span");return T.classList.add("text"),T.innerText=q,(K=n.value)==null||K.insertBefore(T,R.nextSibling),T}function b(){if(!n.value)return null;const I=Array.from(n.value.childNodes).reduce((E,R)=>{const O=R,L=O.tagName;return L&&L.toLowerCase()==="button"?E+=`{{${O.dataset.field}}}`:"textContent"in O?E+=O.textContent:E+=""},"");return e.nullable===!0&&I===""?null:I}function S(){if(!!n.value){if(e.modelValue===null||e.modelValue===""){n.value.innerHTML='<span class="text"></span>';return}if(e.modelValue!==b()){const I=/({{.*?}})/g,E=e.modelValue.split(I).map(R=>{if(R.startsWith("{{")===!1)return`<span class="text">${R}</span>`;const O=R.replace(/({|})/g,"").trim(),L=O.split(".");for(let T=0;T<L.length;T++)i(L.slice(0,T).join("."));const q=y(r.value,L);return q?`<button contenteditable="false" data-field="${O}" ${e.disabled?"disabled":""}>${q.name}</button>`:""}).join("");n.value.innerHTML=E}}}}}),OR=e=>(xe("data-v-38d70e16"),e=e(),et(),e),LR=["contenteditable"],jR=OR(()=>$("span",{class:"text"},null,-1)),RR=[jR],MR={key:0,class:"placeholder"};function UR(e,t,n,l,o,u){const r=c("v-icon"),i=c("v-input"),s=c("field-list-item"),p=c("v-list"),f=c("v-menu");return m(),F(f,{modelValue:e.menuActive,"onUpdate:modelValue":t[4]||(t[4]=_=>e.menuActive=_),attached:""},{activator:d(({toggle:_})=>[a(i,{disabled:e.disabled},{input:d(()=>[$("span",{ref:"contentEl",class:"content",contenteditable:!e.disabled,onKeydown:t[0]||(t[0]=(...v)=>e.onKeyDown&&e.onKeyDown(...v)),onInput:t[1]||(t[1]=(...v)=>e.onInput&&e.onInput(...v)),onClick:t[2]||(t[2]=(...v)=>e.onClick&&e.onClick(...v))},RR,40,LR),e.placeholder&&!e.modelValue?(m(),A("span",MR,w(e.placeholder),1)):M("",!0)]),append:d(()=>[a(r,{name:"add_box",outline:"",clickable:"",disabled:e.disabled,onClick:_},null,8,["disabled","onClick"])]),_:2},1032,["disabled"])]),default:d(()=>[e.disabled?M("",!0):(m(),F(p,{key:0,mandatory:!1,onToggle:t[3]||(t[3]=_=>e.loadFieldRelations(_.value))},{default:d(()=>[(m(!0),A(se,null,Ve(e.treeList,_=>(m(),F(s,{key:_.field,field:_,depth:e.depth,onAdd:e.addField},null,8,["field","depth","onAdd"]))),128))]),_:1}))]),_:1},8,["modelValue"])}var NR=H(TR,[["render",UR],["__scopeId","data-v-38d70e16"]]);const BR={key:0,class:"functions"},qR={name:"VFieldListItem"};function zR(e){const t=e,{t:n}=ae(),l=V(()=>!t.includeFunctions||t.field.group?[]:n8(t.field.type));return(o,u)=>{const r=c("v-text-overflow"),i=c("v-list-item-content"),s=c("v-icon"),p=c("v-list-item-icon"),f=c("v-list-item"),_=c("v-divider"),v=c("v-field-list-item",!0),y=c("v-list-group");return e.field.children||C(l).length>0?(m(),F(y,{key:0,clickable:!e.field.disabled,value:e.field.path,onClick:u[1]||(u[1]=g=>o.$emit("add",e.field.key))},{activator:d(()=>[a(i,null,{default:d(()=>[a(r,{text:e.field.name||C(kt)(e.field.field),highlight:e.search},null,8,["text","highlight"])]),_:1})]),default:d(()=>[C(l).length>0?(m(),A("div",BR,[(m(!0),A(se,null,Ve(C(l),g=>(m(),F(f,{key:g,disabled:e.field.disabled,clickable:"",onClick:h=>o.$emit("add",`${g}(${e.field.key})`)},{default:d(()=>[a(p,null,{default:d(()=>[a(s,{name:"auto_awesome",small:"",color:"var(--primary)"})]),_:1}),a(i,null,{default:d(()=>[a(r,{text:`${C(n)(`functions.${g}`)} (${e.field.name||C(kt)(e.field.field)})`,highlight:e.search},null,8,["text","highlight"])]),_:2},1024)]),_:2},1032,["disabled","onClick"]))),128)),e.field.children&&e.field.children.length>0?(m(),F(_,{key:0})):M("",!0)])):M("",!0),(m(!0),A(se,null,Ve(e.field.children,g=>(m(),F(v,{key:g.key,field:g,search:e.search,"include-functions":e.includeFunctions,onAdd:u[0]||(u[0]=h=>o.$emit("add",h))},null,8,["field","search","include-functions"]))),128))]),_:1},8,["clickable","value"])):(m(),F(f,{key:1,disabled:e.field.disabled,clickable:"",onClick:u[2]||(u[2]=g=>o.$emit("add",e.field.key))},{default:d(()=>[a(i,null,{default:d(()=>[a(r,{text:e.field.name||C(kt)(e.field.field),highlight:e.search},null,8,["text","highlight"])]),_:1})]),_:1},8,["disabled"]))}}const KR=Z(Ie(ve({},qR),{props:{field:null,search:{default:void 0},includeFunctions:{type:Boolean,default:!1}},emits:["add"],setup:zR}));var WR=H(KR,[["__scopeId","data-v-55feeb47"]]);const HR=Z({props:{collection:null,field:{default:void 0},disabledFields:{default:()=>[]},includeFunctions:{type:Boolean,default:!1}},emits:["select-field"],setup(e){const t=e,n=Me(),{collection:l}=ze(t),o=V(()=>{var y,g;return(g=(y=n.getFieldsForCollection(l.value))==null?void 0:y.length)!=null?g:0}),u=D(""),{treeList:r,loadFieldRelations:i,refresh:s}=sa(l,void 0,v),p=z.exports.debounce(()=>s(),250);he(u,()=>p());const{t:f}=ae(),_=V(()=>{const y=r.value.map(g);if(t.field)return y.filter(h=>h.field===t.field);return y;function g(h){var S,I;let b=h.group||!1;return((S=t.disabledFields)==null?void 0:S.includes(h.key))&&(b=!0),Ie(ve({},h),{disabled:b,children:(I=h.children)==null?void 0:I.map(g)})}});function v(y){if(!u.value)return!0;const g=n.getFieldGroupChildren(l.value,y.field);return(g==null?void 0:g.some(b=>h(b)))||h(y);function h(b){return b.field.toLowerCase().includes(u.value.toLowerCase())||b.name.toLowerCase().includes(u.value.toLowerCase())}}return(y,g)=>{const h=c("v-icon"),b=c("v-input"),S=c("v-list-item-content"),I=c("v-list-item"),E=c("v-list");return m(),F(E,{mandatory:!1,onToggle:g[2]||(g[2]=R=>C(i)(R.value))},{default:d(()=>[ke(y.$slots,"prepend",{},void 0,!0),C(o)>20?(m(),F(I,{key:0},{default:d(()=>[a(S,null,{default:d(()=>[a(b,{modelValue:u.value,"onUpdate:modelValue":g[0]||(g[0]=R=>u.value=R),autofocus:"",small:"",placeholder:C(f)("search")},{append:d(()=>[a(h,{small:"",name:"search"})]),_:1},8,["modelValue","placeholder"])]),_:1})]),_:1})):M("",!0),(m(!0),A(se,null,Ve(C(_),R=>(m(),F(WR,{key:R.field,field:R,search:u.value,"include-functions":e.includeFunctions,onAdd:g[1]||(g[1]=O=>y.$emit("select-field",O))},null,8,["field","search","include-functions"]))),128))]),_:3})}}});var GR=H(HR,[["__scopeId","data-v-052be320"]]);function $l(e){let t;return e.includes("(")&&e.includes(")")&&(t=e.split("(")[0],e=e.match(ho)[1]),{fn:t!=null?t:null,field:e}}function ZR(e){var t,n;return Array.isArray((t=e.meta)==null?void 0:t.special)&&e.meta.special.some(l=>["m2o","o2m","m2m","m2a","files","translations"].includes(l))?"object":["bigInteger","integer","float","decimal"].includes(e.type)?"number":["string","text","uuid","hash"].includes(e.type)?"string":["boolean"].includes(e.type)?"boolean":["time","timestamp","date","dateTime"].includes(e.type)?"string":["json","csv"].includes(e.type)||((n=e.type)==null?void 0:n.startsWith("geometry"))?"object":"undefined"}const JR=Z({props:{field:{type:Object,required:!0},batchMode:{type:Boolean,default:!1},batchActive:{type:Boolean,default:!1},primaryKey:{type:[Number,String],default:null},modelValue:{type:[String,Number,Object,Array,Boolean],default:void 0},loading:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},autofocus:{type:Boolean,default:!1}},emits:["update:modelValue","setFieldValue"],setup(e){const{t}=ae(),n=V(()=>{var l,o;return!!Lt(((o=(l=e.field)==null?void 0:l.meta)==null?void 0:o.interface)||"input")});return{t,interfaceExists:n,getDefaultInterfaceForType:ls}}});function XR(e,t,n,l,o,u){var s;const r=c("v-skeleton-loader"),i=c("v-notice");return m(),A("div",{class:de(["interface",{subdued:e.batchMode&&e.batchActive===!1}])},[e.loading&&e.field.hideLoader!==!0?(m(),F(r,{key:0})):M("",!0),e.interfaceExists?(m(),F(He(e.field.meta&&e.field.meta.interface?`interface-${e.field.meta.interface}`:`interface-${e.getDefaultInterfaceForType(e.field.type)}`),ft({key:1},e.field.meta&&e.field.meta.options||{},{autofocus:e.disabled!==!0&&e.autofocus,disabled:e.disabled,loading:e.loading,value:e.modelValue===void 0?(s=e.field.schema)==null?void 0:s.default_value:e.modelValue,width:e.field.meta&&e.field.meta.width||"full",type:e.field.type,collection:e.field.collection,field:e.field.field,"field-data":e.field,"primary-key":e.primaryKey,length:e.field.schema&&e.field.schema.max_length,onInput:t[0]||(t[0]=p=>e.$emit("update:modelValue",p)),onSetFieldValue:t[1]||(t[1]=p=>e.$emit("setFieldValue",p))}),null,16,["autofocus","disabled","loading","value","width","type","collection","field","field-data","primary-key","length"])):(m(),F(i,{key:2,type:"warning"},{default:d(()=>[P(w(e.t("interface_not_found",{interface:e.field.meta&&e.field.meta.interface})),1)]),_:1}))],2)}var YR=H(JR,[["render",XR],["__scopeId","data-v-4ea66dc2"]]);const QR=Z({props:{batchMode:{type:Boolean,default:!1},batchActive:{type:Boolean,default:!1},field:{type:Object,required:!0},disabled:{type:Boolean,default:!1},toggle:{type:Function,required:!0},active:{type:Boolean,default:!1},edited:{type:Boolean,default:!1},hasError:{type:Boolean,default:!1},badge:{type:String,default:null},loading:{type:Boolean,default:!1}},emits:["toggle-batch"],setup(){const{t:e}=ae();return{t:e}}});function xR(e,t,n,l,o,u){var f;const r=c("v-checkbox"),i=c("v-icon"),s=c("v-chip"),p=Fe("tooltip");return m(),A("div",{class:de(["label type-label",{disabled:e.disabled,edited:e.edited&&!e.batchMode&&!e.hasError&&!e.loading}])},[e.batchMode?(m(),F(r,{key:0,"model-value":e.batchActive,value:e.field.field,"onUpdate:modelValue":t[0]||(t[0]=_=>e.$emit("toggle-batch",e.field))},null,8,["model-value","value"])):M("",!0),ie($("span",{class:"field-name",onClick:t[1]||(t[1]=(..._)=>e.toggle&&e.toggle(..._))},[P(w(e.field.name)+" ",1),((f=e.field.meta)==null?void 0:f.required)===!0?(m(),F(i,{key:0,class:"required",sup:"",name:"star"})):M("",!0),e.disabled?M("",!0):(m(),F(i,{key:1,class:de(["ctx-arrow",{active:e.active}]),name:"arrow_drop_down"},null,8,["class"]))],512),[[p,e.edited?e.t("edited"):null]]),e.badge?(m(),F(s,{key:1,"x-small":""},{default:d(()=>[P(w(e.badge),1)]),_:1})):M("",!0)],2)}var eM=H(QR,[["render",xR],["__scopeId","data-v-792c5ca7"]]);const tM=Z({props:{field:{type:Object,required:!0},modelValue:{type:[String,Number,Object,Array,Boolean],default:null},initialValue:{type:[String,Number,Object,Array,Boolean],default:null},restricted:{type:Boolean,default:!1}},emits:["update:modelValue","unset","edit-raw","copy-raw","paste-raw"],setup(e){const{t}=ae(),{isCopySupported:n,isPasteSupported:l}=il(),o=V(()=>{var i,s;const r=(s=(i=e.field)==null?void 0:i.schema)==null?void 0:s.default_value;return r!==void 0?r:null}),u=V(()=>{var r,i;return((i=(r=e.field)==null?void 0:r.schema)==null?void 0:i.is_nullable)===!1});return{t,defaultValue:o,isRequired:u,isCopySupported:n,isPasteSupported:l}}});function nM(e,t,n,l,o,u){const r=c("v-icon"),i=c("v-list-item-icon"),s=c("v-list-item-content"),p=c("v-list-item"),f=c("v-divider"),_=c("v-list");return m(),F(_,null,{default:d(()=>[a(p,{clickable:"",onClick:t[0]||(t[0]=v=>e.$emit("edit-raw"))},{default:d(()=>[a(i,null,{default:d(()=>[a(r,{name:"code"})]),_:1}),a(s,null,{default:d(()=>[P(w(e.restricted?e.t("view_raw_value"):e.t("edit_raw_value")),1)]),_:1})]),_:1}),e.isCopySupported?(m(),F(p,{key:0,disabled:e.modelValue===null,clickable:"",onClick:t[1]||(t[1]=v=>e.$emit("copy-raw"))},{default:d(()=>[a(i,null,{default:d(()=>[a(r,{name:"copy_outline"})]),_:1}),a(s,null,{default:d(()=>[P(w(e.t("copy_raw_value")),1)]),_:1})]),_:1},8,["disabled"])):M("",!0),e.isPasteSupported&&!e.restricted?(m(),F(p,{key:1,clickable:"",onClick:t[2]||(t[2]=v=>e.$emit("paste-raw"))},{default:d(()=>[a(i,null,{default:d(()=>[a(r,{name:"paste_outline"})]),_:1}),a(s,null,{default:d(()=>[P(w(e.t("paste_raw_value")),1)]),_:1})]),_:1})):M("",!0),e.restricted?M("",!0):(m(),F(f,{key:2})),!e.restricted&&e.defaultValue!==null?(m(),F(p,{key:3,disabled:e.modelValue===e.defaultValue,clickable:"",onClick:t[3]||(t[3]=v=>e.$emit("update:modelValue",e.defaultValue))},{default:d(()=>[a(i,null,{default:d(()=>[a(r,{name:"settings_backup_restore"})]),_:1}),a(s,null,{default:d(()=>[P(w(e.t("reset_to_default")),1)]),_:1})]),_:1},8,["disabled"])):M("",!0),!e.restricted&&e.initialValue?(m(),F(p,{key:4,disabled:e.initialValue===void 0||e.modelValue===e.initialValue,clickable:"",onClick:t[4]||(t[4]=v=>e.$emit("unset",e.field))},{default:d(()=>[a(i,null,{default:d(()=>[a(r,{name:"undo"})]),_:1}),a(s,null,{default:d(()=>[P(w(e.t("undo_changes")),1)]),_:1})]),_:1},8,["disabled"])):M("",!0),!e.restricted&&(e.defaultValue===null||!e.isRequired)?(m(),F(p,{key:5,disabled:e.modelValue===null,clickable:"",onClick:t[5]||(t[5]=v=>e.$emit("update:modelValue",null))},{default:d(()=>[a(i,null,{default:d(()=>[a(r,{name:"delete_outline"})]),_:1}),a(s,null,{default:d(()=>[P(w(e.t("clear_value")),1)]),_:1})]),_:1},8,["disabled"])):M("",!0)]),_:1})}var lM=H(tM,[["render",nM]]);function bs(e,t){var r,i;const{t:n}=ae(),{field:l,fn:o}=$l(t),u=(i=(r=Me().getField(e,l))==null?void 0:r.name)!=null?i:l;return o?n(`functions.${o}`)+` (${u})`:u}const oM={key:1,class:"label-spacer"},aM={key:2,class:"type-note"},iM={key:3,class:"validation-error selectable"},rM=Z({props:{field:null,batchMode:{type:Boolean,default:!1},batchActive:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},modelValue:{default:void 0},initialValue:{default:void 0},primaryKey:{default:void 0},loading:{type:Boolean,default:!1},validationError:{default:void 0},autofocus:{type:Boolean,default:!1},badge:{default:void 0}},emits:["toggle-batch","unset","update:modelValue","setFieldValue"],setup(e,{emit:t}){const n=e,{t:l}=ae(),o=V(()=>{var b,S;return!!(n.disabled||((S=(b=n.field)==null?void 0:b.meta)==null?void 0:S.readonly)===!0||n.batchMode&&n.batchActive===!1)}),u=V(()=>{var S,I;const b=(I=(S=n.field)==null?void 0:S.schema)==null?void 0:I.default_value;if(b!==void 0)return b}),r=V(()=>n.modelValue!==void 0?n.modelValue:n.initialValue!==void 0?n.initialValue:u.value),i=V(()=>n.modelValue!==void 0&&z.exports.isEqual(n.modelValue,n.initialValue)===!1),{showRaw:s,rawValue:p,copyRaw:f,pasteRaw:_}=h(),v=V(()=>n.validationError?n.validationError.code==="RECORD_NOT_UNIQUE"?l("validationError.unique"):l(`validationError.${n.validationError.type}`,n.validationError):null),y=V(()=>n.validationError&&n.validationError.field.includes("(")&&n.validationError.field.includes(")")?bs(n.field.collection,n.validationError.field)+": ":null);function g(b){(z.exports.isEqual(b,n.initialValue)||n.initialValue===void 0&&z.exports.isEqual(b,u.value))&&n.batchMode===!1?t("unset",n.field):t("update:modelValue",b)}function h(){const b=D(!1),{copyToClipboard:S,pasteFromClipboard:I}=il(),E=V(()=>ZR(n.field)),R=V({get(){switch(E.value){case"object":return JSON.stringify(r.value,null,"	");case"string":case"number":case"boolean":default:return r.value}},set(q){switch(E.value){case"string":t("update:modelValue",q);break;case"number":t("update:modelValue",Number(q));break;case"boolean":t("update:modelValue",q==="true");break;case"object":t("update:modelValue",JSON.parse(q));break;default:t("update:modelValue",q);break}}});async function O(){await S(R.value)}async function L(){const q=await I();!q||(R.value=q)}return{showRaw:b,rawValue:R,copyRaw:O,pasteRaw:L}}return(b,S)=>{var J,Y,W,G;const I=c("v-menu"),E=c("v-card-title"),R=c("v-textarea"),O=c("v-card-text"),L=c("v-button"),q=c("v-card-actions"),T=c("v-card"),j=c("v-dialog"),U=c("v-icon"),B=Fe("md"),K=Fe("tooltip");return m(),A("div",{key:e.field.field,class:de(["field",[((J=e.field.meta)==null?void 0:J.width)||"full",{invalid:e.validationError}]])},[e.field.hideLabel!==!0?(m(),F(I,{key:0,placement:"bottom-start","show-arrow":""},{activator:d(({toggle:Q,active:X})=>[a(eM,{field:e.field,toggle:Q,active:X,"batch-mode":e.batchMode,"batch-active":e.batchActive,edited:C(i),"has-error":!!e.validationError,badge:e.badge,loading:e.loading,onToggleBatch:S[0]||(S[0]=ee=>b.$emit("toggle-batch",ee))},null,8,["field","toggle","active","batch-mode","batch-active","edited","has-error","badge","loading"])]),default:d(()=>[a(lM,{field:e.field,"model-value":C(r),"initial-value":e.initialValue,restricted:C(o),"onUpdate:modelValue":S[1]||(S[1]=Q=>g(Q)),onUnset:S[2]||(S[2]=Q=>b.$emit("unset",Q)),onEditRaw:S[3]||(S[3]=Q=>s.value=!0),onCopyRaw:C(f),onPasteRaw:C(_)},null,8,["field","model-value","initial-value","restricted","onCopyRaw","onPasteRaw"])]),_:1})):["full","fill"].includes((Y=e.field.meta)==null?void 0:Y.width)===!1?(m(),A("div",oM)):M("",!0),a(YR,{autofocus:e.autofocus,"model-value":C(r),field:e.field,loading:e.loading,"batch-mode":e.batchMode,"batch-active":e.batchActive,disabled:C(o),"primary-key":e.primaryKey,"onUpdate:modelValue":S[4]||(S[4]=Q=>g(Q)),onSetFieldValue:S[5]||(S[5]=Q=>b.$emit("setFieldValue",Q))},null,8,["autofocus","model-value","field","loading","batch-mode","batch-active","disabled","primary-key"]),a(j,{modelValue:C(s),"onUpdate:modelValue":S[8]||(S[8]=Q=>ut(s)?s.value=Q:null),onEsc:S[9]||(S[9]=Q=>s.value=!1)},{default:d(()=>[a(T,null,{default:d(()=>[a(E,null,{default:d(()=>[P(w(C(o)?C(l)("view_raw_value"):C(l)("edit_raw_value")),1)]),_:1}),a(O,null,{default:d(()=>[a(R,{modelValue:C(p),"onUpdate:modelValue":S[6]||(S[6]=Q=>ut(p)?p.value=Q:null),disabled:C(o),class:"raw-value",placeholder:C(l)("enter_raw_value")},null,8,["modelValue","disabled","placeholder"])]),_:1}),a(q,null,{default:d(()=>[a(L,{onClick:S[7]||(S[7]=Q=>s.value=!1)},{default:d(()=>[P(w(C(l)("done")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e.field.meta&&e.field.meta.note?ie((m(),A("small",aM,null,512)),[[B,e.field.meta.note]]):M("",!0),e.validationError?(m(),A("small",iM,[((W=e.field.meta)==null?void 0:W.validation_message)?(m(),A(se,{key:0},[P(w((G=e.field.meta)==null?void 0:G.validation_message)+" ",1),ie(a(U,{small:"",right:"",name:"help_outline"},null,512),[[K,C(v)]])],64)):(m(),A(se,{key:1},[P(w(C(y))+w(C(v)),1)],64))])):M("",!0)],2)}}});var sM=H(rM,[["__scopeId","data-v-1f214e98"]]);const dM=e=>(xe("data-v-4d63c27d"),e=e(),et(),e),uM={class:"validation-errors-list"},cM=["onClick"],pM=dM(()=>$("span",null,":\xA0",-1)),mM=Z({props:{validationErrors:null,fields:null},emits:["scroll-to-field"],setup(e){const t=e,{t:n}=ae(),l=V(()=>t.validationErrors.map(o=>{var f,_,v;const{field:u,fn:r}=$l(o.field),i=t.fields.find(y=>y.field===u),s=t.fields.find(y=>y.field===o.group);let p=(f=i==null?void 0:i.name)!=null?f:o.field;return r&&(i==null?void 0:i.collection)&&(p=bs(i.collection,o.field)),Ie(ve({},o),{fieldName:p,groupName:(_=s==null?void 0:s.name)!=null?_:o.group,customValidationMessage:ll((v=i==null?void 0:i.meta)==null?void 0:v.validation_message)})}));return(o,u)=>{const r=c("v-icon"),i=c("v-notice"),s=Fe("tooltip");return m(),F(i,{type:"danger",class:"full selectable"},{default:d(()=>[$("div",null,[$("p",null,w(C(n)("validation_errors_notice")),1),$("ul",uM,[(m(!0),A(se,null,Ve(C(l),(p,f)=>(m(),A("li",{key:f},[$("strong",{class:"field",onClick:_=>o.$emit("scroll-to-field",p.group||p.field)},[p.field&&p.hidden&&p.group?(m(),A(se,{key:0},[P(w(`${p.fieldName} (${C(n)("hidden_in_group",{group:p.groupName})})`),1)],64)):p.field&&p.hidden?(m(),A(se,{key:1},[P(w(`${p.fieldName} (${C(n)("hidden")})`),1)],64)):p.field?(m(),A(se,{key:2},[P(w(p.fieldName),1)],64)):M("",!0)],8,cM),pM,p.customValidationMessage?(m(),A(se,{key:0},[P(w(p.customValidationMessage)+" ",1),ie(a(r,{small:"",name:"help_outline"},null,512),[[s,p.code==="RECORD_NOT_UNIQUE"?C(n)("validationError.unique",p):C(n)(`validationError.${p.type}`,p)]])],64)):(m(),A(se,{key:1},[p.code==="RECORD_NOT_UNIQUE"?(m(),A(se,{key:0},[P(w(C(n)("validationError.unique",p)),1)],64)):(m(),A(se,{key:1},[P(w(C(n)(`validationError.${p.type}`,p)),1)],64))],64))]))),128))])])]),_:1})}}});var fM=H(mM,[["__scopeId","data-v-4d63c27d"]]);const _M=Z({name:"VForm",components:{FormField:sM,ValidationErrors:fM},props:{collection:{type:String,default:void 0},fields:{type:Array,default:void 0},initialValues:{type:Object,default:null},modelValue:{type:Object,default:null},loading:{type:Boolean,default:!1},batchMode:{type:Boolean,default:!1},primaryKey:{type:[String,Number],default:null},disabled:{type:Boolean,default:!1},validationErrors:{type:Array,default:()=>[]},autofocus:{type:Boolean,default:!1},group:{type:String,default:null},badge:{type:String,default:null},nested:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e,{emit:t}){const{t:n}=ae(),l=Me(),o=V(()=>{if(e.collection)return l.getFieldsForCollection(e.collection);if(e.fields)return e.fields;throw new Error("[v-form]: You need to pass either the collection or fields prop.")}),u=V(()=>Object.assign({},e.initialValues,e.modelValue)),r=D(),{width:i}=Sn(r),s=V(()=>r.value===null?null:i.value>792?"grid with-fill":"grid"),p=D({});Pd(()=>{p.value={}});const{formFields:f,getFieldsForGroup:_,fieldsForGroup:v,isDisabled:y}=I(),{toggleBatchField:g,batchActiveFields:h}=L(),b=V(()=>{var T,j;for(let U=0;U<f.value.length;U++)if(f.value[U].meta&&!((T=f.value[U].meta)==null?void 0:T.readonly)&&!((j=f.value[U].meta)==null?void 0:j.hidden))return U;return null}),S=V(()=>{var T;for(let j=0;j<f.value.length;j++)if(f.value[j].meta&&!((T=f.value[j].meta)==null?void 0:T.hidden))return j;return null});return he(()=>e.validationErrors,(T,j)=>{var U;e.nested||z.exports.isEqual(T,j)||(T==null?void 0:T.length)>0&&((U=r==null?void 0:r.value)==null||U.scrollIntoView({behavior:"smooth"}))}),nn("values",u),{t:n,formFields:f,values:u,setValue:E,batchActiveFields:h,toggleBatchField:g,unsetValue:O,firstEditableFieldIndex:b,firstVisibleFieldIndex:S,isNil:z.exports.isNil,apply:R,el:r,gridClass:s,omit:z.exports.omit,getFieldsForGroup:_,fieldsForGroup:v,isDisabled:y,scrollToField:q,formFieldEls:p};function I(){const T=V(()=>o.value.reduce(function(W,G){var Q,X;return((Q=G.schema)==null?void 0:Q.default_value)!==void 0&&!(G.schema.is_primary_key&&G.schema.data_type==="integer"&&typeof G.schema.default_value=="string")&&(W[G.field]=(X=G.schema)==null?void 0:X.default_value),W},{})),j=V(()=>{if(e.group!==null)return o.value;const W=Q=>{var X,ee;if(((X=Q.schema)==null?void 0:X.has_auto_increment)===!0||((ee=Q.schema)==null?void 0:ee.is_primary_key)===!0&&e.primaryKey!=="+"){const le=z.exports.cloneDeep(Q);return le.meta||(le.meta={}),le.meta.readonly=!0,le}return Q},G=Object.assign({},T.value,u.value);return o.value.map(Q=>fi(G,W(Q)))}),U=V(()=>j.value.filter(W=>{var G,Q;return((G=W.meta)==null?void 0:G.group)===e.group||e.group===null&&z.exports.isNil((Q=W.meta)==null?void 0:Q.group)})),{formFields:B}=os(U),K=V(()=>B.value.map(W=>{var G;return Y((G=W.meta)==null?void 0:G.field)}));return{formFields:B,isDisabled:J,getFieldsForGroup:Y,fieldsForGroup:K};function J(W){var G,Q;return e.loading||e.disabled===!0||((G=W.meta)==null?void 0:G.readonly)===!0||((Q=W.schema)==null?void 0:Q.is_generated)===!0||e.batchMode&&h.value.includes(W.field)===!1}function Y(W,G=[]){var X,ee;const Q=j.value.filter(le=>{var te;return((te=le.meta)==null?void 0:te.group)===W||W===null&&z.exports.isNil(le.meta)});for(const le of Q)((ee=(X=le.meta)==null?void 0:X.special)==null?void 0:ee.includes("group"))&&!G.includes(le.meta.field)&&(G.push(le.meta.field),Q.push(...Y(le.meta.field,G)));return Q}}function E(T,j){var K;const U=(K=f.value)==null?void 0:K.find(J=>J.field===T);if(!U||y(U))return;const B=e.modelValue?z.exports.cloneDeep(e.modelValue):{};B[T]=j,t("update:modelValue",B)}function R(T){const j=e.batchMode?Object.keys(T):Object.keys(T).filter(U=>{var K,J;const B=(K=o.value)==null?void 0:K.find(Y=>Y.field===U);return B?((J=B.schema)==null?void 0:J.is_primary_key)||!y(B):!1});if(z.exports.isNil(e.group))t("update:modelValue",z.exports.pick(z.exports.assign({},e.modelValue,T),j));else{const U=_(e.group).filter(B=>{var K;return!((K=B.schema)==null?void 0:K.is_primary_key)&&!y(B)}).map(B=>B.field);t("update:modelValue",z.exports.assign({},z.exports.omit(e.modelValue,U),z.exports.pick(T,j)))}}function O(T){if(!(!e.batchMode&&y(T))&&T.field in(e.modelValue||{})){const j=ve({},e.modelValue);delete j[T.field],t("update:modelValue",j)}}function L(){const T=D([]);return{batchActiveFields:T,toggleBatchField:j};function j(U){var B;T.value.includes(U.field)?(T.value=T.value.filter(K=>K!==U.field),O(U)):(T.value=[...T.value,U.field],E(U.field,(B=U.schema)==null?void 0:B.default_value))}}function q(T){const{field:j}=$l(T);!p.value[j]||p.value[j].$el.scrollIntoView({behavior:"smooth"})}}});function vM(e,t,n,l,o,u){const r=c("validation-errors"),i=c("form-field");return m(),A("div",{ref:"el",class:de(["v-form",e.gridClass])},[!e.nested&&e.validationErrors.length>0?(m(),F(r,{key:0,"validation-errors":e.validationErrors,fields:e.fields?e.fields:[],onScrollToField:e.scrollToField},null,8,["validation-errors","fields","onScrollToField"])):M("",!0),(m(!0),A(se,null,Ve(e.formFields,(s,p)=>{var f,_,v,y,g,h,b;return m(),A(se,null,[((_=(f=s.meta)==null?void 0:f.special)==null?void 0:_.includes("group"))?ie((m(),F(He(`interface-${((v=s.meta)==null?void 0:v.interface)||"group-standard"}`),ft({key:0,ref:S=>{e.formFieldEls[s.field]=S},key:s.field,class:[((y=s.meta)==null?void 0:y.width)||"full",p===e.firstVisibleFieldIndex?"first-visible-field":""],field:s,fields:e.fieldsForGroup[p],values:e.modelValue||{},"initial-values":e.initialValues||{},disabled:e.disabled,"batch-mode":e.batchMode,"batch-active-fields":e.batchActiveFields,"primary-key":e.primaryKey,loading:e.loading,"validation-errors":e.validationErrors},((g=s.meta)==null?void 0:g.options)||{},{onApply:e.apply}),null,16,["class","field","fields","values","initial-values","disabled","batch-mode","batch-active-fields","primary-key","loading","validation-errors","onApply"])),[[Nt,!((h=s.meta)==null?void 0:h.hidden)]]):((b=s.meta)==null?void 0:b.hidden)?M("",!0):(m(),F(i,{ref:S=>{e.formFieldEls[s.field]=S},key:s.field,class:de(p===e.firstVisibleFieldIndex?"first-visible-field":""),field:s,autofocus:p===e.firstEditableFieldIndex&&e.autofocus,"model-value":(e.values||{})[s.field],"initial-value":(e.initialValues||{})[s.field],disabled:e.isDisabled(s),"batch-mode":e.batchMode,"batch-active":e.batchActiveFields.includes(s.field),"primary-key":e.primaryKey,loading:e.loading,"validation-error":e.validationErrors.find(S=>S.field===s.field||S.field.endsWith(`(${s.field})`)),badge:e.badge,"onUpdate:modelValue":S=>e.setValue(s.field,S),onSetFieldValue:S=>e.setValue(S.field,S.value),onUnset:S=>e.unsetValue(s),onToggleBatch:S=>e.toggleBatchField(s)},null,8,["class","field","autofocus","model-value","initial-value","disabled","batch-mode","batch-active","primary-key","loading","validation-error","badge","onUpdate:modelValue","onSetFieldValue","onUnset","onToggleBatch"]))],64)}),256))],2)}var yM=H(_M,[["render",vM],["__scopeId","data-v-c35bc4ec"]]);const hM=Z({props:{closeDelay:{type:Number,default:0},openDelay:{type:Number,default:0},disabled:{type:Boolean,default:!1},tag:{type:String,default:"div"}},setup(e){const t=D(!1);return{hover:t,onMouseEnter:n,onMouseLeave:l};function n(){e.disabled!==!0&&setTimeout(()=>{t.value=!0},e.openDelay)}function l(){e.disabled!==!0&&setTimeout(()=>{t.value=!1},e.closeDelay)}}});function gM(e,t,n,l,o,u){return m(),F(He(e.tag),{onMouseenter:e.onMouseEnter,onMouseleave:e.onMouseLeave},{default:d(()=>[ke(e.$slots,"default",nt(lt({hover:e.hover})))]),_:3},8,["onMouseenter","onMouseleave"])}var bM=H(hM,[["render",gM]]);const wM=Z({name:"VHighlight",props:{query:{type:[String,Array],default:null},text:{type:String,default:""}},setup(e){return{parts:V(()=>{let n=Ra(e.text.toLowerCase());const l=Bn(e.query);if(l.length===0)return[{highlighted:!1,text:e.text}];const o=z.exports.flatten(l.filter(f=>f).map(f=>{f=Ra(f.toLowerCase());const _=[];let v=0,y=n.indexOf(f,v);for(;y>-1;)v=y+f.length,_.push([y,v]),y=n.indexOf(f,y+1);return _}));if(o.sort((f,_)=>f[0]!==_[0]?f[0]-_[0]:f[1]-_[1]),o.length===0)return[{highlighted:!1,text:e.text}];const u=[];let r=o[0][0],i=o[0][1];o.shift();for(const[f,_]of o)f>=i?(u.push([r,i]),r=f,i=_):_>i&&(i=_);u.push([r,i]);let s=0;const p=[];for(const[f,_]of u)s!==f&&p.push({highlighted:!1,text:e.text.slice(s,f)}),p.push({highlighted:!0,text:e.text.slice(f,_)}),s=_;return s!==n.length&&p.push({highlighted:!1,text:e.text.slice(s)}),p})}}});function kM(e,t,n,l,o,u){return m(!0),A(se,null,Ve(e.parts,({highlighted:r,text:i},s)=>(m(),A(se,null,[r?(m(),A("mark",{key:s,class:"highlight"},w(i),1)):(m(),A(se,{key:1},[P(w(i),1)],64))],64))),256)}var $M=H(wM,[["render",kM],["__scopeId","data-v-40e82be6"]]);const CM={},SM={viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg","fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"},FM=$("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M19.2 14.15a1.8 1.8 0 01-.35-.12c-.1-.05-.14-.18-.13-.3.02-.41-.01-.78.03-1.2.18-1.85 1.38-1.26 2.46-1.57.58-.16 1.17-.47 1.42-1.06.07-.16.02-.35-.1-.48a13.66 13.66 0 00-2.27-1.98 14.25 14.25 0 00-9.85-2.31.2.2 0 00-.15.32A5.17 5.17 0 0011.93 7c.1.06.06.2-.06.18-.3-.06-.68-.18-1.06-.4a.43.43 0 00-.38-.05l-.44.18a.2.2 0 00-.05.34 5.32 5.32 0 006.14.42c.1-.06.25.07.22.18-.07.21-.15.52-.23.95-.48 2.37-1.87 2.18-3.58 1.59-3.36-1.19-5.3-.22-7-2.1-.19-.21-.5-.29-.7-.09a1.55 1.55 0 00.1 2.29c.15.12.36.07.5-.06.07-.06.13-.1.21-.14.1-.04.16.11.07.18-.4.33-.51.7-.76 1.48-.38 1.16-.22 2.36-1.98 2.67-.93.04-.91.66-1.25 1.58A5.2 5.2 0 01.3 18.27c-.4.41-.44 1.18.14 1.23.18 0 .36-.03.55-.1.99-.4 1.75-1.65 2.47-2.46.8-.9 2.72-.51 4.17-1.4.82-.48 1.3-1.1 1.08-2.07-.02-.12.12-.2.18-.09.1.2.18.41.23.63.05.22.25.39.47.4 1.36.1 3.02 1.3 4.63 1.88.32.11.56-.26.43-.57-.1-.24-.18-.48-.23-.7-.02-.13.16-.16.22-.05a3.5 3.5 0 002.88 1.88c.46.03.97-.02 1.5-.18.63-.18 1.22-.42 1.91-.3.52.1 1 .36 1.3.79.36.5 1.04.7 1.54.38.28-.19.29-.58.13-.87-1.14-2.08-3.61-2.25-4.7-2.52z"},null,-1),VM=[FM];function AM(e,t,n,l,o,u){return m(),A("svg",SM,VM)}var IM=H(CM,[["render",AM]]);const EM={},DM={viewBox:"0 0 24 24",width:"24",height:"24",fill:"none","fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2",xmlns:"http://www.w3.org/2000/svg"},PM=$("path",{d:"M18.38 3.6c-.38-.4-.83-.6-1.36-.6H6.98c-.53 0-1 .2-1.4.6-.38.42-.56.88-.56 1.42V21L12 18l6.98 3V5.02c0-.54-.2-1-.6-1.41zm-8.05 11.5l6.7-6.7-1.4-1.4-5.3 5.3-1.92-1.93L7 11.79l3.33 3.33z"},null,-1),TM=[PM];function OM(e,t,n,l,o,u){return m(),A("svg",DM,TM)}var LM=H(EM,[["render",OM]]);const jM={},RM={viewBox:"0 0 22 22",xmlns:"http://www.w3.org/2000/svg","fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"},MM=$("path",{d:"M2.036 16.961l8.578 3.944a.886.886 0 00.772 0l8.576-3.944c.357-.164.536-.443.536-.836V5.875a.924.924 0 00-.016-.166v-.048a.95.95 0 00-.037-.118l-.014-.039a.91.91 0 00-.073-.138l-.021-.03a1.067 1.067 0 00-.081-.097l-.043-.03a.901.901 0 00-.102-.083l-.025-.018a1.003 1.003 0 00-.124-.069l-8.578-3.944a.886.886 0 00-.772 0L2.036 5.039a.935.935 0 00-.124.069l-.025.018a.901.901 0 00-.102.083l-.03.032a.915.915 0 00-.08.097l-.021.03a.916.916 0 00-.074.138l-.025.037a1.006 1.006 0 00-.037.118v.048a.924.924 0 00-.016.166v10.25c0 .393.178.671.534.836zm1.306-9.646l6.735 3.102v8.223l-6.735-3.104V7.315zm8.578 11.323v-8.221l6.735-3.102v8.223l-6.735 3.1zm-.921-15.7l6.376 2.937-6.376 2.937-6.376-2.937 6.376-2.937z"},null,-1),UM=[MM];function NM(e,t,n,l,o,u){return m(),A("svg",RM,UM)}var BM=H(jM,[["render",NM]]);const qM={},zM={viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg","fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"},KM=$("path",{d:"M10.588 13.412c.408.408.879.611 1.412.611.533 0 1.004-.203 1.412-.611.408-.408.611-.879.611-1.412 0-.533-.203-1.004-.611-1.412-.408-.408-.879-.612-1.412-.612-.533 0-1.004.204-1.412.612-.408.408-.612.879-.612 1.412 0 .533.204 1.004.612 1.412zM9.176 9.176C9.961 8.392 10.902 8 12 8c1.098 0 2.04.392 2.823 1.176C15.608 9.961 16 10.902 16 12c0 1.098-.392 2.04-1.177 2.823C14.04 15.608 13.098 16 12 16c-1.098 0-2.04-.392-2.824-1.177C8.392 14.04 8 13.098 8 12c0-1.098.392-2.04 1.176-2.824z"},null,-1),WM=$("path",{d:"M13 3v6h-2V3h2zM13 15v6h-2v-6h2z"},null,-1),HM=[KM,WM];function GM(e,t,n,l,o,u){return m(),A("svg",zM,HM)}var ZM=H(qM,[["render",GM]]);const JM={},XM={viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg","fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"},YM=$("path",{d:"M3 3h18v18H3z"},null,-1),QM=[YM];function xM(e,t,n,l,o,u){return m(),A("svg",XM,QM)}var eU=H(JM,[["render",xM]]);const tU={},nU={viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg","fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"},lU=$("path",{d:"M11 2H2v9h9V2zm0 11H2v9h9v-9zm2-11h9v9h-9V2zm9 11h-9v9h9v-9z"},null,-1),oU=[lU];function aU(e,t,n,l,o,u){return m(),A("svg",nU,oU)}var iU=H(tU,[["render",aU]]);const rU={},sU={viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg","fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"},dU=$("path",{d:"M1 1h6v6H1V1zm0 8h6v6H1V9zm6 8H1v6h6v-6zM9 1h6v6H9V1zm6 8H9v6h6V9zm-6 8h6v6H9v-6zM23 1h-6v6h6V1zm-6 8h6v6h-6V9zm6 8h-6v6h6v-6z"},null,-1),uU=[dU];function cU(e,t,n,l,o,u){return m(),A("svg",sU,uU)}var pU=H(rU,[["render",cU]]);const mU={},fU={viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg","fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"},_U=$("path",{d:"M6 3H3v3h3V3zm0 5H3v3h3V8zm-3 5h3v3H3v-3zm3 5H3v3h3v-3zM8 3h3v3H8V3zm3 5H8v3h3V8zm-3 5h3v3H8v-3zm3 5H8v3h3v-3zm2-15h3v3h-3V3zm3 5h-3v3h3V8zm-3 5h3v3h-3v-3zm3 5h-3v3h3v-3zm2-15h3v3h-3V3zm3 5h-3v3h3V8zm-3 5h3v3h-3v-3zm3 5h-3v3h3v-3z"},null,-1),vU=[_U];function yU(e,t,n,l,o,u){return m(),A("svg",fU,vU)}var hU=H(mU,[["render",yU]]);const gU={},bU={viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg","fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"},wU=$("path",{d:"M3 3h2v2H3V3zm4 0h2v2H7V3zm0 4h2v2H7V7zm2 4H7v2h2v-2zm-2 4h2v2H7v-2zm2 4H7v2h2v-2zM5 7H3v2h2V7zm-2 4h2v2H3v-2zm2 4H3v2h2v-2zm-2 4h2v2H3v-2zM13 3h-2v2h2V3zm-2 4h2v2h-2V7zm2 4h-2v2h2v-2zm-2 4h2v2h-2v-2zm2 4h-2v2h2v-2zm2-16h2v2h-2V3zm2 4h-2v2h2V7zm-2 4h2v2h-2v-2zm2 4h-2v2h2v-2zm-2 4h2v2h-2v-2zm6-16h-2v2h2V3zm-2 4h2v2h-2V7zm2 4h-2v2h2v-2zm-2 4h2v2h-2v-2zm2 4h-2v2h2v-2z"},null,-1),kU=[wU];function $U(e,t,n,l,o,u){return m(),A("svg",bU,kU)}var CU=H(gU,[["render",$U]]);const SU={},FU={viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg","fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"},VU=$("path",{d:"M5 4H4v1h1V4zm0 6H4v1h1v-1zm-1 6h1v1H4v-1zm1-9H4v1h1V7zm-1 6h1v1H4v-1zm1 6H4v1h1v-1zM7 4h1v1H7V4zm1 6H7v1h1v-1zm-1 6h1v1H7v-1zm1-9H7v1h1V7zm-1 6h1v1H7v-1zm1 6H7v1h1v-1zm2-15h1v1h-1V4zm1 6h-1v1h1v-1zm-1 6h1v1h-1v-1zm1-9h-1v1h1V7zm-1 6h1v1h-1v-1zm1 6h-1v1h1v-1zm2-15h1v1h-1V4zm1 6h-1v1h1v-1zm-1 6h1v1h-1v-1zm1-9h-1v1h1V7zm-1 6h1v1h-1v-1zm1 6h-1v1h1v-1zm2-15h1v1h-1V4zm1 6h-1v1h1v-1zm-1 6h1v1h-1v-1zm1-9h-1v1h1V7zm-1 6h1v1h-1v-1zm1 6h-1v1h1v-1zm2-15h1v1h-1V4zm1 6h-1v1h1v-1zm-1 6h1v1h-1v-1zm1-9h-1v1h1V7zm-1 6h1v1h-1v-1zm1 6h-1v1h1v-1z"},null,-1),AU=[VU];function IU(e,t,n,l,o,u){return m(),A("svg",FU,AU)}var EU=H(SU,[["render",IU]]);const DU={},PU={viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg","fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"},TU=$("path",{"fill-opacity":".3",d:"M24.02 42.98L47.28 14c-.9-.68-9.85-8-23.28-8S1.62 13.32.72 14l23.26 28.98.02.02.02-.02z"},null,-1),OU=$("path",{d:"M0 0h48v48H0z",fill:"none"},null,-1),LU=$("path",{d:"M13.34 29.72l10.65 13.27.01.01.01-.01 10.65-13.27C34.13 29.31 30.06 26 24 26s-10.13 3.31-10.66 3.72z"},null,-1),jU=[TU,OU,LU];function RU(e,t,n,l,o,u){return m(),A("svg",PU,jU)}var MU=H(DU,[["render",RU]]);const UU={},NU={viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg","fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"},BU=$("path",{"fill-opacity":".3",d:"M24.02 42.98L47.28 14c-.9-.68-9.85-8-23.28-8S1.62 13.32.72 14l23.26 28.98.02.02.02-.02z"},null,-1),qU=$("path",{d:"M0 0h48v48H0z",fill:"none"},null,-1),zU=$("path",{d:"M7.07 21.91l16.92 21.07.01.02.02-.02 16.92-21.07C40.08 21.25 33.62 16 24 16c-9.63 0-16.08 5.25-16.93 5.91z"},null,-1),KU=[BU,qU,zU];function WU(e,t,n,l,o,u){return m(),A("svg",NU,KU)}var HU=H(UU,[["render",WU]]);const GU={},ZU={viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg","fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"},JU=$("path",{"fill-opacity":".3",d:"M24.02 42.98L47.28 14c-.9-.68-9.85-8-23.28-8S1.62 13.32.72 14l23.26 28.98.02.02.02-.02z"},null,-1),XU=$("path",{d:"M0 0h48v48H0z",fill:"none"},null,-1),YU=$("path",{d:"M9.58 25.03l14.41 17.95.01.02.01-.02 14.41-17.95C37.7 24.47 32.2 20 24 20s-13.7 4.47-14.42 5.03z"},null,-1),QU=[JU,XU,YU];function xU(e,t,n,l,o,u){return m(),A("svg",ZU,QU)}var eN=H(GU,[["render",xU]]);const tN={},nN={viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg","fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"},lN=$("path",{d:"M 3 2 L 3 11 L 21 11 L 3 2 z M 5 5.2363281 L 12.527344 9 L 5 9 L 5 5.2363281 z M 3 13 L 3 22 L 21 13 L 3 13 z"},null,-1),oN=[lN];function aN(e,t,n,l,o,u){return m(),A("svg",nN,oN)}var iN=H(tN,[["render",aN]]);const rN={},sN={viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg","fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"},dN=$("path",{d:"M3,2 L3,11 L21,11 L3,2 Z M5,5.2363281 L12.527344,9 L5,9 L5,5.2363281 Z M3,13 L3,22 L21,13 L3,13 Z",transform:"translate(12.000000, 12.000000) rotate(-90.000000) translate(-12.000000, -12.000000) "},null,-1),uN=[dN];function cN(e,t,n,l,o,u){return m(),A("svg",sN,uN)}var pN=H(rN,[["render",cN]]);const mN={},fN={viewBox:"0 0 24 24",width:"24",height:"24",fill:"none","fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2",xmlns:"http://www.w3.org/2000/svg"},_N=$("path",{d:"M11.17 8l-2-2H4v12h16V8h-8.83zM4 4h6l2 2h8a2 2 0 012 2v10a2 2 0 01-2 2H4a2 2 0 01-2-2l.01-12A2 2 0 014 4zm10.44 5l4 4-4 4v-3H11v-2h3.44V9z"},null,-1),vN=[_N];function yN(e,t,n,l,o,u){return m(),A("svg",fN,vN)}var hN=H(mN,[["render",yN]]);const gN={},bN={viewBox:"0 0 24 24",width:"24",height:"24",fill:"none","fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2",xmlns:"http://www.w3.org/2000/svg"},wN=Td('<path d="M9.1875 6L11.1562 8.01562H20.0156V18H3.98438V6H9.1875ZM9.98438 3.98438H3.98438C2.90625 3.98438 2.01562 4.92188 2.01562 6V18C2.01562 19.0781 2.90625 20.0156 3.98438 20.0156H20.0156C21.0938 20.0156 21.9844 19.0781 21.9844 18V8.01562C21.9844 6.89062 21.0938 6 20.0156 6H12L9.98438 3.98438Z"></path><rect x="13" y="12" width="6" height="5" rx="1"></rect><rect x="17" y="11" width="1" height="1"></rect><rect x="14" y="11" width="1" height="1"></rect><path d="M17 11H18C18 9.89543 17.1046 9 16 9C14.8954 9 14 9.89543 14 11H15C15 10.4477 15.4477 10 16 10C16.5523 10 17 10.4477 17 11Z"></path>',5),kN=[wN];function $N(e,t,n,l,o,u){return m(),A("svg",bN,kN)}var CN=H(gN,[["render",$N]]);const SN={},FN={viewBox:"0 0 24 24",width:"24",height:"24",fill:"none","fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2",xmlns:"http://www.w3.org/2000/svg"},VN=$("path",{d:"M0 0h24v24H0z",fill:"none"},null,-1),AN=$("path",{d:"M17 7l-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5zM4 5h8V3H4a2 2 0 00-2 2v14c0 1.1.9 2 2 2h8v-2H4V5z"},null,-1),IN=[VN,AN];function EN(e,t,n,l,o,u){return m(),A("svg",FN,IN)}var DN=H(SN,[["render",EN]]);const PN=Z({props:{name:{type:String,required:!0}},render(){const e=Od(Ld({prefix:"fab",iconName:this.name}));return Sa({template:e==null?void 0:e.html[0]})}});jd.add(Rd);const TN=["directus","bookmark_save","box","commit_node","grid_1","grid_2","grid_3","grid_4","grid_5","grid_6","signal_wifi_1_bar","signal_wifi_2_bar","signal_wifi_3_bar","flip_horizontal","flip_vertical","folder_move","folder_lock","logout"],ON=["500px","accessible_icon","accusoft","acquisitions_incorporated","adn","adversal","affiliatetheme","airbnb","algolia","alipay","amazon","amazon_pay","amilia","android","angellist","angrycreative","angular","app_store","app_store_ios","apper","apple","apple_pay","artstation","asymmetrik","atlassian","audible","autoprefixer","avianex","aviato","aws","bandcamp","battle_net","behance","behance_square","bimobject","bitbucket","bitcoin","bity","black_tie","blackberry","blogger","blogger_b","bluetooth","bluetooth_b","bootstrap","btc","buffer","buromobelexperte","buy_n_large","buysellads","canadian_maple_leaf","cc_amazon_pay","cc_amex","cc_apple_pay","cc_diners_club","cc_discover","cc_jcb","cc_mastercard","cc_paypal","cc_stripe","cc_visa","centercode","centos","chrome","chromecast","cloudflare","cloudscale","cloudsmith","cloudversify","codepen","codiepie","confluence","connectdevelop","contao","cotton_bureau","cpanel","creative_commons","creative_commons_by","creative_commons_nc","creative_commons_nc_eu","creative_commons_nc_jp","creative_commons_nd","creative_commons_pd","creative_commons_pd_alt","creative_commons_remix","creative_commons_sa","creative_commons_sampling","creative_commons_sampling_plus","creative_commons_share","creative_commons_zero","critical_role","css3","css3_alt","cuttlefish","d_and_d","d_and_d_beyond","dailymotion","dashcube","deezer","delicious","deploydog","deskpro","dev","deviantart","dhl","diaspora","digg","digital_ocean","discord","discourse","dochub","docker","draft2digital","dribbble","dribbble_square","dropbox","drupal","dyalog","earlybirds","ebay","edge","edge_legacy","elementor","ello","ember","empire","envira","erlang","ethereum","etsy","evernote","expeditedssl","facebook","facebook_f","facebook_messenger","facebook_square","fantasy_flight_games","fedex","fedora","figma","firefox","firefox_browser","first_order","first_order_alt","firstdraft","flickr","flipboard","fly","font_awesome","font_awesome_alt","font_awesome_flag","fonticons","fonticons_fi","fort_awesome","fort_awesome_alt","forumbee","foursquare","free_code_camp","freebsd","fulcrum","galactic_republic","galactic_senate","get_pocket","gg","gg_circle","git","git_alt","git_square","github","github_alt","github_square","gitkraken","gitlab","gitter","glide","glide_g","gofore","goodreads","goodreads_g","google","google_drive","google_pay","google_play","google_plus","google_plus_g","google_plus_square","google_wallet","gratipay","grav","gripfire","grunt","guilded","gulp","hacker_news","hacker_news_square","hackerrank","hips","hire_a_helper","hive","hooli","hornbill","hotjar","houzz","html5","hubspot","ideal","imdb","innosoft","instagram","instagram_square","instalod","intercom","internet_explorer","invision","ioxhost","itch_io","itunes","itunes_note","java","jedi_order","jenkins","jira","joget","joomla","js","js_square","jsfiddle","kaggle","keybase","keycdn","kickstarter","kickstarter_k","korvue","laravel","lastfm","lastfm_square","leanpub","less","line","linkedin","linkedin_in","linode","linux","lyft","magento","mailchimp","mandalorian","markdown","mastodon","maxcdn","mdb","medapps","medium","medium_m","medrt","meetup","megaport","mendeley","microblog","microsoft","mix","mixcloud","mixer","mizuni","modx","monero","napster","neos","nimblr","node","node_js","npm","ns8","nutritionix","octopus_deploy","odnoklassniki","odnoklassniki_square","old_republic","opencart","openid","opera","optin_monster","orcid","osi","page4","pagelines","palfed","patreon","paypal","penny_arcade","perbyte","periscope","phabricator","phoenix_framework","phoenix_squadron","php","pied_piper","pied_piper_alt","pied_piper_hat","pied_piper_pp","pied_piper_square","pinterest","pinterest_p","pinterest_square","playstation","product_hunt","pushed","python","qq","quinscape","quora","r_project","raspberry_pi","ravelry","react","reacteurope","readme","rebel","red_river","reddit","reddit_alien","reddit_square","redhat","renren","replyd","researchgate","resolving","rev","rocketchat","rockrms","rust","safari","salesforce","sass","schlix","scribd","searchengin","sellcast","sellsy","servicestack","shirtsinbulk","shopify","shopware","simplybuilt","sistrix","sith","sketch","skyatlas","skype","slack","slack_hash","slideshare","snapchat","snapchat_ghost","snapchat_square","soundcloud","sourcetree","speakap","speaker_deck","spotify","squarespace","stack_exchange","stack_overflow","stackpath","staylinked","steam","steam_square","steam_symbol","sticker_mule","strava","stripe","stripe_s","studiovinari","stumbleupon","stumbleupon_circle","superpowers","supple","suse","swift","symfony","teamspeak","telegram","telegram_plane","tencent_weibo","the_red_yeti","themeco","themeisle","think_peaks","tiktok","trade_federation","trello","tumblr","tumblr_square","twitch","twitter","twitter_square","typo3","uber","ubuntu","uikit","umbraco","uncharted","uniregistry","unity","unsplash","untappd","ups","usb","usps","ussunnah","vaadin","viacoin","viadeo","viadeo_square","viber","vimeo","vimeo_square","vimeo_v","vine","vk","vnv","vuejs","watchman_monitoring","waze","weebly","weibo","weixin","whatsapp","whatsapp_square","whmcs","wikipedia_w","windows","wix","wizards_of_the_coast","wodu","wolf_pack_battalion","wordpress","wordpress_simple","wpbeginner","wpexplorer","wpforms","wpressr","xbox","xing","xing_square","y_combinator","yahoo","yammer","yandex","yandex_international","yarn","yelp","yoast","youtube","youtube_square","zhihu"],LN=Z({components:{CustomIconDirectus:IM,CustomIconBookmarkSave:LM,CustomIconBox:BM,CustomIconCommitNode:ZM,CustomIconGrid1:eU,CustomIconGrid2:iU,CustomIconGrid3:pU,CustomIconGrid4:hU,CustomIconGrid5:CU,CustomIconGrid6:EU,CustomIconSignalWifi1Bar:MU,CustomIconSignalWifi2Bar:HU,CustomIconSignalWifi3Bar:eN,CustomIconFlipHorizontal:iN,CustomIconFlipVertical:pN,CustomIconFolderMove:hN,CustomIconFolderLock:CN,CustomIconLogout:DN,SocialIcon:PN},props:ve({name:{type:String,required:!0},filled:{type:Boolean,default:!1},sup:{type:Boolean,default:!1},left:{type:Boolean,default:!1},right:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},clickable:{type:Boolean,default:!1},color:{type:String,default:null}},wl),emits:["click"],setup(e,{emit:t}){const n=V(()=>e.sup?"sup":kl(e).value),l=V(()=>TN.includes(e.name)?`custom-icon-${e.name}`.replace(/_/g,"-"):null),o=V(()=>ON.includes(e.name)?e.name.replace(/_/g,"-"):null);return{sizeClass:n,customIconName:l,socialIconName:o,emitClick:u};function u(r){e.disabled||t("click",r)}}}),jN=["role","tabindex"],RN=["data-icon"];function MN(e,t,n,l,o,u){const r=c("socialIcon");return m(),A("span",{class:de(["v-icon",[e.sizeClass,{"has-click":!e.disabled&&e.clickable,left:e.left,right:e.right}]]),role:e.clickable?"button":null,tabindex:e.clickable?0:null,style:Je({"--v-icon-color":e.color}),onClick:t[0]||(t[0]=(...i)=>e.emitClick&&e.emitClick(...i))},[e.customIconName?(m(),F(He(e.customIconName),{key:0})):e.socialIconName?(m(),F(r,{key:1,name:e.socialIconName},null,8,["name"])):(m(),A("i",{key:2,class:de({filled:e.filled}),"data-icon":e.name},null,10,RN))],14,jN)}var UN=H(LN,[["render",MN],["__scopeId","data-v-e8796568"]]);const NN={class:"label"},BN=Z({props:{ext:null},setup(e){return(t,n)=>{const l=c("v-icon");return m(),A("div",{class:de(["icon",{right:e.ext.length>=4}])},[a(l,{name:"insert_drive_file"}),$("span",NN,w(e.ext),1)],2)}}});var qN=H(BN,[["__scopeId","data-v-d798de44"]]);const zN=Z({props:{icon:{type:String,default:"box"},title:{type:String,required:!0},type:{type:String,default:"info"},center:{type:Boolean,default:!1}}}),KN={class:"icon"},WN={class:"title type-title"},HN={class:"content"};function GN(e,t,n,l,o,u){const r=c("v-icon");return m(),A("div",{class:de(["v-info",[e.type,{center:e.center}]])},[$("div",KN,[a(r,{large:"",name:e.icon,outline:""},null,8,["name"])]),$("h2",WN,w(e.title),1),$("p",HN,[ke(e.$slots,"default",{},void 0,!0)]),ke(e.$slots,"append",{},void 0,!0)],2)}var ZN=H(zN,[["render",GN],["__scopeId","data-v-0b8e46a0"]]);const JN={key:0,class:"prepend-outer"},XN={key:0,class:"prepend"},YN={key:1,class:"prefix"},QN=["placeholder","autocomplete","type","min","max","step","disabled","value"],xN={key:2,class:"suffix"},eB={key:3},tB={key:4,class:"append"},nB={key:1,class:"append-outer"},lB={inheritAttrs:!1};function oB(e,{emit:t}){const n=e,l=Md(),o=D(null),u=V(()=>({input:v,keydown:f,blur:h=>{_(),typeof l.onBlur=="function"&&l.onBlur(h)},focus:h=>t("focus",h)})),r=V(()=>z.exports.omit(l,["class"])),i=V(()=>[{"full-width":n.fullWidth,"has-click":n.clickable,disabled:n.disabled,small:n.small},...(l.class||"").split(" ")]),s=V(()=>n.disabled===!1&&(n.max===void 0||parseInt(String(n.modelValue),10)<n.max)),p=V(()=>n.disabled===!1&&(n.min===void 0||parseInt(String(n.modelValue),10)>n.min));function f(h){if(!h.key)return;const b=h.key.toLowerCase(),S=["meta","shift","alt","backspace","delete","tab"],I=h.target.value;n.slug===!0&&(("abcdefghijklmnopqrstuvwxyz0123456789-_~ ".split("").includes(b)||S.includes(b)||b.startsWith("arrow"))===!1&&h.preventDefault(),b===" "&&I.endsWith(n.slugSeparator)&&h.preventDefault()),n.dbSafe===!0&&(("abcdefghijklmnopqrstuvwxyz0123456789_ ".split("").includes(b)||S.includes(b)||b.startsWith("arrow"))===!1&&h.preventDefault(),I.length===0&&"0123456789".split("").includes(b)&&h.preventDefault()),t("keydown",h)}function _(){n.modelValue&&n.trim&&["string","text"].includes(n.type)&&t("update:modelValue",String(n.modelValue).trim())}function v(h){let b=h.target.value;if(n.nullable===!0&&b===""){t("update:modelValue",null);return}if(n.type==="number"){const S=Number(b);n.modelValue!==S&&t("update:modelValue",S)}else{if(n.slug===!0){b=b.replace(/[^a-zA-Z0-9\-_~\s]/g,"");const S=b.endsWith(" ");b=Ud(b,{separator:n.slugSeparator,preserveTrailingDash:!0}),S&&(b+=n.slugSeparator)}n.dbSafe===!0&&(b=b.replace(/\s/g,"_"),b=b.replace(/[^a-zA-Z0-9_]/g,""),b=b.normalize("NFD").replace(/[\u0300-\u036f]/g,"")),t("update:modelValue",b)}}function y(){if(!!o.value&&s.value!==!1&&(o.value.stepUp(),o.value.value!=null))return t("update:modelValue",Number(o.value.value))}function g(){if(!!o.value&&p.value!==!1)return o.value.stepDown(),o.value.value?t("update:modelValue",Number(o.value.value)):t("update:modelValue",n.min||0)}return(h,b)=>{const S=c("v-icon"),I=Fe("focus");return m(),A("div",{class:de(["v-input",C(i)]),onClick:b[0]||(b[0]=E=>h.$emit("click",E))},[h.$slots["prepend-outer"]?(m(),A("div",JN,[ke(h.$slots,"prepend-outer",{value:e.modelValue,disabled:e.disabled},void 0,!0)])):M("",!0),$("div",{class:de(["input",{disabled:e.disabled,active:e.active}])},[h.$slots.prepend?(m(),A("div",XN,[ke(h.$slots,"prepend",{value:e.modelValue,disabled:e.disabled},void 0,!0)])):M("",!0),e.prefix?(m(),A("span",YN,w(e.prefix),1)):M("",!0),ke(h.$slots,"input",{},()=>[ie($("input",ft({ref:(E,R)=>{R.input=E,o.value=E}},C(r),{placeholder:e.placeholder?String(e.placeholder):void 0,autocomplete:e.autocomplete,type:e.type,min:e.min,max:e.max,step:e.step,disabled:e.disabled,value:e.modelValue===void 0||e.modelValue===null?"":String(e.modelValue)},Il(C(u))),null,16,QN),[[I,e.autofocus]])],!0),e.suffix?(m(),A("span",xN,w(e.suffix),1)):M("",!0),e.type==="number"&&!e.hideArrows?(m(),A("span",eB,[a(S,{class:de([{disabled:!C(s)},"step-up"]),name:"keyboard_arrow_up",tabindex:"-1",clickable:"",disabled:!C(s),onClick:y},null,8,["class","disabled"]),a(S,{class:de([{disabled:!C(p)},"step-down"]),name:"keyboard_arrow_down",tabindex:"-1",clickable:"",disabled:!C(p),onClick:g},null,8,["class","disabled"])])):M("",!0),h.$slots.append?(m(),A("div",tB,[ke(h.$slots,"append",{value:e.modelValue,disabled:e.disabled},void 0,!0)])):M("",!0)],2),h.$slots["append-outer"]?(m(),A("div",nB,[ke(h.$slots,"append-outer",{value:e.modelValue,disabled:e.disabled},void 0,!0)])):M("",!0)],2)}}const aB=Z(Ie(ve({},lB),{props:{autofocus:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},clickable:{type:Boolean,default:!1},prefix:{default:void 0},suffix:{default:void 0},fullWidth:{type:Boolean,default:!0},placeholder:{default:void 0},modelValue:{default:void 0},nullable:{type:Boolean,default:!0},slug:{type:Boolean,default:!1},slugSeparator:{default:"-"},type:{default:"text"},hideArrows:{type:Boolean,default:!1},max:{default:void 0},min:{default:void 0},step:{default:1},active:{type:Boolean,default:!1},dbSafe:{type:Boolean,default:!1},trim:{type:Boolean,default:!1},autocomplete:{default:"off"},small:{type:Boolean,default:!1}},emits:["click","keydown","update:modelValue","focus"],setup:oB}));var iB=H(aB,[["__scopeId","data-v-001c0a5a"]]);const rB=Z({props:{mandatory:{type:Boolean,default:!1},max:{type:Number,default:-1},multiple:{type:Boolean,default:!1},modelValue:{type:Array,default:void 0},scope:{type:String,default:"item-group"}},emits:["update:modelValue"],setup(e,{emit:t}){const{modelValue:n,multiple:l,max:o,mandatory:u}=ze(e);return ra({selection:n,onSelectionChange:r=>t("update:modelValue",r)},{multiple:l,max:o,mandatory:u},e.scope),{}}}),sB={class:"v-item-group"};function dB(e,t,n,l,o,u){return m(),A("div",sB,[ke(e.$slots,"default")])}var uB=H(rB,[["render",dB]]);const cB=Z({props:{value:{type:String,default:null},scope:{type:String,default:"item-group"},active:{type:Boolean,default:void 0},watch:{type:Boolean,default:!0}},setup(e){const{active:t}=ze(e),{active:n,toggle:l}=Ln({value:e.value,group:e.scope,watch:e.watch,active:t});return{isActive:n,toggle:l}}}),pB={class:"v-item"};function mB(e,t,n,l,o,u){return m(),A("div",pB,[ke(e.$slots,"default",nt(lt({active:e.isActive,toggle:e.toggle})))])}var fB=H(cB,[["render",mB]]);const _B=Z({props:{multiple:{type:Boolean,default:!0},to:{type:String,default:""},active:{type:Boolean,default:void 0},exact:{type:Boolean,default:!1},query:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},clickable:{type:Boolean,default:!1},scope:{type:String,default:"v-list"},value:{type:[String,Number],default:void 0},dense:{type:Boolean,default:!1},open:{type:Boolean,default:!1},arrowPlacement:{type:[String,Boolean],default:"after",validator:e=>["before","after",!1].includes(e)}},emits:["click"],setup(e,{emit:t}){const{active:n,toggle:l}=Ln({group:e.scope,value:e.value});return{groupActive:V(()=>n.value||e.open),toggle:l,onClick:u};function u(r){if(e.to)return null;if(e.clickable)return t("click",r);r.stopPropagation(),l()}}}),vB={class:"v-list-group"},yB={key:0,class:"items"};function hB(e,t,n,l,o,u){const r=c("v-icon"),i=c("v-list-item-icon"),s=c("v-list-item");return m(),A("li",vB,[a(s,{class:"activator",active:e.active,to:e.to,exact:e.exact,query:e.query,disabled:e.disabled,dense:e.dense,clickable:"",onClick:e.onClick},{default:d(()=>[e.$slots.default&&e.arrowPlacement&&e.arrowPlacement==="before"?(m(),F(i,{key:0,class:de(["activator-icon",{active:e.groupActive}])},{default:d(()=>[a(r,{name:"chevron_right",disabled:e.disabled,onClick:Te(e.toggle,["stop","prevent"])},null,8,["disabled","onClick"])]),_:1},8,["class"])):M("",!0),ke(e.$slots,"activator",{active:e.groupActive},void 0,!0),e.$slots.default&&e.arrowPlacement&&e.arrowPlacement==="after"?(m(),F(i,{key:1,class:de(["activator-icon",{active:e.groupActive}])},{default:d(()=>[a(r,{name:"chevron_right",disabled:e.disabled,onClick:Te(e.toggle,["stop","prevent"])},null,8,["disabled","onClick"])]),_:1},8,["class"])):M("",!0)]),_:3},8,["active","to","exact","query","disabled","dense","onClick"]),e.groupActive?(m(),A("ul",yB,[ke(e.$slots,"default",{},void 0,!0)])):M("",!0)])}var gB=H(_B,[["render",hB],["__scopeId","data-v-2419d436"]]);const bB={},wB={class:"v-list-item-content"};function kB(e,t){return m(),A("div",wB,[ke(e.$slots,"default")])}var $B=H(bB,[["render",kB],["__scopeId","data-v-275e8d1e"]]);const CB=Z({props:{center:{type:Boolean,default:!1}}});function SB(e,t,n,l,o,u){return m(),A("div",{class:de(["v-list-item-hint",{center:e.center}])},[ke(e.$slots,"default",{},void 0,!0)],2)}var FB=H(CB,[["render",SB],["__scopeId","data-v-13faae5b"]]);const VB=Z({props:{center:{type:Boolean,default:!1}}});function AB(e,t,n,l,o,u){return m(),A("div",{class:de(["v-list-item-icon",{center:e.center}])},[ke(e.$slots,"default")],2)}var IB=H(VB,[["render",AB],["__scopeId","data-v-1b25e368"]]);const EB=Z({props:{block:{type:Boolean,default:!1},dense:{type:Boolean,default:!1},to:{type:[String,Object],default:""},href:{type:String,default:void 0},disabled:{type:Boolean,default:!1},clickable:{type:Boolean,default:!1},active:{type:Boolean,default:void 0},dashed:{type:Boolean,default:!1},exact:{type:Boolean,default:!1},query:{type:Boolean,default:!1},download:{type:String,default:void 0},value:{type:[String,Number],default:void 0},nav:{type:Boolean,default:!1},scope:{type:String,default:"v-list"}},emits:["click"],setup(e,{emit:t}){const n=Wt(),{route:l,isActive:o,isExactActive:u}=ja(e),r=V(()=>e.to?"router-link":e.href?"a":"li");Ln({value:e.value,group:e.scope});const i=V(()=>Boolean(e.to||e.href||e.clickable)),s=V(()=>{if(e.active!==void 0)return e.active;if(e.to){const f=!e.query||z.exports.isEqual(n.query,l.value.query);return e.exact?u.value&&f:o.value&&f}return!1});return{component:r,isLink:i,isActiveRoute:s,onClick:p};function p(f){e.disabled!==!0&&t("click",f)}}});function DB(e,t,n,l,o,u){return m(),F(He(e.component),{class:de(["v-list-item",{active:e.isActiveRoute,dense:e.dense,link:e.isLink,disabled:e.disabled,dashed:e.dashed,block:e.block,nav:e.nav,clickable:e.clickable}]),to:e.to!==""?e.to:void 0,href:e.href,download:e.download,target:e.component==="a"?"_blank":void 0,onClick:e.onClick},{default:d(()=>[ke(e.$slots,"default")]),_:3},8,["to","class","href","download","target","onClick"])}var PB=H(EB,[["render",DB],["__scopeId","data-v-1e51adfe"]]);const TB=Z({props:{modelValue:{type:Array,default:null},nav:{type:Boolean,default:!1},dense:{type:Boolean,default:!1},multiple:{type:Boolean,default:!0},mandatory:{type:Boolean,default:!0},scope:{type:String,default:"v-list"}},emits:["update:modelValue","toggle"],setup(e,{emit:t}){const{modelValue:n,multiple:l,mandatory:o}=ze(e);return ra({selection:n,onSelectionChange:u=>{t("update:modelValue",u)},onToggle:u=>{t("toggle",u)}},{mandatory:o,multiple:l},e.scope),{}}});function OB(e,t,n,l,o,u){return m(),A("ul",{class:de(["v-list",{nav:e.nav,dense:e.dense}])},[ke(e.$slots,"default")],2)}var LB=H(TB,[["render",OB],["__scopeId","data-v-bb15acea"]]);function jB(e,t,n){const l=D(null),o=D({}),u=D({}),r=D(n.value.placement);At(()=>{p()}),he(n,()=>{var _;(_=l.value)==null||_.setOptions({placement:n.value.attached?"bottom-start":n.value.placement,modifiers:f()})},{immediate:!0});const i=new MutationObserver(()=>{var _;(_=l.value)==null||_.forceUpdate()});return{popperInstance:l,placement:r,start:s,stop:p,styles:o,arrowStyles:u};function s(){return new Promise(_=>{l.value=Nd(e.value,t.value,{placement:n.value.attached?"bottom-start":n.value.placement,modifiers:f(_),strategy:"fixed"}),l.value.forceUpdate(),i.observe(t.value,{attributes:!1,childList:!0,characterData:!0,subtree:!0})})}function p(){var _;(_=l.value)==null||_.destroy(),i.disconnect()}function f(_=()=>{}){var y,g;const v=[Bd,Ie(ve({},qd),{options:{offset:n.value.attached?[0,0]:[(y=n.value.offsetX)!=null?y:0,(g=n.value.offsetY)!=null?g:8]}}),Ie(ve({},zd),{options:{padding:8}}),Kd,Wd,Hd,{name:"placementUpdater",enabled:!0,phase:"afterWrite",fn({state:h}){r.value=h.placement}},{name:"applyStyles",enabled:!0,phase:"write",fn({state:h}){o.value=h.styles.popper,u.value=h.styles.arrow,_()}}];return n.value.arrow===!0&&v.push(Ie(ve({},Gd),{options:{padding:6}})),n.value.attached===!0&&v.push({name:"sameWidth",enabled:!0,fn:({state:h})=>{h.styles.popper.width=`${h.rects.reference.width}px`},phase:"beforeWrite",requires:["computeStyles"]}),v}}const RB=Z({props:{placement:{type:String,default:"bottom"},modelValue:{type:Boolean,default:void 0},closeOnClick:{type:Boolean,default:!0},closeOnContentClick:{type:Boolean,default:!0},attached:{type:Boolean,default:!1},showArrow:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},trigger:{type:String,default:null,validator:e=>["hover","click","keyDown"].includes(e)},delay:{type:Number,default:0},offsetY:{type:Number,default:8},offsetX:{type:Number,default:0},fullHeight:{type:Boolean,default:!1},seamless:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e,{emit:t}){const n=D(null),l=D(null),o=D({getBoundingClientRect(){return{top:0,left:0,bottom:0,right:0,width:0,height:0}}}),u=V(()=>Tt()),r=D(null),{start:i,stop:s,styles:p,arrowStyles:f,placement:_}=jB(l,r,V(()=>({placement:e.placement,attached:e.attached,arrow:e.showArrow,offsetY:e.offsetY,offsetX:e.offsetX}))),{isActive:v,activate:y,deactivate:g,toggle:h}=R();he(v,T=>{var j;T===!0&&(l.value=((j=n.value)==null?void 0:j.children[0])||o.value,Al(()=>{r.value=document.getElementById(u.value)}))});const{onClick:b,onPointerEnter:S,onPointerLeave:I}=q(),E=D(!1);return{id:u,activator:n,popper:r,reference:l,isActive:v,toggle:h,deactivate:g,onContentClick:L,onClickOutsideMiddleware:O,styles:p,arrowStyles:f,popperPlacement:_,activate:y,onClick:b,onPointerLeave:I,onPointerEnter:S,hoveringOnPopperContent:E};function R(){const T=D(!1),j=V({get(){return e.modelValue!==void 0?e.modelValue:T.value},async set(J){T.value=J,t("update:modelValue",J)}});return he(r,async()=>{r.value!==null?await i():s()},{immediate:!0}),{isActive:j,activate:U,deactivate:B,toggle:K};function U(J){J&&(o.value={getBoundingClientRect(){return{top:J.clientY,left:J.clientX,bottom:0,right:0,width:0,height:0}}}),j.value=!0}function B(){j.value=!1}function K(){e.disabled!==!0&&(j.value=!j.value)}}function O(T){var j;return!((j=n.value)==null?void 0:j.contains(T.target))}function L(T){e.closeOnContentClick===!0&&T.target!==T.currentTarget&&g()}function q(){const T=D(!1);return he(T,z.exports.debounce(K=>{K?v.value||y():g()},e.delay)),{onClick:j,onPointerLeave:B,onPointerEnter:U};function j(){e.trigger==="click"&&h()}function U(){e.trigger==="hover"&&(T.value=!0)}function B(){e.trigger==="hover"&&(T.value=!1)}}}}),MB=["id","data-placement"];function UB(e,t,n,l,o,u){const r=c("transition-bounce"),i=Fe("click-outside");return m(),A("div",{class:"v-menu",onClick:t[5]||(t[5]=(...s)=>e.onClick&&e.onClick(...s))},[$("div",{ref:"activator",class:de(["v-menu-activator",{attached:e.attached}]),onPointerenter:t[0]||(t[0]=Te((...s)=>e.onPointerEnter&&e.onPointerEnter(...s),["stop"])),onPointerleave:t[1]||(t[1]=Te((...s)=>e.onPointerLeave&&e.onPointerLeave(...s),["stop"]))},[ke(e.$slots,"activator",nt(lt({toggle:e.toggle,active:e.isActive,activate:e.activate,deactivate:e.deactivate})),void 0,!0)],34),(m(),F(co,{to:"#menu-outlet"},[a(r,null,{default:d(()=>[e.isActive?ie((m(),A("div",{id:e.id,key:e.id,class:de(["v-menu-popper",{active:e.isActive,attached:e.attached}]),"data-placement":e.popperPlacement,style:Je(e.styles)},[$("div",{class:de(["arrow",{active:e.showArrow&&e.isActive}]),style:Je(e.arrowStyles),"data-popper-arrow":""},null,6),$("div",{class:de(["v-menu-content",{"full-height":e.fullHeight,seamless:e.seamless}]),onClick:t[2]||(t[2]=Te((...s)=>e.onContentClick&&e.onContentClick(...s),["stop"])),onPointerenter:t[3]||(t[3]=Te((...s)=>e.onPointerEnter&&e.onPointerEnter(...s),["stop"])),onPointerleave:t[4]||(t[4]=Te((...s)=>e.onPointerLeave&&e.onPointerLeave(...s),["stop"]))},[ke(e.$slots,"default",nt(lt({toggle:e.toggle,active:e.isActive,activate:e.activate,deactivate:e.deactivate})),void 0,!0)],34)],14,MB)),[[i,{handler:e.deactivate,middleware:e.onClickOutsideMiddleware,disabled:e.isActive===!1||e.closeOnClick===!1,events:["click"]}]]):M("",!0)]),_:3})]))])}var NB=H(RB,[["render",UB],["__scopeId","data-v-502cb6b2"]]);const BB=Z({props:{type:{type:String,default:"normal"},icon:{type:[String,Boolean],default:null},center:{type:Boolean,default:!1}},setup(e){return{iconName:V(()=>e.icon!==!1&&typeof e.icon=="string"?e.icon:e.type=="info"?"info":e.type=="success"?"check_circle":e.type=="warning"?"warning":e.type=="danger"?"error":"info")}}});function qB(e,t,n,l,o,u){const r=c("v-icon");return m(),A("div",{class:de(["v-notice",[e.type,{center:e.center}]])},[e.icon!==!1?(m(),F(r,{key:0,name:e.iconName,left:""},null,8,["name"])):M("",!0),ke(e.$slots,"default")],2)}var zB=H(BB,[["render",qB],["__scopeId","data-v-763dd568"]]);const KB=Z({props:{active:{type:Boolean,default:!1},absolute:{type:Boolean,default:!1},clickable:{type:Boolean,default:!0}},emits:["click"],setup(e,{emit:t}){return{onClick:n};function n(l){t("click",l)}}}),WB=e=>(xe("data-v-3e74acbb"),e=e(),et(),e),HB=WB(()=>$("div",{class:"overlay"},null,-1)),GB={key:0,class:"content"};function ZB(e,t,n,l,o,u){return m(),A("div",{class:de(["v-overlay",{active:e.active,absolute:e.absolute,"has-click":e.clickable}]),onClick:t[0]||(t[0]=(...r)=>e.onClick&&e.onClick(...r))},[HB,e.active?(m(),A("div",GB,[ke(e.$slots,"default",{},void 0,!0)])):M("",!0)],2)}var JB=H(KB,[["render",ZB],["__scopeId","data-v-3e74acbb"]]);const XB=Z({props:{disabled:{type:Boolean,default:!1},length:{type:Number,default:null,required:!0,validator:e=>e%1==0},totalVisible:{type:Number,default:void 0,validator:e=>e>=0},modelValue:{type:Number,default:null},showFirstLast:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e,{emit:t}){const n=V(()=>{if(e.totalVisible===void 0)return[];let r,i;if(oi(e.totalVisible)||e.length<=e.totalVisible)r=1,i=e.length;else{const s=Math.floor(e.totalVisible/2),p=Math.ceil(e.totalVisible/2)-1;e.modelValue<=s?(r=1,i=e.totalVisible):e.modelValue+p>=e.length?(r=e.length-e.totalVisible+1,i=e.length):(r=e.modelValue-s,i=e.modelValue+p)}return Array.from(Array(i+1-r).keys()).map(s=>r+s)});return{toPage:u,toPrev:l,toNext:o,visiblePages:n};function l(){u(e.modelValue-1)}function o(){u(e.modelValue+1)}function u(r){t("update:modelValue",r)}}}),YB={class:"v-pagination"},QB=P(" 1 "),xB={key:1,class:"gap"},eq={key:2,class:"gap"};function tq(e,t,n,l,o,u){const r=c("v-icon"),i=c("v-button");return m(),A("div",YB,[a(i,{class:"previous",disabled:e.disabled||e.modelValue===1,secondary:"",icon:"",small:"",onClick:e.toPrev},{default:d(()=>[a(r,{name:"chevron_left"})]),_:1},8,["disabled","onClick"]),e.showFirstLast&&e.modelValue>Math.ceil(e.totalVisible/2)+1&&e.length>e.totalVisible?(m(),F(i,{key:0,class:"page",secondary:"",small:"",disabled:e.disabled,onClick:t[0]||(t[0]=s=>e.toPage(1))},{default:d(()=>[QB]),_:1},8,["disabled"])):M("",!0),e.showFirstLast&&e.modelValue>Math.ceil(e.totalVisible/2)+1&&e.length>e.totalVisible+1?(m(),A("span",xB," ... ")):M("",!0),(m(!0),A(se,null,Ve(e.visiblePages,s=>(m(),F(i,{key:s,class:de([{active:e.modelValue===s},"page"]),secondary:"",small:"",disabled:e.disabled,onClick:p=>e.toPage(s)},{default:d(()=>[P(w(s),1)]),_:2},1032,["class","disabled","onClick"]))),128)),e.showFirstLast&&e.modelValue<e.length-Math.ceil(e.totalVisible/2)&&e.length>e.totalVisible+1?(m(),A("span",eq," ... ")):M("",!0),e.showFirstLast&&e.modelValue<=e.length-Math.ceil(e.totalVisible/2)&&e.length>e.totalVisible?(m(),F(i,{key:3,class:de([{active:e.modelValue===e.length},"page"]),secondary:"",small:"",disabled:e.disabled,onClick:t[1]||(t[1]=s=>e.toPage(e.length))},{default:d(()=>[P(w(e.length),1)]),_:1},8,["class","disabled"])):M("",!0),a(i,{class:"next",disabled:e.disabled||e.modelValue===e.length,secondary:"",icon:"",small:"",onClick:e.toNext},{default:d(()=>[a(r,{name:"chevron_right"})]),_:1},8,["disabled","onClick"])])}var nq=H(XB,[["render",tq],["__scopeId","data-v-7c59d706"]]);const lq=Z({props:ve({indeterminate:{type:Boolean,default:!1},value:{type:Number,default:0}},wl),emits:["animationiteration"],setup(e){const t=kl(e),n=V(()=>({"stroke-dasharray":e.value/100*78.5+", 78.5"}));return{sizeClass:t,circleStyle:n}}}),oq=e=>(xe("data-v-a75ea6ac"),e=e(),et(),e),aq=oq(()=>$("path",{class:"circle-background",d:"M12.5,0A12.5,12.5,0,1,1,0,12.5,12.5,12.5,0,0,1,12.5,0Z",transform:"translate(2.5 2.5)"},null,-1));function iq(e,t,n,l,o,u){return m(),A("div",{class:de(["v-progress-circular",e.sizeClass])},[(m(),A("svg",{class:de(["circle",{indeterminate:e.indeterminate}]),viewBox:"0 0 30 30",onAnimationiteration:t[0]||(t[0]=r=>e.$emit("animationiteration"))},[aq,$("path",{class:"circle-path",style:Je(e.circleStyle),d:"M12.5,0A12.5,12.5,0,1,1,0,12.5,12.5,12.5,0,0,1,12.5,0Z",transform:"translate(2.5 2.5)"},null,4)],34)),ke(e.$slots,"default",{},void 0,!0)],2)}var rq=H(lq,[["render",iq],["__scopeId","data-v-a75ea6ac"]]);const sq=Z({props:{absolute:{type:Boolean,default:!1},bottom:{type:Boolean,default:!1},fixed:{type:Boolean,default:!1},indeterminate:{type:Boolean,default:!1},rounded:{type:Boolean,default:!1},top:{type:Boolean,default:!1},value:{type:Number,default:0},colorful:{type:Boolean,default:!1}},emits:["animationiteration"],setup(e){return{color:V(()=>e.value<=33?"danger":e.value<=66?"warning":"success")}}});function dq(e,t,n,l,o,u){return m(),A("div",{class:de(["v-progress-linear",[{absolute:e.absolute,bottom:e.bottom,fixed:e.fixed,indeterminate:e.indeterminate,rounded:e.rounded,top:e.top,colorful:e.colorful},e.color]]),onAnimationiteration:t[0]||(t[0]=r=>e.$emit("animationiteration"))},[$("div",{class:"inner",style:Je({width:e.value+"%"})},null,4),ke(e.$slots,"default",{value:e.value},void 0,!0)],34)}var uq=H(sq,[["render",dq],["__scopeId","data-v-4aeb976a"]]);const cq=Z({props:{value:{type:[String,Number],required:!0},modelValue:{type:[String,Number],default:null},label:{type:String,default:null},disabled:{type:Boolean,default:!1},iconOn:{type:String,default:"radio_button_checked"},iconOff:{type:String,default:"radio_button_unchecked"},block:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e,{emit:t}){const n=V(()=>e.modelValue===e.value),l=V(()=>n.value?e.iconOn:e.iconOff);return{isChecked:n,emitValue:o,icon:l};function o(){t("update:modelValue",e.value)}}}),pq=["aria-pressed","disabled"],mq={class:"label type-text"};function fq(e,t,n,l,o,u){const r=c("v-icon");return m(),A("button",{class:de(["v-radio",{checked:e.isChecked,block:e.block}]),type:"button","aria-pressed":e.isChecked?"true":"false",disabled:e.disabled,onClick:t[0]||(t[0]=(...i)=>e.emitValue&&e.emitValue(...i))},[a(r,{name:e.icon},null,8,["name"]),$("span",mq,[ke(e.$slots,"label",{},()=>[P(w(e.label),1)],!0)])],10,pq)}var _q=H(cq,[["render",fq],["__scopeId","data-v-596b3818"]]);function ws(e,t,n){const l=D(""),o=V({get(){return l.value||(u.value?e.value:"")},set(r){r===null?(l.value="",n(null)):(l.value=r,n(r))}}),u=V(()=>{if(t.value===null)return!1;const r=t.value.map(i=>i.value);return e.value!==null&&e.value.length>0&&r.includes(e.value)===!1});return{otherValue:o,usesOtherValue:u}}function ks(e,t,n){const l=D([]);return he(e,r=>{r!==null&&Array.isArray(r)!==!1&&t.value!==null&&r.forEach(i=>{if(t.value===null)return;t.value.map(f=>f.value).includes(i)===!0===!1&&l.value.map(v=>v.value).includes(i)===!0===!1&&o(i)})}),{otherValues:l,addOtherValue:o,setOtherValue:u};function o(r=""){l.value=[...l.value,{key:Tt(),value:r}]}function u(r,i){const s=l.value.find(f=>f.key===r),p=(e.value||[]).filter(f=>f!==(s==null?void 0:s.value));if(i===null)l.value=l.value.filter(f=>f.key!==r),p.length===0?n(null):n(p);else{l.value=l.value.map(_=>(_.key===r&&(_.value=i),_));const f=[...p,i];n(f)}}}const vq=Z({name:"SelectListItem",props:{item:{type:Object,required:!0},modelValue:{type:[String,Number,Array],default:null},multiple:{type:Boolean,required:!0},allowOther:{type:Boolean,required:!0}},emits:["update:modelValue"]}),yq={key:0,class:"item-text"};function hq(e,t,n,l,o,u){const r=c("v-divider"),i=c("v-icon"),s=c("v-list-item-icon"),p=c("v-checkbox"),f=c("v-list-item-content"),_=c("v-list-item");return e.item.divider===!0?(m(),F(r,{key:0})):(m(),F(_,{key:1,active:e.multiple?(e.modelValue||[]).includes(e.item.value):e.modelValue===e.item.value,disabled:e.item.disabled,clickable:"",value:e.item.value,onClick:t[1]||(t[1]=v=>e.multiple?null:e.$emit("update:modelValue",e.item.value))},{default:d(()=>[e.multiple===!1&&e.allowOther===!1&&e.item.icon?(m(),F(s,{key:0},{default:d(()=>[a(i,{name:e.item.icon},null,8,["name"])]),_:1})):M("",!0),a(f,null,{default:d(()=>[e.multiple===!1||e.item.selectable===!1?(m(),A("span",yq,w(e.item.text),1)):(m(),F(p,{key:1,"model-value":e.modelValue||[],label:e.item.text,value:e.item.value,disabled:e.item.disabled,"onUpdate:modelValue":t[0]||(t[0]=v=>e.$emit("update:modelValue",v.length>0?v:null))},null,8,["model-value","label","value","disabled"]))]),_:1})]),_:1},8,["active","disabled","value"]))}var $s=H(vq,[["render",hq]]);const gq=Z({name:"SelectListItemGroup",components:{SelectListItem:$s},props:{item:{type:Object,required:!0},modelValue:{type:[String,Number,Array],default:null},multiple:{type:Boolean,required:!0},allowOther:{type:Boolean,required:!0}},emits:["update:modelValue"]}),bq={key:0,class:"item-text"};function wq(e,t,n,l,o,u){const r=c("v-icon"),i=c("v-list-item-icon"),s=c("v-checkbox"),p=c("v-list-item-content"),f=c("select-list-item-group",!0),_=c("select-list-item"),v=c("v-list-group");return m(),F(v,{clickable:e.item.selectable,value:e.item.value},{activator:d(()=>[e.multiple===!1&&e.allowOther===!1&&e.item.icon?(m(),F(i,{key:0},{default:d(()=>[a(r,{name:e.item.icon},null,8,["name"])]),_:1})):M("",!0),a(p,null,{default:d(()=>[e.multiple===!1||e.item.selectable===!1?(m(),A("span",bq,w(e.item.text),1)):(m(),F(s,{key:1,"model-value":e.modelValue||[],label:e.item.text,value:e.item.value,disabled:e.item.disabled,"onUpdate:modelValue":t[0]||(t[0]=y=>e.$emit("update:modelValue",y.length>0?y:null))},null,8,["model-value","label","value","disabled"]))]),_:1})]),default:d(()=>[(m(!0),A(se,null,Ve(e.item.children,(y,g)=>(m(),A(se,{key:g},[y.children?(m(),F(f,{key:0,item:y,"model-value":e.modelValue,multiple:e.multiple,"allow-other":e.allowOther,"onUpdate:modelValue":t[1]||(t[1]=h=>e.$emit("update:modelValue",h))},null,8,["item","model-value","multiple","allow-other"])):(m(),F(_,{key:1,"model-value":e.modelValue,item:y,multiple:e.multiple,"allow-other":e.allowOther,"onUpdate:modelValue":t[2]||(t[2]=h=>e.$emit("update:modelValue",h))},null,8,["model-value","item","multiple","allow-other"]))],64))),128))]),_:1},8,["clickable","value"])}var kq=H(gq,[["render",wq]]);const $q=Z({components:{SelectListItemGroup:kq,SelectListItem:$s},props:{items:{type:Array,required:!0},itemText:{type:String,default:"text"},itemValue:{type:String,default:"value"},itemIcon:{type:String,default:null},itemDisabled:{type:String,default:"disabled"},itemSelectable:{type:String,default:"selectable"},itemChildren:{type:String,default:"children"},modelValue:{type:[Array,String,Number,Boolean],default:null},multiple:{type:Boolean,default:!1},mandatory:{type:Boolean,default:!0},placeholder:{type:String,default:null},fullWidth:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},showDeselect:{type:Boolean,default:!1},allowOther:{type:Boolean,default:!1},closeOnContentClick:{type:Boolean,default:!0},inline:{type:Boolean,default:!1},label:{type:Boolean,default:!1},multiplePreviewThreshold:{type:Number,default:3},placement:{type:String,default:"bottom"}},emits:["update:modelValue","group-toggle"],setup(e,{emit:t}){const{t:n}=ae(),{internalItems:l}=_(),{displayValue:o}=v(),{modelValue:u}=ze(e),{otherValue:r,usesOtherValue:i}=ws(u,l,y=>t("update:modelValue",y)),{otherValues:s,addOtherValue:p,setOtherValue:f}=ks(u,l,y=>t("update:modelValue",y));return{t:n,internalItems:l,displayValue:o,otherValue:r,usesOtherValue:i,otherValues:s,addOtherValue:p,setOtherValue:f};function _(){return{internalItems:V(()=>{const g=b=>{if(typeof b=="string")return{text:b,value:b};if(b.divider===!0)return{value:null,divider:!0};const S=z.exports.get(b,e.itemChildren)?z.exports.get(b,e.itemChildren).map(g):null;return{text:z.exports.get(b,e.itemText),value:z.exports.get(b,e.itemValue),icon:z.exports.get(b,e.itemIcon),disabled:z.exports.get(b,e.itemDisabled),selectable:z.exports.get(b,e.itemSelectable),children:S}};return e.items.map(g)})}}function v(){return{displayValue:V(()=>{if(Array.isArray(e.modelValue)){if(e.modelValue.length<e.multiplePreviewThreshold)return e.modelValue.map(h=>g(h)||h).join(", ");{const h=l.value.length+s.value.length,b=e.modelValue.length;return h===b?n("all_items"):n("item_count",b)}}return g(e.modelValue)||e.modelValue})};function g(h){return b(l.value);function b(S){var E;let I=(E=S.find(R=>R.value===h))==null?void 0:E.text;for(const R of S)I||R.children&&(I=b(R.children));return I}}}}}),Cq=["onClick"],Sq=["placeholder"],Fq=["value","placeholder","onInput","onBlur"];function Vq(e,t,n,l,o,u){const r=c("v-icon"),i=c("v-input"),s=c("v-list-item-icon"),p=c("v-list-item-content"),f=c("v-list-item"),_=c("v-divider"),v=c("select-list-item-group"),y=c("select-list-item"),g=c("v-checkbox"),h=c("v-list"),b=c("v-menu"),S=Fe("focus");return m(),F(b,{class:"v-select",disabled:e.disabled,attached:e.inline===!1,"show-arrow":e.inline===!0,"close-on-content-click":e.closeOnContentClick,placement:e.placement},{activator:d(({toggle:I,active:E})=>[e.inline?(m(),A("div",{key:0,class:de(["inline-display",{placeholder:!e.displayValue,label:e.label,active:E}]),onClick:I},[ke(e.$slots,"preview",{},()=>[P(w(e.displayValue||e.placeholder),1)],!0),a(r,{name:"expand_more",class:de({active:E})},null,8,["class"])],10,Cq)):ke(e.$slots,"preview",{key:1},()=>[a(i,{"full-width":e.fullWidth,readonly:"","model-value":e.displayValue,clickable:"",placeholder:e.placeholder,disabled:e.disabled,active:E,onClick:I},at({append:d(()=>[a(r,{name:"expand_more",class:de({active:E})},null,8,["class"]),ke(e.$slots,"append",{},void 0,!0)]),_:2},[e.$slots.prepend?{name:"prepend",fn:d(()=>[ke(e.$slots,"prepend",{},void 0,!0)])}:void 0]),1032,["full-width","model-value","placeholder","disabled","active","onClick"])],!0)]),default:d(()=>[a(h,{class:"list",mandatory:e.mandatory,onToggle:t[9]||(t[9]=I=>e.$emit("group-toggle",I))},{default:d(()=>[e.showDeselect?(m(),A(se,{key:0},[a(f,{clickable:"",disabled:e.modelValue===null,onClick:t[0]||(t[0]=I=>e.$emit("update:modelValue",null))},{default:d(()=>[e.multiple===!0?(m(),F(s,{key:0},{default:d(()=>[a(r,{name:"close"})]),_:1})):M("",!0),a(p,null,{default:d(()=>[P(w(e.multiple?e.t("deselect_all"):e.t("deselect")),1)]),_:1}),e.multiple===!1?(m(),F(s,{key:1},{default:d(()=>[a(r,{name:"close"})]),_:1})):M("",!0)]),_:1},8,["disabled"]),a(_)],64)):M("",!0),(m(!0),A(se,null,Ve(e.internalItems,(I,E)=>(m(),A(se,{key:E},[I.children?(m(),F(v,{key:0,item:I,"model-value":e.modelValue,multiple:e.multiple,"allow-other":e.allowOther,"onUpdate:modelValue":t[1]||(t[1]=R=>e.$emit("update:modelValue",R))},null,8,["item","model-value","multiple","allow-other"])):(m(),F(y,{key:1,"model-value":e.modelValue,item:I,multiple:e.multiple,"allow-other":e.allowOther,"onUpdate:modelValue":t[2]||(t[2]=R=>e.$emit("update:modelValue",R))},null,8,["model-value","item","multiple","allow-other"]))],64))),128)),e.allowOther&&e.multiple===!1?(m(),F(f,{key:1,active:e.usesOtherValue,onClick:t[5]||(t[5]=Te(()=>{},["stop"]))},{default:d(()=>[a(p,null,{default:d(()=>[ie($("input",{"onUpdate:modelValue":t[3]||(t[3]=I=>e.otherValue=I),class:"other-input",placeholder:e.t("other"),onFocus:t[4]||(t[4]=I=>e.otherValue?e.$emit("update:modelValue",e.otherValue):null)},null,40,Sq),[[po,e.otherValue]])]),_:1})]),_:1},8,["active"])):M("",!0),e.allowOther&&e.multiple===!0?(m(),A(se,{key:2},[(m(!0),A(se,null,Ve(e.otherValues,I=>(m(),F(f,{key:I.key,active:(e.modelValue||[]).includes(I.value),onClick:t[7]||(t[7]=Te(()=>{},["stop"]))},{default:d(()=>[a(s,null,{default:d(()=>[a(g,{"model-value":e.modelValue||[],value:I.value,"onUpdate:modelValue":t[6]||(t[6]=E=>e.$emit("update:modelValue",E.length>0?E:null))},null,8,["model-value","value"])]),_:2},1024),a(p,null,{default:d(()=>[ie($("input",{class:"other-input",value:I.value,placeholder:e.t("other"),onInput:E=>e.setOtherValue(I.key,E.target.value),onBlur:E=>I.value.length===0&&e.setOtherValue(I.key,null)},null,40,Fq),[[S]])]),_:2},1024),a(s,null,{default:d(()=>[a(r,{name:"close",clickable:"",onClick:E=>e.setOtherValue(I.key,null)},null,8,["onClick"])]),_:2},1024)]),_:2},1032,["active"]))),128)),a(f,{onClick:t[8]||(t[8]=Te(I=>e.addOtherValue(),["stop"]))},{default:d(()=>[a(s,null,{default:d(()=>[a(r,{name:"add"})]),_:1}),a(p,null,{default:d(()=>[P(w(e.t("other")),1)]),_:1})]),_:1})],64)):M("",!0)]),_:1},8,["mandatory"])]),_:3},8,["disabled","attached","show-arrow","close-on-content-click","placement"])}var Aq=H($q,[["render",Vq],["__scopeId","data-v-a0800880"]]);const Iq=Z({props:{},setup(){return{}}}),Eq={class:"v-sheet"};function Dq(e,t,n,l,o,u){return m(),A("div",Eq,[ke(e.$slots,"default",{},void 0,!0)])}var Pq=H(Iq,[["render",Dq],["__scopeId","data-v-714b5c50"]]);const Tq=Z({props:{type:{type:String,default:"input"}}}),Cs=e=>(xe("data-v-9bf1f4de"),e=e(),et(),e),Oq=Cs(()=>$("div",{class:"icon"},null,-1)),Lq=Cs(()=>$("div",{class:"text"},null,-1));function jq(e,t,n,l,o,u){return m(),A("div",{class:de([e.type,"v-skeleton-loader"])},[e.type==="list-item-icon"?(m(),A(se,{key:0},[Oq,Lq],64)):M("",!0)],2)}var Rq=H(Tq,[["render",jq],["__scopeId","data-v-9bf1f4de"]]);const Mq=Z({props:{disabled:{type:Boolean,default:!1},showThumbLabel:{type:Boolean,default:!1},max:{type:Number,default:100},min:{type:Number,default:0},step:{type:Number,default:1},showTicks:{type:Boolean,default:!1},alwaysShowValue:{type:Boolean,default:!0},modelValue:{type:Number,default:0}},emits:["change","update:modelValue"],setup(e,{emit:t}){return{styles:V(()=>{if(e.modelValue===null)return{"--_v-slider-percentage":50};let u=(e.modelValue-e.min)/(e.max-e.min)*100;return isNaN(u)&&(u=0),{"--_v-slider-percentage":u}}),onChange:l,onInput:o};function l(u){const r=u.target;t("change",Number(r.value))}function o(u){const r=u.target;t("update:modelValue",Number(r.value))}}}),Uq=e=>(xe("data-v-4fc0257d"),e=e(),et(),e),Nq={key:0,class:"prepend"},Bq=["disabled","value","max","min","step"],qq=Uq(()=>$("div",{class:"fill"},null,-1)),zq={key:0,class:"ticks"},Kq={key:1,class:"thumb-label-wrapper"},Wq={key:1,class:"append"};function Hq(e,t,n,l,o,u){return m(),A("div",{class:"v-slider",style:Je(e.styles)},[e.$slots.prepend?(m(),A("div",Nq,[ke(e.$slots,"prepend",{value:e.modelValue},void 0,!0)])):M("",!0),$("div",{class:de(["slider",{disabled:e.disabled}])},[$("input",{disabled:e.disabled,type:"range",value:e.modelValue,max:e.max,min:e.min,step:e.step,onChange:t[0]||(t[0]=(...r)=>e.onChange&&e.onChange(...r)),onInput:t[1]||(t[1]=(...r)=>e.onInput&&e.onInput(...r))},null,40,Bq),qq,e.showTicks?(m(),A("div",zq,[(m(!0),A(se,null,Ve(Math.floor((e.max-e.min)/e.step)+1,r=>(m(),A("span",{key:r,class:"tick"}))),128))])):M("",!0),e.showThumbLabel?(m(),A("div",Kq,[$("div",{class:de(["thumb-label",{visible:e.alwaysShowValue}])},[ke(e.$slots,"thumb-label type-text",{value:e.modelValue},()=>[P(w(e.modelValue),1)],!0)],2)])):M("",!0)],2),e.$slots.append?(m(),A("div",Wq,[ke(e.$slots,"append",{value:e.modelValue},void 0,!0)])):M("",!0)],4)}var Gq=H(Mq,[["render",Hq],["__scopeId","data-v-4fc0257d"]]);const Zq=Z({props:{value:{type:String,default:null},modelValue:{type:[Boolean,Array],default:!1},label:{type:String,default:null},disabled:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e,{emit:t}){const n=V(()=>e.modelValue instanceof Array?e.modelValue.includes(e.value):e.modelValue===!0);return{isChecked:n,toggleInput:l};function l(){if(e.modelValue instanceof Array){const o=[...e.modelValue];n.value===!1?o.push(e.value):o.splice(o.indexOf(e.value),1),t("update:modelValue",o)}else t("update:modelValue",!n.value)}}}),Jq=e=>(xe("data-v-9eb85040"),e=e(),et(),e),Xq=["aria-pressed","disabled"],Yq=Jq(()=>$("span",{class:"switch"},null,-1)),Qq={class:"label type-label"};function xq(e,t,n,l,o,u){return m(),A("button",{class:"v-switch",type:"button",role:"switch","aria-pressed":e.isChecked?"true":"false",disabled:e.disabled,onClick:t[0]||(t[0]=(...r)=>e.toggleInput&&e.toggleInput(...r))},[Yq,$("span",Qq,[ke(e.$slots,"label",{},()=>[P(w(e.label),1)],!0)])],8,Xq)}var ez=H(Zq,[["render",xq],["__scopeId","data-v-9eb85040"]]);const tz=e=>(xe("data-v-6f0ccd0a"),e=e(),et(),e),nz={key:1,class:"select cell",scope:"col"},lz=["onClick"],oz={class:"name"},az={key:0,class:"description-dot"},iz=["onClick"],rz={class:"name"},sz={key:0,class:"description-dot"},dz=["onPointerdown"],uz=tz(()=>$("th",{class:"spacer cell",scope:"col"},null,-1)),cz={key:1,class:"spacer cell",scope:"col"},pz=Z({props:{headers:null,sort:null,showSelect:{default:"none"},showResize:{type:Boolean,default:!1},showManualSort:{type:Boolean,default:!1},allowHeaderReorder:{type:Boolean},reordering:{type:Boolean},someItemsSelected:{type:Boolean,default:!1},allItemsSelected:{type:Boolean,default:!1},fixed:{type:Boolean,default:!1},mustSort:{type:Boolean,default:!1},hasItemAppendSlot:{type:Boolean,default:!1},manualSortKey:{default:void 0}},emits:["update:sort","toggle-select-all","update:headers","update:reordering"],setup(e,{emit:t}){const n=e,{t:l}=ae(),o=D(!1),u=D(0),r=D(0),i=D(null),s=Ma(),p=V(()=>s["header-context-menu"]!==void 0);Gn(window,"pointermove",z.exports.throttle(b,40)),Gn(window,"pointerup",S);const f=Ge(n,"headers",t);function _(E){const R=[];return E.align&&R.push(`align-${E.align}`),(E.sortable||p.value)&&R.push("actionable"),E.width&&E.width<90&&R.push("small"),n.sort.by===E.value&&(n.sort.desc===!1?R.push("sort-asc"):R.push("sort-desc")),R}function v(E){return n.sort.by===E.value&&n.sort.desc===!1?"sort_desc":"sort_asc"}function y(E){if(E.sortable!==!1&&o.value!==!0)return E.value===n.sort.by?n.mustSort?t("update:sort",{by:n.sort.by,desc:!n.sort.desc}):n.sort.desc===!1?t("update:sort",{by:n.sort.by,desc:!0}):t("update:sort",{by:null,desc:!1}):t("update:sort",{by:E.value,desc:!1})}function g(){t("toggle-select-all",!n.allItemsSelected)}function h(E,R){const L=R.target.parentElement;o.value=!0,u.value=R.pageX,r.value=L.offsetWidth,i.value=E}function b(E){if(o.value===!0){const R=r.value+(E.pageX-u.value),L=z.exports.clone(n.headers).map(q=>{var T;return q.value===((T=i.value)==null?void 0:T.value)?Ie(ve({},q),{width:Math.max(32,R)}):q});t("update:headers",L)}}function S(){o.value===!0&&(o.value=!1)}function I(){n.sort.by===n.manualSortKey?t("update:sort",{by:null,desc:!1}):t("update:sort",{by:n.manualSortKey,desc:!1})}return(E,R)=>{const O=c("v-icon"),L=c("v-checkbox"),q=c("v-menu"),T=Fe("tooltip");return m(),A("thead",{class:de(["table-header",{resizing:o.value,reordering:e.reordering}])},[a(C(Ot),{modelValue:C(f),"onUpdate:modelValue":R[2]||(R[2]=j=>ut(f)?f.value=j:null),"force-fallback":!0,class:de({fixed:e.fixed}),"item-key":"value",tag:"tr",disabled:!e.allowHeaderReorder,"set-data":C(dn),handle:".reorder-handle",animation:"150","ghost-class":"header-order-ghost","swap-threshold":"0.5",onStart:R[3]||(R[3]=j=>E.$emit("update:reordering",!0)),onEnd:R[4]||(R[4]=j=>E.$emit("update:reordering",!1))},{header:d(()=>[e.showManualSort?(m(),A("th",{key:0,class:de(["manual cell",{"sorted-manually":e.sort.by===e.manualSortKey}]),scope:"col",onClick:I},[ie(a(O,{name:"sort",small:""},null,512),[[T,C(l)("toggle_manual_sorting")]])],2)):M("",!0),e.showSelect!=="none"?(m(),A("th",nz,[e.showSelect==="multiple"?(m(),F(L,{key:0,"model-value":e.allItemsSelected,indeterminate:e.someItemsSelected,"onUpdate:modelValue":g},null,8,["model-value","indeterminate"])):M("",!0)])):M("",!0)]),item:d(({element:j})=>[$("th",{class:de([_(j),"cell"]),scope:"col",style:Je({width:j.width+"px"})},[C(p)?(m(),F(q,{key:0,"show-arrow":"",placement:"bottom-start"},{activator:d(({toggle:U})=>[$("div",{class:"content reorder-handle",onClick:U},[$("span",oz,[j.description?ie((m(),A("span",az,null,512)),[[T,j.description]]):M("",!0),ke(E.$slots,`header.${j.value}`,{header:j},()=>[P(w(j.text),1)],!0)]),C(p)?(m(),F(O,{key:0,name:e.sort.by===j.value?"sort":"arrow_drop_down",class:"action-icon",small:""},null,8,["name"])):M("",!0)],8,lz)]),default:d(()=>[ke(E.$slots,"header-context-menu",nt(lt({header:j})),void 0,!0)]),_:2},1024)):(m(),A("div",{key:1,class:"content reorder-handle",onClick:U=>y(j)},[$("span",rz,[j.description?ie((m(),A("span",sz,null,512)),[[T,j.description]]):M("",!0),ke(E.$slots,`header.${j.value}`,{header:j},()=>[P(w(j.text),1)],!0)]),j.sortable?ie((m(),F(O,{key:0,name:"sort",class:"action-icon",small:""},null,512)),[[T,C(l)(v(j)),void 0,{top:!0}]]):M("",!0)],8,iz)),e.showResize?(m(),A("span",{key:2,class:"resize-handle",onClick:R[0]||(R[0]=Te(()=>{},["stop"])),onPointerdown:U=>h(j,U)},null,40,dz)):M("",!0)],6)]),footer:d(()=>[uz,E.$slots["header-append"]?(m(),A("td",{key:0,class:"manual append cell",onClick:R[1]||(R[1]=Te(()=>{},["stop"]))},[ke(E.$slots,"header-append",{},void 0,!0)])):M("",!0),e.hasItemAppendSlot&&!E.$slots["header-append"]?(m(),A("th",cz)):M("",!0)]),_:3},8,["modelValue","class","disabled","set-data"])],2)}}});var mz=H(pz,[["__scopeId","data-v-6f0ccd0a"]]);const fz=e=>(xe("data-v-23aa01a8"),e=e(),et(),e),_z=fz(()=>$("td",{class:"spacer cell"},null,-1)),vz=Z({props:{headers:null,item:null,showSelect:{default:"none"},showManualSort:{type:Boolean,default:!1},isSelected:{type:Boolean,default:!1},subdued:{type:Boolean,default:!1},sortedManually:{type:Boolean,default:!1},hasClickListener:{type:Boolean,default:!1},height:{default:48}},emits:["click","item-selected"],setup(e){const t=e;Fl(l=>({"026be09b":C(n)}));const n=V(()=>t.height+2+"px");return(l,o)=>{const u=c("v-icon"),r=c("v-checkbox"),i=c("v-text-overflow"),s=c("value-null");return m(),A("tr",{class:de(["table-row",{subdued:e.subdued,clickable:e.hasClickListener}]),onClick:o[4]||(o[4]=p=>l.$emit("click",p))},[e.showManualSort?(m(),A("td",{key:0,class:"manual cell",onClick:o[0]||(o[0]=Te(()=>{},["stop"]))},[a(u,{name:"drag_handle",class:de(["drag-handle",{"sorted-manually":e.sortedManually}])},null,8,["class"])])):M("",!0),e.showSelect!=="none"?(m(),A("td",{key:1,class:"select cell",onClick:o[2]||(o[2]=Te(()=>{},["stop"]))},[a(r,{"icon-on":e.showSelect==="one"?"radio_button_checked":void 0,"icon-off":e.showSelect==="one"?"radio_button_unchecked":void 0,"model-value":e.isSelected,"onUpdate:modelValue":o[1]||(o[1]=p=>l.$emit("item-selected",p))},null,8,["icon-on","icon-off","model-value"])])):M("",!0),(m(!0),A(se,null,Ve(e.headers,p=>(m(),A("td",{key:p.value,class:de(["cell",`align-${p.align}`])},[ke(l.$slots,`item.${p.value}`,{item:e.item},()=>[p.value.split(".").reduce((f,_)=>f[_],e.item)?(m(),F(i,{key:0,text:p.value.split(".").reduce((f,_)=>f[_],e.item)},null,8,["text"])):(m(),F(s,{key:1}))],!0)],2))),128)),_z,l.$slots["item-append"]?(m(),A("td",{key:2,class:"append cell",onClick:o[3]||(o[3]=Te(()=>{},["stop"]))},[ke(l.$slots,"item-append",{},void 0,!0)])):M("",!0)],2)}}});var yz=H(vz,[["__scopeId","data-v-23aa01a8"]]);const hz=["summary"],gz={key:1},bz={class:"loading-text"},wz={key:2},kz={class:"no-items-text"},$z=Z({props:{headers:null,items:null,itemKey:{default:"id"},sort:{default:void 0},mustSort:{type:Boolean,default:!1},showSelect:{default:"none"},showResize:{type:Boolean,default:!1},showManualSort:{type:Boolean,default:!1},manualSortKey:{default:void 0},allowHeaderReorder:{type:Boolean,default:!1},modelValue:{default:()=>[]},fixedHeader:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},loadingText:{default:Be.global.t("loading")},noItemsText:{default:Be.global.t("no_items")},serverSort:{type:Boolean,default:!1},rowHeight:{default:48},selectionUseKeys:{type:Boolean,default:!1},inline:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},clickable:{type:Boolean,default:!0}},emits:["click:row","update:sort","update:items","item-selected","update:modelValue","manual-sort","update:headers"],setup(e,{emit:t}){const n=e;Fl(O=>({"3b6f54c3":C(b).rows,"0b45a2f7":C(b).header}));const l={text:"",value:"",align:"left",sortable:!0,width:null},o=Ma(),u=V({get:()=>n.headers.map(O=>ve(ve({},l),O)).map(O=>(O.width&&O.width<24&&(O.width=24),O)),set:O=>{t("update:headers",O.map(L=>{const q=[];return z.exports.forEach(L,(T,j)=>{T!==l[j]&&q.push(j)}),z.exports.pick(L,q)}))}}),r=D({by:null,desc:!1}),i=V({get:()=>n.sort||r.value,set:O=>{t("update:sort",O),r.value=O}}),s=D(!1),p=V(()=>o["header-append"]!==void 0),f=V(()=>o["header-context-menu"]!==void 0),_=V(()=>o["item-append"]!==void 0),v=V(()=>{let O=u.value.length+1;return n.showSelect!=="none"&&O++,n.showManualSort&&O++,_.value&&O++,`1 / span ${O}`}),y=V({get:()=>{if(n.serverSort===!0||i.value.by===n.manualSortKey||i.value.by===null)return n.items;const O=z.exports.sortBy(n.items,[i.value.by]);return i.value.desc===!0?O.reverse():O},set:O=>{t("update:items",O)}}),g=V(()=>n.loading===!1&&n.modelValue.length===n.items.length),h=V(()=>n.modelValue.length>0&&g.value===!1),b=V(()=>{return{header:O("auto"),rows:O()};function O(L){let q=u.value.map(T=>T.width?L!=null?L:`${T.width}px`:"160px").reduce((T,j)=>T+=" "+j,"");return n.showSelect!=="none"&&(q="36px "+q),n.showManualSort&&(q="36px "+q),q=q+" 1fr",(_.value||p.value)&&(q+=" auto"),q}});function S(O){if(n.disabled)return;t("item-selected",O);let L=z.exports.clone(n.modelValue);O.value===!0?n.selectionUseKeys?L.push(O.item[n.itemKey]):L.push(O.item):L=L.filter(q=>n.selectionUseKeys?q!==O.item[n.itemKey]:q[n.itemKey]!==O.item[n.itemKey]),t("update:modelValue",L)}function I(O){return(n.selectionUseKeys?n.modelValue:n.modelValue.map(q=>q[n.itemKey])).includes(O[n.itemKey])}function E(O){n.disabled||(O===!0?n.selectionUseKeys?t("update:modelValue",z.exports.clone(n.items).map(L=>L[n.itemKey])):t("update:modelValue",z.exports.clone(n.items)):t("update:modelValue",[]))}function R(O){if(n.disabled)return;const L=y.value[O.oldIndex][n.itemKey],q=y.value[O.newIndex][n.itemKey];t("manual-sort",{item:L,to:q})}return(O,L)=>{const q=c("v-progress-linear");return m(),A("div",{class:de(["v-table",{loading:e.loading,inline:e.inline,disabled:e.disabled}])},[$("table",{summary:C(u).map(T=>T.text).join(", ")},[a(mz,{headers:C(u),"onUpdate:headers":L[0]||(L[0]=T=>ut(u)?u.value=T:null),sort:C(i),"onUpdate:sort":L[1]||(L[1]=T=>ut(i)?i.value=T:null),reordering:s.value,"onUpdate:reordering":L[2]||(L[2]=T=>s.value=T),"show-select":e.showSelect,"show-resize":e.showResize,"some-items-selected":C(h),"all-items-selected":C(g),fixed:e.fixedHeader,"show-manual-sort":e.showManualSort,"must-sort":e.mustSort,"has-item-append-slot":C(_),"manual-sort-key":e.manualSortKey,"allow-header-reorder":e.allowHeaderReorder,onToggleSelectAll:E},at({_:2},[Ve(C(u),T=>({name:`header.${T.value}`,fn:d(()=>[ke(O.$slots,`header.${T.value}`,{header:T},void 0,!0)])})),C(p)?{name:"header-append",fn:d(()=>[ke(O.$slots,"header-append",{},void 0,!0)])}:void 0,C(f)?{name:"header-context-menu",fn:d(({header:T})=>[ke(O.$slots,"header-context-menu",nt(lt({header:T})),void 0,!0)])}:void 0]),1032,["headers","sort","reordering","show-select","show-resize","some-items-selected","all-items-selected","fixed","show-manual-sort","must-sort","has-item-append-slot","manual-sort-key","allow-header-reorder"]),e.loading?(m(),A("thead",{key:0,class:de(["loading-indicator",{sticky:e.fixedHeader}])},[$("th",{scope:"colgroup",style:Je({gridColumn:C(v)})},[e.loading?(m(),F(q,{key:0,indeterminate:""})):M("",!0)],4)],2)):M("",!0),e.loading&&e.items.length===0?(m(),A("tbody",gz,[$("tr",bz,[$("td",{style:Je({gridColumn:C(v)})},w(e.loadingText),5)])])):M("",!0),!e.loading&&e.items.length===0?(m(),A("tbody",wz,[$("tr",kz,[$("td",{style:Je({gridColumn:C(v)})},w(e.noItemsText),5)])])):(m(),F(C(Ot),{key:3,modelValue:C(y),"onUpdate:modelValue":L[3]||(L[3]=T=>ut(y)?y.value=T:null),"force-fallback":!0,"item-key":e.itemKey,tag:"tbody",handle:".drag-handle",disabled:e.disabled||C(i).by!==e.manualSortKey,"set-data":C(dn),onEnd:R},{item:d(({element:T})=>[a(yz,{headers:C(u),item:T,"show-select":!e.disabled&&e.showSelect,"show-manual-sort":!e.disabled&&e.showManualSort,"is-selected":I(T),subdued:e.loading||s.value,"sorted-manually":C(i).by===e.manualSortKey,"has-click-listener":!e.disabled&&e.clickable,height:e.rowHeight,onClick:j=>e.clickable?O.$emit("click:row",{item:T,event:j}):null,onItemSelected:j=>S({item:T,value:!I(T)})},at({_:2},[Ve(C(u),j=>({name:`item.${j.value}`,fn:d(()=>[ke(O.$slots,`item.${j.value}`,{item:T},void 0,!0)])})),C(_)?{name:"item-append",fn:d(()=>[ke(O.$slots,"item-append",{item:T},void 0,!0)])}:void 0]),1032,["headers","item","show-select","show-manual-sort","is-selected","subdued","sorted-manually","has-click-listener","height","onClick","onItemSelected"])]),_:3},8,["modelValue","item-key","disabled","set-data"]))],8,hz),ke(O.$slots,"footer",{},void 0,!0)],2)}}});var Cz=H($z,[["__scopeId","data-v-cc150272"]]);const Sz=Z({props:{value:{type:String,default:null}},setup(e){const{active:t,toggle:n}=Ln({value:e.value,group:"v-tabs-items"});return{active:t,toggle:n}}}),Fz={key:0,class:"v-tab-item"};function Vz(e,t,n,l,o,u){return e.active?(m(),A("div",Fz,[ke(e.$slots,"default",nt(lt({active:e.active,toggle:e.toggle})))])):M("",!0)}var Az=H(Sz,[["render",Vz]]);const Iz=Z({props:{disabled:{type:Boolean,default:!1},value:{type:String,default:null}},setup(e){const{active:t,toggle:n}=Ln({value:e.value,group:"v-tabs"}),l=vt("v-tabs-vertical",D(!1));return{active:t,toggle:n,onClick:o,vertical:l};function o(){e.disabled===!1&&n()}}});function Ez(e,t,n,l,o,u){const r=c("v-list-item");return e.vertical?(m(),F(r,{key:0,class:"v-tab vertical",active:e.active,disabled:e.disabled,clickable:"",onClick:e.onClick},{default:d(()=>[ke(e.$slots,"default",nt(lt({active:e.active,toggle:e.toggle})),void 0,!0)]),_:3},8,["active","disabled","onClick"])):(m(),A("div",{key:1,class:de(["v-tab horizontal",{active:e.active,disabled:e.disabled}]),onClick:t[0]||(t[0]=(...i)=>e.onClick&&e.onClick(...i))},[ke(e.$slots,"default",nt(lt({active:e.active,toggle:e.toggle})),void 0,!0)],2))}var Dz=H(Iz,[["render",Ez],["__scopeId","data-v-2c97bb1b"]]);const Pz=Z({props:{modelValue:{type:Array,default:void 0}},emits:["update:modelValue"],setup(e,{emit:t}){function n(l){t("update:modelValue",l)}return{update:n}}});function Tz(e,t,n,l,o,u){const r=c("v-item-group");return m(),F(r,{class:"v-tabs-items","model-value":e.modelValue,scope:"v-tabs-items","onUpdate:modelValue":e.update},{default:d(()=>[ke(e.$slots,"default")]),_:3},8,["model-value","onUpdate:modelValue"])}var Oz=H(Pz,[["render",Tz]]);const Lz=Z({props:{vertical:{type:Boolean,default:!1},modelValue:{type:Array,default:void 0}},emits:["update:modelValue"],setup(e,{emit:t}){const{modelValue:n,vertical:l}=ze(e);nn("v-tabs-vertical",l);const{items:o}=ra({selection:n,onSelectionChange:u},{multiple:D(!1),mandatory:D(!0)},"v-tabs");function u(r){t("update:modelValue",r)}return{update:u,items:o}}}),jz={key:1,class:"v-tabs horizontal"};function Rz(e,t,n,l,o,u){const r=c("v-list");return e.vertical?(m(),F(r,{key:0,class:"v-tabs vertical alt-colors",nav:""},{default:d(()=>[ke(e.$slots,"default")]),_:3})):(m(),A("div",jz,[ke(e.$slots,"default")]))}var Mz=H(Lz,[["render",Rz],["__scopeId","data-v-c201e160"]]);const Uz=Z({props:{text:{type:[String,Number,Array,Object,Boolean],required:!0},highlight:{type:String,default:null},placement:{type:String,default:"top",validator:e=>["top","bottom","left","right","start","end"].includes(e)}},setup(){const e=D(),t=D(!1),{width:n}=Sn(e);return he(n,()=>{!e.value||(t.value=e.value.offsetWidth<e.value.scrollWidth)},{immediate:!0}),{el:e,hasEllipsis:t}}}),Nz={ref:"el",class:"v-text-overflow"};function Bz(e,t,n,l,o,u){const r=c("v-highlight"),i=Fe("tooltip");return ie((m(),A("div",Nz,[e.highlight?(m(),F(r,{key:0,query:e.highlight,text:e.text},null,8,["query","text"])):(m(),A(se,{key:1},[P(w(e.text),1)],64))],512)),[[i,e.hasEllipsis&&e.text,e.placement]])}var qz=H(Uz,[["render",Bz],["__scopeId","data-v-24d83a1a"]]);const zz=Z({props:{disabled:{type:Boolean,default:!1},autofocus:{type:Boolean,default:!1},fullWidth:{type:Boolean,default:!0},modelValue:{type:String,default:null},nullable:{type:Boolean,default:!0},expandOnFocus:{type:Boolean,default:!1},placeholder:{type:String,default:null},trim:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e,{emit:t}){const n=V(()=>({input:o,blur:u})),l=V(()=>e.modelValue&&e.modelValue.length>0);return{listeners:n,hasContent:l};function o(r){const i=r.target.value;e.nullable===!0&&i===""?t("update:modelValue",null):t("update:modelValue",i)}function u(){e.modelValue&&e.trim&&t("update:modelValue",e.modelValue.trim())}}}),Kz={key:0,class:"prepend"},Wz=["placeholder","disabled","value"],Hz={key:1,class:"append"};function Gz(e,t,n,l,o,u){const r=Fe("focus");return m(),A("div",{class:de(["v-textarea",{disabled:e.disabled,"expand-on-focus":e.expandOnFocus,"full-width":e.fullWidth,"has-content":e.hasContent}])},[e.$slots.prepend?(m(),A("div",Kz,[ke(e.$slots,"prepend",{},void 0,!0)])):M("",!0),ie($("textarea",ft(e.$attrs,{placeholder:e.placeholder,disabled:e.disabled,value:e.modelValue},Il(e.listeners)),null,16,Wz),[[r,e.autofocus]]),e.$slots.append?(m(),A("div",Hz,[ke(e.$slots,"append",{},void 0,!0)])):M("",!0)],2)}var Zz=H(zz,[["render",Gz],["__scopeId","data-v-09beb298"]]);const Jz=Z({components:{SearchInput:Fn},props:{active:{type:Boolean,default:!1},selection:{type:Array,default:()=>[]},collection:{type:String,required:!0},multiple:{type:Boolean,default:!1},filter:{type:Object,default:null}},emits:["update:active","input"],setup(e,{emit:t}){const{t:n}=ae(),{save:l,cancel:o}=q(),{internalActive:u}=O(),{internalSelection:r,onSelect:i}=L(),{collection:s}=ze(e),{info:p}=_t(s),{layout:f,layoutOptions:_,layoutQuery:v,search:y,filter:g}=qn(s,D(null),!0),h=D(f.value||"tabular"),b=D(_.value),S=D(v.value),I=V({get(){return r.value},set(T){i(T)}}),{layoutWrapper:E}=vn(f),R=V({get(){return e.filter?g.value?{_and:[e.filter,g.value]}:e.filter:g.value},set(T){g.value=T}});return{t:n,save:l,cancel:o,internalActive:u,layoutWrapper:E,layoutSelection:I,layoutFilter:R,localLayout:h,localOptions:b,localQuery:S,collectionInfo:p,search:y,presetFilter:g};function O(){const T=D(!1);return{internalActive:V({get(){return e.active===void 0?T.value:e.active},set(U){T.value=U,t("update:active",U)}})}}function L(){const T=D(null),j=V({get(){return T.value===null?e.selection:T.value},set(B){T.value=B}});return he(()=>e.active,()=>{T.value=null}),{internalSelection:j,onSelect:U};function U(B){if(B.length===0){T.value=[];return}e.multiple===!0?T.value=B:T.value=[B[B.length-1]]}}function q(){return{save:T,cancel:j};function T(){t("input",r.value),u.value=!1}function j(){u.value=!1}}}});function Xz(e,t,n,l,o,u){const r=c("v-breadcrumb"),i=c("v-icon"),s=c("v-button"),p=c("search-input"),f=c("v-info"),_=c("v-drawer"),v=Fe("tooltip");return m(),F(He(e.layoutWrapper),{selection:e.layoutSelection,"onUpdate:selection":t[3]||(t[3]=y=>e.layoutSelection=y),"layout-options":e.localOptions,"onUpdate:layout-options":t[4]||(t[4]=y=>e.localOptions=y),"layout-query":e.localQuery,"onUpdate:layout-query":t[5]||(t[5]=y=>e.localQuery=y),filter:e.layoutFilter,search:e.search,collection:e.collection,"select-mode":"","show-select":e.multiple?"multiple":"one"},{default:d(({layoutState:y})=>[a(_,{modelValue:e.internalActive,"onUpdate:modelValue":t[2]||(t[2]=g=>e.internalActive=g),title:e.t("select_item"),onCancel:e.cancel},{subtitle:d(()=>[a(r,{items:[{name:e.collectionInfo.name,disabled:!0}]},null,8,["items"])]),"title-outer:prepend":d(()=>[a(s,{class:"header-icon",rounded:"",icon:"",secondary:"",disabled:""},{default:d(()=>[a(i,{name:e.collectionInfo.icon,color:e.collectionInfo.color},null,8,["name","color"])]),_:1})]),"actions:prepend":d(()=>[(m(),F(He(`layout-actions-${e.localLayout}`),nt(lt(y)),null,16))]),actions:d(()=>[a(p,{modelValue:e.search,"onUpdate:modelValue":t[0]||(t[0]=g=>e.search=g),filter:e.presetFilter,"onUpdate:filter":t[1]||(t[1]=g=>e.presetFilter=g),collection:e.collection},null,8,["modelValue","filter","collection"]),ie(a(s,{icon:"",rounded:"",onClick:e.save},{default:d(()=>[a(i,{name:"check"})]),_:1},8,["onClick"]),[[v,e.t("save"),void 0,{bottom:!0}]])]),default:d(()=>[(m(),F(He(`layout-${e.localLayout}`),ft({class:"layout"},y),{"no-results":d(()=>[a(f,{title:e.t("item_count",0),icon:e.collectionInfo.icon,center:""},null,8,["title","icon"])]),"no-items":d(()=>[a(f,{title:e.t("item_count",0),icon:e.collectionInfo.icon,center:""},null,8,["title","icon"])]),_:2},1040))]),_:2},1032,["modelValue","title","onCancel"])]),_:1},8,["selection","layout-options","layout-query","filter","search","collection","show-select"])}var mn=H(Jz,[["render",Xz],["__scopeId","data-v-8ea36c04"]]);const Yz=Z({components:{DrawerCollection:mn},props:{multiple:{type:Boolean,default:!1},preset:{type:Object,default:()=>({})},fileId:{type:String,default:null},fromUrl:{type:Boolean,default:!1},fromLibrary:{type:Boolean,default:!1},folder:{type:String,default:void 0}},emits:["input"],setup(e,{emit:t}){const{t:n}=ae(),{uploading:l,progress:o,upload:u,onBrowseSelect:r,done:i,numberOfFiles:s}=R(),{onDragEnter:p,onDragLeave:f,onDrop:_,dragging:v}=O(),{url:y,isValidURL:g,loading:h,importFromURL:b}=q(),{setSelection:S}=L(),I=D(null),E=V(()=>e.folder?{folder:{id:{_eq:e.folder}}}:null);return{t:n,uploading:l,progress:o,onDragEnter:p,onDragLeave:f,onDrop:_,dragging:v,onBrowseSelect:r,done:i,numberOfFiles:s,activeDialog:I,filterByFolder:E,url:y,isValidURL:g,urlLoading:h,importFromURL:b,setSelection:S};function R(){const T=D(!1),j=D(0),U=D(0),B=D(0);return{uploading:T,progress:j,upload:K,onBrowseSelect:J,numberOfFiles:U,done:B};async function K(Y){T.value=!0,j.value=0;const W={};e.folder&&(W.folder=e.folder);try{if(U.value=Y.length,e.multiple===!0){const G=await Ci(Array.from(Y),{onProgressChange:Q=>{j.value=Math.round(Q.reduce((X,ee)=>X+=ee)/Y.length),B.value=Q.filter(X=>X===100).length},preset:ve(ve({},e.preset),W)});G&&t("input",G)}else{const G=await $i(Array.from(Y)[0],{onProgressChange:Q=>{j.value=Q,B.value=Q===100?1:0},fileId:e.fileId,preset:ve(ve({},e.preset),W)});G&&t("input",G)}}catch(G){Pe(G)}finally{T.value=!1,B.value=0,U.value=0}}function J(Y){var G;const W=(G=Y.target)==null?void 0:G.files;W&&K(W)}}function O(){const T=D(!1);let j=0;return{onDragEnter:U,onDragLeave:B,onDrop:K,dragging:T};function U(){j++,j===1&&(T.value=!0)}function B(){j--,j===0&&(T.value=!1)}function K(J){var W;j=0,T.value=!1;const Y=(W=J.dataTransfer)==null?void 0:W.files;Y&&u(Y)}}function L(){return{setSelection:T};async function T(j){if(j[0]){const U=j[0],B=await me.get(`/files/${U}`);t("input",B.data.data)}else t("input",null)}}function q(){const T=D(""),j=D(!1),U=V(()=>{try{return new URL(T.value),!0}catch{return!1}});return{url:T,loading:j,isValidURL:U,importFromURL:B};async function B(){j.value=!0;try{const K=await me.post("/files/import",{url:T.value,data:{folder:e.folder}});ul.emit(Pn.upload),e.multiple?t("input",[K.data.data]):t("input",K.data.data),I.value=null,T.value=""}catch(K){Pe(K)}finally{j.value=!1}}}}}),Qz={class:"type-label"},xz={class:"type-text"},eK={class:"type-label"},tK={class:"type-text"},nK={class:"type-label"},lK={class:"type-text"},oK=["multiple"];function aK(e,t,n,l,o,u){const r=c("v-progress-linear"),i=c("v-icon"),s=c("v-list-item-icon"),p=c("v-list-item-content"),f=c("v-list-item"),_=c("v-list"),v=c("v-menu"),y=c("drawer-collection"),g=c("v-card-title"),h=c("v-input"),b=c("v-card-text"),S=c("v-button"),I=c("v-card-actions"),E=c("v-card"),R=c("v-dialog");return m(),A("div",{"data-dropzone":"",class:de(["v-upload",{dragging:e.dragging,uploading:e.uploading}]),onDragenter:t[8]||(t[8]=Te((...O)=>e.onDragEnter&&e.onDragEnter(...O),["prevent"])),onDragover:t[9]||(t[9]=Te(()=>{},["prevent"])),onDragleave:t[10]||(t[10]=Te((...O)=>e.onDragLeave&&e.onDragLeave(...O),["prevent"])),onDrop:t[11]||(t[11]=Te((...O)=>e.onDrop&&e.onDrop(...O),["stop","prevent"]))},[e.dragging?(m(),A(se,{key:0},[$("p",Qz,w(e.t("drop_to_upload")),1),$("p",xz,w(e.t("upload_pending")),1)],64)):e.uploading?(m(),A(se,{key:1},[$("p",eK,w(e.progress)+"%",1),$("p",tK,w(e.multiple&&e.numberOfFiles>1?e.t("upload_files_indeterminate",{done:e.done,total:e.numberOfFiles}):e.t("upload_file_indeterminate")),1),a(r,{value:e.progress,rounded:""},null,8,["value"])],64)):(m(),A(se,{key:2},[$("p",nK,w(e.t("drag_file_here")),1),$("p",lK,w(e.t("click_to_browse")),1),$("input",{class:"browse",type:"file",multiple:e.multiple,onInput:t[0]||(t[0]=(...O)=>e.onBrowseSelect&&e.onBrowseSelect(...O))},null,40,oK),e.fromUrl!==!1||e.fromLibrary!==!1?(m(),A(se,{key:0},[a(v,{"show-arrow":"",placement:"bottom-end"},{activator:d(({toggle:O})=>[a(i,{clickable:"",class:"options",name:"more_vert",onClick:O},null,8,["onClick"])]),default:d(()=>[a(_,null,{default:d(()=>[e.fromLibrary?(m(),F(f,{key:0,clickable:"",onClick:t[1]||(t[1]=O=>e.activeDialog="choose")},{default:d(()=>[a(s,null,{default:d(()=>[a(i,{name:"folder_open"})]),_:1}),a(p,null,{default:d(()=>[P(w(e.t("choose_from_library")),1)]),_:1})]),_:1})):M("",!0),e.fromUrl?(m(),F(f,{key:1,clickable:"",onClick:t[2]||(t[2]=O=>e.activeDialog="url")},{default:d(()=>[a(s,null,{default:d(()=>[a(i,{name:"link"})]),_:1}),a(p,null,{default:d(()=>[P(w(e.t("import_from_url")),1)]),_:1})]),_:1})):M("",!0)]),_:1})]),_:1}),a(y,{collection:"directus_files",active:e.activeDialog==="choose",multiple:e.multiple,filter:e.filterByFolder,"onUpdate:active":t[3]||(t[3]=O=>e.activeDialog=null),onInput:e.setSelection},null,8,["active","multiple","filter","onInput"]),a(R,{"model-value":e.activeDialog==="url",persistent:e.urlLoading,onEsc:t[6]||(t[6]=O=>e.activeDialog=null),"onUpdate:modelValue":t[7]||(t[7]=O=>e.activeDialog=null)},{default:d(()=>[a(E,null,{default:d(()=>[a(g,null,{default:d(()=>[P(w(e.t("import_from_url")),1)]),_:1}),a(b,null,{default:d(()=>[a(h,{modelValue:e.url,"onUpdate:modelValue":t[4]||(t[4]=O=>e.url=O),autofocus:"",placeholder:e.t("url"),nullable:!1,disabled:e.urlLoading},null,8,["modelValue","placeholder","disabled"])]),_:1}),a(I,null,{default:d(()=>[a(S,{disabled:e.urlLoading,secondary:"",onClick:t[5]||(t[5]=O=>e.activeDialog=null)},{default:d(()=>[P(w(e.t("cancel")),1)]),_:1},8,["disabled"]),a(S,{loading:e.urlLoading,disabled:e.isValidURL===!1,onClick:e.importFromURL},{default:d(()=>[P(w(e.t("import_label")),1)]),_:1},8,["loading","disabled","onClick"])]),_:1})]),_:1})]),_:1},8,["model-value","persistent"])],64)):M("",!0)],64))],34)}var iK=H(Yz,[["render",aK],["__scopeId","data-v-25e58ef6"]]);async function rK(){const e=new Date,t=Ua(e),n=await Promise.all([...Array(7).keys()].map((i,s)=>wt(mo(t,{days:s}),"E"))),l=await Promise.all([...Array(7).keys()].map((i,s)=>wt(mo(t,{days:s}),"EEEE"))),o=await Promise.all([...Array(12).keys()].map((i,s)=>wt(El(e,{month:s}),"LLL"))),u=await Promise.all([...Array(12).keys()].map((i,s)=>wt(El(e,{month:s}),"LLLL"))),r=await Promise.all([wt(El(e,{hours:0,minutes:0,seconds:0}),"a"),wt(El(e,{hours:23,minutes:59,seconds:59}),"a")]);return{weekdays:{longhand:l,shorthand:n},months:{longhand:u,shorthand:o},amPM:r}}const sK=Z({props:{modelValue:{type:String,default:null},disabled:{type:Boolean,default:!1},type:{type:String,required:!0,validator:e=>["dateTime","date","time","timestamp"].includes(e)},includeSeconds:{type:Boolean,default:!1},use24:{type:Boolean,default:!0}},emits:["update:modelValue","close"],setup(e,{emit:t}){const{t:n}=ae(),l=D(null);let o;dt(async()=>{if(l.value){const f=await rK();o=Zd(l.value,Ie(ve({},r.value),{locale:f}))}he(()=>e.modelValue,()=>{e.modelValue?o==null||o.setDate(e.modelValue,!1):o==null||o.clear()},{immediate:!0})}),Vl(()=>{o&&(o.close(),o=null)});const u={static:!0,inline:!0,nextArrow:'<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px"><path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6-6-6z"/></svg>',prevArrow:'<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px"><path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12l4.58-4.59z"/></svg>',wrap:!0,onChange(f,_,v){const y=f.length>0?f[0]:null;i(y)},onClose(f,_,v){const y=f.length>0?f[0]:null;i(y)},onReady(f,_,v){var g,h,b;const y=document.createElement("button");y.innerHTML=n("interfaces.datetime.set_to_now"),y.classList.add("set-to-now-button"),y.tabIndex=-1,y.addEventListener("click",s),v.calendarContainer.appendChild(y),e.use24?e.includeSeconds?(h=v.secondElement)==null||h.addEventListener("keyup",p):(b=v.minuteElement)==null||b.addEventListener("keyup",p):(g=v.amPM)==null||g.addEventListener("keyup",p)}},r=V(()=>Object.assign({},u,{enableSeconds:e.includeSeconds,enableTime:["dateTime","time","timestamp"].includes(e.type),noCalendar:e.type==="time",time_24hr:e.use24}));function i(f){if(!f)return t("update:modelValue",null);switch(e.type){case"dateTime":t("update:modelValue",_n(f,"yyyy-MM-dd'T'HH:mm:ss"));break;case"date":t("update:modelValue",_n(f,"yyyy-MM-dd"));break;case"time":t("update:modelValue",_n(f,"HH:mm:ss"));break;case"timestamp":t("update:modelValue",tl(f));break}e.type==="date"&&t("close")}function s(){o==null||o.setDate(new Date,!0)}function p(f){f.key==="Enter"&&(o==null||o.close(),t("close"))}return{t:n,wrapper:l}}}),dK=e=>(xe("data-v-30dcb684"),e=e(),et(),e),uK={ref:"wrapper",class:"v-date-picker"},cK=dK(()=>$("input",{class:"input",type:"text","data-input":""},null,-1)),pK=[cK];function mK(e,t,n,l,o,u){return m(),A("div",uK,pK,512)}var fK=H(sK,[["render",mK],["__scopeId","data-v-30dcb684"]]);const _K=Z({emits:["emoji-selected"],setup(e,{emit:t}){const n=new Jd({theme:"auto",zIndex:1e4,position:"bottom",emojisPerRow:8});return n.on("emoji",l=>{t("emoji-selected",l.emoji)}),At(()=>{n.destroyPicker()}),(l,o)=>{const u=c("v-icon"),r=c("v-button");return m(),F(r,{class:"emoji-button","x-small":"",secondary:"",icon:"",onClick:o[0]||(o[0]=i=>C(n).togglePicker(i.target))},{default:d(()=>[a(u,{name:"insert_emoticon"})]),_:1})}}});function vK(e){e.component("VAvatar",q9),e.component("VBadge",H9),e.component("VBreadcrumb",Y9),e.component("VButton",tj),e.component("VCardActions",aj),e.component("VCardSubtitle",dj),e.component("VCardText",mj),e.component("VCardTitle",yj),e.component("VCard",bj),e.component("VCheckbox",Fj),e.component("VCheckboxTree",Pj),e.component("VChip",jj),e.component("VDetail",Uj),e.component("VDialog",zj),e.component("VDivider",Jj),e.component("VError",bR),e.component("VFancySelect",IR),e.component("VFieldTemplate",NR),e.component("VFieldList",GR),e.component("VForm",yM),e.component("VHover",bM),e.component("VHighlight",$M),e.component("VIcon",UN),e.component("VIconFile",qN),e.component("VInfo",ZN),e.component("VInput",iB),e.component("VItemGroup",uB),e.component("VItem",fB),e.component("VListGroup",gB),e.component("VListItemContent",$B),e.component("VListItemHint",FB),e.component("VListItemIcon",IB),e.component("VListItem",PB),e.component("VList",LB),e.component("VMenu",NB),e.component("VDrawer",vR),e.component("VNotice",zB),e.component("VOverlay",JB),e.component("VPagination",nq),e.component("VProgressCircular",rq),e.component("VProgressLinear",uq),e.component("VRadio",_q),e.component("VSelect",Aq),e.component("VSheet",Pq),e.component("VSkeletonLoader",Rq),e.component("VSlider",Gq),e.component("VSwitch",ez),e.component("VTabItem",Az),e.component("VTab",Dz),e.component("VTable",Cz),e.component("VTabsItems",Oz),e.component("VTabs",Mz),e.component("VTemplateInput",ci),e.component("VTextarea",Zz),e.component("VTextOverflow",qz),e.component("VUpload",iK),e.component("VDatePicker",fK),e.component("VEmojiPicker",_K),e.component("TransitionBounce",P9),e.component("TransitionDialog",L9),e.component("TransitionExpand",U9),e.component("RenderDisplay",n9),e.component("RenderTemplate",c9),e.component("ExportSidebarDetail",si),e.component("SidebarDetail",y9),e.component("UserPopover",F9),e.component("ValueNull",un),e.component("DocsWrapper",I9)}const Ss=(e,{value:t})=>{const{handler:n,middleware:l,events:o,disabled:u}=hK(t);he(()=>t,r=>{JSON.stringify(r)!==JSON.stringify(t)&&Vs(e,{value:r,oldValue:null})}),u!==!0&&(e.$clickOutsideHandlers=o.map(r=>({event:r,handler:i=>gK({event:i,el:e,handler:n,middleware:l})})),e.$clickOutsideHandlers.forEach(({event:r,handler:i})=>{setTimeout(()=>{!e.$clickOutsideHandlers||document.documentElement.addEventListener(r,i,!1)})}))},Fs=e=>{(e.$clickOutsideHandlers||[]).forEach(({event:n,handler:l})=>{document.documentElement.removeEventListener(n,l,!1)})},Vs=(e,{value:t,oldValue:n})=>{JSON.stringify(t)!==JSON.stringify(n)&&(Fs(e),Ss(e,{value:t}))},yK={beforeMount:Ss,unmounted:Fs,updated:Vs};function hK(e){const t=typeof e=="function";let n;if(t)n={handler:e,middleware:()=>!0,events:["pointerdown"],disabled:!1};else{const l=e;n={handler:l.handler||(()=>{}),middleware:l.middleware||(()=>!0),events:l.events||["pointerdown"],disabled:l.disabled!==void 0?!!l.disabled:!1}}return n}function gK({el:e,event:t,handler:n,middleware:l}){t.stopPropagation();const o=t.composedPath();(o?o.indexOf(e)<0:e.contains(t.target)===!1)!==!1&&l(t)&&n(t)}function bK(e,t){var l;const n=(l=t.instance)==null?void 0:l.$refs[t.value];e.addEventListener("contextmenu",As(n)),document.documentElement.addEventListener("pointerdown",Is(n))}function wK(e,t){var l;const n=(l=t.instance)==null?void 0:l.$refs[t.value];e.removeEventListener("contextmenu",As(n)),document.documentElement.removeEventListener("pointerdown",Is(n))}const kK={mounted:bK,unmounted:wK};function As(e){return t=>{t.stopPropagation(),t.preventDefault(),!!e&&e.activate(t)}}function Is(e){return t=>{!e||t.composedPath().find(l=>l.id===e.id)||e.deactivate(t)}}const $K={mounted(e,t){t.value?e.focus():e.blur()}},CK=300,Yl={};function da(e,t){t.value&&(e.dataset.tooltip=Tt(),Yl[e.dataset.tooltip]=FK(e,t),e.addEventListener("mouseenter",Yl[e.dataset.tooltip]),e.addEventListener("mouseleave",Es))}function ua(e){e.removeEventListener("mouseenter",Yl[e.dataset.tooltip]),e.removeEventListener("mouseleave",Es),clearTimeout(Ql),ca().classList.remove("visible"),delete Yl[e.dataset.tooltip]}const SK={beforeMount:da,unmounted:ua,updated(e,t){t.value&&!t.oldValue?da(e,t):!t.value&&t.oldValue?ua(e):(ua(e),da(e,t))}};let Ql;function FK(e,t){return()=>{const n=ca();t.modifiers.instant?(Ps(n),Ds(e,t,n)):(clearTimeout(Ql),Ql=window.setTimeout(()=>{Ps(n),Ds(e,t,n)},CK))}}function Es(){const e=ca();clearTimeout(Ql),VK(e)}function Ds(e,t,n){var f;const l=10,o=20,u=e.getBoundingClientRect();let r=u.top+pageYOffset,i=u.left+pageXOffset,s;n.innerText=t.value,n.classList.remove("top","bottom","left","right","start","end");let p=(f=t.arg)!=null?f:"top";"top"in t.modifiers&&(p="top"),"right"in t.modifiers&&(p="right"),"bottom"in t.modifiers&&(p="bottom"),"left"in t.modifiers&&(p="left"),t.modifiers.inverted?n.classList.add("inverted"):n.classList.remove("inverted"),t.modifiers.monospace&&n.classList.add("monospace"),p==="bottom"?(t.modifiers.start?(i+=o,s=100,n.classList.add("start")):t.modifiers.end?(i+=u.width-o,s=0,n.classList.add("end")):(i+=u.width/2,s=50),r+=u.height+l,n.style.transform=`translate(calc(${i}px - ${s}%), ${r}px)`,n.classList.add("bottom")):p==="left"?(t.modifiers.start?(r+=o,s=100,n.classList.add("start")):t.modifiers.end?(r+=u.height-o,s=0,n.classList.add("end")):(r+=u.height/2,s=50),i-=l,n.style.transform=`translate(calc(${i}px - 100%), calc(${r}px - ${s}%))`,n.classList.add("left")):p==="right"?(t.modifiers.start?(r+=o,s=100,n.classList.add("start")):t.modifiers.end?(r+=u.height-o,s=0,n.classList.add("end")):(r+=u.height/2,s=50),i+=u.width+l,n.style.transform=`translate(${i}px, calc(${r}px - ${s}%))`,n.classList.add("right")):(t.modifiers.start?(i+=o,s=100,n.classList.add("start")):t.modifiers.end?(i+=u.width-o,s=0,n.classList.add("end")):(i+=u.width/2,s=50),r-=l,n.style.transform=`translate(calc(${i}px - ${s}%), calc(${r}px - 100%))`,n.classList.add("top"))}function Ps(e){e.classList.add("visible","enter"),e.classList.remove("leave","leave-active"),setTimeout(()=>{e.classList.contains("enter")!==!1&&(e.classList.add("enter-active"),e.classList.remove("enter"))},1),setTimeout(()=>{e.classList.remove("enter-active")},200)}function VK(e){e.classList.contains("visible")!==!1&&(e.classList.add("visible","leave"),e.classList.remove("enter","enter-active"),setTimeout(()=>{e.classList.contains("leave")!==!1&&(e.classList.add("leave-active"),e.classList.remove("leave"))},1),setTimeout(()=>{e.classList.contains("leave-active")!==!1&&(e.classList.remove("leave-active"),e.classList.remove("visible"))},200))}function ca(){let e=document.getElementById("tooltip");return e instanceof HTMLElement||(e=document.createElement("div"),e.id="tooltip",document.body.appendChild(e)),e}const AK={beforeMount:Ts,updated:Ts};function Ts(e,t){var n;typeof t.value=="object"&&"value"in t.value?e.innerHTML=Wl(t.value.value,t.value):e.innerHTML=Wl((n=t.value)!=null?n:"")}function IK(e){e.directive("click-outside",yK),e.directive("context-menu",kK),e.directive("focus",$K),e.directive("tooltip",SK),e.directive("md",AK)}const EK=Z({props:{showHeader:{type:Boolean,default:!1},text:{type:String,default:""},color:{type:String,default:void 0}}});function DK(e,t,n,l,o,u){return m(),A("div",{class:de(["label type-title selectable",{"has-header":e.showHeader}]),style:Je({color:e.color})},w(e.text),7)}var PK=H(EK,[["render",DK],["__scopeId","data-v-b5689fe6"]]),TK=Dl({id:"label",name:"$t:panels.label.name",description:"$t:panels.label.description",icon:"title",component:PK,options:[{field:"text",name:"$t:label",type:"string",meta:{interface:"input",width:"half"}},{field:"color",name:"$t:color",type:"string",meta:{interface:"select-color",width:"half",options:{placeholder:"$t:automatic"}}}],minWidth:8,minHeight:6}),OK=Object.freeze(Object.defineProperty({__proto__:null,default:TK},Symbol.toStringTag,{value:"Module"}));function tn(e,t){const n=Me();return e.map(o=>{var s,p,f;const u=n.getField(t,o);if(!u||((s=u.meta)==null?void 0:s.display)===null)return o;const r=yn((p=u.meta)==null?void 0:p.display);if(!r||!(r==null?void 0:r.fields))return o;let i=null;return Array.isArray(r.fields)&&(i=r.fields.map(_=>`${o}.${_}`)),typeof r.fields=="function"&&(i=r.fields((f=u.meta)==null?void 0:f.display_options,{collection:u.collection,field:u.field,type:u.type}).map(_=>`${o}.${_}`)),i?i.map(_=>_.includes("$thumbnail")&&u.collection==="directus_files"?_.split(".").filter(v=>v!=="$thumbnail").join("."):_):o}).flat()}const LK=Z({components:{DrawerItem:Ht},props:{showHeader:{type:Boolean,default:!1},displayTemplate:{type:String,default:""},sortField:{type:String,default:void 0},sortDirection:{type:String,default:"desc"},collection:{type:String,required:!0},limit:{type:Number,default:5},filter:{type:Object,default:()=>({})}},setup(e){const{t}=ae(),n=D(),l=D(),o=Me(),u=D([]),r=D(!1),i=D(),s=V(()=>u.value&&u.value.length>0),p=V(()=>e.displayTemplate),f=V(()=>o.getPrimaryKeyFieldForCollection(e.collection));return ao(async()=>await _()),{list:u,loading:r,renderTemplate:p,primaryKeyField:f,startEditing:v,saveEdits:y,cancelEdit:g,currentlyEditing:n,editsAtStart:l,hasData:s,t};async function _(){var h;if(!!e){r.value=!0;try{const b=e.sortField,S=await me.get(jt(e.collection),{params:{fields:[f.value.field,...tn(St(p.value),e.collection)],filter:e.filter,sort:e.sortDirection==="desc"?`-${b}`:b,limit:(h=e.limit)!=null?h:5}});u.value=S.data.data}catch(b){i.value=b,Pe(b)}finally{r.value=!1}}}function v(h){n.value=h[f.value.field],l.value=h}async function y(h){try{await me.patch(`/items/${e.collection}/${n.value}`,h)}catch(b){Pe(b)}await _()}function g(){l.value=void 0,n.value=void 0}}}),jK=e=>(xe("data-v-9d705f22"),e=e(),et(),e),RK={key:1,class:"type-note"},MK={key:2},UK=jK(()=>$("div",{class:"spacer"},null,-1));function NK(e,t,n,l,o,u){var _;const r=c("v-progress-circular"),i=c("render-template"),s=c("v-list-item"),p=c("v-list"),f=c("drawer-item");return m(),A("div",{class:de(["list",{"has-header":e.showHeader,loading:e.loading,"no-data":!e.hasData}])},[e.loading?(m(),F(r,{key:0,indeterminate:""})):e.hasData?(m(),A("div",MK,[a(p,null,{default:d(()=>[(m(!0),A(se,null,Ve(e.list,v=>(m(),F(s,{key:v[e.primaryKeyField.field],class:"selectable",clickable:"",onClick:y=>e.startEditing(v)},{default:d(()=>[a(i,{item:v,collection:e.collection,template:e.renderTemplate},null,8,["item","collection","template"]),UK]),_:2},1032,["onClick"]))),128))]),_:1})])):(m(),A("span",RK,w(e.t("no_data")),1)),a(f,{active:!!e.currentlyEditing,collection:e.collection,"primary-key":(_=e.currentlyEditing)!=null?_:"+",edits:e.editsAtStart,onInput:e.saveEdits,"onUpdate:active":e.cancelEdit},null,8,["active","collection","primary-key","edits","onInput","onUpdate:active"])],2)}var BK=H(LK,[["render",NK],["__scopeId","data-v-9d705f22"]]),qK=Dl({id:"list",name:"$t:panels.list.name",description:"$t:panels.list.description",icon:"list",component:BK,options:[{field:"collection",type:"string",name:"$t:collection",meta:{interface:"system-collection",options:{includeSystem:!0},width:"half"}},{field:"limit",type:"integer",name:"$t:limit",schema:{default_value:5},meta:{interface:"input",width:"half"}},{field:"sortField",type:"string",name:"$t:sort_field",meta:{interface:"system-field",options:{collectionField:"collection",allowPrimaryKey:!0,placeholder:"$t:primary_key"},width:"half"}},{field:"sortDirection",type:"string",name:"$t:sort_direction",schema:{default_value:"desc"},meta:{interface:"select-dropdown",options:{choices:[{text:"$t:sort_asc",value:"asc"},{text:"$t:sort_desc",value:"desc"}]},width:"half"}},{field:"displayTemplate",name:"$t:display_template",type:"string",meta:{interface:"system-display-template",width:"full",options:{collectionField:"collection",placeholder:"{{ field }}"}}},{field:"filter",type:"json",name:"$t:filter",meta:{interface:"system-filter",options:{collectionField:"collection"}}}],minWidth:12,minHeight:6}),zK=Object.freeze(Object.defineProperty({__proto__:null,default:qK},Symbol.toStringTag,{value:"Module"}));const KK=Z({props:{showHeader:{type:Boolean,default:!1},abbreviate:{type:Boolean,default:!1},sortField:{type:String,default:void 0},collection:{type:String,required:!0},field:{type:String,required:!0},function:{type:String,required:!0},filter:{type:Object,default:()=>({})},decimals:{type:Number,default:0},conditionalFormatting:{type:Array,default:()=>[]},prefix:{type:String,default:null},suffix:{type:String,default:null}},setup(e){const{n:t}=ae(),n=D(),l=D(!1);ao(async()=>{const r=["first","last"].includes(e.function);l.value=!0;try{const i=e.sortField&&`${e.function==="last"?"-":""}${e.sortField}`,s=r?void 0:{[e.function]:[e.field||"*"]},p=await me.get(jt(e.collection),{params:{aggregate:s,filter:e.filter,sort:i,limit:1,fields:[e.field]}});e.field?e.function==="first"||e.function==="last"?typeof p.data.data[0][e.field]=="string"?n.value=p.data.data[0][e.field]:n.value=Number(p.data.data[0][e.field]):n.value=Number(p.data.data[0][e.function][e.field]):n.value=Number(p.data.data[0][e.function])}catch{}finally{l.value=!1}});const o=V(()=>{var r,i,s;return z.exports.isNil(n.value)?null:e.abbreviate?ko(n.value,(r=e.decimals)!=null?r:0):typeof n.value=="string"?n.value:t(Number(n.value),"decimal",{minimumFractionDigits:(i=e.decimals)!=null?i:0,maximumFractionDigits:(s=e.decimals)!=null?s:0})}),u=V(()=>{if(z.exports.isNil(n.value))return null;let r=null;for(const s of e.conditionalFormatting||[])i(s)&&(r=s);return r?r.color||ot("--primary"):null;function i(s){var _;const p=Number(n.value),f=Number((_=s.value)!=null?_:0);switch(s.operator||">="){case"=":return p===f;case"!=":return p!==f;case">":return p>f;case">=":return p>=f;case"<":return p<f;case"<=":return p<f}}});return{metric:n,loading:l,displayValue:o,color:u}}}),WK={class:"prefix"},HK={class:"value"},GK={class:"suffix"};function ZK(e,t,n,l,o,u){const r=c("v-progress-circular");return m(),A("div",{class:de(["metric type-title selectable",{"has-header":e.showHeader}])},[e.loading?(m(),F(r,{key:0,indeterminate:""})):(m(),A("div",{key:1,style:Je({color:e.color})},[$("span",WK,w(e.prefix),1),$("span",HK,w(e.displayValue),1),$("span",GK,w(e.suffix),1)],4))],2)}var JK=H(KK,[["render",ZK],["__scopeId","data-v-342379ec"]]),XK=Dl({id:"metric",name:"$t:panels.metric.name",description:"$t:panels.metric.description",icon:"functions",component:JK,options:({options:e})=>{const t=Me(),n=V(()=>{var o;return(e==null?void 0:e.collection)&&(e==null?void 0:e.field)?(o=t.getField(e.collection,e.field))==null?void 0:o.type:null}),l=V(()=>n.value?["integer","bigInteger","float","decimal"].includes(n.value):!1);return[{field:"collection",type:"string",name:"$t:collection",meta:{interface:"system-collection",options:{includeSystem:!0},selectedCollection:"",hasBeenSelected:!1,width:"half"}},{field:"field",type:"string",name:"$t:panels.metric.field",meta:{interface:"system-field",options:{collectionField:"collection",allowPrimaryKey:!0,allowNone:!0},width:"half"}},{field:"function",type:"string",name:"$t:aggregate_function",meta:{width:"half",interface:"select-dropdown",options:{choices:[{text:"Count",value:"count",disabled:!1},{text:"First",value:"first",disabled:!1},{text:"Last",value:"last",disabled:!1},{divider:!0},{text:"Count (Distinct)",value:"countDistinct",disabled:!l.value},{text:"Average",value:"avg",disabled:!l.value},{text:"Average (Distinct)",value:"avgDistinct",disabled:!l.value},{text:"Sum",value:"sum",disabled:!l.value},{text:"Sum (Distinct)",value:"sumDistinct",disabled:!l.value},{text:"Minimum",value:"min",disabled:!l.value},{text:"Maximum",value:"max",disabled:!l.value}]}}},{field:"sortField",type:"string",name:"$t:sort_field",meta:{interface:"system-field",options:{collectionField:"collection",allowPrimaryKey:!0,placeholder:"$t:primary_key"},width:"half"}},{field:"filter",type:"json",name:"$t:filter",meta:{interface:"system-filter",options:{collectionField:"collection"}}},{field:"styleDivider",type:"alias",meta:{interface:"presentation-divider",options:{icon:"style",title:"Style & Format"},special:["alias","no-data"]}},{field:"abbreviate",type:"boolean",name:"$t:abbreviate_value",schema:{default_value:!1},meta:{interface:"boolean",width:"half"}},{field:"decimals",type:"integer",name:"$t:decimals",meta:{interface:"input",width:"half",options:{placeholder:"$t:decimals_placeholder"}},schema:{default_value:0}},{field:"prefix",type:"string",name:"$t:prefix",meta:{interface:"input",width:"half",options:{placeholder:"$t:prefix_placeholder",trim:!1}}},{field:"suffix",type:"string",name:"$t:suffix",meta:{interface:"input",width:"half",options:{placeholder:"$t:suffix_placeholder",trim:!1}}},{field:"conditionalFormatting",type:"json",name:"$t:conditional_styles",meta:{interface:"list",width:"full",options:{template:"{{color}} {{operator}} {{value}}",fields:[{field:"operator",name:"$t:operator",type:"string",schema:{default_value:">="},meta:{interface:"select-dropdown",options:{choices:[{text:"$t:operators.eq",value:"="},{text:"$t:operators.neq",value:"!="},{text:"$t:operators.gt",value:">"},{text:"$t:operators.gte",value:">="},{text:"$t:operators.lt",value:"<"},{text:"$t:operators.lte",value:"<="}]},width:"half"}},{field:"value",name:"$t:value",type:"integer",schema:{default_value:0},meta:{interface:"input",width:"half"}},{field:"color",name:"$t:color",type:"string",meta:{interface:"select-color",display:"color"}}]}}}]},minWidth:8,minHeight:6}),YK=Object.freeze(Object.defineProperty({__proto__:null,default:XK},Symbol.toStringTag,{value:"Module"}));function QK(e,t){e=z.exports.clone(e);const n=t.startsWith("-");(n||t.startsWith("+"))&&(t=t.substring(1));const l=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|months?|mth|mo|years?|yrs?|y)?$/i.exec(t);if(!l)return;const o=parseFloat(l[1]);switch((l[2]||"days").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return n?su(e,o):du(e,o);case"months":case"month":case"mth":case"mo":return n?iu(e,o):ru(e,o);case"weeks":case"week":case"w":return n?au(e,o):Na(e,o);case"days":case"day":case"d":return n?Pa(e,o):ou(e,o);case"hours":case"hour":case"hrs":case"hr":case"h":return n?nu(e,o):lu(e,o);case"minutes":case"minute":case"mins":case"min":case"m":return n?eu(e,o):tu(e,o);case"seconds":case"second":case"secs":case"sec":case"s":return n?Qd(e,o):xd(e,o);case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n?Xd(e,o):Yd(e,o);default:return}}const xK=Z({props:{height:{type:Number,required:!0},showHeader:{type:Boolean,default:!1},id:{type:String,required:!0},dashboard:{type:String,required:!0},now:{type:Date,required:!0},collection:{type:String,required:!0},dateField:{type:String,required:!0},valueField:{type:String,required:!0},function:{type:String,required:!0},precision:{type:String,default:"hour"},range:{type:String,default:"1 week"},color:{type:String,default:ot("--primary")},fillType:{type:String,default:"gradient"},curveType:{type:String,default:"smooth"},decimals:{type:Number,default:0},min:{type:Number,default:void 0},max:{type:Number,default:void 0},filter:{type:Object,default:()=>({})},showXAxis:{type:Boolean,default:!0},showYAxis:{type:Boolean,default:!0}},setup(e){const{d:t,t:n,n:l}=ae(),o=Me(),u=D([]),r=D(!1),i=D(),s=D(),p=D(),f=V(()=>{const y=o.getField(e.collection,e.valueField),g=n(e.function);return`${y.name} (${g})`});return he([()=>e.collection,()=>e.dateField,()=>e.valueField,()=>e.function,()=>e.precision,()=>e.range,()=>e.color,()=>e.fillType,()=>e.curveType,()=>e.decimals,()=>e.min,()=>e.max,()=>e.filter,()=>e.showXAxis,()=>e.showYAxis],()=>{var y;_(),(y=p.value)==null||y.destroy(),v()},{deep:!0}),_(),dt(v),At(()=>{var y;(y=p.value)==null||y.destroy()}),{chartEl:s,metrics:u,loading:r,error:i};async function _(){var h;r.value=!0;try{const b=await me.get(jt(e.collection),{params:{groupBy:g(),aggregate:{[e.function]:[e.valueField]},filter:{_and:[{[e.dateField]:{_gte:`$NOW(-${e.range||"1 week"})`}},{[e.dateField]:{_lte:"$NOW"}},e.filter||{}]},limit:-1}});u.value=b.data.data,(h=p.value)==null||h.updateSeries([{name:e.collection,data:u.value.map(S=>{var I;return{x:y(S),y:Number(Number(S[e.function][e.valueField]).toFixed((I=e.decimals)!=null?I:0))}})}])}catch(b){i.value=b}finally{r.value=!1}function y(b){var U,B,K,J,Y;const S=b[`${e.dateField}_year`],I=T((U=b[`${e.dateField}_month`])!=null?U:1),E=b[`${e.dateField}_week`],R=T(E?j(E,S):(B=b[`${e.dateField}_day`])!=null?B:1),O=T((K=b[`${e.dateField}_hour`])!=null?K:0),L=T((J=b[`${e.dateField}_minute`])!=null?J:0),q=T((Y=b[`${e.dateField}_second`])!=null?Y:0);return`${S}-${I}-${R}T${O}:${L}:${q}`;function T(W){return String(W).padStart(2,"0")}function j(W,G){return Na(new Date(G,0,1),W).getDate()}}function g(){let b=[];switch(e.precision||"hour"){case"year":b=["year"];break;case"month":b=["year","month"];break;case"week":b=["year","month","week"];break;case"day":b=["year","month","day"];break;case"hour":b=["year","month","day","hour"];break;case"minute":b=["year","month","day","hour","minute"];break;case"second":b=["year","month","day","hour","minute","second"];break;default:b=["year","month","day","hour"];break}return b.map(S=>`${S}(${e.dateField})`)}}function v(){var y,g;p.value=new uu(s.value,{colors:[e.color?e.color:ot("--primary")],chart:{type:e.fillType==="disabled"?"line":"area",height:"100%",toolbar:{show:!1},selection:{enabled:!1},zoom:{enabled:!1},fontFamily:"var(--family-sans-serif)",foreColor:"var(--foreground-subdued)"},series:[],stroke:{curve:e.curveType,width:2,lineCap:"round"},markers:{hover:{size:void 0,sizeOffset:4}},fill:{type:e.fillType==="disabled"?"solid":e.fillType,gradient:{colorStops:[[{offset:0,color:e.color?e.color:ot("--primary"),opacity:.25},{offset:100,color:e.color?e.color:ot("--primary"),opacity:0}]]}},grid:{borderColor:"var(--border-subdued)",padding:{top:e.showHeader?-20:-4,bottom:0,left:8}},dataLabels:{enabled:!1},tooltip:{marker:{show:!1},x:{show:!0,formatter(h){return t(new Date(h),"long")}},y:{title:{formatter:()=>f.value+": "},formatter(h){return l(h)}}},xaxis:{type:"datetime",tooltip:{enabled:!1},axisTicks:{show:!1},axisBorder:{show:!1},range:e.now.getTime()-QK(e.now,`-${e.range}`).getTime(),max:e.now.getTime(),labels:{show:(y=e.showXAxis)!=null?y:!0,offsetY:-4,style:{fontFamily:"var(--family-sans-serif)",foreColor:"var(--foreground-subdued)",fontWeight:600,fontSize:"10px"}},crosshairs:{stroke:{color:"var(--border-normal)"}}},yaxis:{show:(g=e.showYAxis)!=null?g:!0,forceNiceScale:!0,min:z.exports.isNil(e.min)?void 0:Number(e.min),max:z.exports.isNil(e.max)?void 0:Number(e.max),tickAmount:e.height-4,labels:{offsetY:1,offsetX:-4,formatter:h=>{var b,S;return h>1e4?ko(h,1):l(h,"decimal",{minimumFractionDigits:(b=e.decimals)!=null?b:0,maximumFractionDigits:(S=e.decimals)!=null?S:0})},style:{fontFamily:"var(--family-sans-serif)",foreColor:"var(--foreground-subdued)",fontWeight:600,fontSize:"10px"}}}}),p.value.render()}}}),eW={ref:"chartEl",class:"time-series"};function tW(e,t,n,l,o,u){return m(),A("div",eW,null,512)}var nW=H(xK,[["render",tW],["__scopeId","data-v-24e39020"]]),lW=Dl({id:"time-series",name:"$t:panels.time_series.name",description:"$t:panels.time_series.description",icon:"show_chart",component:nW,options:[{field:"collection",type:"string",name:"$t:collection",meta:{interface:"system-collection",options:{includeSystem:!0},width:"half"}},{field:"color",name:"$t:color",type:"string",meta:{interface:"select-color",width:"half"}},{field:"function",type:"string",name:"$t:group_aggregation",meta:{width:"half",interface:"select-dropdown",options:{choices:[{text:"Count",value:"count"},{text:"Count (Distinct)",value:"countDistinct"},{text:"Average",value:"avg"},{text:"Average (Distinct)",value:"avgDistinct"},{text:"Sum",value:"sum"},{text:"Sum (Distinct)",value:"sumDistinct"},{text:"Minimum",value:"min"},{text:"Maximum",value:"max"}]}}},{field:"precision",type:"string",name:"$t:group_precision",meta:{interface:"select-dropdown",width:"half",options:{choices:[{text:"Second",value:"second"},{text:"Minute",value:"minute"},{text:"Hour",value:"hour"},{text:"Day",value:"day"},{text:"Week",value:"week"},{text:"Month",value:"month"},{text:"Year",value:"year"}]}},schema:{default_value:"hour"}},{field:"dateField",type:"string",name:"$t:panels.time_series.date_field",meta:{interface:"system-field",options:{collectionField:"collection",typeAllowList:["date","dateTime","timestamp"]},width:"half"}},{field:"range",type:"dropdown",name:"$t:date_range",schema:{default_value:"1 week"},meta:{interface:"select-dropdown",width:"half",options:{choices:[{text:"Past 5 Minutes",value:"5 minutes"},{text:"Past 15 Minutes",value:"15 minutes"},{text:"Past 30 Minutes",value:"30 minutes"},{text:"Past 1 Hour",value:"1 hour"},{text:"Past 4 Hours",value:"4 hours"},{text:"Past 1 Day",value:"1 day"},{text:"Past 2 Days",value:"2 days"},{text:"Past 1 Week",value:"1 week"},{text:"Past 1 Month",value:"1 month"},{text:"Past 3 Months",value:"3 months"}],allowOther:!0}}},{field:"valueField",type:"string",name:"$t:panels.time_series.value_field",meta:{interface:"system-field",width:"half",options:{collectionField:"collection",typeAllowList:["integer","bigInteger","float","decimal"]},conditions:[{rule:{function:{_in:["count","countDistinct"]}},options:{allowPrimaryKey:!0}}]}},{field:"decimals",type:"integer",name:"$t:value_decimals",meta:{interface:"input",width:"half",options:{placeholder:"$t:decimals_placeholder"}},schema:{default_value:0}},{field:"min",type:"integer",name:"$t:min_value",meta:{interface:"input",width:"half",options:{placeholder:"$t:automatic"}}},{field:"max",type:"integer",name:"$t:max_value",meta:{interface:"input",width:"half",options:{placeholder:"$t:automatic"}}},{field:"curveType",type:"string",name:"$t:panels.time_series.curve_type",meta:{interface:"select-dropdown",width:"half",options:{choices:[{text:"Smooth",value:"smooth"},{text:"Straight",value:"straight"},{text:"Stepline",value:"stepline"}]}},schema:{default_value:"smooth"}},{field:"fillType",type:"string",name:"$t:panels.time_series.fill_type",meta:{interface:"select-dropdown",width:"half",options:{choices:[{text:"Gradient",value:"gradient"},{text:"Solid",value:"solid"},{text:"Disabled",value:"disabled"}]}},schema:{default_value:"gradient"}},{field:"filter",type:"json",name:"$t:filter",meta:{interface:"system-filter",options:{collectionField:"collection"}}},{field:"showXAxis",type:"boolean",name:"$t:show_x_axis",meta:{interface:"boolean",width:"half"},schema:{default_value:!0}},{field:"showYAxis",type:"boolean",name:"$t:show_y_axis",meta:{interface:"boolean",width:"half"},schema:{default_value:!0}}],minWidth:12,minHeight:6}),oW=Object.freeze(Object.defineProperty({__proto__:null,default:lW},Symbol.toStringTag,{value:"Module"}));const{panelsRaw:Os}=nl();async function aW(e){const n=Object.values({"./label/index.ts":OK,"./list/index.ts":zK,"./metric/index.ts":YK,"./time-series/index.ts":oW}).map(l=>l.default);try{const l=await N(()=>import(`${tt()}extensions/panels/index.js`),[]);n.push(...l.default)}catch(l){console.warn("Couldn't load custom panels"),console.warn(l)}Os.value=n,Os.value.forEach(l=>{e.component(`panel-${l.id}`,l.component),typeof l.options!="function"&&Array.isArray(l.options)===!1&&l.options!==null&&e.component(`panel-options-${l.id}`,l.options)})}const iW=Z({props:{value:{type:Boolean,default:!1},labelOn:{type:String,default:null},labelOff:{type:String,default:null},iconOn:{type:String,default:"check"},iconOff:{type:String,default:"close"},colorOn:{type:String,default:"var(--primary)"},colorOff:{type:String,default:"var(--foreground-subdued)"}},setup(e){return{styles:V(()=>{const n={};return e.colorOn!==null&&e.colorOff!==null&&(n.color=e.value?e.colorOn:e.colorOff,n["--v-icon-color"]=e.value?e.colorOn:e.colorOff),n})}}}),rW={key:1};function sW(e,t,n,l,o,u){const r=c("value-null"),i=c("v-icon");return m(),A("div",{class:"boolean",style:Je(e.styles)},[e.value===null?(m(),F(r,{key:0})):(m(),A(se,{key:1},[e.iconOn!==null&&e.iconOff!==null?(m(),F(i,{key:0,name:e.value?e.iconOn:e.iconOff},null,8,["name"])):M("",!0),e.labelOn!==null&&e.labelOff!==null?(m(),A("span",rW,w(e.value?e.labelOn:e.labelOff),1)):M("",!0)],64))],4)}var dW=H(iW,[["render",sW],["__scopeId","data-v-f75cb4b2"]]),uW=It({id:"boolean",name:"$t:displays.boolean.boolean",description:"$t:displays.boolean.description",types:["boolean"],icon:"check_box",component:dW,options:[{field:"labelOn",name:"$t:displays.boolean.label_on",type:"string",meta:{interface:"system-input-translated-string",width:"half",options:{placeholder:"$t:displays.boolean.label_on_placeholder"}}},{field:"labelOff",name:"$t:displays.boolean.label_off",type:"string",meta:{interface:"system-input-translated-string",width:"half",options:{placeholder:"$t:displays.boolean.label_off_placeholder"}}},{field:"iconOn",name:"$t:displays.boolean.icon_on",type:"string",meta:{interface:"select-icon",width:"half"},schema:{default_value:"check"}},{field:"iconOff",name:"$t:displays.boolean.icon_off",type:"string",meta:{interface:"select-icon",width:"half"},schema:{default_value:"close"}},{field:"colorOn",name:"$t:displays.boolean.color_on",type:"string",meta:{interface:"select-color",width:"half"}},{field:"colorOff",name:"$t:displays.boolean.color_off",type:"string",meta:{interface:"select-color",width:"half"}}]}),cW=Object.freeze(Object.defineProperty({__proto__:null,default:uW},Symbol.toStringTag,{value:"Module"}));const pW=Z({props:{value:{type:String,default:null},icon:{type:Boolean,default:!1}},setup(e){const t=ze(e).value,{info:n}=_t(t);return{info:n}}}),mW={key:1};function fW(e,t,n,l,o,u){const r=c("value-null"),i=c("v-icon");return e.value===null||!e.info?(m(),F(r,{key:0})):(m(),A("div",mW,[e.icon?(m(),F(i,{key:0,name:e.info.icon,left:"",small:""},null,8,["name"])):M("",!0),P(" "+w(e.info.name),1)]))}var _W=H(pW,[["render",fW]]),vW=It({id:"collection",name:"$t:displays.collection.collection",description:"$t:displays.collection.description",types:["string"],icon:"label",component:_W,handler:e=>{var n,l;return(l=(n=Xe().getCollection(e))==null?void 0:n.name)!=null?l:e},options:[{field:"icon",name:"$t:icon",type:"boolean",meta:{interface:"boolean",options:{label:"$t:displays.collection.icon_label"}},schema:{default_value:!1}}]}),yW=Object.freeze(Object.defineProperty({__proto__:null,default:vW},Symbol.toStringTag,{value:"Module"}));function pa(e){return/^#(([a-f\d]{2}){3,4})$/i.test(e)}const hW=Z({props:{value:{type:String,default:null},defaultColor:{type:String,default:"#B0BEC5",validator:e=>e===null||pa(e)||e.startsWith("var(--")}},setup(e){const t=V(()=>e.value),n=V(()=>{var f,_;const o=((f=e.defaultColor)==null?void 0:f.startsWith("var("))?l(e.defaultColor):e.defaultColor,u=((_=e.value)==null?void 0:_.startsWith("var("))?l(e.value):e.value,r={"background-color":o};u!==null&&(r["background-color"]=u);const i=l("var(--background-page)"),s=Mt(i);return(u===null?Mt(o):Mt(u)).contrast(s)<1.1&&(r.border="1px solid var(--border-normal)"),r});return{displayValue:t,styles:n};function l(o){return getComputedStyle(document.body).getPropertyValue(o.slice(4,-1)).trim()}}}),gW={class:"color-dot"};function bW(e,t,n,l,o,u){const r=c("value-null");return m(),A("div",gW,[e.value===null&&e.defaultColor===null?(m(),F(r,{key:0})):M("",!0),$("div",{class:"dot",style:Je(e.styles)},null,4)])}var wW=H(hW,[["render",bW],["__scopeId","data-v-37c4bfe4"]]),kW=It({id:"color",name:"$t:displays.color.color",description:"$t:displays.color.description",types:["string"],icon:"flag",component:wW,options:[{field:"defaultColor",name:"$t:displays.color.default_color",type:"string",meta:{interface:"select-color",width:"half"},schema:{default_value:"#B0BEC5"}}]}),$W=Object.freeze(Object.defineProperty({__proto__:null,default:kW},Symbol.toStringTag,{value:"Module"}));const Ls=async(e,t,n)=>cu(e,t,Ie(ve({},n),{locale:await ui()}));const CW={class:"datetime"},SW=Z({props:{value:null,type:null,format:{default:"long"},relative:{type:Boolean,default:!1}},setup(e){const t=e,{t:n}=ae(),l=D(null),o=V(()=>t.value?t.type==="timestamp"?fo(t.value):t.type==="dateTime"?Yt(t.value,"yyyy-MM-dd'T'HH:mm:ss",new Date):t.type==="date"?Yt(t.value,"yyyy-MM-dd",new Date):t.type==="time"?Yt(t.value,"HH:mm:ss",new Date):null:null),u=i=>Ls(i,new Date,{addSuffix:!0});he(o,async i=>{if(i===null){l.value=null;return}if(t.relative)l.value=await u(i);else{let s;t.format==="long"?(s=`${n("date-fns_date")} ${n("date-fns_time")}`,t.type==="date"&&(s=String(n("date-fns_date"))),t.type==="time"&&(s=String(n("date-fns_time")))):t.format==="short"?(s=`${n("date-fns_date_short")} ${n("date-fns_time_short")}`,t.type==="date"&&(s=String(n("date-fns_date_short"))),t.type==="time"&&(s=String(n("date-fns_time_short")))):s=t.format,l.value=await wt(i,s)}},{immediate:!0});let r=null;return dt(async()=>{!t.relative||(r=window.setInterval(async()=>{!o.value||(l.value=await u(o.value))},6e4))}),At(()=>{r&&clearInterval(r)}),(i,s)=>(m(),A("span",CW,w(l.value),1))}});var FW=H(SW,[["__scopeId","data-v-18e15e42"]]),VW=It({id:"datetime",name:"$t:displays.datetime.datetime",description:"$t:displays.datetime.description",icon:"query_builder",component:FW,handler:async(e,t,{field:n})=>{if(!e)return e;const l=o=>Ls(o,new Date,{addSuffix:!0});if((n==null?void 0:n.type)==="timestamp"?e=fo(e):(n==null?void 0:n.type)==="dateTime"?e=Yt(e,"yyyy-MM-dd'T'HH:mm:ss",new Date):(n==null?void 0:n.type)==="date"?e=Yt(e,"yyyy-MM-dd",new Date):(n==null?void 0:n.type)==="time"&&(e=Yt(e,"HH:mm:ss",new Date)),t.relative)return await l(e);{let o;return(t==null?void 0:t.format)==="long"?(o=`${Be.global.t("date-fns_date")} ${Be.global.t("date-fns_time")}`,(n==null?void 0:n.type)==="date"&&(o=String(Be.global.t("date-fns_date"))),(n==null?void 0:n.type)==="time"&&(o=String(Be.global.t("date-fns_time")))):(t==null?void 0:t.format)==="short"?(o=`${Be.global.t("date-fns_date_short")} ${Be.global.t("date-fns_time_short")}`,(n==null?void 0:n.type)==="date"&&(o=String(Be.global.t("date-fns_date_short"))),(n==null?void 0:n.type)==="time"&&(o=String(Be.global.t("date-fns_time_short")))):o=t==null?void 0:t.format,await wt(e,o)}},options:[{field:"format",name:"$t:displays.datetime.format",type:"string",meta:{interface:"select-dropdown",width:"half",options:{choices:[{text:"$t:displays.datetime.long",value:"long"},{text:"$t:displays.datetime.short",value:"short"}],allowOther:!0},note:"$t:displays.datetime.format_note"},schema:{default_value:"long"}},{field:"relative",name:"$t:displays.datetime.relative",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:displays.datetime.relative_label"}},schema:{default_value:!1}}],types:["dateTime","date","time","timestamp"]}),AW=Object.freeze(Object.defineProperty({__proto__:null,default:VW},Symbol.toStringTag,{value:"Module"}));const IW=Z({props:{value:{type:Object,default:null}},setup(e){const t=D(),n=D(!1),l=V(()=>e.value?an(e.value.type,!0):null),o=V(()=>{var r,i;return e.value?((r=e.value.type)==null?void 0:r.includes("svg"))?ct(tt()+`assets/${e.value.id}`):((i=e.value.type)==null?void 0:i.includes("image"))===!1?null:ct(tt()+`assets/${e.value.id}?key=system-small-cover`):null}),{height:u}=Sn(t);return{fileExtension:l,imageThumbnail:o,previewEl:t,height:u,imgError:n}}}),EW=["src","alt"],DW={key:1,ref:"previewEl",class:"preview"},PW={key:0,class:"extension"};function TW(e,t,n,l,o,u){var i;const r=c("v-icon");return e.imageThumbnail&&!e.imgError?(m(),A("img",{key:0,src:e.imageThumbnail,class:de({"is-svg":e.value&&((i=e.value.type)==null?void 0:i.includes("svg"))}),alt:e.value.title,onError:t[0]||(t[0]=s=>e.imgError=!0)},null,42,EW)):(m(),A("div",DW,[e.fileExtension?(m(),A("span",PW,w(e.fileExtension),1)):(m(),F(r,{key:1,name:"folder_open"}))],512))}var OW=H(IW,[["render",TW],["__scopeId","data-v-a266062c"]]),LW=It({id:"file",name:"$t:displays.file.file",description:"$t:displays.file.description",icon:"insert_drive_file",component:OW,types:["uuid"],localTypes:["file"],options:[],fields:["id","type","title"]}),jW=Object.freeze(Object.defineProperty({__proto__:null,default:LW},Symbol.toStringTag,{value:"Module"})),RW=It({id:"filesize",name:"$t:displays.filesize.filesize",description:"$t:displays.filesize.description",icon:"description",component:({value:e})=>pl(e),handler:({value:e})=>pl(e),options:[],types:["integer","bigInteger"]}),MW=Object.freeze(Object.defineProperty({__proto__:null,default:RW},Symbol.toStringTag,{value:"Module"}));const UW=Z({props:{value:{type:[Object,Array],default:null},format:{type:String,default:null}},setup(e){const{t}=ae(),n=V(()=>{if(!e.value)return null;try{return Array.isArray(e.value)?e.value.map(o=>l(o)):[l(e.value)]}catch{return null}});function l(o){return e.format?Xt(e.format,o):Xt("{{ value }}",{value:o})}return{displayValue:n,t}}}),NW=["onClick"],BW={class:"label"},qW={key:2};function zW(e,t,n,l,o,u){const r=c("value-null"),i=c("v-list-item-content"),s=c("v-list-item"),p=c("v-list"),f=c("v-menu");return e.displayValue?e.displayValue.length>1?(m(),F(f,{key:1,"show-arrow":""},{activator:d(({toggle:_})=>[$("span",{class:"toggle",onClick:Te(_,["stop"])},[$("span",BW,w(e.displayValue.length)+" "+w(e.t("items")),1)],8,NW)]),default:d(()=>[a(p,{class:"links"},{default:d(()=>[(m(!0),A(se,null,Ve(e.displayValue,(_,v)=>(m(),F(s,{key:v},{default:d(()=>[a(i,null,{default:d(()=>[P(w(_),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})):(m(),A("span",qW,w(e.displayValue[0]),1)):(m(),F(r,{key:0}))}var KW=H(UW,[["render",zW]]),WW=It({id:"formatted-json-value",name:"$t:displays.formatted-json-value.formatted-json-value",description:"$t:displays.formatted-json-value.description",types:["json","geometry"],icon:"settings_ethernet",component:KW,handler:(e,t)=>Bn(e).map(n=>t.format?Xt(n,t.format):n).join(", "),options:[{field:"format",name:"$t:display_template",type:"string",meta:{width:"full",interface:"input",options:{placeholder:"{{ field }}"}}}]}),HW=Object.freeze(Object.defineProperty({__proto__:null,default:WW},Symbol.toStringTag,{value:"Module"}));const GW=Z({props:{type:{type:String,required:!0},value:{type:[String,Number],default:null},format:{type:Boolean,default:!1},font:{type:String,default:"sans-serif",validator:e=>["sans-serif","serif","monospace"].includes(e)},bold:{type:Boolean,default:!1},italic:{type:Boolean,default:!1},prefix:{type:String,default:null},suffix:{type:String,default:null},color:{type:String,default:null},background:{type:String,default:null},icon:{type:String,default:null},border:{type:Boolean,default:!1},conditionalFormatting:{type:Array,default:()=>[]}},setup(e){const{t,n}=ae(),l=V(()=>(e.conditionalFormatting||[]).filter(({operator:p,value:f})=>{if(["string","text"].includes(e.type)){const _=String(e.value),v=String(f);return i(_,v,p)}else if(["float","decimal"].includes(e.type)){const _=parseFloat(String(e.value)),v=parseFloat(String(f));return s(_,v,p)}else{const _=parseInt(String(e.value)),v=parseInt(String(f));return s(_,v,p)}})),o=V(()=>{const{color:p,background:f,icon:_}=e;return l.value.reduce(({color:v,background:y,icon:g,text:h},b)=>({color:b.color||v,background:b.background||y,icon:b.icon||g,text:b.text||h}),{color:p,background:f,icon:_,text:""})}),u=V(()=>{var p;return{color:o.value.color,borderStyle:"solid",borderWidth:e.border?"2px":0,borderColor:o.value.color,backgroundColor:(p=o.value.background)!=null?p:"transparent"}}),r=V(()=>{var v,y;if(o.value.text){const{text:g}=o.value;return g.startsWith("$t:")?t(g.slice(3)):g}if(z.exports.isNil(e.value)||e.value==="")return null;let p=String(e.value);p=p.replace(/(<([^>]+)>)/gi,""),p=pu(p),e.format&&(["string","text"].includes(e.type)?p=kt(p):["float","decimal"].includes(e.type)?p=n(parseFloat(p)):p=n(parseInt(p)));const f=(v=e.prefix)!=null?v:"",_=(y=e.suffix)!=null?y:"";return`${f}${p}${_}`});return{t,computedFormat:o,displayValue:r,computedStyle:u};function i(p,f,_){switch(_){case"eq":return p===f;case"neq":return p!==f;case"contains":return p.includes(f);case"starts_with":return p.startsWith(f);case"ends_with":return p.endsWith(f)}}function s(p,f,_){switch(_){case"eq":return p===f;case"neq":return p!==f;case"gt":return p>f;case"gte":return p>=f;case"lt":return p<f;case"lte":return p<=f}}}}),ZW={class:"value"};function JW(e,t,n,l,o,u){const r=c("value-null"),i=c("v-icon");return e.displayValue===null||e.displayValue===void 0?(m(),F(r,{key:0})):(m(),A("div",{key:1,class:de(["display-formatted",[{bold:e.bold,italic:e.italic},e.font,{"has-background":e.computedFormat.background,"has-border":e.computedStyle.borderWidth!==0}]]),style:Je(e.computedStyle)},[e.computedFormat.icon?(m(),F(i,{key:0,name:e.computedFormat.icon,color:e.computedFormat.color,left:"",small:""},null,8,["name","color"])):M("",!0),$("span",ZW,w(e.displayValue),1)],6))}var XW=H(GW,[["render",JW],["__scopeId","data-v-0a2ac2ba"]]),YW=It({id:"formatted-value",name:"$t:displays.formatted-value.formatted-value",description:"$t:displays.formatted-value.description",types:["string","text","integer","float","decimal","bigInteger"],icon:"text_format",component:XW,handler:(e,t)=>{var u,r;const n=(u=t.prefix)!=null?u:"",l=(r=t.suffix)!=null?r:"",o=t.format?kt(e):e;return`${n}${o}${l}`},options:({field:e})=>{var u;const t=["string","text"].includes((u=e.type)!=null?u:"unknown");return[{field:"format",name:"$t:displays.formatted-value.format",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:displays.formatted-value.format_label"}},schema:{default_value:!1}},{field:"font",name:"$t:displays.formatted-value.font",meta:{width:"half",interface:"select-dropdown",options:{choices:[{text:"$t:displays.formatted-value.font_sans_serif",value:"sans-serif"},{text:"$t:displays.formatted-value.font_serif",value:"serif"},{text:"$t:displays.formatted-value.font_monospace",value:"monospace"}]}},schema:{default_value:"sans-serif"}},{field:"bold",name:"$t:displays.formatted-value.bold",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:displays.formatted-value.bold_label"}},schema:{default_value:!1}},{field:"italic",name:"$t:displays.formatted-value.italic",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:displays.formatted-value.italic_label"}},schema:{default_value:!1}},{field:"prefix",name:"$t:displays.formatted-value.prefix",type:"string",meta:{width:"half",interface:"system-input-translated-string",options:{label:"$t:displays.formatted-value.prefix_label",trim:!1}}},{field:"suffix",name:"$t:displays.formatted-value.suffix",type:"string",meta:{width:"half",interface:"system-input-translated-string",options:{label:"$t:displays.formatted-value.suffix_label",trim:!1}}},{field:"color",name:"$t:displays.formatted-value.color",type:"string",meta:{interface:"select-color",width:"half"}},{field:"background",name:"$t:displays.formatted-value.background",type:"string",meta:{interface:"select-color",width:"half"}},{field:"icon",name:"$t:displays.formatted-value.icon",type:"string",meta:{width:"half",interface:"select-icon"}},{field:"border",name:"$t:displays.formatted-value.border",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:displays.formatted-value.border_label"}},schema:{default_value:!1}},{field:"conditionalFormatting",type:"json",name:"$t:conditional_styles",meta:{interface:"list",width:"full",options:{template:"{{operator}} {{value}}",fields:[{field:"operator",name:"$t:operator",type:"string",schema:{default_value:"eq"},meta:{interface:"select-dropdown",options:{choices:(t?["eq","neq","contains","starts_with","ends_with"]:["eq","neq","gt","gte","lt","lte"]).map(r=>({text:`$t:operators.${r}`,value:r}))},width:"half"}},{field:"value",name:"$t:value",type:t?"string":"integer",schema:{default_value:t?"":0},meta:{interface:"input",width:"half"}},{field:"color",name:"$t:displays.formatted-value.color",type:"string",meta:{interface:"select-color",width:"half"}},{field:"background",name:"$t:displays.formatted-value.background",type:"string",meta:{interface:"select-color",width:"half"}},{field:"text",name:"$t:displays.formatted-value.text",type:"string",meta:{interface:"system-input-translated-string",width:"half",options:{placeholder:"$t:displays.formatted-value.text_placeholder"}}},{field:"icon",name:"$t:displays.formatted-value.icon",type:"string",meta:{width:"half",interface:"select-icon"}}]}}}]}}),QW=Object.freeze(Object.defineProperty({__proto__:null,default:YW},Symbol.toStringTag,{value:"Module"}));const xW=Z({name:"DisplayIcon",props:{value:{type:String,default:null},color:{type:String,default:null},filled:{type:Boolean,default:!1}},setup(e){return{style:V(()=>pa(e.color)?{"--v-icon-color":e.color}:{})}}});function eH(e,t,n,l,o,u){const r=c("v-icon");return m(),F(r,{small:"",name:e.value,style:Je(e.style),filled:e.filled},null,8,["name","style","filled"])}var tH=H(xW,[["render",eH]]),nH=It({id:"icon",name:"$t:displays.icon.icon",description:"$t:displays.icon.description",icon:"insert_emoticon",component:tH,options:[{field:"filled",name:"$t:displays.icon.filled",type:"boolean",meta:{interface:"boolean",width:"half",options:{label:"$t:displays.icon.filled_label"}},schema:{default_value:!1}},{field:"color",name:"$t:color",type:"string",meta:{interface:"select-color",width:"half"}}],types:["string"]}),lH=Object.freeze(Object.defineProperty({__proto__:null,default:nH},Symbol.toStringTag,{value:"Module"}));const oH=Z({components:{ValueNull:un},props:{value:{type:Object,default:null},circle:{type:Boolean,default:!1}},setup(e){const t=D(!1);return{src:V(()=>{if(e.value===null)return null;const l=tt()+`assets/${e.value.id}?key=system-small-cover`;return ct(l)}),imageError:t}}}),aH=["src","alt"];function iH(e,t,n,l,o,u){const r=c("v-icon"),i=c("value-null");return e.imageError?(m(),F(r,{key:0,name:"image"})):e.src?(m(),A("img",{key:1,src:e.src,role:"presentation",alt:e.value&&e.value.title,class:de({circle:e.circle}),onError:t[0]||(t[0]=s=>e.imageError=!0)},null,42,aH)):(m(),F(i,{key:2}))}var rH=H(oH,[["render",iH],["__scopeId","data-v-e3df0200"]]),sH=It({id:"image",name:"$t:displays.image.image",description:"$t:displays.image.description",types:["uuid"],localTypes:["file"],icon:"insert_photo",component:rH,options:[{field:"circle",name:"$t:displays.image.circle",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:displays.image.circle_label"}},schema:{default_value:!1}}],fields:["id","type","title"]}),dH=Object.freeze(Object.defineProperty({__proto__:null,default:sH},Symbol.toStringTag,{value:"Module"}));const uH=Z({props:{value:{type:[String,Array],required:!0},format:{type:Boolean,default:!0},showAsDot:{type:Boolean,default:!1},choices:{type:Array,default:()=>[]},type:{type:String,required:!0,validator:e=>["text","string","json","csv"].includes(e)}},setup(e){return{items:V(()=>{let n;return z.exports.isEmpty(e.value)?n=[]:e.type==="string"?n=[e.value]:n=e.value,n.map(l=>{const o=(e.choices||[]).find(r=>r.value===l);let u;return typeof l=="object"?u=JSON.stringify(l):e.format?u=kt(l):u=l,o===void 0?{value:l,text:u,foreground:"var(--foreground-normal)",background:"var(--background-normal)"}:Dt({value:l,text:o.text||u,foreground:o.foreground||"var(--foreground-normal)",background:o.background||"var(--background-normal)"})})})}}}),cH={class:"display-labels"};function pH(e,t,n,l,o,u){const r=c("v-chip"),i=c("display-color"),s=Fe("tooltip");return m(),A("div",cH,[e.showAsDot?(m(!0),A(se,{key:1},Ve(e.items,p=>ie((m(),F(i,{key:p.value,value:p.background},null,8,["value"])),[[s,p.text]])),128)):(m(!0),A(se,{key:0},Ve(e.items,p=>(m(),F(r,{key:p.value,style:Je({"--v-chip-color":p.foreground,"--v-chip-background-color":p.background}),small:"",disabled:"",label:""},{default:d(()=>[P(w(p.text),1)]),_:2},1032,["style"]))),128))])}var mH=H(uH,[["render",pH],["__scopeId","data-v-4d34a4f3"]]),fH=It({id:"labels",name:"$t:displays.labels.labels",description:"$t:displays.labels.description",types:["string","json","csv"],icon:"flag",component:mH,handler:(e,t,{interfaceOptions:n})=>{var o,u,r;const l=(r=(o=t==null?void 0:t.choices)==null?void 0:o.find(i=>i.value===e))!=null?r:(u=n==null?void 0:n.choices)==null?void 0:u.find(i=>i.value===e);if(l){const{text:i}=Dt(l);return i}return e},options:[{field:"format",name:"$t:format_text",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:displays.labels.format_label"}},schema:{default_value:!0}},{field:"showAsDot",name:"$t:displays.labels.show_as_dot",type:"boolean",meta:{width:"half",interface:"boolean"},schema:{default_value:!1}},{field:"choices",name:"$t:choices",type:"json",meta:{interface:"list",options:{template:"{{text}}",fields:[{field:"text",name:"$t:text",type:"string",meta:{interface:"system-input-translated-string",width:"half",options:{placeholder:"$t:displays.labels.choices_text_placeholder"}}},{field:"value",name:"$t:value",type:"string",meta:{interface:"input",options:{font:"monospace",placeholder:"$t:displays.labels.choices_value_placeholder"},width:"half"}},{field:"foreground",name:"$t:foreground_color",type:"string",meta:{interface:"select-color",width:"half"}},{field:"background",name:"$t:background_color",type:"string",meta:{interface:"select-color",width:"half"}}]}}}]}),_H=Object.freeze(Object.defineProperty({__proto__:null,default:fH},Symbol.toStringTag,{value:"Module"})),vH=It({id:"mime-type",name:"$t:displays.mime-type.mime-type",description:"$t:displays.mime-type.description",icon:"picture_as_pdf",options:[{field:"showAsExtension",name:"$t:displays.mime-type.extension_only",type:"boolean",meta:{interface:"boolean",options:{label:"$t:displays.mime-type.extension_only_label"}},schema:{default_value:!1}}],types:["string"],component:({value:e,showAsExtension:t})=>t?Ba.getExtension(e):an(e),handler:(e,t)=>t.showAsExtension?Ba.getExtension(e):an(e)}),yH=Object.freeze(Object.defineProperty({__proto__:null,default:vH},Symbol.toStringTag,{value:"Module"}));const hH={key:0,class:"rating simple"},gH={key:1,class:"rating detailed"},bH={class:"inactive"},wH=Z({props:{value:{default:void 0},simple:{type:Boolean,default:!1},interfaceOptions:{default:void 0}},setup(e){const t=e,n=V(()=>{var o;return t.interfaceOptions===null?5:Math.ceil((o=t.interfaceOptions.maxValue)!=null?o:5)}),l=V(()=>({width:Number(t.value)/n.value*100+"%"}));return(o,u)=>{const r=c("v-icon"),i=Fe("tooltip");return e.simple?(m(),A("span",hH,[a(r,{small:"",name:"star"}),P(" "+w(e.value),1)])):ie((m(),A("div",gH,[$("div",{class:"active",style:Je(C(l))},[(m(!0),A(se,null,Ve(C(n),s=>(m(),F(r,{key:s,small:"",name:"star"}))),128))],4),$("div",bH,[(m(!0),A(se,null,Ve(C(n),s=>(m(),F(r,{key:s,small:"",name:"star"}))),128))])],512)),[[i,e.value,void 0,{bottom:!0,start:!0}]])}}});var kH=H(wH,[["__scopeId","data-v-18a3467a"]]),$H=It({id:"rating",name:"$t:displays.rating.rating",description:"$t:displays.rating.description",icon:"star",component:kH,options:[{field:"simple",name:"$t:displays.rating.simple",type:"boolean",meta:{interface:"boolean",width:"half",options:{label:"$t:displays.rating.simple_label"}},schema:{default_value:!1}}],types:["integer","decimal","float"]}),CH=Object.freeze(Object.defineProperty({__proto__:null,default:$H},Symbol.toStringTag,{value:"Module"})),SH=It({id:"raw",name:"$t:displays.raw.raw",icon:"code",component:({value:e})=>typeof e=="string"?e:JSON.stringify(e),options:[],types:a8,localTypes:i8}),FH=Object.freeze(Object.defineProperty({__proto__:null,default:SH},Symbol.toStringTag,{value:"Module"}));function xl(e,t){const l=mt().getRelationsForField(e,t),o=ml(e,t);return o&&["o2m","m2m","m2a","translations","files"].includes(o)?o=="m2m"&&l.length>1?{relatedCollection:l[1].related_collection,junctionCollection:l[0].collection,path:[l[1].field]}:{relatedCollection:l[0].collection}:{relatedCollection:l[0].related_collection}}const VH=Z({components:{ValueNull:un},props:{collection:{type:String,required:!0},field:{type:String,required:!0},value:{type:[Array,Object],default:null},template:{type:String,default:null}},setup(e){const{t,te:n}=ae(),l=V(()=>xl(e.collection,e.field)),o=V(()=>l.value.relatedCollection),u=V(()=>l.value.junctionCollection),r=V(()=>ml(e.collection,e.field)),{primaryKeyField:i}=_t(o),s=V(()=>{var v,y;return l.value.path?[...l.value.path,(v=i.value)==null?void 0:v.field].join("."):(y=i.value)==null?void 0:y.field}),p=V(()=>e.template||`{{ ${s.value} }}`),f=V(()=>Array.isArray(e.value)?e.value.length===1?n(`collection_names_singular.${o.value}`)?t(`collection_names_singular.${o.value}`):t("item"):n(`collection_names_plural.${o.value}`)?t(`collection_names_plural.${o.value}`):t("items"):null);return{relatedCollection:o,junctionCollection:u,primaryKeyFieldPath:s,getLinkForItem:_,internalTemplate:p,unit:f,localType:r};function _(v){if(!l.value||!s.value)return null;const y=z.exports.get(v,s.value);return`/content/${o.value}/${encodeURIComponent(y)}`}}}),AH=["onClick"],IH={class:"label"},EH=P("+");function DH(e,t,n,l,o,u){const r=c("value-null"),i=c("render-template"),s=c("v-list-item-content"),p=c("v-icon"),f=c("router-link"),_=c("v-list-item-icon"),v=c("v-list-item"),y=c("v-list"),g=c("v-menu");return e.relatedCollection?["o2m","m2m","m2a","translations","files"].includes(e.localType.toLowerCase())?(m(),F(g,{key:1,"show-arrow":"",disabled:e.value.length===0},{activator:d(({toggle:h})=>[$("span",{class:de(["toggle",{subdued:e.value.length===0}]),onClick:Te(h,["stop"])},[$("span",IH,[P(w(e.value.length)+" ",1),e.value.length>=100?(m(),A(se,{key:0},[EH],64)):M("",!0),P(" "+w(e.unit),1)])],10,AH)]),default:d(()=>[a(y,{class:"links"},{default:d(()=>[(m(!0),A(se,null,Ve(e.value,h=>(m(),F(v,{key:h[e.primaryKeyFieldPath]},{default:d(()=>[a(s,null,{default:d(()=>{var b;return[a(i,{template:e.internalTemplate,item:h,collection:(b=e.junctionCollection)!=null?b:e.relatedCollection},null,8,["template","item","collection"])]}),_:2},1024),a(_,null,{default:d(()=>[a(f,{to:e.getLinkForItem(h)},{default:d(()=>[a(p,{name:"launch",small:""})]),_:2},1032,["to"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1},8,["disabled"])):(m(),F(i,{key:2,template:e.internalTemplate,item:e.value,collection:e.relatedCollection},null,8,["template","item","collection"])):(m(),F(r,{key:0}))}var PH=H(VH,[["render",DH],["__scopeId","data-v-4f1bc30a"]]),TH=It({id:"related-values",name:"$t:displays.related-values.related-values",description:"$t:displays.related-values.description",icon:"settings_ethernet",component:PH,options:({editing:e,relations:t})=>{var o,u,r;const n=(r=(o=t.o2m)==null?void 0:o.collection)!=null?r:(u=t.m2o)==null?void 0:u.related_collection;return[{field:"template",name:"$t:display_template",meta:e==="+"?{interface:"presentation-notice",options:{text:"$t:displays.related-values.display_template_configure_notice"},width:"full"}:{interface:"system-display-template",options:{collectionName:n},width:"full"}}]},handler:async(e,t,{collection:n,field:l})=>{var p,f,_,v,y;if(!l||!n)return e;const o=xl(n,l.field);if(!o)return e;const u=Me(),i=St(t.template).map(g=>{var h;return{key:g,field:u.getField((h=o.junctionCollection)!=null?h:o.relatedCollection,g)}}),s={};for(const{key:g,field:h}of i){const b=z.exports.get(e,g);if(b==null)continue;if(!((p=h==null?void 0:h.meta)==null?void 0:p.display)){z.exports.set(s,g,b);continue}const S=yn(h.meta.display),I=(S==null?void 0:S.handler)?await S.handler(b,(_=(f=h==null?void 0:h.meta)==null?void 0:f.display_options)!=null?_:{},{interfaceOptions:(y=(v=h==null?void 0:h.meta)==null?void 0:v.options)!=null?y:{},field:h!=null?h:void 0,collection:n}):b;z.exports.set(s,g,I)}return Po(t.template,s)},types:["alias","string","uuid","integer","bigInteger","json"],localTypes:["m2m","m2o","o2m","translations","m2a","file","files"],fields:(e,{field:t,collection:n})=>{const{junctionCollection:l,relatedCollection:o,path:u}=xl(n,t),i=Me().getPrimaryKeyFieldForCollection(o);if(!o)return[];const s=(e==null?void 0:e.template)?tn(St(e.template),l!=null?l:o):[];if(i){const p=u?[...u,i.field].join("."):i.field;s.includes(p)||s.push(p)}return s}}),OH=Object.freeze(Object.defineProperty({__proto__:null,default:TH},Symbol.toStringTag,{value:"Module"}));function LH(e,t){const n=mt(),l=Xe(),o=V(()=>n.getRelationsForField(e.value,t.value)),u=V(()=>o.value.find(g=>{var h;return g.related_collection===e.value&&((h=g.meta)==null?void 0:h.one_field)===t.value})),r=V(()=>o.value.find(g=>{var h;return g.collection===u.value.collection&&g.field===((h=u.value.meta)==null?void 0:h.junction_field)})),i=V(()=>l.getCollection(u.value.collection)),s=V(()=>l.getCollection(r.value.related_collection)),{primaryKeyField:p,fields:f}=_t(i.value.collection),{primaryKeyField:_,fields:v}=_t(s.value.collection),y=V(()=>{var g,h,b,S;return{junctionPkField:(g=p.value)==null?void 0:g.field,relationPkField:(h=_.value)==null?void 0:h.field,junctionField:(b=u.value.meta)==null?void 0:b.junction_field,sortField:(S=u.value.meta)==null?void 0:S.sort_field,junctionCollection:i.value.collection,relationCollection:s.value.collection}});return{junction:u,junctionCollection:i,relation:r,relationCollection:s,relationInfo:y,junctionPrimaryKeyField:p,relationPrimaryKeyField:_,junctionFields:f,relationFields:v}}const jH=Z({components:{ValueNull:un},props:{collection:{type:String,required:!0},field:{type:String,required:!0},value:{type:[Array],default:null},template:{type:String,default:null},userLanguage:{type:Boolean,default:!1},defaultLanguage:{type:String,default:null},languageField:{type:String,default:null},type:{type:String,required:!0}},setup(e){const{collection:t,field:n}=ze(e),{junctionPrimaryKeyField:l,junctionCollection:o,relation:u,junctionFields:r,relationPrimaryKeyField:i}=LH(t,n),s=V(()=>{var v,y;return e.template||((y=(v=o.value)==null?void 0:v.meta)==null?void 0:y.display_template)||`{{ ${l.value.field} }}`}),p=V(()=>{var g,h,b;const v=(g=i.value)==null?void 0:g.field;if(!v)return{};let y=(h=e.value.find(S=>{var I;return((I=S==null?void 0:S[u.value.field])==null?void 0:I[v])===e.defaultLanguage}))!=null?h:e.value[0];if(e.userLanguage){const S=Ye();y=(b=e.value.find(I=>{var E,R;return((E=I==null?void 0:I[u.value.field])==null?void 0:E[v])===((R=S.currentUser)==null?void 0:R.language)}))!=null?b:y}return y!=null?y:{}}),f=V(()=>r.value.filter(v=>{var y;return v.type!=="alias"&&((y=v.meta)==null?void 0:y.hidden)===!1&&v.meta.readonly===!1})),_=V(()=>e.value.map(v=>{var g,h,b,S,I;const y=f.value.filter(E=>E.field in v&&en(v==null?void 0:v[E.field])).length;return{id:v==null?void 0:v[(h=(g=l.value)==null?void 0:g.field)!=null?h:"id"],lang:(I=v==null?void 0:v[u.value.field])==null?void 0:I[(S=e.languageField)!=null?S:(b=i.value)==null?void 0:b.field],progress:Math.round(y/f.value.length*100),item:v}}));return{primaryKeyField:l,internalTemplate:s,junctionCollection:o,displayItem:p,translations:_}}}),RH={key:1,class:"display-translations"},MH={class:"header"},UH={class:"lang"};function NH(e,t,n,l,o,u){const r=c("value-null"),i=c("render-template"),s=c("v-icon"),p=c("v-progress-linear"),f=c("v-list-item-content"),_=c("v-list-item"),v=c("v-list"),y=c("v-menu"),g=Fe("tooltip");return e.junctionCollection.collection?(m(),A("div",RH,[a(i,{template:e.internalTemplate,item:e.displayItem,collection:e.junctionCollection.collection},null,8,["template","item","collection"]),a(y,{class:"menu","show-arrow":"",disabled:e.value.length===0},{activator:d(({toggle:h,deactivate:b,active:S})=>[a(s,{small:"",class:de(["icon",{active:S}]),name:"info",onClick:Te(h,["stop"]),onFocusout:b},null,8,["class","onClick","onFocusout"])]),default:d(()=>[a(v,{class:"links"},{default:d(()=>[(m(!0),A(se,null,Ve(e.translations,h=>(m(),F(_,{key:h.id},{default:d(()=>[a(f,null,{default:d(()=>[$("div",MH,[$("div",UH,[a(s,{name:"translate",small:""}),P(" "+w(h.lang),1)]),ie(a(p,{value:h.progress,colorful:""},null,8,["value"]),[[g,`${h.progress}%`]])]),a(i,{template:e.internalTemplate,item:h.item,collection:e.junctionCollection.collection},null,8,["template","item","collection"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1},8,["disabled"])])):(m(),F(r,{key:0}))}var BH=H(jH,[["render",NH],["__scopeId","data-v-ddc321aa"]]),qH=It({id:"translations",name:"$t:displays.translations.translations",description:"$t:displays.translations.description",icon:"translate",component:BH,handler:async(e,t,{collection:n,field:l})=>{var b,S,I,E,R,O;if(!l||!n||!Array.isArray(e))return e;const o=xl(n,l.field),u=Me(),i=mt().getRelationsForField(n,l.field),s=i.find(L=>{var q;return L.related_collection===n&&((q=L.meta)==null?void 0:q.one_field)===l.field});if(!s)return e;const p=i.find(L=>{var q;return L.collection===s.collection&&L.field===((q=s.meta)==null?void 0:q.junction_field)}),f=u.getPrimaryKeyFieldForCollection(o.relatedCollection);if(!o||!f||!(p==null?void 0:p.related_collection))return e;const _=u.getPrimaryKeyFieldForCollection(p.related_collection);if(!_)return e;const v=(b=e.find(L=>{const q=L[p.field][_.field];return q?t.userLanguage?q===Be.global.locale.value:q===t.defaultLanguage:!0}))!=null?b:e[0],g=St(t.template).map(L=>({key:L,field:u.getField(o.relatedCollection,L)})),h={};for(const{key:L,field:q}of g){const T=z.exports.get(v,L);if(T==null)continue;if(!((S=q==null?void 0:q.meta)==null?void 0:S.display)){z.exports.set(h,L,T);continue}const j=yn(q.meta.display),U=(j==null?void 0:j.handler)?await j.handler(T,(E=(I=q==null?void 0:q.meta)==null?void 0:I.display_options)!=null?E:{},{interfaceOptions:(O=(R=q==null?void 0:q.meta)==null?void 0:R.options)!=null?O:{},field:q!=null?q:void 0,collection:n}):T;z.exports.set(h,L,U)}return Po(t.template,h)},options:({relations:e})=>{var u,r;const t=Me(),n=(u=e.o2m)==null?void 0:u.collection,l=(r=e.m2o)==null?void 0:r.related_collection,o=l?t.getFieldsForCollection(l):[];return[{field:"template",name:"$t:display_template",meta:{interface:"system-display-template",options:{collectionName:n},width:"half"}},{field:"languageField",name:"$t:displays.translations.language_field",meta:{interface:"select-dropdown",options:{choices:o.map(({field:i,name:s})=>({text:s,value:i}))},width:"half"}},{field:"defaultLanguage",name:"$t:displays.translations.default_language",meta:{interface:"input",width:"half",options:{placeholder:"$t:primary_key"}}},{field:"userLanguage",name:"$t:displays.translations.user_language",type:"string",schema:{default_value:!1},meta:{interface:"boolean",options:{label:"$t:displays.translations.enable"},width:"half"}}]},types:["alias"],localTypes:["translations"],fields:(e,{field:t,collection:n})=>{const l=Me(),u=mt().getRelationsForField(n,t),r=u.find(y=>{var g;return y.related_collection===n&&((g=y.meta)==null?void 0:g.one_field)===t}),i=u.find(y=>y!==r),s=r==null?void 0:r.related_collection,p=i==null?void 0:i.related_collection;if(!s||!p)return[];const f=l.getPrimaryKeyFieldForCollection(s),_=l.getPrimaryKeyFieldForCollection(p),v=(e==null?void 0:e.template)?tn(St(e.template),s):[];return f&&!v.includes(f.field)&&v.push(f.field),i&&_&&!v.includes(i.field)&&(v.push(`${i.field}.${_.field}`),(e==null?void 0:e.languageField)&&v.push(`${i.field}.${e.languageField}`)),v}}),zH=Object.freeze(Object.defineProperty({__proto__:null,default:qH},Symbol.toStringTag,{value:"Module"})),KH="assets/avatar-placeholder.446bf113.svg";const WH=Z({props:{value:{type:Object,default:null},display:{type:String,default:"both"},circle:{type:Boolean,default:!1}},setup(e){return{src:V(()=>{var n;if(e.value===null)return null;if((n=e.value.avatar)==null?void 0:n.id){const l=`${tt()}assets/${e.value.avatar.id}?key=system-small-cover`;return ct(l)}return null}),userName:Ft}}}),HH=["src","alt"],GH=["alt"],ZH={key:2};function JH(e,t,n,l,o,u){const r=c("user-popover");return e.value?(m(),F(r,{key:0,user:e.value.id},{default:d(()=>[$("div",{class:de(["user",e.display])},[(e.display==="avatar"||e.display==="both")&&e.src?(m(),A("img",{key:0,src:e.src,role:"presentation",alt:e.value&&e.userName(e.value),class:de({circle:e.circle})},null,10,HH)):(e.display==="avatar"||e.display==="both")&&e.src===null?(m(),A("img",{key:1,src:KH,role:"presentation",alt:e.value&&e.userName(e.value),class:de({circle:e.circle})},null,10,GH)):M("",!0),e.display==="name"||e.display==="both"?(m(),A("span",ZH,w(e.userName(e.value)),1)):M("",!0)],2)]),_:1},8,["user"])):M("",!0)}var XH=H(WH,[["render",JH],["__scopeId","data-v-1e6e7370"]]),YH=It({id:"user",name:"$t:displays.user.user",description:"$t:displays.user.description",types:["uuid"],icon:"person",component:XH,handler:e=>Ft(e),options:[{field:"display",name:"$t:display",type:"string",meta:{width:"half",interface:"select-dropdown",options:{choices:[{text:"$t:displays.user.avatar",value:"avatar"},{text:"$t:displays.user.name",value:"name"},{text:"$t:displays.user.both",value:"both"}]}},schema:{default_value:"both"}},{field:"circle",name:"$t:circle",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:displays.user.circle_label"}},schema:{default_value:!1}}],fields:["id","avatar.id","email","first_name","last_name"]}),QH=Object.freeze(Object.defineProperty({__proto__:null,default:YH},Symbol.toStringTag,{value:"Module"}));const{displaysRaw:js}=Ol();async function xH(e){const n=Object.values({"./boolean/index.ts":cW,"./collection/index.ts":yW,"./color/index.ts":$W,"./datetime/index.ts":AW,"./file/index.ts":jW,"./filesize/index.ts":MW,"./formatted-json-value/index.ts":HW,"./formatted-value/index.ts":QW,"./icon/index.ts":lH,"./image/index.ts":dH,"./labels/index.ts":_H,"./mime-type/index.ts":yH,"./rating/index.ts":CH,"./raw/index.ts":FH,"./related-values/index.ts":OH,"./translations/index.ts":zH,"./user/index.ts":QH}).map(l=>l.default);try{const l=await N(()=>import(`${tt()}extensions/displays/index.js`),[]);n.push(...l.default)}catch(l){console.warn("Couldn't load custom displays"),console.warn(l)}js.value=n,js.value.forEach(l=>{e.component(`display-${l.id}`,l.component),typeof l.options!="function"&&Array.isArray(l.options)===!1&&l.options!==null&&e.component(`display-options-${l.id}`,l.options)})}const eG=Z({props:{value:{type:Boolean,default:null},disabled:{type:Boolean,default:!1},label:{type:String,default:()=>Be.global.t("enabled")},iconOn:{type:String,default:"check_box"},iconOff:{type:String,default:"check_box_outline_blank"},colorOn:{type:String,default:"var(--primary)"},colorOff:{type:String,default:"var(--foreground-subdued)"}},emits:["input"]});function tG(e,t,n,l,o,u){const r=c("v-checkbox");return m(),F(r,{block:"","icon-on":e.iconOn,"icon-off":e.iconOff,label:e.label,"model-value":e.value,indeterminate:e.value===null,disabled:e.disabled,style:Je({"--v-checkbox-color":e.colorOn,"--v-checkbox-unchecked-color":e.colorOff}),"onUpdate:modelValue":t[0]||(t[0]=i=>e.$emit("input",i))},null,8,["icon-on","icon-off","label","model-value","indeterminate","disabled","style"])}var nG=H(eG,[["render",tG]]),lG=`<svg width="156" height="96" fill="none" xmlns="http://www.w3.org/2000/svg">
  <rect x="18" y="35" width="120" height="26" rx="6" fill="var(--primary)" opacity=".25"/>
  <mask id="a" maskUnits="userSpaceOnUse" x="26" y="40" width="26" height="16" fill="#000">
    <path fill="#fff" d="M26 40h26v16H26z"/>
    <path fill-rule="evenodd" clip-rule="evenodd" d="M43 53.917V54h-8v-.083a6 6 0 1 1 0-11.834V42h8v.083a6 6 0 1 1 0 11.834Z"/>
  </mask>
  <path d="m43 53.917.33-1.972-2.33-.391v2.363h2ZM43 54v2h2v-2h-2Zm-8 0h-2v2h2v-2Zm0-.083h2v-2.363l-2.33.39.33 1.973Zm0-11.834-.33 1.972 2.33.391v-2.363h-2ZM35 42v-2h-2v2h2Zm8 0h2v-2h-2v2Zm0 .083h-2v2.363l2.33-.39-.33-1.973Zm-2 11.834V54h4v-.083h-4ZM43 52h-8v4h8v-4Zm-6 2v-.083h-4V54h4Zm-2.33-2.055A4.04 4.04 0 0 1 34 52v4c.452 0 .897-.038 1.33-.11l-.66-3.945ZM34 52a4 4 0 0 1-4-4h-4a8 8 0 0 0 8 8v-4Zm-4-4a4 4 0 0 1 4-4v-4a8 8 0 0 0-8 8h4Zm4-4c.23 0 .453.02.67.055l.66-3.944A8.044 8.044 0 0 0 34 40v4Zm3-1.917V42h-4v.083h4ZM35 44h8v-4h-8v4Zm6-2v.083h4V42h-4Zm2.33 2.055A4.04 4.04 0 0 1 44 44v-4c-.452 0-.897.038-1.33.11l.66 3.945ZM44 44a4 4 0 0 1 4 4h4a8 8 0 0 0-8-8v4Zm4 4a4 4 0 0 1-4 4v4a8 8 0 0 0 8-8h-4Zm-4 4c-.23 0-.453-.02-.67-.055l-.66 3.944c.433.073.878.111 1.33.111v-4Z" fill="var(--primary)" mask="url(#a)"/>
  <circle cx="34" cy="48" r="4" fill="var(--primary)"/>
  <rect x="62" y="45" width="30" height="6" rx="2" fill="var(--primary)"/>
  <rect x="96" y="45" width="20" height="6" rx="2" fill="var(--primary)"/>
</svg>
`,oG=Ze({id:"boolean",name:"$t:interfaces.boolean.toggle",description:"$t:interfaces.boolean.description",icon:"check_box",component:nG,types:["boolean"],group:"selection",recommendedDisplays:["boolean"],options:[{field:"iconOn",name:"$t:icon_on",type:"string",meta:{width:"half",interface:"select-icon"},schema:{default_value:"check_box"}},{field:"iconOff",name:"$t:icon_off",type:"string",meta:{width:"half",interface:"select-icon"},schema:{default_value:"check_box_outline_blank"}},{field:"colorOn",name:"$t:interfaces.boolean.color_on",type:"string",meta:{interface:"select-color",width:"half"}},{field:"colorOff",name:"$t:interfaces.boolean.color_off",type:"string",meta:{interface:"select-color",width:"half"}},{field:"label",name:"$t:label",type:"string",meta:{width:"half",interface:"system-input-translated-string",options:{placeholder:"$t:interfaces.boolean.label_placeholder"}},schema:{default_value:"$t:interfaces.boolean.label_default"}}],preview:lG}),aG=Object.freeze(Object.defineProperty({__proto__:null,default:oG},Symbol.toStringTag,{value:"Module"}));const iG=Z({props:{disabled:{type:Boolean,default:!1},value:{type:String,default:null},type:{type:String,required:!0,validator:e=>["dateTime","date","time","timestamp"].includes(e)},includeSeconds:{type:Boolean,default:!1},use24:{type:Boolean,default:!0}},emits:["input"],setup(e,{emit:t}){const{t:n}=ae(),l=D(),{displayValue:o,isValidValue:u}=r();function r(){const s=D(null),p=V(()=>qa(_(e.value)));return he(()=>e.value,f,{immediate:!0}),{displayValue:s,isValidValue:p};async function f(){if(!e.value||!p.value){s.value=null;return}let v=e.includeSeconds?"date-fns_time":"date-fns_time_no_seconds";e.use24&&(v=e.includeSeconds?"date-fns_time_24hour":"date-fns_time_no_seconds_24hour");let y=`${n("date-fns_date")} ${n(v)}`;e.type==="date"&&(y=String(n("date-fns_date"))),e.type==="time"&&(y=String(n(v))),s.value=await wt(_(e.value),y)}function _(v){switch(e.type){case"dateTime":return Yt(v,"yyyy-MM-dd'T'HH:mm:ss",new Date);case"date":return Yt(v,"yyyy-MM-dd",new Date);case"time":return Yt(v,"HH:mm:ss",new Date);case"timestamp":return fo(v)}}}function i(s){s.preventDefault(),s.stopPropagation(),t("input",null)}return{t:n,displayValue:o,unsetValue:i,dateTimeMenu:l,isValidValue:u}}});function rG(e,t,n,l,o,u){const r=c("v-icon"),i=c("v-input"),s=c("v-date-picker"),p=c("v-menu");return m(),F(p,{ref:"dateTimeMenu","close-on-content-click":!1,attached:"",disabled:e.disabled,"full-height":"",seamless:""},{activator:d(({toggle:f,active:_})=>[a(i,{active:_,clickable:"",readonly:"","model-value":e.displayValue,disabled:e.disabled,placeholder:e.isValidValue?e.t("enter_a_value"):e.value,onClick:f},at({_:2},[e.disabled?void 0:{name:"append",fn:d(()=>[a(r,ft({name:e.value?"clear":"today",class:{active:_,"clear-icon":e.value,"today-icon":!e.value}},Il({click:e.value?e.unsetValue:null})),null,16,["name","class"])])}]),1032,["active","model-value","disabled","placeholder","onClick"])]),default:d(()=>{var f;return[a(s,{type:e.type,disabled:e.disabled,"include-seconds":e.includeSeconds,"use-24":e.use24,"model-value":e.value,"onUpdate:modelValue":t[0]||(t[0]=_=>e.$emit("input",_)),onClose:(f=e.dateTimeMenu)==null?void 0:f.deactivate},null,8,["type","disabled","include-seconds","use-24","model-value","onClose"])]}),_:1},8,["disabled"])}var sG=H(iG,[["render",rG],["__scopeId","data-v-786095e0"]]),dG=`<svg width="156" height="96" viewBox="0 0 156 96" fill="none" xmlns="http://www.w3.org/2000/svg">
	<rect x="29" y="10" width="98" height="77" rx="6" fill="var(--background-page)" class="glow" />
	<rect x="30" y="11" width="96" height="75" rx="5" stroke="var(--primary)" stroke-width="2" />
	<rect x="39" y="20" width="30" height="5.03704" rx="2" fill="var(--primary)" />
	<rect x="39" y="41" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="39" y="51" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="39" y="61" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="39" y="71" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="51" y="41" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="51" y="61" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="51" y="71" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="87" y="71" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.1" />
	<rect x="63" y="31" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="39" y="31" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.1" />
	<rect x="63" y="41" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="63" y="51" width="6" height="6" rx="2" fill="var(--primary)" />
	<rect x="63" y="61" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="63" y="71" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="99" y="71" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.1" />
	<rect x="75" y="31" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="51" y="31" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.1" />
	<rect x="75" y="41" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="75" y="51" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="75" y="61" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="75" y="71" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="111" y="71" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.1" />
	<rect x="87" y="31" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="87" y="41" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="87" y="51" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="87" y="61" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="99" y="31" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="99" y="41" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="99" y="51" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="99" y="61" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="111" y="31" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="111" y="41" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="111" y="51" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="111" y="61" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="51" y="51" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
</svg>
`,uG=Ze({id:"datetime",name:"$t:interfaces.datetime.datetime",description:"$t:interfaces.datetime.description",icon:"today",component:sG,types:["dateTime","date","time","timestamp"],group:"selection",options:({field:e})=>{var t;return e.type==="date"?(((t=e.meta)==null?void 0:t.options)&&(e.meta.options={}),[]):[{field:"includeSeconds",name:"$t:interfaces.datetime.include_seconds",type:"boolean",meta:{width:"half",interface:"boolean"},schema:{default_value:!1}},{field:"use24",name:"$t:interfaces.datetime.use_24",type:"boolean",meta:{width:"half",interface:"boolean"},schema:{default_value:!0}}]},recommendedDisplays:["datetime"],preview:dG}),cG=Object.freeze(Object.defineProperty({__proto__:null,default:uG},Symbol.toStringTag,{value:"Module"}));function pG(e,t){const n=mt(),l=Xe(),o=Me();return{relationInfo:V(()=>{var _,v,y,g,h,b,S;const r=n.getRelationsForField(e.value,t.value),i=r.find(I=>{var E;return I.related_collection===e.value&&((E=I.meta)==null?void 0:E.one_field)===t.value&&I.meta.junction_field});if(!i)return;const s=r.find(I=>{var E;return I.collection===i.collection&&I.field===((E=i.meta)==null?void 0:E.junction_field)});if(!s)return;const p=((v=(_=s.meta)==null?void 0:_.one_allowed_collections)!=null?v:[]).reduce((I,E)=>{const R=l.getCollection(E);return R&&I.push(R),I},[]),f=p.reduce((I,E)=>{const R=o.getPrimaryKeyFieldForCollection(E==null?void 0:E.collection);return R&&(I[E.collection]=R),I},{});return{allowedCollections:p,relationPrimaryKeyFields:f,collectionField:o.getField(i.collection,(y=s.meta)==null?void 0:y.one_collection_field),junctionCollection:l.getCollection(i.collection),junctionPrimaryKeyField:o.getPrimaryKeyFieldForCollection(i.collection),junctionField:o.getField(i.collection,(g=i.meta)==null?void 0:g.junction_field),reverseJunctionField:o.getField(i.collection,(h=s.meta)==null?void 0:h.junction_field),junction:i,relation:s,sortField:(S=(b=i.meta)==null?void 0:b.sort_field)!=null?S:void 0,type:"m2a"}})}}function ma(e,t){const n=mt(),l=Xe(),o=Me();return{relationInfo:V(()=>{var p,f,_,v;const r=n.getRelationsForField(e.value,t.value),i=r.find(y=>{var g;return y.related_collection===e.value&&((g=y.meta)==null?void 0:g.one_field)===t.value&&y.meta.junction_field});if(!i)return;const s=r.find(y=>{var g;return y.collection===i.collection&&y.field===((g=i.meta)==null?void 0:g.junction_field)});if(!!s)return{relation:s,relatedCollection:l.getCollection(s.related_collection),relatedPrimaryKeyField:o.getPrimaryKeyFieldForCollection(s.related_collection),sortField:(f=(p=i.meta)==null?void 0:p.sort_field)!=null?f:void 0,junctionCollection:l.getCollection(i.collection),junctionPrimaryKeyField:o.getPrimaryKeyFieldForCollection(i.collection),junctionField:o.getField(i.collection,(_=i.meta)==null?void 0:_.junction_field),reverseJunctionField:o.getField(i.collection,(v=s.meta)==null?void 0:v.junction_field),junction:i,type:"m2m"}})}}function fa(e,t){const n=mt(),l=Xe(),o=Me();return{relationInfo:V(()=>{const r=n.getRelationsForField(e.value,t.value);if(r.length!==1)return;const i=r[0];return{relation:i,relatedCollection:l.getCollection(i.related_collection),relatedPrimaryKeyField:o.getPrimaryKeyFieldForCollection(i.related_collection),type:"m2o"}})}}function Rs(e,t){const n=mt(),l=Xe(),o=Me();return{relationInfo:V(()=>{var s,p,f;const r=n.getRelationsForField(e.value,t.value);if(r.length!==1)return;const i=r[0];return{relation:i,relatedCollection:l.getCollection(i.collection),relatedPrimaryKeyField:o.getPrimaryKeyFieldForCollection(i.collection),reverseJunctionField:o.getField(i.collection,(s=i.meta)==null?void 0:s.many_field),sortField:(f=(p=i.meta)==null?void 0:p.sort_field)!=null?f:void 0,type:"o2m"}})}}function _a(e,t,n){const l=D(null),o=D(!1);return he([e,t,n],i,{immediate:!0}),{update:u,remove:r,displayItem:l,loading:o};function u(s){if(!n.value)return;const p=n.value.relatedPrimaryKeyField.field;if(e.value&&typeof s=="object"&&!(p in s)){const f=typeof e.value=="object"?e.value[p]:e.value;s[p]=f}e.value=s}function r(){e.value=null}async function i(){const s=e.value;if(!s){l.value=null;return}if(!n.value)return;const p=n.value.relatedCollection.collection,f=n.value.relatedPrimaryKeyField.field,_=typeof s=="object"?s[n.value.relatedPrimaryKeyField.field]:s;if(!_){l.value=s;return}const v=new Set(t.value.fields);v.add(f),o.value=!0;try{const y=await me.get(jt(p)+`/${encodeURIComponent(_)}`,{params:{fields:Array.from(v)}});typeof s=="object"?l.value=z.exports.merge({},y.data.data,s):l.value=y.data.data}catch(y){typeof s=="object"&&y.response&&y.response.status===403?l.value=s:Pe(y)}finally{o.value=!1}}}function el(e,t,n,l){const o=D(!1),u=D([]),r=D(0),{cleanItem:i,getPage:s,localDelete:p}=j(),f=V({get(){return Array.isArray(e.value)?{create:[],update:[],delete:[]}:e.value},set(U){e.value=U}});he(e,(U,B)=>{Array.isArray(U)&&z.exports.isPlainObject(B)&&L()}),he([t,l,n],L,{immediate:!0});const{fetchedSelectItems:_,selected:v,isItemSelected:y}=T(),g=V(()=>{var U;return((U=n.value)==null?void 0:U.type)==="o2m"?r.value+f.value.create.length+v.value.length:r.value+f.value.create.length}),h=V(()=>{const U=n.value;return(U==null?void 0:U.type)===void 0?[]:U.type==="o2m"?f.value.create:f.value.create.filter(B=>B[U.reverseJunctionField.field]===void 0)}),b=V(()=>{if(!n.value)return[];const U=n.value.type==="o2m"?n.value.relatedPrimaryKeyField.field:n.value.junctionPrimaryKeyField.field,B=u.value.map(W=>{const G=f.value.update.findIndex(ee=>typeof ee=="object"&&ee[U]===W[U]),Q=f.value.delete.findIndex(ee=>ee===W[U]),X=z.exports.cloneDeep(W);return G!==-1&&z.exports.merge(X,{$type:"updated",$index:G,$edits:G},f.value.update[G]),Q!==-1&&z.exports.merge(X,{$type:"deleted",$index:Q}),X}),K=_.value.map(W=>{const G=v.value.find(Q=>{var X;switch((X=n.value)==null?void 0:X.type){case"o2m":return Q[U]===W[U];case"m2m":return Q[n.value.junctionField.field][n.value.relatedPrimaryKeyField.field]===W[n.value.junctionField.field][n.value.relatedPrimaryKeyField.field];case"m2a":{const ee=W[n.value.collectionField.field],le=Q[n.value.collectionField.field],te=n.value.relationPrimaryKeyFields[ee].field,re=n.value.relationPrimaryKeyFields[le].field;return ee===le&&Q[n.value.junctionField.field][re]===W[n.value.junctionField.field][te]}}});return G?z.exports.merge({},W,G):W}),J=s(r.value+v.value.length,h.value);B.push(...K,...J.map((W,G)=>Ie(ve({},W),{$type:"created",$index:G})));const Y=n.value.sortField;return t.value.limit>0&&g.value>t.value.limit||!Y?B:B.sort((W,G)=>W[Y]-G[Y])}),{create:S,remove:I,select:E,update:R}=O(f);return{create:S,update:R,remove:I,select:E,displayItems:b,totalItemCount:g,loading:o,selected:v,fetchedSelectItems:_,fetchedItems:u,useActions:O,cleanItem:i,isItemSelected:y,localDelete:p};function O(U){return{create:B,update:K,remove:J,select:Y};function B(...G){for(const Q of G)U.value.create.push(i(Q));W()}function K(...G){if(!!n.value){for(const Q of G)Q.$type===void 0||Q.$index===void 0?U.value.update.push(Q):Q.$type==="created"?U.value.create[Q.$index]=i(Q):Q.$type==="updated"?U.value.update[Q.$index]=i(Q):Q.$type==="deleted"&&(Q.$edits!==void 0?U.value.update[Q.$edits]=i(Q):U.value.update.push(i(Q)));W()}}function J(...G){if(!n.value)return;const Q=n.value.type==="o2m"?n.value.relatedPrimaryKeyField.field:n.value.junctionPrimaryKeyField.field;for(const X of G)X.$type===void 0||X.$index===void 0?U.value.delete.push(X[Q]):X.$type==="created"?U.value.create.splice(X.$index,1):X.$type==="updated"?y(X)?U.value.update.splice(X.$index,1):U.value.delete.push(X[Q]):X.$type==="deleted"&&U.value.delete.splice(X.$index,1);W()}function Y(G,Q){var le;const X=n.value;if(!X)return;const ee=G.map(te=>{switch(X.type){case"o2m":return{[X.reverseJunctionField.field]:l.value,[X.relatedPrimaryKeyField.field]:te};case"m2m":return{[X.reverseJunctionField.field]:l.value,[X.junctionField.field]:{[X.relatedPrimaryKeyField.field]:te}};case"m2a":{if(!Q)throw new Error("You need to provide a collection on an m2a");return{[X.reverseJunctionField.field]:l.value,[X.collectionField.field]:Q,[X.junctionField.field]:{[X.relationPrimaryKeyFields[Q].field]:te}}}}});((le=n.value)==null?void 0:le.type)==="o2m"?K(...ee):B(...ee)}function W(){U.value=z.exports.cloneDeep(U.value)}}async function L(){if(!n.value)return;if(!l.value||l.value==="+"){r.value=0,u.value=[];return}let U,B,K;const J=new Set(t.value.fields);switch(n.value.type){case"m2a":U=n.value.junctionCollection.collection,B=n.value.junctionPrimaryKeyField.field,K=n.value.reverseJunctionField.field,J.add(n.value.junctionPrimaryKeyField.field),J.add(n.value.collectionField.field);for(const Y of n.value.allowedCollections){const W=n.value.relationPrimaryKeyFields[Y.collection];J.add(`${n.value.junctionField.field}:${Y.collection}.${W.field}`)}break;case"m2m":U=n.value.junctionCollection.collection,B=n.value.junctionPrimaryKeyField.field,K=n.value.reverseJunctionField.field,J.add(n.value.junctionPrimaryKeyField.field),J.add(`${n.value.junctionField.field}.${n.value.relatedPrimaryKeyField.field}`);break;case"o2m":U=n.value.relatedCollection.collection,B=n.value.relatedPrimaryKeyField.field,K=n.value.reverseJunctionField.field,J.add(n.value.relatedPrimaryKeyField.field);break}n.value.sortField&&J.add(n.value.sortField);try{o.value=!0,await q(U,B,K);const Y=await me.get(jt(U),{params:{fields:Array.from(J),filter:{[K]:l.value},page:t.value.page,limit:t.value.limit}});u.value=Y.data.data}catch(Y){Pe(Y)}finally{o.value=!1}}async function q(U,B,K){const J=await me.get(jt(U),{params:{aggregate:{count:B},filter:{[K]:l.value}}});r.value=Number(J.data.data[0].count[B])}function T(){const U=D([]),B=V(()=>{var ee;return n.value?((ee=n.value)==null?void 0:ee.type)==="o2m"?f.value.update.map((le,te)=>Ie(ve({},le),{$index:te,$type:"updated"})).filter(J):f.value.create.map((le,te)=>Ie(ve({},le),{$index:te,$type:"created"})).filter(J):[]}),K=V(()=>s(r.value,B.value));return he(K,(X,ee)=>{z.exports.isEqual(X,ee)||Y()},{immediate:!0}),{fetchedSelectItems:U,selected:B,isItemSelected:J};function J(X){return n.value!==void 0&&X[n.value.reverseJunctionField.field]!==void 0}async function Y(){var X;switch((X=n.value)==null?void 0:X.type){case"o2m":return W(n.value);case"m2m":return G(n.value);case"m2a":return Q(n.value)}}async function W(X){if(K.value.length===0){U.value=[];return}const ee=X.relatedCollection.collection,le=X.relatedPrimaryKeyField.field,te=await me.get(jt(ee),{params:{filter:{[le]:{_in:K.value.map(re=>re[le])}},limit:-1}});U.value=te.data.data}async function G(X){if(K.value.length===0){U.value=[];return}const ee=X.relatedPrimaryKeyField.field,le=await me.get(jt(X.relatedCollection.collection),{params:{filter:{[ee]:{_in:K.value.map(te=>te[X.junctionField.field][ee])}},limit:-1}});U.value=le.data.data.map(te=>({[X.junctionField.field]:te}))}async function Q(X){if(K.value.length===0){U.value=[];return}const ee=X.collectionField.field,le=K.value.reduce((re,ye)=>{const fe=ye[ee];return fe in re||(re[fe]=[]),re[fe].push(ye),re},{}),te=await Promise.all(Object.entries(le).map(([re,ye])=>{const fe=X.relationPrimaryKeyFields[re].field;return me.get(jt(re),{params:{filter:{[fe]:{_in:ye.map(ue=>ue[X.junctionField.field][fe])}},limit:-1}})}));U.value=te.reduce((re,ye,fe)=>(re.push(...ye.data.data.map(ue=>({[X.collectionField.field]:Object.keys(le)[fe],[X.junctionField.field]:ue}))),re),[])}}function j(){return{cleanItem:U,getPage:K,localDelete:B};function U(J){return Object.entries(J).reduce((Y,[W,G])=>(W.startsWith("$")||(Y[W]=G),Y),{})}function B(J){return J.$type!==void 0&&(J.$type!=="updated"||y(J))}function K(J,Y){if(t.value.limit===-1)return Y;const W=z.exports.clamp((t.value.page-1)*t.value.limit-J,0,Y.length),G=z.exports.clamp(t.value.page*t.value.limit-J,0,Y.length);return Y.slice(W,G)}}}const mG={class:"file"},fG=["src","alt"],_G={key:1,class:"extension"},vG=Z({props:{value:{default:()=>null},disabled:{type:Boolean,default:!1},folder:null,collection:null,field:null},emits:["input"],setup(e,{emit:t}){const n=e,l=V({get:()=>{var B;return(B=n.value)!=null?B:null},set:B=>{t("input",B)}}),o=D({fields:["id","title","type","filename_download"]}),{collection:u,field:r}=ze(n),{relationInfo:i}=fa(u,r),{displayItem:s,loading:p,update:f,remove:_}=_a(l,o,i),{t:v}=ae(),y=D(null),g=V(()=>s.value===null?null:an(s.value.type,!0)),h=V(()=>{var K;const B=typeof n.value=="string"?n.value:(K=n.value)==null?void 0:K.id;return ct(tt()+`assets/${B}`)}),b=V(()=>s.value===null||n.value===null?null:s.value.type.includes("svg")?h.value:s.value.type.includes("image")===!1?null:$o(h.value,{key:"system-small-cover"})),S=D(null),{url:I,isValidURL:E,loading:R,importFromURL:O}=U(),L=D(!1),q=V(()=>!n.value||typeof n.value!="object"?{}:n.value);function T(B){B[0]?f(B[0]):_()}function j(B){s.value=B,y.value=null,f(B.id)}function U(){const B=D(""),K=D(!1),J=V(()=>{try{return new URL(B.value),!0}catch{return!1}});return{url:B,loading:K,isValidURL:J,importFromURL:Y};async function Y(){var W;K.value=!0;try{const G=await me.post("/files/import",{url:B.value,data:{folder:n.folder}});s.value=G.data.data,y.value=null,B.value="",f((W=s.value)==null?void 0:W.id)}catch(G){Pe(G)}finally{K.value=!1}}}return(B,K)=>{const J=c("v-skeleton-loader"),Y=c("v-icon"),W=c("v-input"),G=c("v-list-item-icon"),Q=c("v-list-item-content"),X=c("v-list-item"),ee=c("v-divider"),le=c("v-list"),te=c("v-menu"),re=c("v-card-title"),ye=c("v-upload"),fe=c("v-card-text"),ue=c("v-button"),_e=c("v-card-actions"),ce=c("v-card"),oe=c("v-dialog"),ne=Fe("tooltip");return m(),A("div",mG,[a(te,{attached:"",disabled:C(p)},{activator:d(({toggle:x})=>[$("div",null,[C(p)?(m(),F(J,{key:0,type:"input"})):(m(),F(W,{key:1,clickable:"",readonly:"",disabled:e.disabled,placeholder:C(v)("no_file_selected"),"model-value":C(s)&&C(s).title,onClick:x},{prepend:d(()=>{var pe,ge,$e;return[$("div",{class:de(["preview",{"has-file":C(s),"is-svg":(ge=(pe=C(s))==null?void 0:pe.type)==null?void 0:ge.includes("svg")}])},[C(b)&&!S.value?(m(),A("img",{key:0,src:C(b),alt:($e=C(s))==null?void 0:$e.title,onError:K[0]||(K[0]=we=>S.value=we)},null,40,fG)):C(g)?(m(),A("span",_G,w(C(g)),1)):(m(),F(Y,{key:2,name:"folder_open"}))],2)]}),append:d(()=>[C(s)?(m(),A(se,{key:0},[ie(a(Y,{name:"open_in_new",class:"edit",onClick:K[1]||(K[1]=Te(pe=>L.value=!0,["stop"]))},null,512),[[ne,C(v)("edit")]]),e.disabled?M("",!0):ie((m(),F(Y,{key:0,class:"deselect",name:"close",onClick:Te(C(_),["stop"])},null,8,["onClick"])),[[ne,C(v)("deselect")]])],64)):(m(),F(Y,{key:1,name:"attach_file"}))]),_:2},1032,["disabled","placeholder","model-value","onClick"]))])]),default:d(()=>[a(le,null,{default:d(()=>[C(s)?(m(),A(se,{key:0},[a(X,{download:C(s).filename_download,href:C(h)},{default:d(()=>[a(G,null,{default:d(()=>[a(Y,{name:"get_app"})]),_:1}),a(Q,null,{default:d(()=>[P(w(C(v)("download_file")),1)]),_:1})]),_:1},8,["download","href"]),e.disabled?M("",!0):(m(),F(ee,{key:0}))],64)):M("",!0),e.disabled?M("",!0):(m(),A(se,{key:1},[a(X,{clickable:"",onClick:K[2]||(K[2]=x=>y.value="upload")},{default:d(()=>[a(G,null,{default:d(()=>[a(Y,{name:"phonelink"})]),_:1}),a(Q,null,{default:d(()=>[P(w(C(v)(C(s)?"replace_from_device":"upload_from_device")),1)]),_:1})]),_:1}),a(X,{clickable:"",onClick:K[3]||(K[3]=x=>y.value="choose")},{default:d(()=>[a(G,null,{default:d(()=>[a(Y,{name:"folder_open"})]),_:1}),a(Q,null,{default:d(()=>[P(w(C(v)(C(s)?"replace_from_library":"choose_from_library")),1)]),_:1})]),_:1}),a(X,{clickable:"",onClick:K[4]||(K[4]=x=>y.value="url")},{default:d(()=>[a(G,null,{default:d(()=>[a(Y,{name:"link"})]),_:1}),a(Q,null,{default:d(()=>[P(w(C(v)(C(s)?"replace_from_url":"import_from_url")),1)]),_:1})]),_:1})],64))]),_:1})]),_:1},8,["disabled"]),C(s)?(m(),F(C(Ht),{key:0,active:L.value,"onUpdate:active":K[5]||(K[5]=x=>L.value=x),collection:"directus_files","primary-key":C(s).id,edits:C(q),disabled:e.disabled,onInput:C(f)},null,8,["active","primary-key","edits","disabled","onInput"])):M("",!0),a(oe,{"model-value":y.value==="upload",onEsc:K[7]||(K[7]=x=>y.value=null),"onUpdate:modelValue":K[8]||(K[8]=x=>y.value=null)},{default:d(()=>[a(ce,null,{default:d(()=>[a(re,null,{default:d(()=>[P(w(C(v)("upload_from_device")),1)]),_:1}),a(fe,null,{default:d(()=>[a(ye,{"from-url":"",folder:e.folder,onInput:j},null,8,["folder"])]),_:1}),a(_e,null,{default:d(()=>[a(ue,{secondary:"",onClick:K[6]||(K[6]=x=>y.value=null)},{default:d(()=>[P(w(C(v)("cancel")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["model-value"]),y.value==="choose"?(m(),F(C(mn),{key:1,collection:"directus_files",active:y.value==="choose","onUpdate:active":K[9]||(K[9]=x=>y.value=null),onInput:T},null,8,["active"])):M("",!0),a(oe,{"model-value":y.value==="url",persistent:C(R),"onUpdate:modelValue":K[12]||(K[12]=x=>y.value=null),onEsc:K[13]||(K[13]=x=>y.value=null)},{default:d(()=>[a(ce,null,{default:d(()=>[a(re,null,{default:d(()=>[P(w(C(v)("import_from_url")),1)]),_:1}),a(fe,null,{default:d(()=>[a(W,{modelValue:C(I),"onUpdate:modelValue":K[10]||(K[10]=x=>ut(I)?I.value=x:null),autofocus:"",placeholder:C(v)("url"),nullable:!1,disabled:C(R)},null,8,["modelValue","placeholder","disabled"])]),_:1}),a(_e,null,{default:d(()=>[a(ue,{disabled:C(R),secondary:"",onClick:K[11]||(K[11]=x=>y.value=null)},{default:d(()=>[P(w(C(v)("cancel")),1)]),_:1},8,["disabled"]),a(ue,{loading:C(R),disabled:C(E)===!1,onClick:C(O)},{default:d(()=>[P(w(C(v)("import_label")),1)]),_:1},8,["loading","disabled","onClick"])]),_:1})]),_:1})]),_:1},8,["model-value","persistent"])])}}});var yG=H(vG,[["__scopeId","data-v-4d6529e5"]]),hG=`<svg width="156" height="96" fill="none" xmlns="http://www.w3.org/2000/svg">
	<rect x="18" y="13" width="120" height="70" rx="6" fill="var(--background-page)" class="glow"/>
	<rect x="19" y="14" width="118" height="68" rx="5" stroke="var(--primary)" stroke-width="2"/>
	<rect x="24" y="19" width="108" height="58" rx="2" fill="var(--primary)" fill-opacity=".25"/>
	<mask id="b" fill="#fff">
		<path fill-rule="evenodd" clip-rule="evenodd" d="M87.666 26.586A2 2 0 0 0 86.252 26H63a2 2 0 0 0-2 2v40a2 2 0 0 0 2 2h30a2 2 0 0 0 2-2V34.748a2 2 0 0 0-.586-1.414l-6.748-6.748ZM68 52a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2h-6a2 2 0 0 1-2-2v-2Zm2-12a2 2 0 0 0-2 2v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a2 2 0 0 0-2-2H70Z"/>
	</mask>
	<path fill-rule="evenodd" clip-rule="evenodd" d="M87.666 26.586A2 2 0 0 0 86.252 26H63a2 2 0 0 0-2 2v40a2 2 0 0 0 2 2h30a2 2 0 0 0 2-2V34.748a2 2 0 0 0-.586-1.414l-6.748-6.748ZM68 52a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2h-6a2 2 0 0 1-2-2v-2Zm2-12a2 2 0 0 0-2 2v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a2 2 0 0 0-2-2H70Z" fill="var(--primary)"/>
	<path d="M87.666 26.586 86.252 28l1.414-1.414Zm6.748 6.748 1.414-1.414-1.414 1.414ZM86.252 28l2.828-2.828A4 4 0 0 0 86.252 24v4ZM63 28h23.252v-4H63v4Zm0 0v-4a4 4 0 0 0-4 4h4Zm0 40V28h-4v40h4Zm0 0h-4a4 4 0 0 0 4 4v-4Zm30 0H63v4h30v-4Zm0 0v4a4 4 0 0 0 4-4h-4Zm0-33.252V68h4V34.748h-4Zm0 0h4a4 4 0 0 0-1.172-2.828L93 34.748ZM86.252 28 93 34.748l2.828-2.828-6.748-6.748L86.252 28ZM70 48a4 4 0 0 0-4 4h4v-4Zm6 0h-6v4h6v-4Zm4 4a4 4 0 0 0-4-4v4h4Zm0 2v-2h-4v2h4Zm-4 4a4 4 0 0 0 4-4h-4v4Zm-6 0h6v-4h-6v4Zm-4-4a4 4 0 0 0 4 4v-4h-4Zm0-2v2h4v-2h-4Zm4-10v-4a4 4 0 0 0-4 4h4Zm0 2v-2h-4v2h4Zm0 0h-4a4 4 0 0 0 4 4v-4Zm16 0H70v4h16v-4Zm0 0v4a4 4 0 0 0 4-4h-4Zm0-2v2h4v-2h-4Zm0 0h4a4 4 0 0 0-4-4v4Zm-16 0h16v-4H70v4Z" fill="var(--primary)" mask="url(#b)"/>
</svg>
`,gG=Ze({id:"file",name:"$t:interfaces.file.file",description:"$t:interfaces.file.description",icon:"note_add",component:yG,types:["uuid"],localTypes:["file"],group:"relational",relational:!0,options:[{field:"folder",name:"$t:interfaces.system-folder.folder",type:"uuid",meta:{width:"full",interface:"system-folder",note:"$t:interfaces.system-folder.field_hint"},schema:{default_value:void 0}}],recommendedDisplays:["file"],preview:hG}),bG=Object.freeze(Object.defineProperty({__proto__:null,default:gG},Symbol.toStringTag,{value:"Module"}));const wG=Z({components:{FilePreview:Io},props:{id:{type:String,required:!0},modelValue:{type:Boolean,default:void 0}},emits:["update:modelValue"],setup(e,{emit:t}){const n=D(!1),l=V({get(){return e.modelValue===void 0?n.value:e.modelValue},set(p){n.value=p,t("update:modelValue",p)}}),o=D(!1),u=D(null),r=D(Tt()),i=V(()=>ct(tt()+`assets/${e.id}?cache-buster=${r.value}`));return he([()=>e.id,l],([p,f])=>{f&&p&&s()},{immediate:!0}),{internalActive:l,cacheBuster:r,loading:o,file:u,fileSrc:i};async function s(){r.value=Tt(),o.value=!0;try{const p=await me.get(`/files/${e.id}`,{params:{fields:["type","width","height","title"]}});u.value=p.data.data}catch(p){Pe(p)}finally{o.value=!1}}}});function kG(e,t,n,l,o,u){const r=c("v-progress-circular"),i=c("file-preview"),s=c("v-icon"),p=c("v-button"),f=c("v-dialog");return m(),F(f,{modelValue:e.internalActive,"onUpdate:modelValue":t[2]||(t[2]=_=>e.internalActive=_),onEsc:t[3]||(t[3]=_=>e.internalActive=!1)},{activator:d(_=>[ke(e.$slots,"activator",nt(lt(_)),void 0,!0)]),default:d(()=>[e.loading?(m(),F(r,{key:0,indeterminate:""})):e.file?(m(),F(i,{key:1,src:e.fileSrc,mime:e.file.type,width:e.file.width,height:e.file.height,title:e.file.title,"in-modal":"",onClick:t[0]||(t[0]=_=>e.internalActive=!1)},null,8,["src","mime","width","height","title"])):M("",!0),a(p,{class:"close",icon:"",rounded:"",onClick:t[1]||(t[1]=_=>e.internalActive=!1)},{default:d(()=>[a(s,{name:"close"})]),_:1})]),_:3},8,["modelValue"])}var $G=H(wG,[["render",kG],["__scopeId","data-v-8070885a"]]);const CG=e=>(xe("data-v-281789d8"),e=e(),et(),e),SG={key:0,class:"image-error"},FG={class:"message"},VG=["src","width","height"],AG={key:2,class:"fallback"},IG=CG(()=>$("div",{class:"shadow"},null,-1)),EG={key:3,class:"actions"},DG={class:"info"},PG={class:"title"},TG={class:"meta"},OG=Z({props:{value:{default:()=>null},disabled:{type:Boolean,default:!1},folder:{default:void 0},collection:null,field:null,width:null,crop:{type:Boolean,default:!0}},emits:["input"],setup(e,{emit:t}){const n=e,l=V({get:()=>{var U;return(U=n.value)!=null?U:null},set:U=>{t("input",U)}}),o=D({fields:["id","title","width","height","filesize","type","filename_download"]}),{collection:u,field:r}=ze(n),{relationInfo:i}=fa(u,r),{displayItem:s,loading:p,update:f,remove:_}=_a(l,o,i),{t:v,n:y,te:g}=ae(),h=D(!1),b=D(!1),S=D(null),I=D(Tt()),E=V(()=>{if(!s.value)return null;if(s.value.type.includes("svg"))return ct(tt()+`assets/${s.value.id}`);if(s.value.type.includes("image")){const U=n.crop?"cover":"contain",B=tt()+`assets/${s.value.id}?key=system-large-${U}&cache-buster=${I.value}`;return ct(B)}return null}),R=V(()=>s.value?an(s.value.type,!0):"unknown"),O=V(()=>s.value?ct(tt()+`assets/${s.value.id}`):null),L=V(()=>{if(!s.value)return null;const{filesize:U,width:B,height:K,type:J}=s.value;return B&&K?`${y(B)}x${y(K)} \u2022 ${pl(U)} \u2022 ${J}`:`${pl(U)} \u2022 ${J}`});async function q(){var U,B,K,J;if(!!E.value)try{await me.get(E.value)}catch(Y){S.value=(J=(K=(B=(U=Y.response)==null?void 0:U.data)==null?void 0:B.errors[0])==null?void 0:K.extensions)==null?void 0:J.code,(!S.value||!g("errors."+S.value))&&(S.value="UNKNOWN")}}function T(){_(),p.value=!1,h.value=!1,b.value=!1}const j=V(()=>!n.value||typeof n.value!="object"?{}:n.value);return(U,B)=>{const K=c("v-skeleton-loader"),J=c("v-notice"),Y=c("v-icon"),W=c("v-icon-file"),G=c("v-button"),Q=c("v-upload"),X=Fe("tooltip");return m(),A("div",{class:de(["image",[e.width,{crop:e.crop}]])},[C(p)?(m(),F(K,{key:0,type:"input-tall"})):e.disabled&&!C(s)?(m(),F(J,{key:1,class:"disabled-placeholder",center:"",icon:"block"},{default:d(()=>[P(w(C(v)("disabled")),1)]),_:1})):C(s)?(m(),A("div",{key:2,class:de(["image-preview",{"is-svg":C(s).type&&C(s).type.includes("svg")}])},[S.value||!C(E)?(m(),A("div",SG,[a(Y,{large:"",name:S.value==="UNKNOWN"?"error_outline":"info_outline"},null,8,["name"]),$("span",FG,w(C(v)(`errors.${S.value}`)),1)])):C(s).type.startsWith("image")?(m(),A("img",{key:1,src:C(E),width:C(s).width,height:C(s).height,alt:"",role:"presentation",onError:q},null,40,VG)):(m(),A("div",AG,[a(W,{ext:C(R)},null,8,["ext"])])),IG,e.disabled?M("",!0):(m(),A("div",EG,[ie(a(G,{icon:"",rounded:"",onClick:B[0]||(B[0]=ee=>h.value=!0)},{default:d(()=>[a(Y,{name:"zoom_in"})]),_:1},512),[[X,C(v)("zoom")]]),ie(a(G,{icon:"",rounded:"",href:C(O),download:C(s).filename_download},{default:d(()=>[a(Y,{name:"get_app"})]),_:1},8,["href","download"]),[[X,C(v)("download")]]),ie(a(G,{icon:"",rounded:"",onClick:B[1]||(B[1]=ee=>b.value=!0)},{default:d(()=>[a(Y,{name:"open_in_new"})]),_:1},512),[[X,C(v)("edit")]]),ie(a(G,{icon:"",rounded:"",onClick:T},{default:d(()=>[a(Y,{name:"close"})]),_:1},512),[[X,C(v)("deselect")]])])),$("div",DG,[$("div",PG,w(C(s).title),1),$("div",TG,w(C(L)),1)]),!e.disabled&&C(s)?(m(),F(C(Ht),{key:4,active:b.value,"onUpdate:active":B[2]||(B[2]=ee=>b.value=ee),collection:"directus_files","primary-key":C(s).id,edits:C(j),onInput:C(f)},null,8,["active","primary-key","edits","onInput"])):M("",!0),a(C($G),{id:C(s).id,modelValue:h.value,"onUpdate:modelValue":B[3]||(B[3]=ee=>h.value=ee)},null,8,["id","modelValue"])],2)):(m(),F(Q,{key:3,"from-library":"","from-url":"",folder:e.folder,onInput:B[4]||(B[4]=ee=>C(f)(ee.id))},null,8,["folder"]))],2)}}});var LG=H(OG,[["__scopeId","data-v-281789d8"]]),jG=`<svg width="156" height="96" fill="none" xmlns="http://www.w3.org/2000/svg">
	<rect x="18" y="13" width="120" height="70" rx="6" fill="var(--background-page)" class="glow"/>
	<rect x="19" y="14" width="118" height="68" rx="5" stroke="var(--primary)" stroke-width="2"/>
	<rect x="24" y="19" width="108" height="58" rx="2" fill="var(--primary)" fill-opacity=".25"/>
	<path fill-rule="evenodd" clip-rule="evenodd" d="m125.294 69-35-29-25.213 20.891L52 49 30 69h95.294Z" fill="var(--primary)"/>
	<path d="M50 35a7 7 0 1 1-14 0 7 7 0 0 1 14 0Z" fill="var(--primary)"/>
</svg>
`,RG=Ze({id:"file-image",name:"$t:interfaces.file-image.image",description:"$t:interfaces.file-image.description",icon:"insert_photo",component:LG,types:["uuid"],localTypes:["file"],group:"relational",relational:!0,options:[{field:"folder",name:"$t:interfaces.system-folder.folder",type:"uuid",meta:{width:"half",interface:"system-folder",note:"$t:interfaces.system-folder.field_hint"},schema:{default_value:void 0}},{field:"crop",name:"$t:interfaces.file-image.crop",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:interfaces.file-image.crop_label"}},schema:{default_value:!0}}],recommendedDisplays:["image"],preview:jG}),MG=Object.freeze(Object.defineProperty({__proto__:null,default:RG},Symbol.toStringTag,{value:"Module"}));const UG=e=>(xe("data-v-07d8c612"),e=e(),et(),e),NG={key:1,class:"many-to-many"},BG=UG(()=>$("div",{class:"spacer"},null,-1)),qG={class:"actions"},zG=Z({props:{value:{default:()=>[]},primaryKey:null,collection:null,field:null,template:{default:()=>null},disabled:{type:Boolean,default:!1},enableCreate:{type:Boolean,default:!0},enableSelect:{type:Boolean,default:!0},folder:{default:void 0}},emits:["input"],setup(e,{emit:t}){const n=e,{t:l}=ae(),{collection:o,field:u,primaryKey:r}=ze(n),{relationInfo:i}=ma(o,u),s=V({get:()=>n.value,set:x=>{t("input",x)}}),p=V(()=>{var pe,ge,$e;if(!i.value)return null;if(n.template)return n.template;if((pe=i.value.junctionCollection.meta)==null?void 0:pe.display_template)return(ge=i.value.junctionCollection.meta)==null?void 0:ge.display_template;let x=($e=i.value.relatedCollection.meta)==null?void 0:$e.display_template;if(x){const we=/({{.*?}})/g,be=x.split(we).filter(De=>De);for(const De of be){if(De.startsWith("{{")===!1)continue;const qe=De.replace(/{{/g,"").replace(/}}/g,"").trim(),Ke=`{{${i.value.relation.field}.${qe}}}`;x=x.replace(De,Ke)}return x}return`{{${i.value.relation.field}.${i.value.relatedPrimaryKeyField.field}}}`}),f=V(()=>{var x,pe;return tn(St(p.value),(pe=(x=i.value)==null?void 0:x.junctionCollection.collection)!=null?pe:"")}),_=D(15),v=D(1),y=V(()=>({fields:f.value,limit:_.value,page:v.value})),{create:g,update:h,remove:b,select:S,displayItems:I,totalItemCount:E,loading:R,selected:O,isItemSelected:L,localDelete:q}=el(s,y,i,r),T=V(()=>Math.ceil(E.value/_.value)),j=V(()=>{var x;return E.value<=_.value&&((x=i.value)==null?void 0:x.sortField)!==void 0&&!n.disabled});function U(x){return x.$type==="deleted"?"settings_backup_restore":q(x)?"delete":"close"}function B(x){var $e;const pe=($e=i.value)==null?void 0:$e.sortField;if(!pe)return;const ge=x.map((we,be)=>Ie(ve({},we),{[pe]:be}));h(...ge)}const K=V(()=>{if(!i.value)return[];const x=i.value.junctionField.field,pe=i.value.relatedPrimaryKeyField.field;return O.value.map(ge=>ge[x][pe])}),J=D(!1),Y=D(null),W=D(null),G=D(!1),Q=D({});function X(x){if(!i.value)return;const pe=i.value.relatedPrimaryKeyField.field,ge=i.value.junctionPrimaryKeyField.field;Q.value=x,J.value=!0,(x==null?void 0:x.$type)==="created"&&!L(x)?(Y.value=null,W.value=null):(Y.value=z.exports.get(x,[ge],null),W.value=z.exports.get(x,[ge,pe],null))}function ee(){J.value=!1}function le(x){v.value===Math.ceil(E.value/_.value)&&v.value!==Math.ceil((E.value-1)/_.value)&&(v.value=Math.max(1,v.value-1)),b(x)}const te=D(!1);function re(x){if(te.value=!1,x.length===0||!i.value)return;const pe=i.value.junctionField.field,ge=i.value.reverseJunctionField.field,$e=i.value.relatedPrimaryKeyField.field,we=x.map(be=>({[ge]:r.value,[pe]:{[$e]:be.id}}));g(...we)}const ye=V(()=>{var x;if(!(W.value===null||((x=i.value)==null?void 0:x.relatedCollection.collection)!=="directus_files"))return ct(tt()+`assets/${W.value}`)});function fe(x,pe){var we,be,De,qe;const ge=(we=i.value)==null?void 0:we.junctionField.field;if(!ge)return;const $e=(qe=(De=(be=x[ge])==null?void 0:be.id)!=null?De:x[ge])!=null?qe:null;return $e?ct(pe?tt()+`assets/${$e}?download`:tt()+`assets/${$e}`):null}const ue=V(()=>{const x={_and:[]};if(!i.value)return x;const ge={[`$FOLLOW(${i.value.junctionCollection.collection},${i.value.junctionField.field})`]:{_none:{[i.value.reverseJunctionField.field]:{_eq:n.primaryKey}}}};return K.value.length>0&&x._and.push({[i.value.relatedPrimaryKeyField.field]:{_nin:K.value}}),n.primaryKey!=="+"&&x._and.push(ge),x}),_e=Ye(),ce=Vt(),oe=V(()=>{var $e;if((($e=_e.currentUser)==null?void 0:$e.role.admin_access)===!0)return!0;const pe=!!ce.permissions.find(we=>{var be;return we.action==="create"&&we.collection===((be=i.value)==null?void 0:be.junctionCollection.collection)}),ge=!!ce.permissions.find(we=>{var be;return we.action==="create"&&we.collection===((be=i.value)==null?void 0:be.relatedCollection.collection)});return pe&&ge}),ne=V(()=>{var ge;return((ge=_e.currentUser)==null?void 0:ge.role.admin_access)===!0?!0:!!ce.permissions.find($e=>{var we;return $e.action==="create"&&$e.collection===((we=i.value)==null?void 0:we.junctionCollection.collection)})});return(x,pe)=>{const ge=c("v-notice"),$e=c("v-skeleton-loader"),we=c("v-icon"),be=c("render-template"),De=c("v-list-item-icon"),qe=c("v-list-item-content"),Ke=c("v-list-item"),je=c("v-list"),Ue=c("v-menu"),Le=c("v-button"),Ee=c("v-pagination"),Ce=c("v-card-title"),Ne=c("v-upload"),Se=c("v-card-text"),Ae=c("v-card-actions"),Oe=c("v-card"),Qe=c("v-dialog");return C(i)?(m(),A("div",NG,[C(R)?(m(!0),A(se,{key:0},Ve(C(z.exports.clamp)(C(E)-(v.value-1)*_.value,1,_.value),We=>(m(),F($e,{key:We,type:C(E)>4?"block-list-item-dense":"block-list-item"},null,8,["type"]))),128)):C(I).length===0?(m(),F(ge,{key:1},{default:d(()=>[P(w(C(l)("no_items")),1)]),_:1})):(m(),F(je,{key:2},{default:d(()=>[a(C(Ot),{"force-fallback":!0,"model-value":C(I),"item-key":"id",handle:".drag-handle",disabled:!C(j),"onUpdate:modelValue":pe[1]||(pe[1]=We=>B(We))},{item:d(({element:We})=>[a(Ke,{class:de({deleted:We.$type==="deleted"}),dense:C(E)>4,block:"",clickable:"",onClick:st=>X(We)},{default:d(()=>[C(j)?(m(),F(we,{key:0,name:"drag_handle",class:"drag-handle",left:"",onClick:pe[0]||(pe[0]=Te(()=>{},["stop"]))})):M("",!0),a(be,{collection:C(i).junctionCollection.collection,item:We,template:C(p)},null,8,["collection","item","template"]),BG,e.disabled?M("",!0):(m(),F(we,{key:1,name:U(We),class:"deselect",onClick:Te(st=>le(We),["stop"])},null,8,["name","onClick"])),a(Ue,{"show-arrow":"",placement:"bottom-end"},{activator:d(({toggle:st})=>[a(we,{name:"more_vert",clickable:"",onClick:Te(st,["stop"])},null,8,["onClick"])]),default:d(()=>[a(je,null,{default:d(()=>[a(Ke,{clickable:"",href:fe(We)},{default:d(()=>[a(De,null,{default:d(()=>[a(we,{name:"launch"})]),_:1}),a(qe,null,{default:d(()=>[P(w(C(l)("open_file_in_tab")),1)]),_:1})]),_:2},1032,["href"]),a(Ke,{clickable:"",href:fe(We,!0)},{default:d(()=>[a(De,null,{default:d(()=>[a(we,{name:"download"})]),_:1}),a(qe,null,{default:d(()=>[P(w(C(l)("download_file")),1)]),_:1})]),_:2},1032,["href"])]),_:2},1024)]),_:2},1024)]),_:2},1032,["class","dense","onClick"])]),_:1},8,["model-value","disabled"])]),_:1})),$("div",qG,[e.enableCreate&&C(oe)?(m(),F(Le,{key:0,disabled:e.disabled,onClick:pe[2]||(pe[2]=We=>te.value=!0)},{default:d(()=>[P(w(C(l)("upload_file")),1)]),_:1},8,["disabled"])):M("",!0),e.enableSelect&&C(ne)?(m(),F(Le,{key:1,disabled:e.disabled,onClick:pe[3]||(pe[3]=We=>G.value=!0)},{default:d(()=>[P(w(C(l)("add_existing")),1)]),_:1},8,["disabled"])):M("",!0),C(T)>1?(m(),F(Ee,{key:2,modelValue:v.value,"onUpdate:modelValue":pe[4]||(pe[4]=We=>v.value=We),length:C(T),"total-visible":5},null,8,["modelValue","length"])):M("",!0)]),a(C(Ht),{disabled:e.disabled,active:J.value,collection:C(i).junctionCollection.collection,"primary-key":Y.value||"+","related-primary-key":W.value||"+","junction-field":C(i).junctionField.field,edits:Q.value,"circular-field":C(i).reverseJunctionField.field,onInput:C(h),"onUpdate:active":ee},{actions:d(()=>[Y.value!=="+"&&C(i).relatedCollection.collection==="directus_files"?(m(),F(Le,{key:0,secondary:"",rounded:"",icon:"",download:"",href:C(ye)},{default:d(()=>[a(we,{name:"download"})]),_:1},8,["href"])):M("",!0)]),_:1},8,["disabled","active","collection","primary-key","related-primary-key","junction-field","edits","circular-field","onInput"]),e.disabled?M("",!0):(m(),F(C(mn),{key:3,active:G.value,"onUpdate:active":pe[5]||(pe[5]=We=>G.value=We),collection:C(i).relatedCollection.collection,selection:C(K),filter:C(ue),multiple:"",onInput:C(S)},null,8,["active","collection","selection","filter","onInput"])),e.disabled?M("",!0):(m(),F(Qe,{key:4,modelValue:te.value,"onUpdate:modelValue":pe[7]||(pe[7]=We=>te.value=We)},{default:d(()=>[a(Oe,null,{default:d(()=>[a(Ce,null,{default:d(()=>[P(w(C(l)("upload_file")),1)]),_:1}),a(Se,null,{default:d(()=>[a(Ne,{multiple:"","from-url":"",folder:e.folder,onInput:re},null,8,["folder"])]),_:1}),a(Ae,null,{default:d(()=>[a(Le,{onClick:pe[6]||(pe[6]=We=>te.value=!1)},{default:d(()=>[P(w(C(l)("done")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]))])):(m(),F(ge,{key:0,type:"warning"},{default:d(()=>[P(w(C(l)("relationship_not_setup")),1)]),_:1}))}}});var KG=H(zG,[["__scopeId","data-v-07d8c612"]]),WG=`<svg width="156" height="96" fill="none" xmlns="http://www.w3.org/2000/svg">
	<rect x="19" y="9" width="56" height="36" rx="6" fill="var(--background-page)" class="glow" />
	<rect x="20" y="10" width="54" height="34" rx="5" stroke="var(--primary)" stroke-width="2" />
	<rect x="25" y="15" width="44" height="24" rx="4" fill="var(--primary)" fill-opacity=".25" />
	<path d="M36.695 27.2L45.39 35H28l8.695-7.8z" fill="var(--primary)" />
	<path d="M52.153 23L66 35H38.305l13.848-12z" fill="var(--primary)" />
	<rect x="81" y="9" width="56" height="36" rx="6" fill="var(--background-page)" />
	<rect x="82" y="10" width="54" height="34" rx="5" stroke="var(--primary)" stroke-opacity=".25" stroke-width="2" />
	<rect x="87" y="15" width="44" height="24" rx="4" fill="var(--primary)" fill-opacity=".25" />
	<path d="M98.695 27.2l8.695 7.8H90l8.695-7.8z" fill="var(--primary)" />
	<path d="M114.153 23L128 35h-27.695l13.848-12z" fill="var(--primary)" />
	<rect x="19" y="51" width="56" height="36" rx="6" fill="var(--background-page)" />
	<rect x="20" y="52" width="54" height="34" rx="5" stroke="var(--primary)" stroke-opacity=".25" stroke-width="2" />
	<rect x="25" y="57" width="44" height="24" rx="4" fill="var(--primary)" fill-opacity=".25" />
	<path d="M36.695 69.2L45.39 77H28l8.695-7.8z" fill="var(--primary)" />
	<path d="M52.153 65L66 77H38.305l13.848-12z" fill="var(--primary)" />
	<rect x="81" y="51" width="56" height="36" rx="6" fill="var(--background-page)" />
	<rect x="82" y="52" width="54" height="34" rx="5" stroke="var(--primary)" stroke-opacity=".25" stroke-width="2" />
	<rect x="87" y="57" width="44" height="24" rx="4" fill="var(--primary)" fill-opacity=".25" />
	<path d="M98.695 69.2l8.695 7.8H90l8.695-7.8z" fill="var(--primary)" />
	<path d="M114.153 65L128 77h-27.695l13.848-12z" fill="var(--primary)" />
</svg>
`,HG=Ze({id:"files",name:"$t:interfaces.files.files",description:"$t:interfaces.files.description",icon:"note_add",component:KG,relational:!0,types:["alias"],localTypes:["files"],group:"relational",options:({relations:e})=>{var t;return[{field:"folder",name:"$t:interfaces.system-folder.folder",type:"uuid",meta:{width:"full",interface:"system-folder",note:"$t:interfaces.system-folder.field_hint"},schema:{default_value:void 0}},{field:"template",name:"$t:display_template",meta:{interface:"system-display-template",options:{collectionName:(t=e.o2m)==null?void 0:t.collection}}},{field:"enableCreate",name:"$t:creating_items",schema:{default_value:!0},meta:{interface:"boolean",options:{label:"$t:enable_create_button"},width:"half"}},{field:"enableSelect",name:"$t:selecting_items",schema:{default_value:!0},meta:{interface:"boolean",options:{label:"$t:enable_select_button"},width:"half"}}]},recommendedDisplays:["related-values"],preview:WG}),GG=Object.freeze(Object.defineProperty({__proto__:null,default:HG},Symbol.toStringTag,{value:"Module"}));const ZG=Z({name:"AccordionSection",props:{field:{type:Object,required:!0},fields:{type:Array,required:!0},values:{type:Object,required:!0},initialValues:{type:Object,required:!0},disabled:{type:Boolean,default:!1},batchMode:{type:Boolean,default:!1},batchActiveFields:{type:Array,default:()=>[]},primaryKey:{type:[Number,String],required:!0},loading:{type:Boolean,default:!1},validationErrors:{type:Array,default:()=>[]},group:{type:String,required:!0},multiple:{type:Boolean,default:!1}},emits:["apply","toggleAll"],setup(e,{emit:t}){const{t:n}=ae(),l=V(()=>e.fields.filter(i=>{var s,p,f;return!(((s=i.meta)==null?void 0:s.group)===e.group&&((p=i.meta)==null?void 0:p.id)!==((f=e.field.meta)==null?void 0:f.id))}).map(i=>{var s,p;return((s=i.meta)==null?void 0:s.id)===((p=e.field.meta)==null?void 0:p.id)?z.exports.merge({},i,{hideLabel:!0}):i})),o=V(()=>{if(!e.values)return!1;const i=Object.keys(e.values);return!!l.value.some(s=>i.includes(s.field))}),u=V(()=>{const i=e.validationErrors.find(s=>s.field===e.field.field);if(i!==void 0)return i.code==="RECORD_NOT_UNIQUE"?n("validationError.unique"):n(`validationError.${i.type}`,i)});return{fieldsInSection:l,edited:o,handleModifier:r,validationMessage:u};function r(i,s){if(e.multiple===!1){s();return}i.shiftKey?t("toggleAll"):s()}}}),JG=["onClick"],XG={key:0,class:"fields"};function YG(e,t,n,l,o,u){const r=c("v-icon"),i=c("v-form"),s=c("transition-expand"),p=c("v-item"),f=Fe("tooltip");return m(),F(p,{value:e.field.field,scope:"group-accordion",class:"accordion-section"},{default:d(({active:_,toggle:v})=>{var y;return[$("div",{class:de(["label type-title",{active:_,edited:e.edited}]),onClick:g=>e.handleModifier(g,v)},[a(r,{class:de(["icon",{active:_}]),name:"expand_more"},null,8,["class"]),P(" "+w(e.field.name)+" ",1),((y=e.field.meta)==null?void 0:y.required)===!0?(m(),F(r,{key:0,class:"required",sup:"",name:"star"})):M("",!0),!_&&e.validationMessage?ie((m(),F(r,{key:1,class:"warning",name:"error_outline",small:""},null,512)),[[f,e.validationMessage]]):M("",!0)],10,JG),a(s,null,{default:d(()=>[_?(m(),A("div",XG,[a(i,{"initial-values":e.initialValues,fields:e.fieldsInSection,"model-value":e.values,"primary-key":e.primaryKey,group:e.group,"validation-errors":e.validationErrors,loading:e.loading,"batch-mode":e.batchMode,disabled:e.disabled,nested:"","onUpdate:modelValue":t[0]||(t[0]=g=>e.$emit("apply",g))},null,8,["initial-values","fields","model-value","primary-key","group","validation-errors","loading","batch-mode","disabled"])])):M("",!0)]),_:2},1024)]}),_:1},8,["value"])}var QG=H(ZG,[["render",YG],["__scopeId","data-v-35356459"]]);const xG=Z({name:"InterfaceGroupAccordion",components:{AccordionSection:QG},props:{field:{type:Object,required:!0},fields:{type:Array,required:!0},values:{type:Object,required:!0},initialValues:{type:Object,required:!0},disabled:{type:Boolean,default:!1},batchMode:{type:Boolean,default:!1},batchActiveFields:{type:Array,default:()=>[]},primaryKey:{type:[Number,String],required:!0},loading:{type:Boolean,default:!1},validationErrors:{type:Array,default:()=>[]},accordionMode:{type:Boolean,default:!0},start:{type:String,enum:["opened","closed","first"],default:"closed"}},emits:["apply"],setup(e){const t=V(()=>e.fields.filter(o=>{var u,r;return((u=o.meta)==null?void 0:u.group)===((r=e.field.meta)==null?void 0:r.field)})),n=D([]);return he(()=>e.start,o=>{o==="opened"&&(n.value=t.value.map(u=>u.field)),o==="first"&&(n.value=[t.value[0].field])},{immediate:!0}),he(()=>e.validationErrors,(o,u)=>{if(!e.validationErrors||z.exports.isEqual(o,u))return;const r=e.validationErrors.filter(i=>t.value.find(s=>s.field===i.field));r.length>0&&(n.value=[r[0].field])}),{rootFields:t,selection:n,toggleAll:l};function l(){e.accordionMode!==!0&&(n.value.length===t.value.length?n.value=[]:n.value=t.value.map(o=>o.field))}}});function eZ(e,t,n,l,o,u){const r=c("accordion-section"),i=c("v-item-group");return m(),F(i,{modelValue:e.selection,"onUpdate:modelValue":t[1]||(t[1]=s=>e.selection=s),scope:"group-accordion",class:"group-accordion",multiple:e.accordionMode===!1},{default:d(()=>[(m(!0),A(se,null,Ve(e.rootFields,s=>(m(),F(r,{key:s.field,field:s,fields:e.fields,values:e.values,"initial-values":e.initialValues,disabled:e.disabled,"batch-mode":e.batchMode,"batch-active-fields":e.batchActiveFields,"primary-key":e.primaryKey,loading:e.loading,"validation-errors":e.validationErrors,group:e.field.meta.field,multiple:e.accordionMode===!1,onApply:t[0]||(t[0]=p=>e.$emit("apply",p)),onToggleAll:e.toggleAll},null,8,["field","fields","values","initial-values","disabled","batch-mode","batch-active-fields","primary-key","loading","validation-errors","group","multiple","onToggleAll"]))),128))]),_:1},8,["modelValue","multiple"])}var tZ=H(xG,[["render",eZ]]),nZ=`<svg width="156" height="96" viewBox="0 0 156 96" fill="none"
	xmlns="http://www.w3.org/2000/svg">
	<rect x="18" y="15" width="6" height="6" rx="2" fill="var(--primary)"/>
	<rect x="28" y="15" width="30" height="6" rx="2" fill="var(--primary)"/>
	<rect opacity="0.25" x="18" y="27" width="120" height="2" rx="1" fill="var(--primary)"/>
	<rect x="18" y="41" width="6" height="6" rx="2" fill="var(--primary)"/>
	<rect x="28" y="41" width="50" height="6" rx="2" fill="var(--primary)"/>
	<rect opacity="0.25" x="18" y="53" width="120" height="2" rx="1" fill="var(--primary)"/>
	<rect x="18" y="67" width="6" height="6" rx="2" fill="var(--primary)"/>
	<rect x="28" y="67" width="40" height="6" rx="2" fill="var(--primary)"/>
	<rect opacity="0.25" x="18" y="79" width="120" height="2" rx="1" fill="var(--primary)"/>
	<path d="M130.82 14.6602L130 15.4805L132.652 18.1602L130 20.8398L130.82 21.6602L134.32 18.1602L130.82 14.6602Z" fill="var(--primary)"/>
	<path d="M130.82 41L130 41.8203L132.652 44.5L130 47.1797L130.82 48L134.32 44.5L130.82 41Z" fill="var(--primary)"/>
	<path d="M130.82 67L130 67.8203L132.652 70.5L130 73.1797L130.82 74L134.32 70.5L130.82 67Z" fill="var(--primary)"/>
</svg>
`,lZ=Ze({id:"group-accordion",name:"$t:interfaces.group-accordion.name",description:"$t:interfaces.group-accordion.description",icon:"horizontal_split",component:tZ,hideLabel:!0,hideLoader:!0,types:["alias"],localTypes:["group"],group:"group",options:[{field:"accordionMode",type:"boolean",name:"$t:interfaces.group-accordion.accordion_mode",meta:{interface:"boolean",options:{label:"$t:interfaces.group-accordion.max_one_section_open"},width:"half"},schema:{default_value:!0}},{field:"start",type:"string",name:"$t:start",schema:{default_value:"closed"},meta:{width:"half",interface:"select-dropdown",options:{choices:[{text:"$t:interfaces.group-accordion.all_closed",value:"closed"},{text:"$t:interfaces.group-accordion.first_opened",value:"first"}]},conditions:[{rule:{accordionMode:{_eq:!1}},options:{choices:[{text:"$t:interfaces.group-accordion.all_closed",value:"closed"},{text:"$t:interfaces.group-accordion.first_opened",value:"first"},{text:"$t:interfaces.group-accordion.all_opened",value:"opened"}]}}]}}],preview:nZ}),oZ=Object.freeze(Object.defineProperty({__proto__:null,default:lZ},Symbol.toStringTag,{value:"Module"}));const aZ=Z({name:"InterfaceGroupDetail",props:{field:{type:Object,required:!0},fields:{type:Array,required:!0},values:{type:Object,required:!0},initialValues:{type:Object,required:!0},disabled:{type:Boolean,default:!1},batchMode:{type:Boolean,default:!1},batchActiveFields:{type:Array,default:()=>[]},primaryKey:{type:[Number,String],required:!0},loading:{type:Boolean,default:!1},validationErrors:{type:Array,default:()=>[]},start:{type:String,enum:["open","closed"],default:"open"},headerIcon:{type:String,default:null},headerColor:{type:String,default:null}},emits:["apply"],setup(e){const{t}=ae(),n=D(e.start==="open"),l=V(()=>{if(!e.values)return!1;const u=Object.keys(e.values);return!!e.fields.some(r=>u.includes(r.field))}),o=V(()=>{if(!e.validationErrors)return;const u=e.fields.map(i=>i.field),r=e.validationErrors.reduce((i,s)=>(u.includes(s.field)===!1||(s.code==="RECORD_NOT_UNIQUE"?i.push(`${kt(s.field)} ${t("validationError.unique").toLowerCase()}`):i.push(`${kt(s.field)} ${t(`validationError.${s.type}`,s).toLowerCase()}`)),i),[]);return r.length===0?[]:r});return he(o,(u,r)=>{!o.value||z.exports.isEqual(u,r)||(n.value=o.value.length>0)}),{edited:l,validationMessages:o,detailOpen:n}}}),iZ={key:0,class:"title"};function rZ(e,t,n,l,o,u){const r=c("v-icon"),i=c("v-divider"),s=c("v-form"),p=c("v-detail"),f=Fe("tooltip");return m(),F(p,{modelValue:e.detailOpen,"onUpdate:modelValue":t[1]||(t[1]=_=>e.detailOpen=_),"start-open":e.start==="open",class:"group-detail"},{activator:d(({toggle:_,active:v})=>[a(i,{style:Je({"--v-divider-label-color":e.headerColor}),class:de({active:v,edited:e.edited}),"inline-title":!1,large:"",onClick:_},at({default:d(()=>[e.field.name?(m(),A("span",iZ,w(e.field.name),1)):M("",!0),!v&&e.validationMessages.length>0?ie((m(),F(r,{key:1,class:"warning",name:"error_outline",small:""},null,512)),[[f,e.validationMessages.join(`
`)]]):M("",!0),a(r,{class:"expand-icon",name:"expand_more"})]),_:2},[e.headerIcon?{name:"icon",fn:d(()=>[a(r,{name:e.headerIcon,class:"header-icon"},null,8,["name"])])}:void 0]),1032,["style","class","onClick"])]),default:d(()=>[a(s,{"initial-values":e.initialValues,fields:e.fields,"model-value":e.values,"primary-key":e.primaryKey,group:e.field.meta.field,"validation-errors":e.validationErrors,loading:e.loading,"batch-mode":e.batchMode,disabled:e.disabled,nested:"","onUpdate:modelValue":t[0]||(t[0]=_=>e.$emit("apply",_))},null,8,["initial-values","fields","model-value","primary-key","group","validation-errors","loading","batch-mode","disabled"])]),_:1},8,["modelValue","start-open"])}var sZ=H(aZ,[["render",rZ],["__scopeId","data-v-73c172ee"]]),dZ=`<svg width="156" height="96" fill="none" xmlns="http://www.w3.org/2000/svg">
  <rect x="18" y="41" width="6" height="6" rx="2" fill="var(--primary)"/>
  <rect x="28" y="41" width="50" height="6" rx="2" fill="var(--primary)"/>
  <rect opacity=".25" x="18" y="53" width="120" height="2" rx="1" fill="var(--primary)"/>
  <path d="m130.82 41-.82.82 2.652 2.68L130 47.18l.82.82 3.5-3.5-3.5-3.5Z" fill="var(--primary)"/>
</svg>
`,uZ=Ze({id:"group-detail",name:"$t:interfaces.group-detail.name",description:"$t:interfaces.group-detail.description",icon:"menu_open",component:sZ,localTypes:["group"],group:"group",types:["alias"],options:[{field:"start",name:"$t:start",type:"string",schema:{default_value:"open"},meta:{interface:"select-dropdown",width:"full",options:{choices:[{text:"$t:interfaces.group-detail.start_open",value:"open"},{text:"$t:interfaces.group-detail.start_closed",value:"closed"}]}}},{field:"headerIcon",name:"$t:interfaces.group-detail.header_icon",type:"string",meta:{interface:"select-icon",width:"half"}},{field:"headerColor",name:"$t:interfaces.group-detail.header_color",type:"string",meta:{interface:"select-color",width:"half"}}],preview:dZ}),cZ=Object.freeze(Object.defineProperty({__proto__:null,default:uZ},Symbol.toStringTag,{value:"Module"}));const pZ=Z({name:"InterfaceGroupRaw",props:{field:{type:Object,required:!0},fields:{type:Array,required:!0},values:{type:Object,required:!0},initialValues:{type:Object,required:!0},disabled:{type:Boolean,default:!1},batchMode:{type:Boolean,default:!1},batchActiveFields:{type:Array,default:()=>[]},primaryKey:{type:[Number,String],required:!0},loading:{type:Boolean,default:!1},validationErrors:{type:Array,default:()=>[]}},emits:["apply"]}),mZ={class:"group-raw"};function fZ(e,t,n,l,o,u){const r=c("v-form");return m(),A("div",mZ,[a(r,{"initial-values":e.initialValues,fields:e.fields,"model-value":e.values,"primary-key":e.primaryKey,group:e.field.meta.field,"validation-errors":e.validationErrors,loading:e.loading,disabled:e.disabled,nested:"","onUpdate:modelValue":t[0]||(t[0]=i=>e.$emit("apply",i))},null,8,["initial-values","fields","model-value","primary-key","group","validation-errors","loading","disabled"])])}var _Z=H(pZ,[["render",fZ]]),vZ=`<svg width="156" height="96" fill="none" xmlns="http://www.w3.org/2000/svg">
	<rect x="19" y="14" width="118" height="68" rx="6" fill="var(--background-page)"/>
	<rect x="19" y="14" width="118" height="68" rx="6" stroke="var(--primary)" stroke-width="2" stroke-linecap="round" stroke-dasharray="4 6"/>
	<rect opacity=".25" x="29" y="24" width="98" height="20" rx="5" fill="var(--background-page)" stroke="var(--primary)" stroke-width="2"/>
	<rect x="38" y="31" width="50" height="6" rx="2" fill="var(--primary)" fill-opacity=".25"/>
	<rect x="92" y="31" width="20" height="6" rx="2" fill="var(--primary)" fill-opacity=".25"/>
	<rect opacity=".25" x="29" y="52" width="98" height="20" rx="5" fill="var(--background-page)" stroke="var(--primary)" stroke-width="2"/>
	<rect x="38" y="59" width="20" height="6" rx="2" fill="var(--primary)" fill-opacity=".25"/>
	<rect x="62" y="59" width="40" height="6" rx="2" fill="var(--primary)" fill-opacity=".25"/>
</svg>
`,yZ=Ze({id:"group-raw",name:"$t:interfaces.group-raw.name",description:"$t:interfaces.group-raw.description",icon:"view_in_ar",component:_Z,localTypes:["group"],group:"group",types:["alias"],options:[],preview:vZ}),hZ=Object.freeze(Object.defineProperty({__proto__:null,default:yZ},Symbol.toStringTag,{value:"Module"}));const gZ=Z({props:{value:{type:[String,Number],default:null},type:{type:String,default:null},clear:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},placeholder:{type:String,default:null},masked:{type:Boolean,default:!1},iconLeft:{type:String,default:null},iconRight:{type:String,default:null},trim:{type:Boolean,default:!0},font:{type:String,default:"sans-serif"},length:{type:Number,default:null},softLength:{type:Number,default:void 0},dbSafe:{type:Boolean,default:!1},autofocus:{type:Boolean,default:!1},slug:{type:Boolean,default:!1},min:{type:Number,default:void 0},max:{type:Number,default:void 0},step:{type:Number,default:1}},emits:["input"],setup(e){const t=V(()=>typeof e.value=="number"||!e.length&&!e.softLength||!e.value&&!e.softLength?null:!e.value&&e.softLength?e.softLength:e.softLength?+e.softLength-e.value.length:e.length?+e.length-e.value.length:null),n=V(()=>typeof e.value=="number"||!e.length&&!e.softLength?null:e.value?e.softLength?100-e.value.length/+e.softLength*100:e.length?100-e.value.length/+e.length*100:100:100);return{inputType:V(()=>e.masked?"password":["bigInteger","integer","float","decimal"].includes(e.type)?"number":"text"),charsRemaining:t,percentageRemaining:n}}});function bZ(e,t,n,l,o,u){const r=c("v-icon"),i=c("v-input");return m(),F(i,{autofocus:e.autofocus,"model-value":e.value,nullable:!e.clear,placeholder:e.placeholder,disabled:e.disabled,trim:e.trim,type:e.inputType,class:de(e.font),"db-safe":e.dbSafe,slug:e.slug,min:e.min,max:e.max,step:e.step,autocomplete:e.masked?"new-password":"off","onUpdate:modelValue":t[0]||(t[0]=s=>e.$emit("input",s))},at({_:2},[e.iconLeft?{name:"prepend",fn:d(()=>[a(r,{name:e.iconLeft},null,8,["name"])])}:void 0,e.percentageRemaining!==null&&e.percentageRemaining<=20||e.iconRight||e.softLength?{name:"append",fn:d(()=>[e.percentageRemaining!==null&&e.percentageRemaining<=20||e.softLength?(m(),A("span",{key:0,class:de(["remaining",{warning:e.percentageRemaining<10,danger:e.percentageRemaining<5}])},w(e.charsRemaining),3)):M("",!0),e.iconRight?(m(),F(r,{key:1,class:de({hide:e.percentageRemaining&&e.percentageRemaining<=20}),name:e.iconRight},null,8,["class","name"])):M("",!0)])}:void 0]),1032,["autofocus","model-value","nullable","placeholder","disabled","trim","type","class","db-safe","slug","min","max","step","autocomplete"])}var wZ=H(gZ,[["render",bZ],["__scopeId","data-v-5d0bc642"]]),kZ=`<svg width="156" height="96" viewBox="0 0 156 96" fill="none" xmlns="http://www.w3.org/2000/svg">
	<rect x="18" y="35" width="120" height="26" rx="6" fill="var(--background-page)" class="glow" />
	<rect x="19" y="36" width="118" height="24" rx="5" stroke="var(--primary)" stroke-width="2" />
	<rect x="28" y="45" width="50" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="82" y="45" width="20" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
</svg>
`,$Z=Ze({id:"input",name:"$t:interfaces.input.input",description:"$t:interfaces.input.description",icon:"text_fields",component:wZ,types:["string","uuid","bigInteger","integer","float","decimal","text"],group:"standard",options:({field:e})=>{var l;const t={standard:[{field:"placeholder",name:"$t:placeholder",meta:{width:"full",interface:"system-input-translated-string",options:{placeholder:"$t:enter_a_placeholder"}}},{field:"iconLeft",name:"$t:icon_left",type:"string",meta:{width:"half",interface:"select-icon"}},{field:"iconRight",name:"$t:icon_right",type:"string",meta:{width:"half",interface:"select-icon"}}],advanced:[{field:"softLength",name:"$t:soft_length",type:"integer",meta:{width:"half",interface:"input",options:{placeholder:"255",min:1,max:(l=e.schema)==null?void 0:l.max_length}}},{field:"font",name:"$t:font",type:"string",meta:{width:"half",interface:"select-dropdown",options:{choices:[{text:"$t:sans_serif",value:"sans-serif"},{text:"$t:monospace",value:"monospace"},{text:"$t:serif",value:"serif"}]}},schema:{default_value:"sans-serif"}},{field:"trim",name:"$t:interfaces.input.trim",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:interfaces.input.trim_label"}},schema:{default_value:!1}},{field:"masked",name:"$t:interfaces.input.mask",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:interfaces.input.mask_label"}},schema:{default_value:!1}},{field:"clear",name:"$t:interfaces.input.clear",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:interfaces.input.clear_label"}},schema:{default_value:!1}},{field:"slug",name:"$t:interfaces.input.slug",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:interfaces.input.slug_label"}},schema:{default_value:!1}}]},n=[{field:"min",name:"$t:interfaces.input.minimum_value",type:"integer",meta:{width:"half",interface:"input"}},{field:"max",name:"$t:interfaces.input.maximum_value",type:"integer",meta:{width:"half",interface:"input"}},{field:"step",name:"$t:interfaces.input.step_interval",type:"integer",meta:{width:"half",interface:"input"},schema:{default_value:1}},{field:"placeholder",name:"$t:placeholder",type:"string",meta:{width:"half",interface:"system-input-translated-string",options:{placeholder:"$t:enter_a_placeholder"}}},{field:"iconLeft",name:"$t:icon_left",type:"string",meta:{width:"half",interface:"select-icon"}},{field:"iconRight",name:"$t:icon_right",type:"string",meta:{width:"half",interface:"select-icon"}},{field:"font",name:"$t:font",type:"string",meta:{width:"half",interface:"select-dropdown",options:{choices:[{text:"$t:sans_serif",value:"sans-serif"},{text:"$t:monospace",value:"monospace"},{text:"$t:serif",value:"serif"}]}},schema:{default_value:"sans-serif"}}];return e.type&&["bigInteger","integer","float","decimal"].includes(e.type)?n:t},preview:kZ}),CZ=Object.freeze(Object.defineProperty({__proto__:null,default:$Z},Symbol.toStringTag,{value:"Module"}));const SZ=Z({props:{value:{type:[String,Number],default:null},url:{type:String,default:null},resultsPath:{type:String,default:null},textPath:{type:String,default:null},valuePath:{type:String,default:null},trigger:{type:String,default:"throttle"},rate:{type:[Number,String],default:500},placeholder:{type:String,default:null},iconLeft:{type:String,default:null},iconRight:{type:String,default:null},font:{type:String,default:"sans-serif"},disabled:{type:Boolean,default:!1}},emits:["input"],setup(e,{emit:t}){const{t:n}=ae(),l=D([]),o=async s=>{if(!s){l.value=[];return}const p=Xt(e.url,{value:s});try{const f=await io.get(p),_=e.resultsPath?z.exports.get(f.data,e.resultsPath):f.data;if(Array.isArray(_)===!1){console.warn(`Expected results type of array, "${typeof _}" received`);return}l.value=_.map(v=>e.textPath&&e.valuePath?{text:z.exports.get(v,e.textPath),value:z.exports.get(v,e.valuePath)}:e.valuePath?{value:z.exports.get(v,e.valuePath)}:{value:v})}catch(f){console.warn(f)}},u=e.trigger==="debounce"?z.exports.debounce(o,Number(e.rate)):z.exports.throttle(o,Number(e.rate));return{t:n,results:l,onInput:r,emitValue:i};function r(s){i(s),u(s)}function i(s){t("input",s)}}}),FZ={key:1};function VZ(e,t,n,l,o,u){const r=c("v-notice"),i=c("v-icon"),s=c("v-input"),p=c("v-list-item-content"),f=c("v-list-item"),_=c("v-list"),v=c("v-menu");return e.url?(m(),A("div",FZ,[a(v,{attached:"",disabled:e.disabled},{activator:d(({activate:y,deactivate:g})=>[a(s,{placeholder:e.placeholder,disabled:e.disabled,class:de(e.font),"model-value":e.value,"onUpdate:modelValue":e.onInput,onFocus:y,onBlur:g},at({_:2},[e.iconLeft?{name:"prepend",fn:d(()=>[a(i,{name:e.iconLeft},null,8,["name"])])}:void 0,e.iconRight?{name:"append",fn:d(()=>[a(i,{name:e.iconRight},null,8,["name"])])}:void 0]),1032,["placeholder","disabled","class","model-value","onUpdate:modelValue","onFocus","onBlur"])]),default:d(()=>[e.results.length>0?(m(),F(_,{key:0},{default:d(()=>[(m(!0),A(se,null,Ve(e.results,y=>(m(),F(f,{key:y.value,onClick:()=>e.emitValue(y.value)},{default:d(()=>[a(p,null,{default:d(()=>[P(w(e.textPath?y.text:y.value),1)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})):M("",!0)]),_:1},8,["disabled"])])):(m(),F(r,{key:0,type:"warning"},{default:d(()=>[P(w(e.t("one_or_more_options_are_missing")),1)]),_:1}))}var AZ=H(SZ,[["render",VZ],["__scopeId","data-v-56f7b81d"]]),IZ=`<svg width="156" height="96" fill="none" xmlns="http://www.w3.org/2000/svg">
	<rect x="18" y="35" width="120" height="26" rx="6" fill="var(--background-page)" class="glow" />
	<rect x="19" y="36" width="118" height="24" rx="5" stroke="var(--primary)" stroke-width="2" />
	<rect x="28" y="45" width="50" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="82" y="45" width="20" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
</svg>
`,EZ=Ze({id:"input-autocomplete-api",name:"$t:interfaces.input-autocomplete-api.input-autocomplete-api",description:"$t:interfaces.input-autocomplete-api.description",icon:"find_in_page",component:AZ,types:["string","text"],localTypes:["standard"],group:"standard",recommendedDisplays:["formatted-value"],options:[{field:"url",name:"$t:url",type:"string",meta:{interface:"input",options:{placeholder:"https://example.com/search?q={{value}}",font:"monospace"},width:"full"}},{field:"resultsPath",name:"$t:interfaces.input-autocomplete-api.results_path",type:"string",meta:{interface:"input",options:{placeholder:"result.predictions",font:"monospace"},width:"full"}},{field:"textPath",name:"$t:interfaces.input-autocomplete-api.text_path",type:"string",meta:{interface:"input",options:{placeholder:"structured_main_text",font:"monospace"},width:"half"}},{field:"valuePath",name:"$t:interfaces.input-autocomplete-api.value_path",type:"string",meta:{interface:"input",options:{placeholder:"structured_main_value",font:"monospace"},width:"half"}},{field:"trigger",name:"$t:interfaces.input-autocomplete-api.trigger",type:"string",schema:{default_value:"throttle"},meta:{width:"half",interface:"select-dropdown",options:{choices:[{text:"Throttle",value:"throttle"},{text:"Debounce",value:"debounce"}]}}},{field:"rate",name:"$t:interfaces.input-autocomplete-api.rate",type:"integer",schema:{default_value:500},meta:{width:"half",interface:"input"}},{field:"placeholder",name:"$t:placeholder",meta:{width:"half",interface:"system-input-translated-string",options:{placeholder:"$t:enter_a_placeholder"}}},{field:"font",name:"$t:font",type:"string",meta:{width:"half",interface:"select-dropdown",options:{choices:[{text:"$t:sans_serif",value:"sans-serif"},{text:"$t:monospace",value:"monospace"},{text:"$t:serif",value:"serif"}]}},schema:{default_value:"sans-serif"}},{field:"iconLeft",name:"$t:icon_left",type:"string",meta:{width:"half",interface:"select-icon"}},{field:"iconRight",name:"$t:icon_right",type:"string",meta:{width:"half",interface:"select-icon"}}],preview:IZ}),DZ=Object.freeze(Object.defineProperty({__proto__:null,default:EZ},Symbol.toStringTag,{value:"Module"}));function Ms(e){switch(e){case"apl":return N(()=>import("./apl.ad4c850a.js").then(function(t){return t.a}),["assets/apl.ad4c850a.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"]);case"asciiarmor":return N(()=>import("./asciiarmor.1533a799.js").then(function(t){return t.a}),["assets/asciiarmor.1533a799.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"]);case"asn.1":return N(()=>import("./asn.1.9766c944.js").then(function(t){return t.a}),["assets/asn.1.9766c944.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"]);case"asterisk":return N(()=>import("./asterisk.340bcc6f.js").then(function(t){return t.a}),["assets/asterisk.340bcc6f.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"]);case"brainfuck":return N(()=>import("./brainfuck.5031fbd8.js").then(function(t){return t.b}),["assets/brainfuck.5031fbd8.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"]);case"clike":return N(()=>import("./clike.2014b970.js").then(function(t){return t.c}),["assets/clike.2014b970.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"]);case"clojure":return N(()=>import("./clojure.49bcb61f.js").then(function(t){return t.c}),["assets/clojure.49bcb61f.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"]);case"cmake":return N(()=>import("./cmake.6206ebe0.js").then(function(t){return t.c}),["assets/cmake.6206ebe0.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"]);case"cobol":return N(()=>import("./cobol.bf2929ad.js").then(function(t){return t.c}),["assets/cobol.bf2929ad.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"]);case"coffeescript":return N(()=>import("./coffeescript.683a9493.js").then(function(t){return t.c}),["assets/coffeescript.683a9493.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"]);case"commonlisp":return N(()=>import("./commonlisp.78d5ea31.js").then(function(t){return t.c}),["assets/commonlisp.78d5ea31.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"]);case"crystal":return N(()=>import("./crystal.0b111653.js").then(function(t){return t.c}),["assets/crystal.0b111653.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"]);case"css":return N(()=>import("./css.9ca6545e.js").then(function(t){return t.c}),["assets/css.9ca6545e.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"]);case"cypher":return N(()=>import("./cypher.491ccd0b.js").then(function(t){return t.c}),["assets/cypher.491ccd0b.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"]);case"d":return N(()=>import("./d.b4a0bf85.js").then(function(t){return t.d}),["assets/d.b4a0bf85.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"]);case"dart":return N(()=>import("./dart.64a49425.js").then(function(t){return t.d}),["assets/dart.64a49425.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css","assets/clike.2014b970.js"]);case"diff":return N(()=>import("./diff.9b4eb42c.js").then(function(t){return t.d}),["assets/diff.9b4eb42c.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"]);case"django":return N(()=>import("./django.e92ce65a.js").then(function(t){return t.d}),["assets/django.e92ce65a.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css","assets/htmlmixed.6ded1069.js","assets/javascript.3248781e.js","assets/css.9ca6545e.js","assets/overlay.008b00ad.js"]);case"dockerfile":return N(()=>import("./dockerfile.800e464f.js").then(function(t){return t.d}),["assets/dockerfile.800e464f.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css","assets/simple.f329512a.js"]);case"dtd":return N(()=>import("./dtd.d899ff4d.js").then(function(t){return t.d}),["assets/dtd.d899ff4d.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"]);case"dylan":return N(()=>import("./dylan.3bf494f9.js").then(function(t){return t.d}),["assets/dylan.3bf494f9.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"]);case"ebnf":return N(()=>import("./ebnf.d3953051.js").then(function(t){return t.e}),["assets/ebnf.d3953051.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"]);case"ecl":return N(()=>import("./ecl.0272e6d2.js").then(function(t){return t.e}),["assets/ecl.0272e6d2.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"]);case"eiffel":return N(()=>import("./eiffel.2b68c9d3.js").then(function(t){return t.e}),["assets/eiffel.2b68c9d3.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"]);case"elm":return N(()=>import("./elm.818f0dcc.js").then(function(t){return t.e}),["assets/elm.818f0dcc.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"]);case"erlang":return N(()=>import("./erlang.5656eb79.js").then(function(t){return t.e}),["assets/erlang.5656eb79.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"]);case"factor":return N(()=>import("./factor.741e009d.js").then(function(t){return t.f}),["assets/factor.741e009d.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css","assets/simple.f329512a.js"]);case"fcl":return N(()=>import("./fcl.3895a102.js").then(function(t){return t.f}),["assets/fcl.3895a102.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"]);case"forth":return N(()=>import("./forth.47a6fd5a.js").then(function(t){return t.f}),["assets/forth.47a6fd5a.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"]);case"fortran":return N(()=>import("./fortran.0476ddaf.js").then(function(t){return t.f}),["assets/fortran.0476ddaf.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"]);case"gas":return N(()=>import("./gas.925fe344.js").then(function(t){return t.g}),["assets/gas.925fe344.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"]);case"gfm":return N(()=>import("./gfm.bab94e18.js").then(function(t){return t.g}),["assets/gfm.bab94e18.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css","assets/overlay.008b00ad.js"]);case"gherkin":return N(()=>import("./gherkin.b12288c3.js").then(function(t){return t.g}),["assets/gherkin.b12288c3.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"]);case"go":return N(()=>import("./go.72d6ad84.js").then(function(t){return t.g}),["assets/go.72d6ad84.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"]);case"groovy":return N(()=>import("./groovy.41fb7b3d.js").then(function(t){return t.g}),["assets/groovy.41fb7b3d.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"]);case"haml":return N(()=>import("./haml.75173308.js").then(function(t){return t.h}),["assets/haml.75173308.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css","assets/htmlmixed.6ded1069.js","assets/javascript.3248781e.js","assets/css.9ca6545e.js","assets/ruby.9e4417f8.js"]);case"handlebars":return N(()=>import("./handlebars.df6b03ee.js").then(function(t){return t.h}),["assets/handlebars.df6b03ee.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css","assets/simple.f329512a.js","assets/multiplex.0354f227.js"]);case"haskell":return N(()=>import("./haskell.d237786e.js").then(function(t){return t.h}),["assets/haskell.d237786e.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"]);case"haskell-literate":return N(()=>import("./haskell-literate.34795dfa.js").then(function(t){return t.h}),["assets/haskell-literate.34795dfa.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css","assets/haskell.d237786e.js"]);case"haxe":return N(()=>import("./haxe.fb5de012.js").then(function(t){return t.h}),["assets/haxe.fb5de012.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"]);case"htmlembedded":return N(()=>import("./htmlembedded.9cfb9140.js").then(function(t){return t.h}),["assets/htmlembedded.9cfb9140.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css","assets/htmlmixed.6ded1069.js","assets/javascript.3248781e.js","assets/css.9ca6545e.js","assets/multiplex.0354f227.js"]);case"htmlmixed":return N(()=>import("./htmlmixed.6ded1069.js").then(function(t){return t.h}),["assets/htmlmixed.6ded1069.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css","assets/javascript.3248781e.js","assets/css.9ca6545e.js"]);case"http":return N(()=>import("./http.8703fdbc.js").then(function(t){return t.h}),["assets/http.8703fdbc.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"]);case"idl":return N(()=>import("./idl.1cdf60d2.js").then(function(t){return t.i}),["assets/idl.1cdf60d2.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"]);case"javascript":return N(()=>import("./javascript.3248781e.js").then(function(t){return t.j}),["assets/javascript.3248781e.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"]);case"jinja2":return N(()=>import("./jinja2.ac8d0b46.js").then(function(t){return t.j}),["assets/jinja2.ac8d0b46.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"]);case"jsx":return N(()=>import("./jsx.dd1f6e7b.js").then(function(t){return t.j}),["assets/jsx.dd1f6e7b.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css","assets/javascript.3248781e.js"]);case"julia":return N(()=>import("./julia.43690f91.js").then(function(t){return t.j}),["assets/julia.43690f91.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"]);case"livescript":return N(()=>import("./livescript.3a7cd28a.js").then(function(t){return t.l}),["assets/livescript.3a7cd28a.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"]);case"lua":return N(()=>import("./lua.7203e51f.js").then(function(t){return t.l}),["assets/lua.7203e51f.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"]);case"markdown":return N(()=>import("./vendor.3b903562.js").then(function(t){return t.a}),["assets/vendor.3b903562.js","assets/vendor.9387af12.css"]);case"mathematica":return N(()=>import("./mathematica.06e6fdd3.js").then(function(t){return t.m}),["assets/mathematica.06e6fdd3.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"]);case"mbox":return N(()=>import("./mbox.13290c43.js").then(function(t){return t.m}),["assets/mbox.13290c43.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"]);case"mirc":return N(()=>import("./mirc.78adf313.js").then(function(t){return t.m}),["assets/mirc.78adf313.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"]);case"mllike":return N(()=>import("./mllike.d6434450.js").then(function(t){return t.m}),["assets/mllike.d6434450.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"]);case"modelica":return N(()=>import("./modelica.3c01deee.js").then(function(t){return t.m}),["assets/modelica.3c01deee.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"]);case"mscgen":return N(()=>import("./mscgen.437e19e9.js").then(function(t){return t.m}),["assets/mscgen.437e19e9.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"]);case"mumps":return N(()=>import("./mumps.b8a57f60.js").then(function(t){return t.m}),["assets/mumps.b8a57f60.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"]);case"nginx":return N(()=>import("./nginx.bbf51071.js").then(function(t){return t.n}),["assets/nginx.bbf51071.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"]);case"nsis":return N(()=>import("./nsis.a89a00f6.js").then(function(t){return t.n}),["assets/nsis.a89a00f6.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css","assets/simple.f329512a.js"]);case"ntriples":return N(()=>import("./ntriples.ef9c72ec.js").then(function(t){return t.n}),["assets/ntriples.ef9c72ec.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"]);case"octave":return N(()=>import("./octave.a8523cda.js").then(function(t){return t.o}),["assets/octave.a8523cda.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"]);case"oz":return N(()=>import("./oz.de50fb14.js").then(function(t){return t.o}),["assets/oz.de50fb14.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"]);case"pascal":return N(()=>import("./pascal.959462c3.js").then(function(t){return t.p}),["assets/pascal.959462c3.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"]);case"pegjs":return N(()=>import("./pegjs.d0ed91d9.js").then(function(t){return t.p}),["assets/pegjs.d0ed91d9.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css","assets/javascript.3248781e.js"]);case"perl":return N(()=>import("./perl.357b4e1f.js").then(function(t){return t.p}),["assets/perl.357b4e1f.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"]);case"php":return N(()=>import("./php.d803daf6.js").then(function(t){return t.p}),["assets/php.d803daf6.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css","assets/htmlmixed.6ded1069.js","assets/javascript.3248781e.js","assets/css.9ca6545e.js","assets/clike.2014b970.js"]);case"pig":return N(()=>import("./pig.e0e0238c.js").then(function(t){return t.p}),["assets/pig.e0e0238c.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"]);case"powershell":return N(()=>import("./powershell.49d52037.js").then(function(t){return t.p}),["assets/powershell.49d52037.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"]);case"properties":return N(()=>import("./properties.71f47129.js").then(function(t){return t.p}),["assets/properties.71f47129.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"]);case"protobuf":return N(()=>import("./protobuf.fd7a72f0.js").then(function(t){return t.p}),["assets/protobuf.fd7a72f0.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"]);case"pug":return N(()=>import("./pug.6691e2a0.js").then(function(t){return t.p}),["assets/pug.6691e2a0.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css","assets/javascript.3248781e.js","assets/css.9ca6545e.js","assets/htmlmixed.6ded1069.js"]);case"puppet":return N(()=>import("./puppet.85bbcdfd.js").then(function(t){return t.p}),["assets/puppet.85bbcdfd.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"]);case"python":return N(()=>import("./python.4ce17729.js").then(function(t){return t.p}),["assets/python.4ce17729.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"]);case"q":return N(()=>import("./q.dd127609.js").then(function(t){return t.q}),["assets/q.dd127609.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"]);case"r":return N(()=>import("./r.d7fdc378.js").then(function(t){return t.r}),["assets/r.d7fdc378.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"]);case"rpm":return N(()=>import("./rpm.c5cba333.js").then(function(t){return t.r}),["assets/rpm.c5cba333.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"]);case"rst":return N(()=>import("./rst.0ec4b9fd.js").then(function(t){return t.r}),["assets/rst.0ec4b9fd.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css","assets/python.4ce17729.js","assets/stex.f8b497ca.js","assets/overlay.008b00ad.js"]);case"ruby":return N(()=>import("./ruby.9e4417f8.js").then(function(t){return t.r}),["assets/ruby.9e4417f8.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"]);case"rust":return N(()=>import("./rust.cb15ec63.js").then(function(t){return t.r}),["assets/rust.cb15ec63.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css","assets/simple.f329512a.js"]);case"sas":return N(()=>import("./sas.20c8274a.js").then(function(t){return t.s}),["assets/sas.20c8274a.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"]);case"sass":return N(()=>import("./sass.de175114.js").then(function(t){return t.s}),["assets/sass.de175114.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css","assets/css.9ca6545e.js"]);case"scheme":return N(()=>import("./scheme.db6fc72b.js").then(function(t){return t.s}),["assets/scheme.db6fc72b.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"]);case"shell":return N(()=>import("./shell.84bb2e73.js").then(function(t){return t.s}),["assets/shell.84bb2e73.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"]);case"sieve":return N(()=>import("./sieve.d423e40c.js").then(function(t){return t.s}),["assets/sieve.d423e40c.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"]);case"slim":return N(()=>import("./slim.92e9b12a.js").then(function(t){return t.s}),["assets/slim.92e9b12a.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css","assets/htmlmixed.6ded1069.js","assets/javascript.3248781e.js","assets/css.9ca6545e.js","assets/ruby.9e4417f8.js"]);case"smalltalk":return N(()=>import("./smalltalk.808d306f.js").then(function(t){return t.s}),["assets/smalltalk.808d306f.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"]);case"smarty":return N(()=>import("./smarty.b45887b7.js").then(function(t){return t.s}),["assets/smarty.b45887b7.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"]);case"solr":return N(()=>import("./solr.5cc56749.js").then(function(t){return t.s}),["assets/solr.5cc56749.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"]);case"soy":return N(()=>import("./soy.bb278352.js").then(function(t){return t.s}),["assets/soy.bb278352.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css","assets/htmlmixed.6ded1069.js","assets/javascript.3248781e.js","assets/css.9ca6545e.js"]);case"sparql":return N(()=>import("./sparql.bcb141bf.js").then(function(t){return t.s}),["assets/sparql.bcb141bf.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"]);case"spreadsheet":return N(()=>import("./spreadsheet.e1aa486d.js").then(function(t){return t.s}),["assets/spreadsheet.e1aa486d.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"]);case"sql":return N(()=>import("./sql.f910bfb4.js").then(function(t){return t.s}),["assets/sql.f910bfb4.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"]);case"stex":return N(()=>import("./stex.f8b497ca.js").then(function(t){return t.s}),["assets/stex.f8b497ca.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"]);case"stylus":return N(()=>import("./stylus.baafca01.js").then(function(t){return t.s}),["assets/stylus.baafca01.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"]);case"swift":return N(()=>import("./swift.7e0549b9.js").then(function(t){return t.s}),["assets/swift.7e0549b9.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"]);case"tcl":return N(()=>import("./tcl.9b3bd512.js").then(function(t){return t.t}),["assets/tcl.9b3bd512.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"]);case"textile":return N(()=>import("./textile.bcfc1004.js").then(function(t){return t.t}),["assets/textile.bcfc1004.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"]);case"tiddlywiki":return N(()=>import("./tiddlywiki.05c69da4.js").then(function(t){return t.t}),["assets/tiddlywiki.05c69da4.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"]);case"tiki":return N(()=>import("./tiki.c205ced9.js").then(function(t){return t.t}),["assets/tiki.c205ced9.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"]);case"toml":return N(()=>import("./toml.21eca43e.js").then(function(t){return t.t}),["assets/toml.21eca43e.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"]);case"tornado":return N(()=>import("./tornado.98c58954.js").then(function(t){return t.t}),["assets/tornado.98c58954.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css","assets/htmlmixed.6ded1069.js","assets/javascript.3248781e.js","assets/css.9ca6545e.js","assets/overlay.008b00ad.js"]);case"troff":return N(()=>import("./troff.c60c6b4b.js").then(function(t){return t.t}),["assets/troff.c60c6b4b.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"]);case"ttcn":return N(()=>import("./ttcn.4eb17e33.js").then(function(t){return t.t}),["assets/ttcn.4eb17e33.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"]);case"ttcn-cfg":return N(()=>import("./ttcn-cfg.1fc06da2.js").then(function(t){return t.t}),["assets/ttcn-cfg.1fc06da2.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"]);case"turtle":return N(()=>import("./turtle.5a68ff69.js").then(function(t){return t.t}),["assets/turtle.5a68ff69.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"]);case"twig":return N(()=>import("./twig.f98a23de.js").then(function(t){return t.t}),["assets/twig.f98a23de.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css","assets/multiplex.0354f227.js"]);case"vb":return N(()=>import("./vb.e37751ec.js").then(function(t){return t.v}),["assets/vb.e37751ec.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"]);case"vbscript":return N(()=>import("./vbscript.9afbdc82.js").then(function(t){return t.v}),["assets/vbscript.9afbdc82.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"]);case"velocity":return N(()=>import("./velocity.56113a41.js").then(function(t){return t.v}),["assets/velocity.56113a41.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"]);case"verilog":return N(()=>import("./verilog.431e6106.js").then(function(t){return t.v}),["assets/verilog.431e6106.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"]);case"vhdl":return N(()=>import("./vhdl.73d95444.js").then(function(t){return t.v}),["assets/vhdl.73d95444.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"]);case"vue":return N(()=>import("./vue.6efad370.js").then(function(t){return t.v}),["assets/vue.6efad370.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css","assets/overlay.008b00ad.js","assets/javascript.3248781e.js","assets/coffeescript.683a9493.js","assets/css.9ca6545e.js","assets/sass.de175114.js","assets/stylus.baafca01.js","assets/pug.6691e2a0.js","assets/htmlmixed.6ded1069.js","assets/handlebars.df6b03ee.js","assets/simple.f329512a.js","assets/multiplex.0354f227.js"]);case"wast":return N(()=>import("./wast.6c87cd75.js").then(function(t){return t.w}),["assets/wast.6c87cd75.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css","assets/simple.f329512a.js"]);case"webidl":return N(()=>import("./webidl.3d323e32.js").then(function(t){return t.w}),["assets/webidl.3d323e32.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"]);case"xml":return N(()=>import("./vendor.3b903562.js").then(function(t){return t.x}),["assets/vendor.3b903562.js","assets/vendor.9387af12.css"]);case"xquery":return N(()=>import("./xquery.ca96a9a0.js").then(function(t){return t.x}),["assets/xquery.ca96a9a0.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"]);case"yacas":return N(()=>import("./yacas.a7c67b32.js").then(function(t){return t.y}),["assets/yacas.a7c67b32.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"]);case"yaml":return N(()=>import("./yaml.6a26e7a0.js").then(function(t){return t.y}),["assets/yaml.6a26e7a0.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"]);case"yaml-frontmatter":return N(()=>import("./yaml-frontmatter.a06727f1.js").then(function(t){return t.y}),["assets/yaml-frontmatter.a06727f1.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css","assets/yaml.6a26e7a0.js"]);case"z80":return N(()=>import("./z80.ee1c60d3.js").then(function(t){return t.z}),["assets/z80.ee1c60d3.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"]);default:return Promise.resolve()}}function Us(e={throttle:100}){const t=D(0),n=D(0);function l(){t.value=window.innerWidth,n.value=window.innerHeight}const o=z.exports.throttle(l,e.throttle);return Ea(l),dt(()=>{window.addEventListener("resize",o,{passive:!0})}),At(()=>{window.removeEventListener("resize",o)}),{width:t,height:n}}const PZ=Z({props:{disabled:{type:Boolean,default:!1},value:{type:[String,Object,Array,Number,Boolean],default:null},altOptions:{type:Object,default:null},template:{type:String,default:null},lineNumber:{type:Boolean,default:!0},lineWrapping:{type:Boolean,default:!1},placeholder:{type:String,default:null},language:{type:String,default:"plaintext"},type:{type:String,default:null}},emits:["input"],setup(e,{emit:t}){const{t:n}=ae(),{width:l}=Us(),o=D(null);let u;dt(async()=>{o.value&&(await s(v.value),await Ms(v.value.mode),u=Un(o.value,Ie(ve({},v.value),{value:r.value})),u.setOption("mode",{name:"javascript "}),await i(),u.on("change",(g,{origin:h})=>{if(h==="setValue")return;const b=g.getValue();if(e.type==="json"){if(b.length===0)return t("input",null);try{const S=JSON.parse(b);return typeof S!="string"?t("input",S):t("input",b)}catch{}}else t("input",b)}))});const r=V(()=>e.value===null?"":e.type==="json"||typeof e.value=="object"?JSON.stringify(e.value,null,4):e.value);he(()=>e.language,()=>{i()}),he(r,()=>{e.type==="json"&&(u==null?void 0:u.getValue())===e.value||(u==null?void 0:u.getValue())!==r.value&&(u==null||u.setValue(r.value||""))});async function i(){if(u){const g=e.language.toLowerCase();if(e.type==="json"||g==="json"){await N(()=>import("./javascript.3248781e.js").then(function(b){return b.j}),["assets/javascript.3248781e.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"]);const h=await N(()=>import("./jsonlint.e8823cb8.js").then(function(b){return b.j}),[]);u.setOption("mode",{name:"javascript",json:!0}),Un.registerHelper("lint","json",b=>{const S=[],I=h.parser;if(I.parseError=(E,R)=>{const O=R.loc;S.push({from:Un.Pos(O.first_line-1,O.first_column),to:Un.Pos(O.last_line-1,O.last_column),message:E})},b.length>0)try{h.parse(b)}catch{}return S})}else g==="plaintext"?u.setOption("mode",{name:"plaintext"}):(await Ms(g),u.setOption("mode",{name:g}))}}async function s(g){const h=[];g&&g.size>0&&(g.styleActiveLine&&h.push(N(()=>import("./active-line.b401085a.js").then(function(b){return b.a}),["assets/active-line.b401085a.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"])),g.markSelection&&h.push(N(()=>import("./mark-selection.fb569efe.js").then(function(b){return b.m}),["assets/mark-selection.fb569efe.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"])),g.highlightSelectionMatches&&h.push(N(()=>import("./match-highlighter.6b06b78b.js").then(function(b){return b.m}),["assets/match-highlighter.6b06b78b.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"])),g.autoRefresh&&h.push(N(()=>import("./autorefresh.597402d2.js").then(function(b){return b.a}),["assets/autorefresh.597402d2.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"])),g.matchBrackets&&h.push(N(()=>import("./vendor.3b903562.js").then(function(b){return b.m}),["assets/vendor.3b903562.js","assets/vendor.9387af12.css"])),(g.hintOptions||g.showHint)&&(h.push(N(()=>import("./show-hint.a0b705f3.js").then(function(b){return b.s}),["assets/show-hint.a0b705f3.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"])),h.push(N(()=>Promise.resolve({}),["assets/show-hint.a1d6f238.css"])),h.push(N(()=>import("./javascript-hint.de495ceb.js").then(function(b){return b.j}),["assets/javascript-hint.de495ceb.js","assets/vendor.3b903562.js","assets/vendor.9387af12.css"]))),await Promise.all(h))}const p=V(()=>u?u.lineCount():0),f=V(()=>l.value<600?e.disabled?"nocursor":!1:e.disabled),_={tabSize:4,autoRefresh:!0,indentUnit:4,styleActiveLine:!0,highlightSelectionMatches:{showToken:/\w/,annotateScrollbar:!0,delay:100},hintOptions:{completeSingle:!0,hint:()=>{}},matchBrackets:!0,showCursorWhenSelecting:!0,lineWiseCopyCut:!1,theme:"default",extraKeys:{Ctrl:"autocomplete"},lint:!0,gutters:["CodeMirror-lint-markers"]},v=V(()=>Object.assign({},_,{lineNumbers:e.lineNumber,lineWrapping:e.lineWrapping,readOnly:f.value,cursorBlinkRate:e.disabled?-1:530,mode:e.language,placeholder:e.placeholder},e.altOptions?e.altOptions:{}));return he(()=>e.disabled,g=>{u==null||u.setOption("readOnly",f.value),u==null||u.setOption("cursorBlinkRate",g?-1:530)},{immediate:!0}),he(()=>e.altOptions,async g=>{if(!(!g||g.size===0)){await s(g);for(const h in g)u==null||u.setOption(h,g[h])}}),he(()=>e.lineNumber,g=>{u==null||u.setOption("lineNumbers",g)}),{t:n,cmOptions:v,lineCount:p,codemirrorEl:o,stringValue:r,fillTemplate:y,formatTitle:kt};function y(){if(e.type==="json")try{t("input",JSON.parse(e.template))}finally{}else t("input",e.template)}}}),TZ={ref:"codemirrorEl"};function OZ(e,t,n,l,o,u){const r=c("v-icon"),i=c("v-button"),s=Fe("tooltip");return m(),A("div",{class:de(["input-code codemirror-custom-styles",{disabled:e.disabled}])},[$("div",TZ,null,512),e.template?ie((m(),F(i,{key:0,small:"",icon:"",secondary:"",onClick:e.fillTemplate},{default:d(()=>[a(r,{name:"playlist_add"})]),_:1},8,["onClick"])),[[s,e.t("fill_template"),void 0,{left:!0}]]):M("",!0)],2)}var LZ=H(PZ,[["render",OZ],["__scopeId","data-v-20d03c2e"]]),jZ=`<svg width="156" height="96" fill="none" xmlns="http://www.w3.org/2000/svg">
	<rect x="18" y="15" width="120" height="66" rx="6" fill="var(--background-page)" class="glow" />
	<rect x="19" y="16" width="118" height="64" rx="5" stroke="var(--primary)" stroke-width="2" />
	<rect x="28" y="25" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="28" y="45.148" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="28" y="55.222" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="28" y="65.296" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="28" y="35.074" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="42" y="25" width="10" height="6" rx="2" fill="var(--primary)" />
	<rect x="46" y="35" width="50" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="46" y="45" width="60" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="46" y="55" width="40" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="42" y="65" width="10" height="6" rx="2" fill="var(--primary)" />
</svg>
`;const RZ=Un.modeInfo.reduce((e,t)=>["JSON","JSON-LD"].includes(t.name)?(e.JSON="JSON",e):((t.mode==null||t.mode=="null")&&(t.mode="plaintext"),t.mode in e?e[t.mode]+=" / "+t.name:e[t.mode]=t.name,e),{}),MZ=Object.entries(RZ).map(([e,t])=>({text:t,value:e}));var UZ=Ze({id:"input-code",name:"$t:interfaces.input-code.code",description:"$t:interfaces.input-code.description",icon:"code",component:LZ,types:["string","json","text","geometry"],group:"standard",preview:jZ,options:({field:e})=>{const t=[{field:"lineNumber",name:"$t:interfaces.input-code.line_number",type:"boolean",meta:{width:"half",interface:"boolean"},schema:{default_value:!0}},{field:"lineWrapping",name:"$t:interfaces.input-code.line_wrapping",type:"boolean",meta:{width:"half",interface:"boolean"},schema:{default_value:!1}},{field:"template",name:"$t:template",type:"text",meta:{width:"full",interface:"input-code",options:{placeholder:"$t:interfaces.input-code.placeholder"}},schema:{default_value:null}}],n=[{field:"language",name:"$t:language",type:"string",meta:{width:"full",interface:"select-dropdown",options:{choices:MZ}}},...t],l=[...t];return(e==null?void 0:e.type)==="json"?l:n}}),NZ=Object.freeze(Object.defineProperty({__proto__:null,default:UZ},Symbol.toStringTag,{value:"Module"}));const BZ=Z({inheritAttrs:!1,props:{value:{type:String,default:null},disabled:{type:Boolean,default:!1},placeholder:{type:String,default:null},masked:{type:Boolean,default:!1}},emits:["input"],setup(e,{emit:t}){const{t:n}=ae(),l=D(!1),o=D(null),u=V(()=>l.value?n("value_hashed"):e.placeholder);return he(()=>e.value,()=>{l.value=!!(e.value&&e.value.length>0)},{immediate:!0}),{internalPlaceholder:u,isHashed:l,localValue:o,emitValue:r};function r(i){t("input",i),o.value=i}}});function qZ(e,t,n,l,o,u){const r=c("v-icon"),i=c("v-input");return m(),F(i,{placeholder:e.internalPlaceholder,disabled:e.disabled,type:e.masked?"password":"text",autocomplete:e.masked?"new-password":"off","model-value":e.localValue,class:de({hashed:e.isHashed&&!e.localValue}),"onUpdate:modelValue":e.emitValue},{append:d(()=>[a(r,{class:"lock",name:e.isHashed&&!e.localValue?"lock":"lock_open"},null,8,["name"])]),_:1},8,["placeholder","disabled","type","autocomplete","model-value","class","onUpdate:modelValue"])}var zZ=H(BZ,[["render",qZ],["__scopeId","data-v-21ed8e84"]]),KZ=`<svg width="156" height="96" fill="none" xmlns="http://www.w3.org/2000/svg">
	<rect x="18" y="35" width="120" height="26" rx="6" fill="var(--background-page)"/>
	<rect x="19" y="36" width="118" height="24" rx="5" stroke="var(--primary)" stroke-width="2"/>
	<rect x="28" y="45" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity=".25"/>
	<rect x="38" y="45" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity=".25"/>
	<rect x="48" y="45" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity=".25"/>
	<rect x="58" y="45" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity=".25"/>
	<rect x="68" y="45" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity=".25"/>
	<rect x="78" y="45" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity=".25"/>
	<path d="M125.5 45.676h-.574V44.5A2.93 2.93 0 0 0 122 41.574a2.93 2.93 0 0 0-2.926 2.926v1.176h-.574c-.629 0-1.176.52-1.176 1.148v5.852c0 .629.547 1.148 1.176 1.148h7c.629 0 1.176-.52 1.176-1.148v-5.852c0-.629-.547-1.148-1.176-1.148Zm-5.25-1.176c0-.957.793-1.75 1.75-1.75s1.75.793 1.75 1.75v1.176h-3.5V44.5Zm5.25 8.176h-7v-5.852h7v5.852Zm-3.5-1.75c.629 0 1.176-.547 1.176-1.176 0-.629-.547-1.176-1.176-1.176-.629 0-1.176.547-1.176 1.176 0 .629.547 1.176 1.176 1.176Z" fill="var(--primary)"/>
</svg>
`,WZ=Ze({id:"input-hash",name:"$t:interfaces.input-hash.hash",description:"$t:interfaces.input-hash.description",icon:"fingerprint",component:zZ,types:["hash"],group:"other",preview:KZ,options:[{field:"placeholder",name:"$t:placeholder",type:"string",meta:{width:"half",interface:"system-input-translated-string",options:{placeholder:"$t:enter_a_placeholder"}}},{field:"masked",name:"$t:interfaces.input-hash.masked",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:interfaces.input-hash.masked_label"}},schema:{default_value:!1}}]}),HZ=Object.freeze(Object.defineProperty({__proto__:null,default:WZ},Symbol.toStringTag,{value:"Module"}));const GZ=Z({props:{value:{type:String,default:null},clear:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},placeholder:{type:String,default:null},trim:{type:Boolean,default:!0},font:{type:String,default:"sans-serif"},softLength:{type:Number,default:void 0}},emits:["input"],setup(e){const t=V(()=>{if(typeof e.value=="number"||!e.softLength)return null;if(!e.value&&e.softLength)return e.softLength;const l=e.value.replaceAll(`
`," ").length;return e.softLength?+e.softLength-l:null}),n=V(()=>typeof e.value=="number"||!e.softLength?null:e.value&&e.softLength?100-e.value.length/+e.softLength*100:100);return{charsRemaining:t,percentageRemaining:n}}});function ZZ(e,t,n,l,o,u){const r=c("v-textarea");return m(),F(r,ft({placeholder:e.placeholder,trim:e.trim},{"model-value":e.value,nullable:!e.clear,disabled:e.disabled,class:e.font,"onUpdate:modelValue":t[0]||(t[0]=i=>e.$emit("input",i))}),at({_:2},[e.percentageRemaining&&e.percentageRemaining<=20||e.softLength?{name:"append",fn:d(()=>[e.percentageRemaining&&e.percentageRemaining<=20||e.softLength?(m(),A("span",{key:0,class:de(["remaining",{warning:e.percentageRemaining<10,danger:e.percentageRemaining<5}])},w(e.charsRemaining),3)):M("",!0)])}:void 0]),1040,["model-value","nullable","disabled","class"])}var JZ=H(GZ,[["render",ZZ],["__scopeId","data-v-709e094a"]]),XZ=`<svg width="156" height="96" fill="none" xmlns="http://www.w3.org/2000/svg">
	<rect x="18" y="18" width="120" height="60" rx="6" fill="var(--background-page)" class="glow" />
	<rect x="19" y="19" width="118" height="58" rx="5" stroke="var(--primary)" stroke-width="2" />
	<rect x="28" y="28" width="60" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="28" y="48" width="60" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="28" y="38" width="40" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="92" y="28" width="30" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="72" y="38" width="50" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
</svg>
`,YZ=Ze({id:"input-multiline",name:"$t:interfaces.input-multiline.textarea",description:"$t:interfaces.input-multiline.description",icon:"text_fields",component:JZ,types:["text"],group:"standard",options:[{field:"placeholder",name:"$t:placeholder",type:"string",meta:{width:"full",interface:"system-input-translated-string",options:{placeholder:"$t:enter_a_placeholder"}}},{field:"softLength",name:"$t:soft_length",type:"integer",meta:{width:"half",interface:"input",options:{placeholder:"255",min:1}}},{field:"trim",name:"$t:interfaces.input.trim",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:interfaces.input.trim_label"}},schema:{default_value:!1}},{field:"font",name:"$t:font",type:"string",meta:{width:"half",interface:"select-dropdown",options:{choices:[{text:"$t:sans_serif",value:"sans-serif"},{text:"$t:monospace",value:"monospace"},{text:"$t:serif",value:"serif"}]}},schema:{default_value:"sans-serif"}},{field:"clear",name:"$t:interfaces.input.clear",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:interfaces.input.clear_label"}},schema:{default_value:!1}}],preview:XZ}),QZ=Object.freeze(Object.defineProperty({__proto__:null,default:YZ},Symbol.toStringTag,{value:"Module"})),xZ=`<svg width="156" height="96" fill="none" xmlns="http://www.w3.org/2000/svg">
	<rect x="18" y="15" width="120" height="66" rx="6" fill="var(--background-page)" class="glow" />
	<rect x="19" y="16" width="118" height="64" rx="5" stroke="var(--primary)" stroke-width="2" />
	<rect x="28" y="25" width="8" height="8" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="42" y="25" width="8" height="8" rx="2" fill="var(--primary)" />
	<rect x="56" y="25" width="8" height="8" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="70" y="25" width="8" height="8" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="84" y="25" width="8" height="8" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="98" y="25" width="8" height="8" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="28" y="39" width="60" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="28" y="59" width="60" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="28" y="49" width="40" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="92" y="39" width="30" height="6" rx="2" fill="var(--primary)" />
	<rect x="72" y="49" width="50" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
</svg>
`;const eJ=za(()=>N(()=>import("./input-rich-text-html.a7a17352.js"),["assets/input-rich-text-html.a7a17352.js","assets/input-rich-text-html.ef9358cf.css","assets/vendor.3b903562.js","assets/vendor.9387af12.css","assets/use-sync.c510d0f0.js"]));var tJ=Ze({id:"input-rich-text-html",name:"$t:interfaces.input-rich-text-html.wysiwyg",description:"$t:interfaces.input-rich-text-html.description",icon:"format_quote",component:eJ,types:["text"],group:"standard",preview:xZ,options:{standard:[{field:"toolbar",name:"$t:interfaces.input-rich-text-html.toolbar",type:"json",schema:{default_value:["bold","italic","underline","h1","h2","h3","numlist","bullist","removeformat","blockquote","customLink","customImage","customMedia","hr","code","fullscreen"]},meta:{width:"half",interface:"select-multiple-dropdown",options:{choices:[{value:"undo",text:"$t:wysiwyg_options.undo"},{value:"redo",text:"$t:wysiwyg_options.redo"},{value:"bold",text:"$t:wysiwyg_options.bold"},{value:"italic",text:"$t:wysiwyg_options.italic"},{value:"underline",text:"$t:wysiwyg_options.underline"},{value:"strikethrough",text:"$t:wysiwyg_options.strikethrough"},{value:"subscript",text:"$t:wysiwyg_options.subscript"},{value:"superscript",text:"$t:wysiwyg_options.superscript"},{value:"fontselect",text:"$t:wysiwyg_options.fontselect"},{value:"fontsizeselect",text:"$t:wysiwyg_options.fontsizeselect"},{value:"h1",text:"$t:wysiwyg_options.h1"},{value:"h2",text:"$t:wysiwyg_options.h2"},{value:"h3",text:"$t:wysiwyg_options.h3"},{value:"h4",text:"$t:wysiwyg_options.h4"},{value:"h5",text:"$t:wysiwyg_options.h5"},{value:"h6",text:"$t:wysiwyg_options.h6"},{value:"alignleft",text:"$t:wysiwyg_options.alignleft"},{value:"aligncenter",text:"$t:wysiwyg_options.aligncenter"},{value:"alignright",text:"$t:wysiwyg_options.alignright"},{value:"alignjustify",text:"$t:wysiwyg_options.alignjustify"},{value:"alignnone",text:"$t:wysiwyg_options.alignnone"},{value:"indent",text:"$t:wysiwyg_options.indent"},{value:"outdent",text:"$t:wysiwyg_options.outdent"},{value:"numlist",text:"$t:wysiwyg_options.numlist"},{value:"bullist",text:"$t:wysiwyg_options.bullist"},{value:"forecolor",text:"$t:wysiwyg_options.forecolor"},{value:"backcolor",text:"$t:wysiwyg_options.backcolor"},{value:"removeformat",text:"$t:wysiwyg_options.removeformat"},{value:"cut",text:"$t:wysiwyg_options.cut"},{value:"copy",text:"$t:wysiwyg_options.copy"},{value:"paste",text:"$t:wysiwyg_options.paste"},{value:"remove",text:"$t:wysiwyg_options.remove"},{value:"selectall",text:"$t:wysiwyg_options.selectall"},{value:"blockquote",text:"$t:wysiwyg_options.blockquote"},{value:"customLink",text:"$t:wysiwyg_options.link"},{value:"unlink",text:"$t:wysiwyg_options.unlink"},{value:"customImage",text:"$t:wysiwyg_options.image"},{value:"customMedia",text:"$t:wysiwyg_options.media"},{value:"table",text:"$t:wysiwyg_options.table"},{value:"hr",text:"$t:wysiwyg_options.hr"},{value:"code",text:"$t:wysiwyg_options.source_code"},{value:"fullscreen",text:"$t:wysiwyg_options.fullscreen"},{value:"visualaid",text:"$t:wysiwyg_options.visualaid"},{value:"ltr rtl",text:"$t:wysiwyg_options.directionality"}]}}},{field:"font",name:"$t:font",type:"string",meta:{width:"half",interface:"select-dropdown",options:{choices:[{text:"$t:sans_serif",value:"sans-serif"},{text:"$t:monospace",value:"monospace"},{text:"$t:serif",value:"serif"}]}},schema:{default_value:"sans-serif"}},{field:"folder",name:"$t:folder",type:"uuid",meta:{width:"half",interface:"system-folder",note:"$t:interfaces.input-rich-text-html.folder_note"},schema:{default_value:void 0}},{field:"imageToken",name:"$t:interfaces.input-rich-text-html.imageToken",type:"string",meta:{note:"$t:interfaces.input-rich-text-html.imageToken_label",width:"half",interface:"input"}}],advanced:[{field:"softLength",name:"$t:soft_length",type:"integer",meta:{width:"half",interface:"input",options:{placeholder:"255",min:1}}},{field:"customFormats",name:"$t:interfaces.input-rich-text-html.custom_formats",type:"json",meta:{interface:"code",options:{language:"json",template:JSON.stringify([{title:"My Custom Format",inline:"span",classes:"custom-wrapper",styles:{color:"#00ff00","font-size":"20px"},attributes:{title:"My Custom Wrapper"}}],null,4)}}},{field:"tinymceOverrides",name:"$t:interfaces.input-rich-text-html.options_override",type:"json",meta:{interface:"code",options:{language:"json"}}}]}}),nJ=Object.freeze(Object.defineProperty({__proto__:null,default:tJ},Symbol.toStringTag,{value:"Module"}));const lJ={heading(e,{cursorTo:t},n){const l=(n==null?void 0:n.level)||3;let o=e;const u=t,r="#".repeat(l)+" ";return e.startsWith(r)?o=e.substring(r.length):(o=`${r}${e}`,u.ch=u.ch+r.length),{newSelection:o,newCursor:u}},bold(e,{cursorTo:t}){let n=e;const l=t;return e.startsWith("**")&&e.endsWith("**")?n=e.substring(2,e.length-2):(n=`**${e}**`,l.ch=l.ch+2),{newSelection:n,newCursor:l}},italic(e,{cursorTo:t}){let n=e;const l=t;return e.startsWith("*")&&e.endsWith("*")?n=e.substring(1,e.length-1):(n=`*${e}*`,l.ch=l.ch+1),{newSelection:n,newCursor:l}},strikethrough(e,{cursorTo:t}){let n=e;const l=t;return e.startsWith("~~")&&e.endsWith("~~")?n=e.substring(2,e.length-2):(n=`~~${e}~~`,l.ch=l.ch+2),{newSelection:n,newCursor:l}},listBulleted(e,{cursorTo:t}){let n=e;const l=t,o=e.split(`
`);return o.every(r=>r.startsWith("- "))?n=o.map(r=>r.substring(2)).join(`
`):n=o.map(r=>`- ${r}`).join(`
`),e||(l.ch=l.ch+2),{newSelection:n,newCursor:l}},listNumbered(e,{cursorTo:t}){let n=e;const l=t,o=e.split(`
`);return o.every((r,i)=>r.startsWith(`${i+1}.`))?n=o.map(r=>r.substring(3)).join(`
`):n=o.map((r,i)=>`${i+1}. ${r}`).join(`
`),e||(l.ch=l.ch+2),{newSelection:n,newCursor:l}},blockquote(e,{cursorTo:t}){let n=e;const l=t,o=e.split(`
`);return o.every(r=>r.startsWith("> "))?n=o.map(r=>r.substring(2)).join(`
`):n=o.map(r=>`> ${r}`).join(`
`),e||(l.ch=l.ch+2),{newSelection:n,newCursor:l}},code(e,{cursorTo:t}){if(e.includes(`
`)){let n=e;const l=t;return e.startsWith("```")&&e.endsWith("```")?n=e.substring(3,e.length-3):(n="```\n"+n+"\n```",l.line=l.line+1),{newSelection:n,newCursor:l}}else{let n=e;const l=t;return e.startsWith("`")&&e.endsWith("`")?n=e.substring(1,e.length-1):(n=`\`${e}\``,l.ch=l.ch+1),{newSelection:n,newCursor:l}}},link(e,{cursorFrom:t,cursorTo:n}){let l=e;const o=n;let u;return e.endsWith("](url)")?l=e.substring(1,e.length-6):e.startsWith("http")?(l=`[](${e})`,o.ch=t.ch+1):(l=`[${e}](url)`,e?u={from:Ie(ve({},z.exports.cloneDeep(o)),{ch:o.ch+3}),to:Ie(ve({},z.exports.cloneDeep(o)),{ch:o.ch+6})}:o.ch=t.ch+1),{newSelection:l,newCursor:o,highlight:u}},table(e,t,n){if(!n)return{newSelection:e,newCursor:t.cursorFrom};let l="";const o=[];for(let u=0;u<n.columns;u++)o.push("Header");l+=`| ${o.join(" | ")} |`,l+=`
| ${o.map(()=>"------").join(" | ")} |`;for(let u=0;u<n.rows;u++)l+=`
| ${o.map(()=>"Cell").join("   | ")}   |`;return{newSelection:l,newCursor:t.cursorFrom}},custom(e,{cursorTo:t,cursorHead:n},l){if(!l)return{newSelection:e,newCursor:n};if(l.box==="block"){let o=e;const u=t;return e.startsWith(l.prefix)&&e.endsWith(l.suffix)?o=e.substring(l.prefix.length,e.length-l.suffix.length):(o=`${l.prefix}
${o}
${l.suffix}`,u.line=u.line+1),{newSelection:o,newCursor:u}}else{let o=e;const u=t;return e.startsWith(l.prefix)&&e.endsWith(l.suffix)?o=e.substring(1,e.length-1):(o=`${l.prefix}${e}${l.suffix}`,u.ch=u.ch+1),{newSelection:o,newCursor:u}}}};function oJ(e,t,n){if(e){const l=e.getCursor("head"),o=e.getCursor("from"),u=e.getCursor("to"),r=e.findWordAt(l),i=e.getRange(r.anchor,r.head).trim(),s=e.getSelection(),{newSelection:p,newCursor:f,highlight:_}=lJ[t](s||i,{cursorFrom:z.exports.cloneDeep(s?o:r.anchor),cursorTo:z.exports.cloneDeep(s?u:r.head),cursorHead:l},n);i&&!s?e.replaceRange(p,r.anchor,r.head):e.replaceSelection(p),e.setCursor(f),_&&e.setSelection(_.from,_.to),e.focus()}}const aJ=(e,t)=>t?e?100-e/+t*100:100:null;const va=Z({props:{value:{type:String,default:null},disabled:{type:Boolean,default:!1},placeholder:{type:String,default:null},editorFont:{type:String,default:"sans-serif"},previewFont:{type:String,default:"sans-serif"},toolbar:{type:Array,default:()=>["heading","bold","italic","strikethrough","bullist","numlist","blockquote","code","link","table","image","link","empty"]},customSyntax:{type:Array,default:()=>[]},imageToken:{type:String,default:void 0},softLength:{type:Number,default:void 0},folder:{type:String,default:void 0}},emits:["input"],setup(e,{emit:t}){const{t:n}=ae(),l=D(),o=D();let u=null;const r=D(["editor"]),i=D(!1);let s=D(0);dt(async()=>{if(o.value&&(u=Un(o.value,{mode:"markdown",configureMouse:()=>({addNew:!1}),lineWrapping:!0,placeholder:e.placeholder,value:e.value||""}),u.on("change",(b,{origin:S})=>{if(S==="setValue")return;const I=b.getValue();t("input",I)})),l.value){const b=l.value.getElementsByClassName("preview-box")[0],S=new MutationObserver(()=>{var E,R,O;s.value=(O=(R=(E=b.textContent)==null?void 0:E.replace(`
`,""))==null?void 0:R.length)!=null?O:0}),I={characterData:!0,childList:!0,subtree:!0};S.observe(b,I)}}),he(()=>e.value,b=>{if(!u)return;u.getValue()!==b&&(u.setValue(""),u.clearHistory(),u.setValue(b!=null?b:""),u.refresh())});const p=V(()=>`var(--family-${e.editorFont})`),f=V(()=>`var(--family-${e.previewFont})`),_=V(()=>e.value||""),v=Jt({rows:4,columns:4}),y=V(()=>aJ(s.value,e.softLength));return rt("meta+b",()=>h("bold"),l),rt("meta+i",()=>h("italic"),l),rt("meta+k",()=>h("link"),l),rt("meta+alt+d",()=>h("strikethrough"),l),rt("meta+alt+q",()=>h("blockquote"),l),rt("meta+alt+c",()=>h("code"),l),rt("meta+alt+1",()=>h("heading",{level:1}),l),rt("meta+alt+2",()=>h("heading",{level:2}),l),rt("meta+alt+3",()=>h("heading",{level:3}),l),rt("meta+alt+4",()=>h("heading",{level:4}),l),rt("meta+alt+5",()=>h("heading",{level:5}),l),rt("meta+alt+6",()=>h("heading",{level:6}),l),{t:n,percRemaining:y,count:s,codemirrorEl:o,edit:h,view:r,markdownString:_,table:v,onImageUpload:g,imageDialogOpen:i,useShortcut:rt,translateShortcut:_i,markdownInterface:l,editFamily:p,previewFamily:f};function g(b){if(!u)return;let S=$3()+"assets/"+b.id;e.imageToken&&(S+="?access_token="+e.imageToken),u.replaceSelection(`![${u.getSelection()}](${S})`),i.value=!1}function h(b,S){u&&oJ(u,b,S)}}}),Ns=()=>{Fl(e=>({bebd673a:e.previewFamily,"3dd79e57":e.editFamily}))},Bs=va.setup;va.setup=Bs?(e,t)=>(Ns(),Bs(e,t)):Ns;const iJ=va,rJ=e=>(xe("data-v-40935134"),e=e(),et(),e),sJ={class:"toolbar"},dJ={class:"table-options"},uJ={class:"field half"},cJ={class:"type-label"},pJ={class:"field half"},mJ={class:"type-label"},fJ={class:"field full"},_J=P(" Create "),vJ=rJ(()=>$("div",{class:"spacer"},null,-1)),yJ={ref:"codemirrorEl"};function hJ(e,t,n,l,o,u){const r=c("v-icon"),i=c("v-button"),s=c("v-text-overflow"),p=c("v-list-item-content"),f=c("v-list-item-hint"),_=c("v-list-item"),v=c("v-list"),y=c("v-menu"),g=c("v-input"),h=c("v-item-group"),b=c("v-card-title"),S=c("v-upload"),I=c("v-card-text"),E=c("v-card-actions"),R=c("v-card"),O=c("v-dialog"),L=Fe("tooltip"),q=Fe("md");return m(),A("div",{ref:"markdownInterface",class:de(["interface-input-rich-text-md",e.view[0]])},[$("div",sJ,[e.view[0]!=="preview"?(m(),A(se,{key:0},[e.toolbar.includes("heading")?(m(),F(y,{key:0,"show-arrow":"",placement:"bottom-start",class:de([{active:e.view[0]!=="preview"}])},{activator:d(({toggle:T})=>[ie(a(i,{small:"",icon:"",onClick:T},{default:d(()=>[a(r,{name:"format_size"})]),_:2},1032,["onClick"]),[[L,e.t("wysiwyg_options.heading")]])]),default:d(()=>[a(v,null,{default:d(()=>[(m(),A(se,null,Ve(6,T=>a(_,{key:T,clickable:"",onClick:j=>e.edit("heading",{level:T})},{default:d(()=>[a(p,null,{default:d(()=>[a(s,{text:e.t(`wysiwyg_options.h${T}`)},null,8,["text"])]),_:2},1024),a(f,null,{default:d(()=>[P(w(e.translateShortcut(["meta","alt"]))+" "+w(T),1)]),_:2},1024)]),_:2},1032,["onClick"])),64))]),_:1})]),_:1},8,["class"])):M("",!0),e.toolbar.includes("bold")?ie((m(),F(i,{key:1,small:"",icon:"",onClick:t[0]||(t[0]=T=>e.edit("bold"))},{default:d(()=>[a(r,{name:"format_bold"})]),_:1},512)),[[L,e.t("wysiwyg_options.bold")+" - "+e.translateShortcut(["meta","b"])]]):M("",!0),e.toolbar.includes("italic")?ie((m(),F(i,{key:2,small:"",icon:"",onClick:t[1]||(t[1]=T=>e.edit("italic"))},{default:d(()=>[a(r,{name:"format_italic"})]),_:1},512)),[[L,e.t("wysiwyg_options.italic")+" - "+e.translateShortcut(["meta","i"])]]):M("",!0),e.toolbar.includes("strikethrough")?ie((m(),F(i,{key:3,small:"",icon:"",onClick:t[2]||(t[2]=T=>e.edit("strikethrough"))},{default:d(()=>[a(r,{name:"format_strikethrough"})]),_:1},512)),[[L,e.t("wysiwyg_options.strikethrough")+" - "+e.translateShortcut(["meta","alt","d"])]]):M("",!0),e.toolbar.includes("bullist")?ie((m(),F(i,{key:4,small:"",icon:"",onClick:t[3]||(t[3]=T=>e.edit("listBulleted"))},{default:d(()=>[a(r,{name:"format_list_bulleted"})]),_:1},512)),[[L,e.t("wysiwyg_options.bullist")]]):M("",!0),e.toolbar.includes("numlist")?ie((m(),F(i,{key:5,small:"",icon:"",onClick:t[4]||(t[4]=T=>e.edit("listNumbered"))},{default:d(()=>[a(r,{name:"format_list_numbered"})]),_:1},512)),[[L,e.t("wysiwyg_options.numlist")]]):M("",!0),e.toolbar.includes("blockquote")?ie((m(),F(i,{key:6,small:"",icon:"",onClick:t[5]||(t[5]=T=>e.edit("blockquote"))},{default:d(()=>[a(r,{name:"format_quote"})]),_:1},512)),[[L,e.t("wysiwyg_options.blockquote")+" - "+e.translateShortcut(["meta","alt","q"])]]):M("",!0),e.toolbar.includes("code")?ie((m(),F(i,{key:7,small:"",icon:"",onClick:t[6]||(t[6]=T=>e.edit("code"))},{default:d(()=>[a(r,{name:"code"})]),_:1},512)),[[L,e.t("wysiwyg_options.codeblock")+" - "+e.translateShortcut(["meta","alt","c"])]]):M("",!0),e.toolbar.includes("link")?ie((m(),F(i,{key:8,small:"",icon:"",onClick:t[7]||(t[7]=T=>e.edit("link"))},{default:d(()=>[a(r,{name:"insert_link"})]),_:1},512)),[[L,e.t("wysiwyg_options.link")+" - "+e.translateShortcut(["meta","k"])]]):M("",!0),e.toolbar.includes("table")?(m(),F(y,{key:9,"show-arrow":"","close-on-content-click":!1},{activator:d(({toggle:T})=>[ie(a(i,{small:"",icon:"",onClick:T},{default:d(()=>[a(r,{name:"table_chart"})]),_:2},1032,["onClick"]),[[L,e.t("wysiwyg_options.table")]])]),default:d(({deactivate:T})=>[$("div",dJ,[$("div",uJ,[$("p",cJ,w(e.t("rows")),1),a(g,{modelValue:e.table.rows,"onUpdate:modelValue":t[8]||(t[8]=j=>e.table.rows=j),min:1,type:"number"},null,8,["modelValue"])]),$("div",pJ,[$("p",mJ,w(e.t("columns")),1),a(g,{modelValue:e.table.columns,"onUpdate:modelValue":t[9]||(t[9]=j=>e.table.columns=j),min:1,type:"number"},null,8,["modelValue"])]),$("div",fJ,[a(i,{"full-width":"",onClick:()=>{e.edit("table",e.table),T()}},{default:d(()=>[_J]),_:2},1032,["onClick"])])])]),_:1})):M("",!0),e.toolbar.includes("image")?ie((m(),F(i,{key:10,small:"",icon:"",onClick:t[10]||(t[10]=T=>e.imageDialogOpen=!0)},{default:d(()=>[a(r,{name:"insert_photo"})]),_:1},512)),[[L,e.t("wysiwyg_options.image")]]):M("",!0),(m(!0),A(se,null,Ve(e.customSyntax,T=>ie((m(),F(i,{key:T.name,small:"",icon:"",onClick:j=>e.edit("custom",T)},{default:d(()=>[a(r,{name:T.icon},null,8,["name"])]),_:2},1032,["onClick"])),[[L,T.name]])),128))],64)):M("",!0),vJ,a(h,{modelValue:e.view,"onUpdate:modelValue":t[11]||(t[11]=T=>e.view=T),class:"view",mandatory:"",rounded:""},{default:d(()=>[a(i,{"x-small":"",value:"editor",class:de([{active:e.view[0]!=="preview"}])},{default:d(()=>[P(w(e.t("interfaces.input-rich-text-md.edit")),1)]),_:1},8,["class"]),a(i,{"x-small":"",value:"preview",class:de([{active:e.view[0]==="preview"}])},{default:d(()=>[P(w(e.t("interfaces.input-rich-text-md.preview")),1)]),_:1},8,["class"])]),_:1},8,["modelValue"])]),$("div",yJ,null,512),e.softLength?(m(),A("span",{key:0,class:de(["remaining",{warning:e.percRemaining<10,danger:e.percRemaining<5}])},w(e.softLength-e.count),3)):M("",!0),ie($("div",{class:"preview-box",style:Je(e.view[0]==="preview"?"display:block":"display:none")},null,4),[[q,e.markdownString]]),a(O,{"model-value":e.imageDialogOpen,onEsc:t[13]||(t[13]=T=>e.imageDialogOpen=null),"onUpdate:modelValue":t[14]||(t[14]=T=>e.imageDialogOpen=null)},{default:d(()=>[a(R,null,{default:d(()=>[a(b,null,{default:d(()=>[P(w(e.t("upload_from_device")),1)]),_:1}),a(I,null,{default:d(()=>[a(S,{"from-url":"","from-library":"",folder:e.folder,onInput:e.onImageUpload},null,8,["folder","onInput"])]),_:1}),a(E,null,{default:d(()=>[a(i,{secondary:"",onClick:t[12]||(t[12]=T=>e.imageDialogOpen=null)},{default:d(()=>[P(w(e.t("cancel")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["model-value"])],2)}var gJ=H(iJ,[["render",hJ],["__scopeId","data-v-40935134"]]),bJ=`<svg width="156" height="96" fill="none" xmlns="http://www.w3.org/2000/svg">
	<rect x="18" y="15" width="120" height="66" rx="6" fill="var(--background-page)" class="glow" />
	<rect x="19" y="16" width="118" height="64" rx="5" stroke="var(--primary)" stroke-width="2" />
	<rect x="28" y="25" width="8" height="8" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="42" y="25" width="8" height="8" rx="2" fill="var(--primary)" />
	<rect x="56" y="25" width="8" height="8" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="70" y="25" width="8" height="8" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="84" y="25" width="8" height="8" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="98" y="25" width="8" height="8" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="28" y="39" width="60" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="28" y="59" width="60" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="28" y="49" width="40" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="92" y="39" width="30" height="6" rx="2" fill="var(--primary)" />
	<rect x="72" y="49" width="50" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
</svg>
`,wJ=Ze({id:"input-rich-text-md",name:"$t:interfaces.input-rich-text-md.markdown",description:"$t:interfaces.input-rich-text-md.description",icon:"functions",component:gJ,types:["text"],group:"standard",preview:bJ,options:{standard:[{field:"toolbar",name:"$t:interfaces.input-rich-text-html.toolbar",type:"json",schema:{default_value:["heading","bold","italic","strikethrough","bullist","numlist","blockquote","code","link","table","image","empty"]},meta:{width:"half",interface:"select-multiple-dropdown",options:{choices:[{value:"heading",text:"$t:wysiwyg_options.heading"},{value:"bold",text:"$t:wysiwyg_options.bold"},{value:"italic",text:"$t:wysiwyg_options.italic"},{value:"strikethrough",text:"$t:wysiwyg_options.strikethrough"},{value:"blockquote",text:"$t:wysiwyg_options.blockquote"},{value:"bullist",text:"$t:wysiwyg_options.bullist"},{value:"numlist",text:"$t:wysiwyg_options.numlist"},{value:"table",text:"$t:wysiwyg_options.table"},{value:"code",text:"$t:wysiwyg_options.source_code"},{value:"image",text:"$t:wysiwyg_options.image"},{value:"link",text:"$t:wysiwyg_options.link"}]}}},{field:"placeholder",name:"$t:placeholder",type:"string",meta:{width:"half",interface:"system-input-translated-string",options:{placeholder:"$t:enter_a_placeholder"}}},{field:"folder",name:"$t:interfaces.system-folder.folder",type:"uuid",meta:{width:"half",interface:"system-folder",note:"$t:interfaces.system-folder.field_hint"},schema:{default_value:void 0}},{field:"imageToken",name:"$t:interfaces.input-rich-text-md.imageToken",type:"string",meta:{note:"$t:interfaces.input-rich-text-md.imageToken_label",width:"half",interface:"input"}}],advanced:[{field:"softLength",name:"$t:soft_length",type:"integer",meta:{width:"half",interface:"input",options:{placeholder:"255",min:1}}},{field:"editorFont",name:"$t:interfaces.input-rich-text-md.editorFont",type:"string",meta:{width:"half",interface:"select-dropdown",options:{choices:[{text:"$t:sans_serif",value:"sans-serif"},{text:"$t:monospace",value:"monospace"},{text:"$t:serif",value:"serif"}]}},schema:{default_value:"sans-serif"}},{field:"previewFont",name:"$t:interfaces.input-rich-text-md.previewFont",type:"string",meta:{width:"half",interface:"select-dropdown",options:{choices:[{text:"$t:sans_serif",value:"sans-serif"},{text:"$t:monospace",value:"monospace"},{text:"$t:serif",value:"serif"}]}},schema:{default_value:"sans-serif"}},{field:"customSyntax",name:"$t:interfaces.input-rich-text-md.customSyntax",type:"json",meta:{note:"$t:interfaces.input-rich-text-md.customSyntax_label",width:"full",interface:"list",options:{addLabel:"$t:interfaces.input-rich-text-md.customSyntax_add",template:"{{ name }}",fields:[{field:"name",type:"string",name:"$t:name",meta:{interface:"input",width:"half",options:{placeholder:"$t:name",default:null}}},{field:"icon",type:"string",name:"$t:icon",meta:{interface:"select-icon",width:"half"}},{field:"prefix",type:"string",name:"$t:prefix",meta:{interface:"input",width:"half",options:{placeholder:"$t:prefix",default:null}}},{field:"suffix",type:"string",name:"$t:suffix",meta:{interface:"input",width:"half",options:{placeholder:"$t:suffix",default:null}}},{field:"box",type:"string",name:"$t:interfaces.input-rich-text-md.box",meta:{interface:"select-radio",width:"half",options:{choices:[{text:"$t:inline",value:"inline"},{text:"$t:block",value:"block"}]}},schema:{default_value:"inline"}}]}}}]}}),kJ=Object.freeze(Object.defineProperty({__proto__:null,default:wJ},Symbol.toStringTag,{value:"Module"}));const $J=Z({components:{Draggable:Ot},props:{value:{type:Array,default:null},fields:{type:Array,default:()=>[]},template:{type:String,default:null},addLabel:{type:String,default:()=>Be.global.t("create_new")},limit:{type:Number,default:null},disabled:{type:Boolean,default:!1},headerPlaceholder:{type:String,default:()=>Be.global.t("empty_item")},collection:{type:String,default:null},placeholder:{type:String,default:()=>Be.global.t("no_items")}},emits:["input"],setup(e,{emit:t}){const{t:n}=ae(),l=D(null),o=V(()=>l.value!==null),{value:u}=ze(e),r=V(()=>{var U,B;return((B=(U=e.fields)==null?void 0:U[0])==null?void 0:B.field)?e.template||`{{${e.fields[0].field}}}`:""}),i=V(()=>e.disabled?!1:!!(e.value===null||e.limit===null||Array.isArray(e.value)&&e.value.length<e.limit)),s=V(()=>l.value!==null?y.value:null),{displayValue:p}=vi(r,s),f=V(()=>{var B,K;const U={};for(const J of e.fields)((B=J.schema)==null?void 0:B.default_value)!==void 0&&((K=J.schema)==null?void 0:K.default_value)!==null&&(U[J.field]=J.schema.default_value);return U}),_=V(()=>{var U;return(U=e.fields)==null?void 0:U.map(B=>{var K;return Ie(ve({},B),{name:kt((K=B.name)!=null?K:B.field)})})}),v=D(!1),y=D({}),g=D(!1);return{t:n,updateValues:R,removeItem:O,addNew:L,showAddNew:i,hideDragImage:dn,active:l,drawerOpen:o,displayValue:p,activeItem:s,closeDrawer:j,onSort:T,templateWithDefaults:r,defaults:f,fieldsWithNames:_,isNewItem:v,edits:y,confirmDiscard:g,openItem:h,saveItem:b,trackEdits:S,checkDiscard:I,discardAndLeave:E};function h(U){v.value=!1,y.value=ve({},e.value[U]),l.value=U}function b(U){v.value=!1,R(U,y.value),j()}function S(U){const B=Object.assign({},f.value,U);Object.assign(y.value,B)}function I(){l.value!==null&&!z.exports.isEqual(y.value,e.value[l.value])?g.value=!0:j()}function E(){j(),g.value=!1}function R(U,B){q(e.value.map((K,J)=>J===U?B:K))}function O(U){u.value?q(e.value.filter(B=>B!==U)):q(null)}function L(){v.value=!0;const U={};e.fields.forEach(B=>{var K;U[B.field]=(K=B.schema)==null?void 0:K.default_value}),Array.isArray(e.value)?q([...e.value,U]):(e.value!=null&&console.warn("The repeater interface expects an array as value, but the given value is no array. Overriding given value."),q([U])),y.value=ve({},U),l.value=(e.value||[]).length}function q(U){return!U||U.length===0?t("input",null):t("input",U)}function T(U){return U===null||U.length===0?t("input",null):t("input",U)}function j(){v.value&&q(e.value.slice(0,-1)),y.value={},l.value=null}}}),CJ=e=>(xe("data-v-ce849eae"),e=e(),et(),e),SJ={class:"repeater"},FJ=CJ(()=>$("div",{class:"spacer"},null,-1)),VJ={class:"type-title"},AJ={class:"drawer-item-content"};function IJ(e,t,n,l,o,u){const r=c("v-notice"),i=c("v-icon"),s=c("render-template"),p=c("v-list-item"),f=c("draggable"),_=c("v-list"),v=c("v-button"),y=c("v-form"),g=c("v-drawer"),h=c("v-card-title"),b=c("v-card-text"),S=c("v-card-actions"),I=c("v-card"),E=c("v-dialog"),R=Fe("tooltip");return m(),A("div",SJ,[Array.isArray(e.value)&&e.value.length===0||e.value==null?(m(),F(r,{key:0},{default:d(()=>[P(w(e.placeholder),1)]),_:1})):Array.isArray(e.value)?M("",!0):(m(),F(r,{key:1,type:"warning"},{default:d(()=>[$("p",null,w(e.t("interfaces.list.incompatible_data")),1)]),_:1})),Array.isArray(e.value)&&e.value.length>0?(m(),F(_,{key:2},{default:d(()=>[a(f,{disabled:e.disabled,"force-fallback":!0,"model-value":e.value,"item-key":"id",handle:".drag-handle","onUpdate:modelValue":t[1]||(t[1]=O=>e.$emit("input",O))},{item:d(({element:O,index:L})=>[a(p,{dense:e.value.length>4,block:"",onClick:q=>e.openItem(L)},{default:d(()=>[e.disabled?M("",!0):(m(),F(i,{key:0,name:"drag_handle",class:"drag-handle",left:"",onClick:t[0]||(t[0]=Te(()=>{},["stop"]))})),a(s,{fields:e.fields,item:ve(ve({},e.defaults),O),template:e.templateWithDefaults},null,8,["fields","item","template"]),FJ,e.disabled?M("",!0):(m(),F(i,{key:1,name:"close",onClick:Te(q=>e.removeItem(O),["stop"])},null,8,["onClick"]))]),_:2},1032,["dense","onClick"])]),_:1},8,["disabled","model-value"])]),_:1})):M("",!0),e.showAddNew?(m(),F(v,{key:3,class:"add-new",onClick:e.addNew},{default:d(()=>[P(w(e.addLabel),1)]),_:1},8,["onClick"])):M("",!0),a(g,{"model-value":e.drawerOpen,title:e.displayValue||e.headerPlaceholder,persistent:"","onUpdate:modelValue":t[4]||(t[4]=O=>e.checkDiscard()),onCancel:t[5]||(t[5]=O=>e.checkDiscard())},{title:d(()=>[$("h1",VJ,[a(s,{fields:e.fields,item:e.activeItem,template:e.templateWithDefaults},null,8,["fields","item","template"])])]),actions:d(()=>[ie(a(v,{icon:"",rounded:"",onClick:t[2]||(t[2]=O=>e.saveItem(e.active))},{default:d(()=>[a(i,{name:"check"})]),_:1},512),[[R,e.t("save"),void 0,{bottom:!0}]])]),default:d(()=>[$("div",AJ,[a(y,{disabled:e.disabled,fields:e.fieldsWithNames,"model-value":e.activeItem,autofocus:"","primary-key":"+","onUpdate:modelValue":t[3]||(t[3]=O=>e.trackEdits(O))},null,8,["disabled","fields","model-value"])])]),_:1},8,["model-value","title"]),a(E,{modelValue:e.confirmDiscard,"onUpdate:modelValue":t[8]||(t[8]=O=>e.confirmDiscard=O),onEsc:t[9]||(t[9]=O=>e.confirmDiscard=!1)},{default:d(()=>[a(I,null,{default:d(()=>[a(h,null,{default:d(()=>[P(w(e.t("unsaved_changes")),1)]),_:1}),a(b,null,{default:d(()=>[P(w(e.t("unsaved_changes_copy")),1)]),_:1}),a(S,null,{default:d(()=>[a(v,{secondary:"",onClick:t[6]||(t[6]=O=>e.discardAndLeave())},{default:d(()=>[P(w(e.t("discard_changes")),1)]),_:1}),a(v,{onClick:t[7]||(t[7]=O=>e.confirmDiscard=!1)},{default:d(()=>[P(w(e.t("keep_editing")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])])}var qs=H($J,[["render",IJ],["__scopeId","data-v-ce849eae"]]);const EJ=Z({components:{Repeater:qs},props:{value:{type:Object,default:null}},emits:["input"],setup(e,{emit:t}){const{t:n}=ae(),l=V({get(){var i,s;return(s=(i=e.value)==null?void 0:i.fields)==null?void 0:s.map(p=>p.meta)},set(i){const s=(i||[]).map(p=>({field:p.field,name:p.name||p.field,type:p.type,meta:p}));t("input",Ie(ve({},e.value||{}),{fields:s}))}}),o=[{name:n("field",1),field:"field",type:"string",meta:{interface:"input",width:"half",sort:2,options:{dbSafe:!0,font:"monospace",placeholder:n("interfaces.list.field_name_placeholder")}},schema:null},{name:n("field_width"),field:"width",type:"string",meta:{interface:"select-dropdown",width:"half",sort:3,options:{choices:[{value:"half",text:n("half_width")},{value:"full",text:n("full_width")}]}},schema:null},{name:n("type"),field:"type",type:"string",meta:{interface:"select-dropdown",width:"half",sort:4,options:{choices:Dt(v4)}},schema:null},{name:n("interface_label"),field:"interface",type:"string",meta:{interface:"system-interface",width:"half",sort:5,options:{typeField:"type"}},schema:null},{name:n("note"),field:"note",type:"string",meta:{interface:"system-input-translated-string",width:"full",sort:6,options:{placeholder:n("interfaces.list.field_note_placeholder")}},schema:null},{name:n("options"),field:"options",type:"string",meta:{interface:"system-interface-options",width:"full",sort:7,options:{interfaceField:"interface"}}}],u=V({get(){var i;return(i=e.value)==null?void 0:i.template},set(i){t("input",Ie(ve({},e.value||{}),{template:i}))}}),r=V({get(){var i;return(i=e.value)==null?void 0:i.addLabel},set(i){t("input",Ie(ve({},e.value||{}),{addLabel:i}))}});return{t:n,repeaterValue:l,repeaterFields:o,template:u,addLabel:r}}}),DJ={class:"grid"},PJ={class:"grid-element half"},TJ={class:"type-label"},OJ={class:"grid-element half"},LJ={class:"type-label"},jJ={class:"grid-element full"},RJ={class:"type-label"};function MJ(e,t,n,l,o,u){const r=c("v-input"),i=c("interface-system-input-translated-string"),s=c("repeater");return m(),A("div",DJ,[$("div",PJ,[$("p",TJ,w(e.t("template")),1),a(r,{modelValue:e.template,"onUpdate:modelValue":t[0]||(t[0]=p=>e.template=p),class:"input",placeholder:"{{ field }}"},null,8,["modelValue"])]),$("div",OJ,[$("p",LJ,w(e.t("interfaces.list.add_label")),1),a(i,{value:e.addLabel,class:"input",placeholder:e.t("create_new"),onInput:t[1]||(t[1]=p=>e.addLabel=p)},null,8,["value","placeholder"])]),$("div",jJ,[$("p",RJ,w(e.t("interfaces.list.edit_fields")),1),a(s,{value:e.repeaterValue,template:"{{ field }} \u2014 {{ interface }}",fields:e.repeaterFields,onInput:t[2]||(t[2]=p=>e.repeaterValue=p)},null,8,["value","fields"])])])}var UJ=H(EJ,[["render",MJ],["__scopeId","data-v-73448c36"]]),NJ=`<svg width="156" height="96" viewBox="0 0 156 96" fill="none" xmlns="http://www.w3.org/2000/svg">
	<rect x="18.4443" y="9" width="120" height="22" rx="6" fill="var(--background-page)" />
	<rect x="19.4443" y="10" width="118" height="20" rx="5" stroke="var(--primary)" stroke-opacity="0.25"
		stroke-width="2" />
	<rect x="46" y="17" width="10" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="60" y="17" width="40" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<path opacity="0.5" d="M38 18H28V19.2691H38V18ZM28 21.7778H38V20.5087H28V21.7778Z" fill="var(--primary)" />
	<rect x="18" y="65" width="120" height="22" rx="6" fill="var(--background-page)" />
	<rect x="19" y="66" width="118" height="20" rx="5" stroke="var(--primary)" stroke-opacity="0.25" stroke-width="2" />
	<rect x="46" y="73" width="60" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<path opacity="0.5" d="M38 74H28V75.2691H38V74ZM28 77.7778H38V76.5087H28V77.7778Z" fill="var(--primary)" />
	<rect x="18" y="37" width="120" height="22" rx="6" fill="var(--background-page)" class="glow" />
	<rect x="19" y="38" width="118" height="20" rx="5" stroke="var(--primary)" stroke-width="2" />
	<rect x="46" y="45" width="30" height="6" rx="2" fill="var(--primary)" />
	<rect x="80" y="45" width="10" height="6" rx="2" fill="var(--primary)" />
	<path d="M38 46H28V47.2691H38V46ZM28 49.7778H38V48.5087H28V49.7778Z" fill="var(--primary)" />
	<path
		d="M127.074 52.0742H118.926V43.9258H123V42.75H118.926C118.27 42.75 117.75 43.2695 117.75 43.9258V52.0742C117.75 52.7305 118.27 53.25 118.926 53.25H127.074C127.73 53.25 128.25 52.7305 128.25 52.0742V48H127.074V52.0742ZM124.176 42.75V43.9258H126.254L120.539 49.6406L121.359 50.4609L127.074 44.7461V46.8242H128.25V42.75H124.176Z"
		fill="var(--primary)" />
</svg>
`,BJ=Ze({id:"list",name:"$t:interfaces.list.repeater",description:"$t:interfaces.list.description",icon:"replay",component:qs,types:["json"],group:"selection",options:UJ,preview:NJ}),qJ=Object.freeze(Object.defineProperty({__proto__:null,default:BJ},Symbol.toStringTag,{value:"Module"}));const zs=e=>(xe("data-v-91c8c5fe"),e=e(),et(),e),zJ={key:1,class:"m2a-builder"},KJ={class:"collection"},WJ=zs(()=>$("div",{class:"spacer"},null,-1)),HJ=zs(()=>$("div",{class:"spacer"},null,-1)),GJ={class:"actions"},ZJ=Z({props:{value:{default:()=>[]},primaryKey:null,collection:null,field:null,disabled:{type:Boolean,default:!1},enableCreate:{type:Boolean,default:!0},enableSelect:{type:Boolean,default:!0}},emits:["input"],setup(e,{emit:t}){const n=e,{t:l}=ae(),{collection:o,field:u,primaryKey:r}=ze(n),{relationInfo:i}=pG(o,u),s=V({get:()=>n.value,set:_e=>{t("input",_e)}}),p=V(()=>{var ce;if(!i.value)return{};const _e={};for(const oe of i.value.allowedCollections){const ne=i.value.relationPrimaryKeyFields[oe.collection];_e[oe.collection]=((ce=oe.meta)==null?void 0:ce.display_template)||`{{${ne==null?void 0:ne.field}}}`}return _e}),f=V(()=>{var ce,oe;if(!i.value)return[];const _e=[];for(const ne of i.value.allowedCollections)_e.push(...tn(St(p.value[ne.collection]),(oe=(ce=i.value)==null?void 0:ce.junctionCollection.collection)!=null?oe:"").map(x=>{var pe;return`${(pe=i.value)==null?void 0:pe.junctionField.field}:${ne.collection}.${x}`}));return _e}),_=D(15),v=D(1),y=V(()=>({fields:f.value,limit:_.value,page:v.value})),{create:g,update:h,remove:b,select:S,displayItems:I,totalItemCount:E,loading:R,selected:O,isItemSelected:L,localDelete:q}=el(s,y,i,r),T=V(()=>Math.ceil(E.value/_.value)),j=V(()=>{var _e;return E.value<=_.value&&((_e=i.value)==null?void 0:_e.sortField)!==void 0&&!n.disabled});function U(_e){return _e.$type==="deleted"?"settings_backup_restore":q(_e)?"delete":"close"}function B(_e){var ne;const ce=(ne=i.value)==null?void 0:ne.sortField;if(!ce)return;const oe=_e.map((x,pe)=>Ie(ve({},x),{[ce]:pe}));h(...oe)}const K=D(!1),J=D(null),Y=D(null),W=D(null),G=D({});let Q=!1;function X(_e){!i.value||(J.value=null,Y.value=null,G.value={[i.value.collectionField.field]:_e,[i.value.junctionField.field]:{}},Q=!0,K.value=!0)}function ee(_e){if(!i.value)return;const ce=i.value.relationPrimaryKeyFields[_e[i.value.collectionField.field]].field,oe=i.value.junctionField.field,ne=i.value.junctionPrimaryKeyField.field;if(Q=!1,G.value=_e,K.value=!0,(_e==null?void 0:_e.$type)==="created"&&!L(_e))J.value=null,Y.value=null;else{if(!ce)return;J.value=z.exports.get(_e,[ne],null),Y.value=z.exports.get(_e,[oe,ce],null)}}function le(_e){Q?g(_e):h(_e)}function te(){K.value=!1}function re(_e){v.value===Math.ceil(E.value/_.value)&&v.value!==Math.ceil((E.value-1)/_.value)&&(v.value=Math.max(1,v.value-1)),b(_e)}function ye(_e){const ce=i.value;return ce?ce.allowedCollections.findIndex(oe=>i&&oe.collection===_e[ce.collectionField.field])!==-1:!1}function fe(_e){var oe;const ce=i.value;return ce?(oe=ce.allowedCollections.find(ne=>ne.collection===_e[ce.collectionField.field]))==null?void 0:oe.name:!1}const ue=V(()=>{const _e=i.value,ce={_and:[]};if(!_e||!W.value)return ce;const ne={[`$FOLLOW(${_e.junctionCollection.collection},${_e.junctionField.field},${_e.collectionField.field})`]:{_none:{[i.value.reverseJunctionField.field]:{_eq:n.primaryKey}}}},x=_e.junctionField.field,pe=O.value.reduce((ge,$e)=>{const we=_e.relationPrimaryKeyFields[$e[_e.collectionField.field]].field;return $e[_e.collectionField.field]===W.value&&ge.push($e[x][we]),ge},[]);return pe.length>0&&ce._and.push({[_e.relationPrimaryKeyFields[W.value].field]:{_nin:pe}}),n.primaryKey!=="+"&&ce._and.push(ne),ce});return(_e,ce)=>{const oe=c("v-notice"),ne=c("v-skeleton-loader"),x=c("v-icon"),pe=c("render-template"),ge=c("v-list-item"),$e=c("v-list"),we=c("v-button"),be=c("v-list-item-icon"),De=c("v-text-overflow"),qe=c("v-menu"),Ke=c("v-pagination");return C(i)?(m(),A("div",zJ,[C(R)?(m(!0),A(se,{key:0},Ve(C(z.exports.clamp)(C(E)-(v.value-1)*_.value,1,_.value),je=>(m(),F(ne,{key:je,type:C(E)>4?"block-list-item-dense":"block-list-item"},null,8,["type"]))),128)):(m(),F($e,{key:1},{default:d(()=>[C(I).length===0?(m(),F(oe,{key:0},{default:d(()=>[P(w(C(l)("no_items")),1)]),_:1})):M("",!0),a(C(Ot),{"force-fallback":!0,"model-value":C(I),"item-key":"$index","set-data":C(dn),disabled:!C(j),"onUpdate:modelValue":B},{item:d(({element:je})=>[ye(je)?(m(),F(ge,{key:0,block:"",dense:C(E)>4,class:de({deleted:je.$type==="deleted"}),clickable:"",onClick:Ue=>ee(je)},{default:d(()=>[C(j)?(m(),F(x,{key:0,class:"drag-handle",left:"",name:"drag_handle",onClick:ce[0]||(ce[0]=Te(()=>{},["stop"]))})):M("",!0),$("span",KJ,w(fe(je))+":",1),a(pe,{collection:je[C(i).collectionField.field],template:C(p)[je[C(i).collectionField.field]],item:je[C(i).junctionField.field]},null,8,["collection","template","item"]),WJ,e.disabled?M("",!0):(m(),F(x,{key:1,class:"clear-icon",name:U(je),onClick:Te(Ue=>re(je),["stop"])},null,8,["name","onClick"]))]),_:2},1032,["dense","class","onClick"])):(m(),F(ge,{key:1,block:"",class:de({deleted:je.$type==="deleted"})},{default:d(()=>[a(x,{class:"invalid-icon",name:"warning",left:""}),$("span",null,w(C(l)("invalid_item")),1),HJ,e.disabled?M("",!0):(m(),F(x,{key:0,class:"clear-icon",name:U(je),onClick:Te(Ue=>re(je),["stop"])},null,8,["name","onClick"]))]),_:2},1032,["class"]))]),_:1},8,["model-value","set-data","disabled"])]),_:1})),$("div",GJ,[e.enableCreate?(m(),F(qe,{key:0,disabled:e.disabled,"show-arrow":""},{activator:d(({toggle:je})=>[a(we,{disabled:e.disabled,onClick:je},{default:d(()=>[P(w(C(l)("create_new"))+" ",1),a(x,{name:"arrow_drop_down",right:""})]),_:2},1032,["disabled","onClick"])]),default:d(()=>[a($e,null,{default:d(()=>[(m(!0),A(se,null,Ve(C(i).allowedCollections,je=>(m(),F(ge,{key:je.collection,clickable:"",onClick:Ue=>X(je.collection)},{default:d(()=>[a(be,null,{default:d(()=>[a(x,{name:je.icon},null,8,["name"])]),_:2},1024),a(De,{text:je.name},null,8,["text"])]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1},8,["disabled"])):M("",!0),e.enableSelect?(m(),F(qe,{key:1,disabled:e.disabled,"show-arrow":""},{activator:d(({toggle:je})=>[a(we,{class:"existing",disabled:e.disabled,onClick:je},{default:d(()=>[P(w(C(l)("add_existing"))+" ",1),a(x,{name:"arrow_drop_down",right:""})]),_:2},1032,["disabled","onClick"])]),default:d(()=>[a($e,null,{default:d(()=>[(m(!0),A(se,null,Ve(C(i).allowedCollections,je=>(m(),F(ge,{key:je.collection,clickable:"",onClick:Ue=>W.value=je.collection},{default:d(()=>[a(be,null,{default:d(()=>[a(x,{name:je.icon},null,8,["name"])]),_:2},1024),a(De,{text:je.name},null,8,["text"])]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1},8,["disabled"])):M("",!0),C(T)>1?(m(),F(Ke,{key:2,modelValue:v.value,"onUpdate:modelValue":ce[1]||(ce[1]=je=>v.value=je),length:C(T),"total-visible":5},null,8,["modelValue","length"])):M("",!0)]),!e.disabled&&!!W.value?(m(),F(C(mn),{key:2,multiple:"",active:!!W.value,collection:W.value,filter:C(ue),onInput:ce[2]||(ce[2]=je=>{var Ue;return C(S)(je,(Ue=W.value)!=null?Ue:void 0)}),"onUpdate:active":ce[3]||(ce[3]=je=>W.value=null)},null,8,["active","collection","filter"])):M("",!0),a(C(Ht),{disabled:e.disabled,active:K.value,collection:C(i).junctionCollection.collection,"primary-key":J.value||"+","related-primary-key":Y.value||"+","junction-field":C(i).junctionField.field,edits:G.value,"circular-field":C(i).reverseJunctionField.field,onInput:le,"onUpdate:active":te},null,8,["disabled","active","collection","primary-key","related-primary-key","junction-field","edits","circular-field"])])):(m(),F(oe,{key:0,type:"warning"},{default:d(()=>[P(w(C(l)("relationship_not_setup")),1)]),_:1}))}}});var JJ=H(ZJ,[["__scopeId","data-v-91c8c5fe"]]),XJ=`<svg width="156" height="96" viewBox="0 0 156 96" fill="none" xmlns="http://www.w3.org/2000/svg">
	<rect x="18.4443" y="9" width="120" height="22" rx="6" fill="var(--background-page)" />
	<rect x="19.4443" y="10" width="118" height="20" rx="5" stroke="var(--primary)" stroke-opacity="0.25"
		stroke-width="2" />
	<rect x="46" y="17" width="10" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="60" y="17" width="40" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<path opacity="0.5" d="M38 18H28V19.2691H38V18ZM28 21.7778H38V20.5087H28V21.7778Z" fill="var(--primary)" />
	<rect x="18" y="65" width="120" height="22" rx="6" fill="var(--background-page)" />
	<rect x="19" y="66" width="118" height="20" rx="5" stroke="var(--primary)" stroke-opacity="0.25" stroke-width="2" />
	<rect x="46" y="73" width="60" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<path opacity="0.5" d="M38 74H28V75.2691H38V74ZM28 77.7778H38V76.5087H28V77.7778Z" fill="var(--primary)" />
	<rect x="18" y="37" width="120" height="22" rx="6" fill="var(--background-page)" class="glow" />
	<rect x="19" y="38" width="118" height="20" rx="5" stroke="var(--primary)" stroke-width="2" />
	<rect x="46" y="45" width="30" height="6" rx="2" fill="var(--primary)" />
	<rect x="80" y="45" width="10" height="6" rx="2" fill="var(--primary)" />
	<path d="M38 46H28V47.2691H38V46ZM28 49.7778H38V48.5087H28V49.7778Z" fill="var(--primary)" />
	<path
		d="M127.074 52.0742H118.926V43.9258H123V42.75H118.926C118.27 42.75 117.75 43.2695 117.75 43.9258V52.0742C117.75 52.7305 118.27 53.25 118.926 53.25H127.074C127.73 53.25 128.25 52.7305 128.25 52.0742V48H127.074V52.0742ZM124.176 42.75V43.9258H126.254L120.539 49.6406L121.359 50.4609L127.074 44.7461V46.8242H128.25V42.75H124.176Z"
		fill="var(--primary)" />
</svg>
`,YJ=Ze({id:"list-m2a",name:"$t:list-m2a",icon:"note_add",component:JJ,relational:!0,types:["alias"],localTypes:["m2a"],group:"relational",options:[{field:"enableSelect",name:"$t:selecting_items",schema:{default_value:!0},meta:{interface:"boolean",options:{label:"$t:enable_select_button"},width:"half"}},{field:"enableCreate",name:"$t:creating_items",schema:{default_value:!0},meta:{interface:"boolean",options:{label:"$t:enable_create_button"},width:"half"}}],preview:XJ}),QJ=Object.freeze(Object.defineProperty({__proto__:null,default:YJ},Symbol.toStringTag,{value:"Module"}));function ya(e,t){var o;if(!(t==null?void 0:t.length))return[];const n=Me(),l=[];for(const u of t){if(l.push(u),!u.includes("."))continue;const r=u.split("."),i=n.getField(e,u),s=n.getPrimaryKeyFieldForCollection((o=i==null?void 0:i.collection)!=null?o:""),p=s&&r.slice(0,-1).concat(s.field).join(".");p&&!l.includes(p)&&l.push(p)}return l}const xJ=e=>(xe("data-v-88513338"),e=e(),et(),e),eX={key:1,class:"many-to-many"},tX=xJ(()=>$("div",{class:"spacer"},null,-1)),nX={class:"actions"},lX=Z({props:{value:{default:()=>[]},primaryKey:null,collection:null,field:null,template:{default:()=>null},disabled:{type:Boolean,default:!1},enableCreate:{type:Boolean,default:!0},enableSelect:{type:Boolean,default:!0},filter:{default:()=>null}},emits:["input"],setup(e,{emit:t}){const n=e,{t:l}=ae(),{collection:o,field:u,primaryKey:r}=ze(n),{relationInfo:i}=ma(o,u),s=V({get:()=>n.value,set:x=>{t("input",x)}}),p=V(()=>{var pe,ge,$e;if(!i.value)return null;if(n.template)return n.template;if((pe=i.value.junctionCollection.meta)==null?void 0:pe.display_template)return(ge=i.value.junctionCollection.meta)==null?void 0:ge.display_template;let x=($e=i.value.relatedCollection.meta)==null?void 0:$e.display_template;if(x){const we=/({{.*?}})/g,be=x.split(we).filter(De=>De);for(const De of be){if(De.startsWith("{{")===!1)continue;const qe=De.replace(/{{/g,"").replace(/}}/g,"").trim(),Ke=`{{${i.value.relation.field}.${qe}}}`;x=x.replace(De,Ke)}return x}return`{{${i.value.relation.field}.${i.value.relatedPrimaryKeyField.field}}}`}),f=V(()=>{var pe,ge,$e,we;const x=tn(St(p.value),(ge=(pe=i.value)==null?void 0:pe.junctionCollection.collection)!=null?ge:"");return ya((we=($e=i.value)==null?void 0:$e.junctionCollection.collection)!=null?we:"",x)}),_=D(15),v=D(1),y=V(()=>({fields:f.value,limit:_.value,page:v.value})),{create:g,update:h,remove:b,select:S,displayItems:I,totalItemCount:E,loading:R,selected:O,isItemSelected:L,localDelete:q}=el(s,y,i,r),T=V(()=>Math.ceil(E.value/_.value)),j=V(()=>{var x;return E.value<=_.value&&((x=i.value)==null?void 0:x.sortField)!==void 0&&!n.disabled});function U(x){return x.$type==="deleted"?"settings_backup_restore":q(x)?"delete":"close"}function B(x){var $e;const pe=($e=i.value)==null?void 0:$e.sortField;if(!pe)return;const ge=x.map((we,be)=>Ie(ve({},we),{[pe]:be}));h(...ge)}const K=V(()=>{if(!i.value)return[];const x=i.value.junctionField.field,pe=i.value.relatedPrimaryKeyField.field;return O.value.map(ge=>ge[x][pe])}),J=D(!1),Y=D(null),W=D(null),G=D(!1),Q=D({});let X=!1;function ee(){Y.value=null,W.value=null,Q.value={},X=!0,J.value=!0}function le(x){if(!i.value)return;const pe=i.value.relatedPrimaryKeyField.field,ge=i.value.junctionField.field,$e=i.value.junctionPrimaryKeyField.field;X=!1,Q.value=x,J.value=!0,(x==null?void 0:x.$type)==="created"&&!L(x)?(Y.value=null,W.value=null):(Y.value=z.exports.get(x,[$e],null),W.value=z.exports.get(x,[ge,pe],null))}function te(x){X?g(x):h(x)}function re(){J.value=!1}function ye(x){v.value===Math.ceil(E.value/_.value)&&v.value!==Math.ceil((E.value-1)/_.value)&&(v.value=Math.max(1,v.value-1)),b(x)}const fe=vt("values",D({})),ue=V(()=>{const x={_and:[]},pe=In(Nn(n.filter,we=>we&&typeof we=="string"?Xt(we,fe.value):we));if(z.exports.isEmpty(pe)||x._and.push(pe),!i.value)return x;const $e={[`$FOLLOW(${i.value.junctionCollection.collection},${i.value.junctionField.field})`]:{_none:{[i.value.reverseJunctionField.field]:{_eq:n.primaryKey}}}};return K.value.length>0&&x._and.push({[i.value.relatedPrimaryKeyField.field]:{_nin:K.value}}),n.primaryKey!=="+"&&x._and.push($e),x}),_e=Ye(),ce=Vt(),oe=V(()=>{var $e;if((($e=_e.currentUser)==null?void 0:$e.role.admin_access)===!0)return!0;const pe=!!ce.permissions.find(we=>{var be;return we.action==="create"&&we.collection===((be=i.value)==null?void 0:be.junctionCollection.collection)}),ge=!!ce.permissions.find(we=>{var be;return we.action==="create"&&we.collection===((be=i.value)==null?void 0:be.relatedCollection.collection)});return pe&&ge}),ne=V(()=>{var ge;return((ge=_e.currentUser)==null?void 0:ge.role.admin_access)===!0?!0:!!ce.permissions.find($e=>{var we;return $e.action==="create"&&$e.collection===((we=i.value)==null?void 0:we.junctionCollection.collection)})});return(x,pe)=>{const ge=c("v-notice"),$e=c("v-skeleton-loader"),we=c("v-icon"),be=c("render-template"),De=c("v-list-item"),qe=c("v-list"),Ke=c("v-button"),je=c("v-pagination");return C(i)?(m(),A("div",eX,[C(R)?(m(!0),A(se,{key:0},Ve(C(z.exports.clamp)(C(E)-(v.value-1)*_.value,1,_.value),Ue=>(m(),F($e,{key:Ue,type:C(E)>4?"block-list-item-dense":"block-list-item"},null,8,["type"]))),128)):C(I).length===0?(m(),F(ge,{key:1},{default:d(()=>[P(w(C(l)("no_items")),1)]),_:1})):(m(),F(qe,{key:2},{default:d(()=>[a(C(Ot),{"force-fallback":!0,"model-value":C(I),"item-key":"id",handle:".drag-handle",disabled:!C(j),"onUpdate:modelValue":pe[1]||(pe[1]=Ue=>B(Ue))},{item:d(({element:Ue})=>[a(De,{class:de({deleted:Ue.$type==="deleted"}),dense:C(E)>4,block:"",clickable:"",onClick:Le=>le(Ue)},{default:d(()=>[C(j)?(m(),F(we,{key:0,name:"drag_handle",class:"drag-handle",left:"",onClick:pe[0]||(pe[0]=Te(()=>{},["stop"]))})):M("",!0),a(be,{collection:C(i).junctionCollection.collection,item:Ue,template:C(p)},null,8,["collection","item","template"]),tX,e.disabled?M("",!0):(m(),F(we,{key:1,class:"deselect",name:U(Ue),onClick:Te(Le=>ye(Ue),["stop"])},null,8,["name","onClick"]))]),_:2},1032,["class","dense","onClick"])]),_:1},8,["model-value","disabled"])]),_:1})),$("div",nX,[e.enableCreate&&C(oe)?(m(),F(Ke,{key:0,disabled:e.disabled,onClick:ee},{default:d(()=>[P(w(C(l)("create_new")),1)]),_:1},8,["disabled"])):M("",!0),e.enableSelect&&C(ne)?(m(),F(Ke,{key:1,disabled:e.disabled,onClick:pe[2]||(pe[2]=Ue=>G.value=!0)},{default:d(()=>[P(w(C(l)("add_existing")),1)]),_:1},8,["disabled"])):M("",!0),C(T)>1?(m(),F(je,{key:2,modelValue:v.value,"onUpdate:modelValue":pe[3]||(pe[3]=Ue=>v.value=Ue),length:C(T),"total-visible":5},null,8,["modelValue","length"])):M("",!0)]),a(C(Ht),{disabled:e.disabled,active:J.value,collection:C(i).junctionCollection.collection,"primary-key":Y.value||"+","related-primary-key":W.value||"+","junction-field":C(i).junctionField.field,edits:Q.value,"circular-field":C(i).reverseJunctionField.field,onInput:te,"onUpdate:active":re},null,8,["disabled","active","collection","primary-key","related-primary-key","junction-field","edits","circular-field"]),e.disabled?M("",!0):(m(),F(C(mn),{key:3,active:G.value,"onUpdate:active":pe[4]||(pe[4]=Ue=>G.value=Ue),collection:C(i).relatedCollection.collection,filter:C(ue),multiple:"",onInput:C(S)},null,8,["active","collection","filter","onInput"]))])):(m(),F(ge,{key:0,type:"warning"},{default:d(()=>[P(w(C(l)("relationship_not_setup")),1)]),_:1}))}}});var oX=H(lX,[["__scopeId","data-v-88513338"]]),aX=`<svg width="156" height="96" viewBox="0 0 156 96" fill="none" xmlns="http://www.w3.org/2000/svg">
	<rect x="18.4443" y="9" width="120" height="22" rx="6" fill="var(--background-page)" />
	<rect x="19.4443" y="10" width="118" height="20" rx="5" stroke="var(--primary)" stroke-opacity="0.25"
		stroke-width="2" />
	<rect x="46" y="17" width="10" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="60" y="17" width="40" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<path opacity="0.5" d="M38 18H28V19.2691H38V18ZM28 21.7778H38V20.5087H28V21.7778Z" fill="var(--primary)" />
	<rect x="18" y="65" width="120" height="22" rx="6" fill="var(--background-page)" />
	<rect x="19" y="66" width="118" height="20" rx="5" stroke="var(--primary)" stroke-opacity="0.25" stroke-width="2" />
	<rect x="46" y="73" width="60" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<path opacity="0.5" d="M38 74H28V75.2691H38V74ZM28 77.7778H38V76.5087H28V77.7778Z" fill="var(--primary)" />
	<rect x="18" y="37" width="120" height="22" rx="6" fill="var(--background-page)" class="glow" />
	<rect x="19" y="38" width="118" height="20" rx="5" stroke="var(--primary)" stroke-width="2" />
	<rect x="46" y="45" width="30" height="6" rx="2" fill="var(--primary)" />
	<rect x="80" y="45" width="10" height="6" rx="2" fill="var(--primary)" />
	<path d="M38 46H28V47.2691H38V46ZM28 49.7778H38V48.5087H28V49.7778Z" fill="var(--primary)" />
	<path
		d="M127.074 52.0742H118.926V43.9258H123V42.75H118.926C118.27 42.75 117.75 43.2695 117.75 43.9258V52.0742C117.75 52.7305 118.27 53.25 118.926 53.25H127.074C127.73 53.25 128.25 52.7305 128.25 52.0742V48H127.074V52.0742ZM124.176 42.75V43.9258H126.254L120.539 49.6406L121.359 50.4609L127.074 44.7461V46.8242H128.25V42.75H124.176Z"
		fill="var(--primary)" />
</svg>
`,iX=Ze({id:"list-m2m",name:"$t:interfaces.list-m2m.many-to-many",description:"$t:interfaces.list-m2m.description",icon:"note_add",component:oX,relational:!0,types:["alias"],localTypes:["m2m"],group:"relational",options:({editing:e,relations:t})=>{var l,o,u;const n=e==="+"?{interface:"presentation-notice",options:{text:"$t:interfaces.list-m2m.display_template_configure_notice"}}:{interface:"system-display-template",options:{collectionName:(l=t.o2m)==null?void 0:l.collection}};return[{field:"template",name:"$t:display_template",meta:n},{field:"enableCreate",name:"$t:creating_items",schema:{default_value:!0},meta:{interface:"boolean",options:{label:"$t:enable_create_button"},width:"half"}},{field:"enableSelect",name:"$t:selecting_items",schema:{default_value:!0},meta:{interface:"boolean",options:{label:"$t:enable_select_button"},width:"half"}},{field:"filter",name:"$t:filter",type:"json",meta:{interface:"system-filter",options:{collectionName:(u=(o=t.m2o)==null?void 0:o.related_collection)!=null?u:null},conditions:[{rule:{enableSelect:{_eq:!1}},hidden:!0}]}}]},recommendedDisplays:["related-values"],preview:aX}),rX=Object.freeze(Object.defineProperty({__proto__:null,default:iX},Symbol.toStringTag,{value:"Module"}));const sX=e=>(xe("data-v-ee8db8b4"),e=e(),et(),e),dX={key:1,class:"one-to-many"},uX=sX(()=>$("div",{class:"spacer"},null,-1)),cX={class:"actions"},pX=Z({props:{value:{default:()=>[]},primaryKey:null,collection:null,field:null,template:{default:()=>null},disabled:{type:Boolean,default:!1},enableCreate:{type:Boolean,default:!0},enableSelect:{type:Boolean,default:!0},filter:{default:()=>null}},emits:["input"],setup(e,{emit:t}){const n=e,{t:l}=ae(),{collection:o,field:u,primaryKey:r}=ze(n),{relationInfo:i}=Rs(o,u),s=V({get:()=>n.value,set:oe=>{t("input",oe)}}),p=V(()=>{var oe,ne,x,pe;return n.template||((ne=(oe=i.value)==null?void 0:oe.relatedCollection.meta)==null?void 0:ne.display_template)||`{{${(pe=(x=i.value)==null?void 0:x.relatedPrimaryKeyField.field)!=null?pe:"id"}}}`}),f=V(()=>{var ne,x,pe,ge;const oe=tn(St(p.value),(x=(ne=i.value)==null?void 0:ne.relatedCollection.collection)!=null?x:"");return ya((ge=(pe=i.value)==null?void 0:pe.relatedCollection.collection)!=null?ge:"",oe)}),_=D(15),v=D(1),y=V(()=>({fields:f.value,limit:_.value,page:v.value})),{create:g,update:h,remove:b,select:S,displayItems:I,totalItemCount:E,loading:R,selected:O,isItemSelected:L,localDelete:q}=el(s,y,i,r),T=V(()=>Math.ceil(E.value/_.value)),j=V(()=>{var oe;return E.value<=_.value&&((oe=i.value)==null?void 0:oe.sortField)!==void 0&&!n.disabled});function U(oe){return oe.$type==="deleted"?"settings_backup_restore":q(oe)?"delete":"close"}function B(oe){var pe;const ne=(pe=i.value)==null?void 0:pe.sortField;if(!ne)return;const x=oe.map((ge,$e)=>Ie(ve({},ge),{[ne]:$e}));h(...x)}const K=V(()=>{var ne;if(!i.value)return[];const oe=(ne=i.value)==null?void 0:ne.relatedPrimaryKeyField.field;return O.value.map(x=>x[oe])}),J=D(null),Y=D(!1),W=D({});let G=!1;function Q(){J.value="+",W.value={},G=!0}function X(oe){if(!i.value)return;const ne=i.value.relatedPrimaryKeyField.field;G=!1,W.value=oe,(oe==null?void 0:oe.$type)==="created"&&!L(oe)?J.value="+":J.value=oe[ne]}function ee(oe){G?g(oe):h(oe)}function le(){J.value=null}function te(oe){v.value===Math.ceil(E.value/_.value)&&v.value!==Math.ceil((E.value-1)/_.value)&&(v.value=Math.max(1,v.value-1)),b(oe)}const re=vt("values",D({})),ye=V(()=>{const oe={_and:[]},ne=In(Nn(n.filter,pe=>pe&&typeof pe=="string"?Xt(pe,re.value):pe));if(z.exports.isEmpty(ne)||oe._and.push(ne),!i.value)return oe;const x={_or:[{[i.value.reverseJunctionField.field]:{_neq:n.primaryKey}},{[i.value.reverseJunctionField.field]:{_null:!0}}]};return K.value.length>0&&oe._and.push({[i.value.relatedPrimaryKeyField.field]:{_nin:K.value}}),n.primaryKey!=="+"&&oe._and.push(x),oe}),fe=Ye(),ue=Vt(),_e=V(()=>{var ne;return((ne=fe.currentUser)==null?void 0:ne.role.admin_access)===!0?!0:!!ue.permissions.find(x=>{var pe;return x.action==="create"&&x.collection===((pe=i.value)==null?void 0:pe.relatedCollection.collection)})}),ce=V(()=>{var ne;return((ne=fe.currentUser)==null?void 0:ne.role.admin_access)===!0?!0:!!ue.permissions.find(x=>{var pe;return x.action==="update"&&x.collection===((pe=i.value)==null?void 0:pe.relatedCollection.collection)})});return(oe,ne)=>{const x=c("v-notice"),pe=c("v-skeleton-loader"),ge=c("v-icon"),$e=c("render-template"),we=c("v-list-item"),be=c("v-list"),De=c("v-button"),qe=c("v-pagination");return C(i)?(m(),A("div",dX,[C(R)?(m(!0),A(se,{key:0},Ve(C(z.exports.clamp)(C(E)-(v.value-1)*_.value,1,_.value),Ke=>(m(),F(pe,{key:Ke,type:C(E)>4?"block-list-item-dense":"block-list-item"},null,8,["type"]))),128)):C(I).length===0?(m(),F(x,{key:1},{default:d(()=>[P(w(C(l)("no_items")),1)]),_:1})):(m(),F(be,{key:2},{default:d(()=>[a(C(Ot),{"force-fallback":!0,"model-value":C(I),"item-key":"id",handle:".drag-handle",disabled:!C(j),"onUpdate:modelValue":ne[1]||(ne[1]=Ke=>B(Ke))},{item:d(({element:Ke})=>[a(we,{block:"",clickable:"",dense:C(E)>4,disabled:e.disabled||C(ce)===!1,class:de({deleted:Ke.$type==="deleted"}),onClick:je=>X(Ke)},{default:d(()=>[C(j)?(m(),F(ge,{key:0,name:"drag_handle",class:"drag-handle",left:"",onClick:ne[0]||(ne[0]=Te(()=>{},["stop"]))})):M("",!0),a($e,{collection:C(i).relatedCollection.collection,item:Ke,template:C(p)},null,8,["collection","item","template"]),uX,!e.disabled&&C(ce)?(m(),F(ge,{key:1,class:"deselect",name:U(Ke),onClick:Te(je=>te(Ke),["stop"])},null,8,["name","onClick"])):M("",!0)]),_:2},1032,["dense","disabled","class","onClick"])]),_:1},8,["model-value","disabled"])]),_:1})),$("div",cX,[e.enableCreate&&C(_e)&&C(ce)?(m(),F(De,{key:0,disabled:e.disabled,onClick:Q},{default:d(()=>[P(w(C(l)("create_new")),1)]),_:1},8,["disabled"])):M("",!0),e.enableSelect&&C(ce)?(m(),F(De,{key:1,disabled:e.disabled,onClick:ne[2]||(ne[2]=Ke=>Y.value=!0)},{default:d(()=>[P(w(C(l)("add_existing")),1)]),_:1},8,["disabled"])):M("",!0),C(T)>1?(m(),F(qe,{key:2,modelValue:v.value,"onUpdate:modelValue":ne[3]||(ne[3]=Ke=>v.value=Ke),length:C(T),"total-visible":5},null,8,["modelValue","length"])):M("",!0)]),a(C(Ht),{disabled:e.disabled,active:J.value!==null,collection:C(i).relatedCollection.collection,"primary-key":J.value||"+",edits:W.value,"circular-field":C(i).reverseJunctionField.field,onInput:ee,"onUpdate:active":le},null,8,["disabled","active","collection","primary-key","edits","circular-field"]),e.disabled?M("",!0):(m(),F(C(mn),{key:3,active:Y.value,"onUpdate:active":ne[4]||(ne[4]=Ke=>Y.value=Ke),collection:C(i).relatedCollection.collection,filter:C(ye),multiple:"",onInput:C(S)},null,8,["active","collection","filter","onInput"]))])):(m(),F(x,{key:0,type:"warning"},{default:d(()=>[P(w(C(l)("relationship_not_setup")),1)]),_:1}))}}});var mX=H(pX,[["__scopeId","data-v-ee8db8b4"]]),fX=`<svg width="156" height="96" viewBox="0 0 156 96" fill="none" xmlns="http://www.w3.org/2000/svg">
	<rect x="18.4443" y="9" width="120" height="22" rx="6" fill="var(--background-page)" />
	<rect x="19.4443" y="10" width="118" height="20" rx="5" stroke="var(--primary)" stroke-opacity="0.25"
		stroke-width="2" />
	<rect x="46" y="17" width="10" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="60" y="17" width="40" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<path opacity="0.5" d="M38 18H28V19.2691H38V18ZM28 21.7778H38V20.5087H28V21.7778Z" fill="var(--primary)" />
	<rect x="18" y="65" width="120" height="22" rx="6" fill="var(--background-page)" />
	<rect x="19" y="66" width="118" height="20" rx="5" stroke="var(--primary)" stroke-opacity="0.25" stroke-width="2" />
	<rect x="46" y="73" width="60" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<path opacity="0.5" d="M38 74H28V75.2691H38V74ZM28 77.7778H38V76.5087H28V77.7778Z" fill="var(--primary)" />
	<rect x="18" y="37" width="120" height="22" rx="6" fill="var(--background-page)" class="glow" />
	<rect x="19" y="38" width="118" height="20" rx="5" stroke="var(--primary)" stroke-width="2" />
	<rect x="46" y="45" width="30" height="6" rx="2" fill="var(--primary)" />
	<rect x="80" y="45" width="10" height="6" rx="2" fill="var(--primary)" />
	<path d="M38 46H28V47.2691H38V46ZM28 49.7778H38V48.5087H28V49.7778Z" fill="var(--primary)" />
	<path
		d="M127.074 52.0742H118.926V43.9258H123V42.75H118.926C118.27 42.75 117.75 43.2695 117.75 43.9258V52.0742C117.75 52.7305 118.27 53.25 118.926 53.25H127.074C127.73 53.25 128.25 52.7305 128.25 52.0742V48H127.074V52.0742ZM124.176 42.75V43.9258H126.254L120.539 49.6406L121.359 50.4609L127.074 44.7461V46.8242H128.25V42.75H124.176Z"
		fill="var(--primary)" />
</svg>
`,_X=Ze({id:"list-o2m",name:"$t:interfaces.list-o2m.one-to-many",description:"$t:interfaces.list-o2m.description",icon:"arrow_right_alt",component:mX,types:["alias"],localTypes:["o2m"],group:"relational",relational:!0,options:({relations:e})=>{var n;const t=(n=e.o2m)==null?void 0:n.collection;return[{field:"template",name:"$t:display_template",meta:{interface:"system-display-template",options:{collectionName:t},width:"full"}},{field:"enableCreate",name:"$t:creating_items",schema:{default_value:!0},meta:{interface:"boolean",options:{label:"$t:enable_create_button"},width:"half"}},{field:"enableSelect",name:"$t:selecting_items",schema:{default_value:!0},meta:{interface:"boolean",options:{label:"$t:enable_select_button"},width:"half"}},{field:"filter",name:"$t:filter",type:"json",meta:{interface:"system-filter",options:{collectionName:t},conditions:[{rule:{enableSelect:{_eq:!1}},hidden:!0}]}}]},recommendedDisplays:["related-values"],preview:fX}),vX=Object.freeze(Object.defineProperty({__proto__:null,default:_X},Symbol.toStringTag,{value:"Module"}));const yX=e=>(xe("data-v-b4ff30e8"),e=e(),et(),e),hX=yX(()=>$("div",{class:"spacer"},null,-1)),gX={key:1,class:"actions"},bX=Z({props:{collection:null,template:null,item:null,relationInfo:null,disabled:{type:Boolean,default:!1},open:{type:Boolean,default:!1},deleted:{type:Boolean},deleteIcon:null},emits:["update:open","deselect","input"],setup(e,{emit:t}){const n=e,{t:l}=ae(),o=D(!1);return(u,r)=>{const i=c("v-icon"),s=c("render-template"),p=Fe("tooltip");return m(),A("div",{class:de(["preview",{open:e.open,deleted:e.deleted}])},[e.relationInfo.relatedPrimaryKeyField.field in e.item?(m(),F(i,{key:0,name:n.open?"expand_less":"expand_more",clickable:"",onClick:r[0]||(r[0]=f=>t("update:open",!n.open))},null,8,["name"])):M("",!0),a(s,{collection:e.collection,template:e.template,item:e.item},null,8,["collection","template","item"]),hX,e.disabled?M("",!0):(m(),A("div",gX,[ie(a(i,{name:"launch",clickable:"",onClick:r[1]||(r[1]=f=>o.value=!0)},null,512),[[p,C(l)("edit")]]),ie(a(i,{name:e.deleteIcon,class:"deselect",clickable:"",onClick:r[2]||(r[2]=f=>u.$emit("deselect"))},null,8,["name"]),[[p,C(l)("deselect")]])])),a(C(Ht),{active:o.value,"onUpdate:active":r[3]||(r[3]=f=>o.value=f),collection:e.collection,"primary-key":e.item[n.relationInfo.relatedPrimaryKeyField.field]||"+",edits:e.item,"circular-field":n.relationInfo.reverseJunctionField.field,onInput:r[4]||(r[4]=f=>u.$emit("input",f))},null,8,["active","collection","primary-key","edits","circular-field"])],2)}}});var wX=H(bX,[["__scopeId","data-v-b4ff30e8"]]);const kX={key:0,class:"actions"},$X={name:"NestedDraggable"};function CX(e,{emit:t}){const n=e,{t:l}=ae(),o=V({get(){return n.modelValue===void 0?{create:[],update:[],delete:[]}:n.modelValue},set:X=>{t("update:modelValue",X)}}),{collection:u,field:r,primaryKey:i,relationInfo:s,root:p,fields:f,template:_,customFilter:v}=ze(n),y=D(!1),g=D({}),h=D(-1),b=D(1),S=V(()=>({fields:f.value,limit:h.value,page:b.value})),{displayItems:I,create:E,update:R,remove:O,select:L,cleanItem:q,localDelete:T}=el(o,S,s,i);function j(X){return X.$type==="deleted"?"settings_backup_restore":T(X)?"delete":"close"}const U=D(!1),B={animation:150,group:"description",disabled:!1,ghostClass:"ghost"},K=V(()=>I.value.filter(X=>!(n.itemsMoved.includes(X[s.value.relatedPrimaryKeyField.field])&&X.$type===void 0)));function J(X,ee){var te;!((te=s.value)==null?void 0:te.relatedPrimaryKeyField.field)||R(Ie(ve({},I.value[ee]),{[r.value]:X}))}function Y(X){if("added"in X)switch(X.added.element.$type){case"created":E(q(X.added.element));break;case"updated":{const ee=s.value.relatedPrimaryKeyField.field,le=I.value.find(te=>te[ee]===X.added.element[ee]);R(Ie(ve({},q(X.added.element)),{[s.value.reverseJunctionField.field]:le?void 0:i.value}));break}default:R(Ie(ve({},X.added.element),{[s.value.reverseJunctionField.field]:i.value}))}else"removed"in X&&"$type"in X.removed.element?O(Ie(ve({},X.removed.element),{[s.value.reverseJunctionField.field]:i.value})):"moved"in X&&W(X.moved.oldIndex,X.moved.newIndex)}function W(X,ee){const le=s.value.sortField;if(!le)return;const te=Du(z.exports.cloneDeep(K.value),X,ee).map((re,ye)=>Ie(ve({},re),{[le]:ye}));R(...te)}const G=D(!1);function Q(X){X[s.value.reverseJunctionField.field]=i.value,E(X)}return(X,ee)=>{const le=c("nested-draggable",!0),te=c("v-button");return m(),A(se,null,[a(C(Ot),ft(B,{class:["drag-area",{root:C(p),drag:y.value}],tag:"ul","model-value":C(K),group:{name:"g1"},"item-key":"id",draggable:".draggable","set-data":C(dn),disabled:e.disabled,"force-fallback":!0,onStart:ee[0]||(ee[0]=re=>y.value=!0),onEnd:ee[1]||(ee[1]=re=>y.value=!1),onChange:ee[2]||(ee[2]=re=>Y(re))}),{item:d(({element:re,index:ye})=>{var fe;return[$("li",{class:de(["row",{draggable:re.$type!=="deleted"}])},[a(wX,{item:re,template:C(_),collection:C(u),disabled:e.disabled,"relation-info":C(s),open:(fe=g.value[re[C(s).relatedPrimaryKeyField.field]])!=null?fe:!1,deleted:re.$type==="deleted","delete-icon":j(re),"onUpdate:open":ue=>g.value[re[C(s).relatedPrimaryKeyField.field]]=ue,onInput:C(R),onDeselect:ue=>C(O)(re)},null,8,["item","template","collection","disabled","relation-info","open","deleted","delete-icon","onUpdate:open","onInput","onDeselect"]),g.value[re[C(s).relatedPrimaryKeyField.field]]?(m(),F(le,{key:0,"model-value":re[C(r)],template:C(_),collection:C(u),disabled:e.disabled,field:C(r),fields:C(f),"enable-create":e.enableCreate,"enable-select":e.enableSelect,"custom-filter":C(v),"relation-info":C(s),"primary-key":re[C(s).relatedPrimaryKeyField.field],"items-moved":e.itemsMoved,"onUpdate:modelValue":ue=>J(ue,ye)},null,8,["model-value","template","collection","disabled","field","fields","enable-create","enable-select","custom-filter","relation-info","primary-key","items-moved","onUpdate:modelValue"])):M("",!0)],2)]}),_:1},16,["class","model-value","set-data","disabled"]),C(p)?(m(),A(se,{key:0},[e.disabled?M("",!0):(m(),A("div",kX,[e.enableCreate?(m(),F(te,{key:0,onClick:ee[3]||(ee[3]=re=>G.value=!0)},{default:d(()=>[P(w(C(l)("create_new")),1)]),_:1})):M("",!0),e.enableSelect?(m(),F(te,{key:1,onClick:ee[4]||(ee[4]=re=>U.value=!0)},{default:d(()=>[P(w(C(l)("add_existing")),1)]),_:1})):M("",!0)])),e.disabled?M("",!0):(m(),F(C(Ht),{key:1,active:G.value,collection:C(u),"primary-key":"+",edits:{},"circular-field":C(s).reverseJunctionField.field,onInput:Q,"onUpdate:active":ee[5]||(ee[5]=re=>G.value=!1)},null,8,["active","collection","circular-field"])),e.disabled?M("",!0):(m(),F(C(mn),{key:2,active:U.value,"onUpdate:active":ee[6]||(ee[6]=re=>U.value=re),collection:C(u),selection:[],filter:C(v),multiple:"",onInput:C(L)},null,8,["active","collection","filter","onInput"]))],64)):M("",!0)],64)}}const SX=Z(Ie(ve({},$X),{props:{modelValue:{default:void 0},template:null,disabled:{type:Boolean,default:!1},collection:null,field:null,primaryKey:null,filter:{default:()=>null},fields:null,relationInfo:null,root:{type:Boolean,default:!1},enableCreate:{type:Boolean},enableSelect:{type:Boolean},customFilter:null,itemsMoved:null},emits:["update:modelValue"],setup:CX}));var FX=H(SX,[["__scopeId","data-v-8cce11b0"]]);const VX={key:1,class:"tree-view"},AX=Z({props:{value:{default:()=>[]},displayTemplate:{default:void 0},disabled:{type:Boolean,default:!1},collection:null,field:null,primaryKey:null,enableCreate:{type:Boolean,default:!0},enableSelect:{type:Boolean,default:!0},filter:{default:()=>null}},emits:["input"],setup(e,{emit:t}){const n=e,{collection:l,field:o,primaryKey:u}=ze(n),r=V({get(){return Array.isArray(n.value)?{create:[],update:[],delete:[]}:n.value},set:h=>{t("input",h)}}),{t:i}=ae(),s=vt("values",D({})),p=V(()=>In(Nn(n.filter,h=>h&&typeof h=="string"?Xt(h,s.value):h))),f=V(()=>{var b;const h=(b=v.value)==null?void 0:b.relatedPrimaryKeyField.field;return h?_(r.value,S=>typeof S=="object"?S[h]:S):[]});function _(h,b){return h===void 0||Array.isArray(h!=null?h:[])?[]:[...h.update.map(b),...h.delete.map(b),...h.create.map(S=>_(S[o.value],b)).flat(),...h.update.map(S=>_(S[o.value],b)).flat()]}const{relationInfo:v}=Rs(l,o),y=V(()=>{var h,b,S,I;return n.displayTemplate||((S=(b=(h=v.value)==null?void 0:h.relatedCollection)==null?void 0:b.meta)==null?void 0:S.display_template)||`{{${(I=v.value)==null?void 0:I.relatedPrimaryKeyField.field}}}`}),g=V(()=>{var h,b;return ya((b=(h=v.value)==null?void 0:h.relatedCollection.collection)!=null?b:"",St(y.value))});return(h,b)=>{var I;const S=c("v-notice");return!C(v)||C(l)!==((I=C(v))==null?void 0:I.relatedCollection.collection)?(m(),F(S,{key:0,type:"warning"},{default:d(()=>[P(w(C(i)("interfaces.list-o2m-tree-view.recursive_only")),1)]),_:1})):(m(),A("div",VX,[a(FX,{modelValue:C(r),"onUpdate:modelValue":b[0]||(b[0]=E=>ut(r)?r.value=E:null),template:C(y),collection:C(l),field:C(o),"primary-key":C(u),"relation-info":C(v),disabled:e.disabled,fields:C(g),"enable-create":e.enableCreate,"enable-select":e.enableSelect,"custom-filter":C(p),"items-moved":C(f),root:""},null,8,["modelValue","template","collection","field","primary-key","relation-info","disabled","fields","enable-create","enable-select","custom-filter","items-moved"])]))}}});var IX=H(AX,[["__scopeId","data-v-428daa4d"]]),EX=`<svg width="156" height="96" fill="none" xmlns="http://www.w3.org/2000/svg">
	<rect x="60.34" y="36" width="40" height="6" rx="2" fill="var(--primary)"/>
	<rect x="104.34" y="36" width="20" height="6" rx="2" fill="var(--primary)"/>
	<rect x="104.34" y="18" width="10" height="6" rx="2" fill="var(--primary)"/>
	<rect x="60.34" y="72" width="60" height="6" rx="2" fill="var(--primary)"/>
	<rect x="50.34" y="54" width="20" height="6" rx="2" fill="var(--primary)"/>
	<rect x="74.34" y="54" width="40" height="6" rx="2" fill="var(--primary)"/>
	<rect x="50.59" y="18.25" width="50" height="6" rx="2" fill="var(--primary)"/>
	<path d="m39 20.16-.82-.82-2.68 2.652-2.68-2.652-.82.82 3.5 3.5 3.5-3.5ZM44.16 36l-.82.82 2.652 2.68-2.652 2.68.82.82 3.5-3.5-3.5-3.5ZM39 56.16l-.82-.82-2.68 2.652-2.68-2.652-.82.82 3.5 3.5 3.5-3.5ZM44.16 72l-.82.82 2.652 2.68-2.652 2.68.82.82 3.5-3.5-3.5-3.5Z" fill="var(--primary)"/>
</svg>
`,DX=Ze({id:"list-o2m-tree-view",name:"$t:tree_view",description:"$t:interfaces.list-o2m-tree-view.description",icon:"account_tree",types:["alias"],localTypes:["o2m"],group:"relational",relational:!0,component:IX,options:({relations:e})=>{var n;const t=(n=e.o2m)==null?void 0:n.collection;return[{field:"displayTemplate",name:"$t:display_template",meta:{interface:"system-display-template",options:{collectionName:t},width:"full"}},{field:"enableCreate",name:"$t:creating_items",schema:{default_value:!0},meta:{interface:"boolean",options:{label:"$t:enable_create_button"},width:"half"}},{field:"enableSelect",name:"$t:selecting_items",schema:{default_value:!0},meta:{interface:"boolean",options:{label:"$t:enable_select_button"},width:"half"}},{field:"filter",name:"$t:filter",type:"json",meta:{interface:"system-filter",options:{collectionName:t},conditions:[{rule:{enableSelect:{_eq:!1}},hidden:!0}]}}]},preview:EX}),PX=Object.freeze(Object.defineProperty({__proto__:null,default:DX},Symbol.toStringTag,{value:"Module"}));class ha{constructor(t,n){Ct(this,"active");Ct(this,"element");Ct(this,"groupElement");this.className=t,this.callback=n,this.element=document.createElement("button"),this.element.className=this.className,this.element.onpointerdown=n,this.active=!1}click(...t){this.callback(...t)}activate(t){this.element.classList[t?"add":"remove"]("active"),this.active=t}show(t){this.element.classList[t?"remove":"add"]("hidden")}onAdd(){return this.groupElement=document.createElement("div"),this.groupElement.className="mapboxgl-ctrl mapboxgl-ctrl-group",this.groupElement.appendChild(this.element),this.groupElement}onRemove(){var t;this.element.remove(),(t=this.groupElement)==null||t.remove()}}class TX{constructor(t){Ct(this,"groupElement");Ct(this,"boxElement");Ct(this,"selectButton");Ct(this,"map");Ct(this,"layers");Ct(this,"selecting",!1);Ct(this,"shiftPressed",!1);Ct(this,"startPos");Ct(this,"lastPos");Ct(this,"onKeyDownHandler");Ct(this,"onKeyUpHandler");Ct(this,"onMouseDownHandler");Ct(this,"onMouseMoveHandler");Ct(this,"onMouseUpHandler");var n,l,o,u;this.layers=(n=t==null?void 0:t.layers)!=null?n:[],this.boxElement=document.createElement("div"),this.boxElement.className=(l=t==null?void 0:t.boxElementClass)!=null?l:"selection-box",this.groupElement=document.createElement("div"),this.groupElement.className=(o=t==null?void 0:t.groupElementClass)!=null?o:"mapboxgl-ctrl mapboxgl-ctrl-group",this.selectButton=new ha((u=t==null?void 0:t.selectButtonClass)!=null?u:"ctrl-select",()=>{this.activate(!this.shiftPressed)}),this.groupElement.appendChild(this.selectButton.element),this.onKeyDownHandler=this.onKeyDown.bind(this),this.onKeyUpHandler=this.onKeyUp.bind(this),this.onMouseDownHandler=this.onMouseDown.bind(this),this.onMouseMoveHandler=this.onMouseMove.bind(this),this.onMouseUpHandler=this.onMouseUp.bind(this)}onAdd(t){return this.map=t,this.map.boxZoom.disable(),this.map.getContainer().appendChild(this.boxElement),this.map.getContainer().addEventListener("pointerdown",this.onMouseDownHandler,!0),document.addEventListener("keydown",this.onKeyDownHandler),document.addEventListener("keyup",this.onKeyUpHandler),this.groupElement}onRemove(){this.map.boxZoom.enable(),this.boxElement.remove(),this.groupElement.remove(),this.map.getContainer().removeEventListener("pointerdown",this.onMouseDownHandler),document.removeEventListener("keydown",this.onKeyDownHandler),document.removeEventListener("keyup",this.onKeyUpHandler)}active(){return this.shiftPressed||this.selecting}getMousePosition(t){const n=this.map.getContainer(),l=n.getBoundingClientRect();return new Qt.exports.Point(t.clientX-l.left-n.clientLeft,t.clientY-l.top-n.clientTop)}onKeyDown(t){t.key=="Shift"&&this.activate(!0),t.key=="Escape"&&(this.reset(),this.activate(!1),this.map.fire("select.end",{features:[]}))}activate(t){this.shiftPressed=t,this.selectButton.activate(t),this.map.fire(`select.${t?"enable":"disable"}`)}onKeyUp(t){t.key=="Shift"&&this.activate(!1)}onMouseDown(t){!this.shiftPressed||t.button===0&&(this.selecting=!0,this.map.dragPan.disable(),this.startPos=this.getMousePosition(t),this.lastPos=this.startPos,document.addEventListener("pointermove",this.onMouseMoveHandler),document.addEventListener("pointerup",this.onMouseUpHandler),this.map.fire("select.start"))}onMouseMove(t){this.lastPos=this.getMousePosition(t);const n=Math.min(this.startPos.x,this.lastPos.x),l=Math.max(this.startPos.x,this.lastPos.x),o=Math.min(this.startPos.y,this.lastPos.y),u=Math.max(this.startPos.y,this.lastPos.y),r=`translate(${n}px, ${o}px)`,i=l-n+"px",s=u-o+"px";this.updateBoxStyle({transform:r,width:i,height:s})}onMouseUp(t){if(this.reset(),!this.active())return;const n=this.map.queryRenderedFeatures([this.startPos,this.lastPos],{layers:this.layers});this.map.fire("select.end",{features:n,alt:t.altKey})}reset(){this.selecting=!1,this.updateBoxStyle({width:"0",height:"0",transform:""}),document.removeEventListener("pointermove",this.onMouseMoveHandler),document.removeEventListener("pointerup",this.onMouseUpHandler),this.map.dragPan.enable()}updateBoxStyle(t){this.boxElement.style.transform=t.transform,this.boxElement.style.width=t.width,this.boxElement.style.height=t.height}}function ga(e,t){return[Math.min(e[0],t[0]),Math.min(e[1],t[1]),Math.max(e[2],t[0]),Math.max(e[3],t[1])]}function eo(e){let t=[1/0,1/0,-1/0,-1/0];return mu(e,n=>{t=ga(t,n)}),t}function Ks(e){switch(e){case"json":return"geojson";case"text":case"string":return"wkt";case"csv":return"lnglat";default:return e.startsWith("geometry")?"native":void 0}}function OX(e){const{geometryFormat:t}=e;switch(t){case"native":case"geojson":return n=>n;case"wkt":return n=>fu(n);case"lnglat":return n=>n.coordinates;default:throw new Error(Be.global.t("interfaces.map.invalid_format",{format:t}))}}function LX(e){const{geometryFormat:t}=e;switch(t){case"native":case"geojson":return n=>n;case"wkt":return n=>_u(n);case"lnglat":return n=>({type:"Point",coordinates:[Number(n[0]),Number(n[1])]});default:throw new Error(Be.global.t("interfaces.map.invalid_format",{format:t}))}}function Ws(e){const t=LX(e);return function(n){const l=n[e.geometryField],o=l&&t(l);if(!!o)return o}}function jX(e,t){const n=Ws(t),l={type:"FeatureCollection",features:[],bbox:[1/0,1/0,-1/0,-1/0]};for(let o=0;o<e.length;o++){const u=n(e[o]);if(!u)continue;const[r,i,s,p]=eo(u);l.bbox=ga(l.bbox,[r,i]),l.bbox=ga(l.bbox,[s,p]);const f=ve({},e[o]);delete f[t.geometryField];const _={type:"Feature",properties:f,geometry:u};l.features.push(_)}return l.features.length==0&&delete l.bbox,l}function Hs(e){if(!e)return[];if(e.type=="GeometryCollection")return e.geometries.flatMap(Hs);if(e.type.startsWith("Multi")){const t=e.type.replace("Multi","");return e.coordinates.map(n=>({type:t,coordinates:n}))}return[e]}function RX(){const e=["case",["==",["get","mode"],"static"],ot("--black"),["==",["get","active"],"true"],ot("--secondary"),ot("--primary")];return[{id:"directus-polygon-fill",type:"fill",filter:["all",["==","$type","Polygon"]],paint:{"fill-color":e,"fill-outline-color":e,"fill-opacity":.15}},{id:"directus-polygon-stroke",type:"line",filter:["all",["==","$type","Polygon"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":e,"line-width":2}},{id:"directus-polygon-midpoint",type:"circle",filter:["all",["==","$type","Point"],["==","meta","midpoint"]],paint:{"circle-radius":3,"circle-color":ot("--secondary")}},{id:"directus-line",type:"line",filter:["all",["==","$type","LineString"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":e,"line-width":2}},{id:"directus-polygon-and-line-vertex",type:"circle",filter:["all",["==","meta","vertex"],["==","$type","Point"]],paint:{"circle-radius":3,"circle-color":ot("--secondary"),"circle-opacity":["case",["==",["get","active"],"true"],1,.2],"circle-stroke-color":["case",["==",["get","active"],"true"],ot("--white"),ot("--secondary")],"circle-stroke-width":2}},{id:"directus-point-shadow",filter:["all",["==","$type","Point"],["==","meta","feature"],["!=","meta","midpoint"],["!=","mode","static"]],type:"circle",layout:{},paint:{"circle-radius":10,"circle-blur":1,"circle-opacity":.9,"circle-color":ot("--black")}},{id:"directus-point",filter:["all",["==","$type","Point"],["==","meta","feature"],["!=","meta","midpoint"]],type:"circle",layout:{},paint:{"circle-radius":6,"circle-color":e,"circle-stroke-color":["case",["==",["get","mode"],"static"],ot("--black"),ot("--white")],"circle-opacity":["case",["==",["get","mode"],"static"],.2,1],"circle-stroke-width":2,"circle-stroke-opacity":1}}]}const MX=["directus-point","directus-line","directus-polygon-fill","directus-polygon-stroke","directus-polygon-midpoint","directus-polygon-and-line-vertex"].flatMap(e=>[e+".hot",e+".cold"]),UX=Z({props:{type:{type:String,default:null},fieldData:{type:Object,default:void 0},value:{type:[Object,Array,String],default:null},loading:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},geometryType:{type:String,default:void 0},defaultView:{type:Object,default:()=>({})}},emits:["input"],setup(e,{emit:t}){var _e;const{t:n}=ae(),l=D(null);let o,u=D(!0),r;const i=D(),s=D(),p=e.geometryType||((_e=e.fieldData)==null?void 0:_e.type.split(".")[1]),f=Ks(e.type),_=Xn("mapbox_key"),v=_l(),y=Et(),{basemap:g}=ze(y),h=V(()=>{var oe;const ce=(oe=v.find(ne=>ne.name==g.value))!=null?oe:v[0];return g.value,ea(ce)});let b,S;try{b=Ws({geometryFormat:f,geometryField:"value"}),S=OX({geometryFormat:f,geometryField:"value"})}catch(ce){i.value=ce}const I=D([]),E=D(),R=D();function O(){R.value=E.value?o.project(E.value):null}he(E,O);const L={attribution:new Qt.exports.AttributionControl,draw:new _o(X(p)),fitData:new ha("mapboxgl-ctrl-fitdata",Q),navigation:new Qt.exports.NavigationControl({showCompass:!1}),geolocate:new Qt.exports.GeolocateControl({showUserLocation:!1}),geocoder:void 0};_&&(L.geocoder=new Ka({accessToken:_,collapsed:!0,flyTo:{speed:1.4},marker:!1,mapboxgl:uo,placeholder:n("layouts.map.find_location")}));const q=D(!1),T=D(""),j=D({x:0,y:0});function U(){q.value=!1}const B=z.exports.debounce(ce=>{var ne;const oe=(ne=ce.features)==null?void 0:ne[0];oe&&oe.properties.active==="false"&&(T.value=n("interfaces.map.click_to_select",{geometry:oe.geometry.type}),q.value=!0,j.value=ce.point)},200);function K(ce){q.value=!1,B({point:ce.point,features:ce.features})}return dt(()=>{const ce=J();At(ce)}),{t:n,tooltipPosition:j,tooltipVisible:q,tooltipMessage:T,container:l,mapLoading:u,resetValue:G,geometryParsingError:s,geometryOptionsError:i,basemaps:v,basemap:g,location:E,projection:R,selection:I};function J(){return o=new Qt.exports.Map(ve(ve({container:l.value,style:h.value,dragRotate:!1,logoPosition:"bottom-left",attributionControl:!1},e.defaultView),_?{accessToken:_}:{})),L.geocoder&&(o.addControl(L.geocoder,"top-right"),L.geocoder.on("result",ce=>{E.value=ce.result.center}),L.geocoder.on("clear",()=>{E.value=null})),L.geolocate.on("geolocate",ce=>{const{longitude:oe,latitude:ne}=ce.coords;E.value=[oe,ne]}),o.addControl(L.attribution,"bottom-left"),o.addControl(L.navigation,"top-left"),o.addControl(L.geolocate,"top-left"),o.addControl(L.fitData,"top-left"),o.addControl(L.draw,"top-left"),o.on("load",async()=>{o.resize(),u.value=!1,o.on("draw.create",fe),o.on("draw.delete",fe),o.on("draw.update",fe),o.on("draw.modechange",re),o.on("draw.selectionchange",ye),o.on("move",O);for(const ce of MX)o.on("mousedown",ce,U),o.on("mousemove",ce,K),o.on("mouseleave",ce,K);window.addEventListener("keydown",ue)}),he(()=>e.value,Y,{immediate:!0}),he(()=>h.value,W),he(()=>e.disabled,W),()=>{window.removeEventListener("keydown",ue),o.remove()}}function Y(ce){if(ce)z.exports.isEqual(ce,r&&S(r))||(le(),L.draw.changeMode("simple_select"));else if(L.draw.deleteAll(),r=null,p){const ne=`draw_${z.exports.snakeCase(p.replace("Multi",""))}`;L.draw.changeMode(ne)}e.disabled&&L.draw.changeMode("static")}function W(){o.removeControl(L.draw),o.setStyle(h.value,{diff:!1}),L.draw=new _o(X(p)),o.addControl(L.draw,"top-left"),le()}function G(ce){s.value=void 0,ce&&t("input",null)}function Q(ce){if(o&&r){const oe=eo(r);o.fitBounds(oe,ve({padding:80,maxZoom:8},ce))}}function X(ce){const oe={styles:RX(),controls:{},userProperties:!0,displayControlsDefault:!1,modes:Object.assign(_o.modes,{static:vu})};if(e.disabled)return oe;if(ce){const ne=z.exports.snakeCase(ce.replace("Multi",""));return oe.controls[ne]=!0,oe.controls.trash=!0,oe}else return oe.controls.line_string=!0,oe.controls.polygon=!0,oe.controls.point=!0,oe.controls.trash=!0,oe}function ee(ce,oe){return!ce||!oe?!0:ce.startsWith("Multi")?ce.replace("Multi","")==oe.replace("Multi",""):ce==oe}function le(){try{L.draw.deleteAll();const ce=b(e);if(!ce)return;!e.disabled&&!ee(p,ce.type)&&(s.value=n("interfaces.map.unexpected_geometry",{expected:p,got:ce.type}));const oe=Hs(ce);for(const ne of oe)L.draw.add(ne);if(r=te(),r.bbox=eo(r),s.value){const ne=eo(ce);o.fitBounds(ne,{padding:0,maxZoom:8,duration:0})}else Q({duration:0})}catch(ce){s.value=ce}}function te(){const oe=L.draw.getAll().features.map(x=>x.geometry);let ne;if(oe.length==0)return null;if(!p)oe.length>1?ne={type:"GeometryCollection",geometries:oe}:ne=oe[0];else if(p.startsWith("Multi")){const x=oe.filter(({type:pe})=>`Multi${pe}`==p).map(({coordinates:pe})=>pe);ne={type:p,coordinates:x}}else ne=oe[oe.length-1];return ne}function re(ce){if(!e.disabled&&ce.mode.startsWith("draw")&&p&&!p.startsWith("Multi"))for(const oe of L.draw.getAll().features.slice(0,-1))L.draw.delete(oe.id)}function ye(ce){I.value=ce.features}function fe(){r=te(),r?t("input",S(r)):(L.draw.deleteAll(),t("input",null))}function ue(ce){[8,46].includes(ce.keyCode)&&L.draw.trash()}}}),NX={class:"interface-map"},BX={ref:"container"},qX={class:"mapboxgl-ctrl-group mapboxgl-ctrl mapboxgl-ctrl-dropdown basemap-select"};function zX(e,t,n,l,o,u){const r=c("v-icon"),i=c("v-select"),s=c("v-notice"),p=c("v-info"),f=c("v-button"),_=c("v-card-actions");return m(),A("div",NX,[$("div",{class:de(["map",{loading:e.mapLoading,error:e.geometryParsingError||e.geometryOptionsError,"has-selection":e.selection.length>0}])},[$("div",BX,null,512)],2),e.location?(m(),A("div",{key:0,class:"mapboxgl-user-location-dot mapboxgl-search-location-dot",style:Je(`transform: translate(${e.projection.x}px, ${e.projection.y}px) translate(-50%, -50%) rotateX(0deg) rotateZ(0deg)`)},null,4)):M("",!0),a(Bt,{name:"fade"},{default:d(()=>[e.tooltipVisible?(m(),A("div",{key:0,class:"tooltip top",style:Je(`display: block; transform: translate(${e.tooltipPosition.x}px, ${e.tooltipPosition.y}px) translate(-50%, -150%) rotateX(0deg) rotateZ(0deg)`)},w(e.tooltipMessage),5)):M("",!0)]),_:1}),$("div",qX,[a(r,{name:"map"}),a(i,{modelValue:e.basemap,"onUpdate:modelValue":t[0]||(t[0]=v=>e.basemap=v),inline:"",items:e.basemaps.map(v=>({text:v.name,value:v.name}))},null,8,["modelValue","items"])]),a(Bt,{name:"fade"},{default:d(()=>[e.geometryOptionsError?(m(),F(p,{key:0,icon:"error",center:"",type:"danger",title:e.t("interfaces.map.invalid_options")},{default:d(()=>[a(s,{type:"danger",icon:!1},{default:d(()=>[P(w(e.geometryOptionsError),1)]),_:1})]),_:1},8,["title"])):e.geometryParsingError?(m(),F(p,{key:1,icon:"error",center:"",type:"warning",title:e.t("layouts.map.invalid_geometry")},{append:d(()=>[a(_,null,{default:d(()=>[a(f,{small:"",secondary:"",onClick:t[1]||(t[1]=v=>e.resetValue(!1))},{default:d(()=>[P(w(e.t("continue")),1)]),_:1}),a(f,{small:"",kind:"danger",onClick:t[2]||(t[2]=v=>e.resetValue(!0))},{default:d(()=>[P(w(e.t("reset")),1)]),_:1})]),_:1})]),default:d(()=>[a(s,{type:"warning",icon:!1},{default:d(()=>[P(w(e.geometryParsingError),1)]),_:1})]),_:1},8,["title"])):M("",!0)]),_:1})])}var KX=H(UX,[["render",zX],["__scopeId","data-v-7df7cf53"]]);const WX=Z({props:{collection:{type:String,required:!0},field:{type:Object,default:null},value:{type:Object,default:null}},emits:["input"],setup(e,{emit:t}){var b,S,I,E;const{t:n}=ae(),l=V(()=>e.field.type.split(".")[1]),o=D((I=(S=l.value)!=null?S:(b=e.value)==null?void 0:b.geometryType)!=null?I:"Point"),u=D((E=e.value)==null?void 0:E.defaultView);he(()=>e.field.type,r),he(l,i),he([o,u],s,{immediate:!0});function r(R){R==="csv"&&(o.value="Point")}function i(R){o.value=R}function s(){t("input",{defaultView:u,geometryType:o.value})}const p=D(null);let f;const _=Xn("mapbox_key"),v=_l(),y=Et(),{basemap:g}=ze(y),h=V(()=>{var O;const R=(O=v.find(L=>L.name==g.value))!=null?O:v[0];return ea(R)});return dt(()=>{f=new Qt.exports.Map(ve(ve({container:p.value,style:h.value},u.value||{}),_?{accessToken:_}:{})),f.on("moveend",()=>{u.value={center:f.getCenter(),zoom:f.getZoom(),bearing:f.getBearing(),pitch:f.getPitch()}})}),At(()=>{f.remove()}),{t:n,nativeGeometryType:l,GEOMETRY_TYPES:li,geometryType:o,mapContainer:p}}}),HX={class:"form-grid"},GX={key:0,class:"field half-left"},ZX={class:"type-label"},JX={class:"field"},XX={class:"type-label"},YX={ref:"mapContainer",class:"map"};function QX(e,t,n,l,o,u){const r=c("v-select");return m(),A("div",HX,[!e.nativeGeometryType&&e.field.type!=="csv"?(m(),A("div",GX,[$("div",ZX,w(e.t("interfaces.map.geometry_type")),1),a(r,{modelValue:e.geometryType,"onUpdate:modelValue":t[0]||(t[0]=i=>e.geometryType=i),placeholder:e.t("any"),"show-deselect":!0,items:e.GEOMETRY_TYPES.map(i=>({value:i,text:i}))},null,8,["modelValue","placeholder","items"])])):M("",!0),$("div",JX,[$("div",XX,w(e.t("interfaces.map.default_view")),1),$("div",YX,null,512)])])}var xX=H(WX,[["render",QX],["__scopeId","data-v-8fddac84"]]),eY=`<svg width="156" height="96" fill="none" xmlns="http://www.w3.org/2000/svg">
	<rect x="18" y="13" width="120" height="70" rx="6" fill="var(--background-page)" class="glow" />
	<rect x="19" y="14" width="118" height="68" rx="5" stroke="var(--primary)" stroke-width="2" />
	<rect x="24" y="19" width="107.999" height="58" rx="2" fill="var(--primary)" fill-opacity=".2" />
	<path
		d="M30.75 77h36.452l-.095-.564c-.388-2.288-2.591-3.969-5.165-3.94l-6.645.074-7.02.441a5.646 5.646 0 00-1.592.334l-3.967 1.458a5.697 5.697 0 01-3.933-.01l-.653-.244c-1.716-.641-3.684-.403-5.15.624l-1.166.816c-.411.288-.77.63-1.065 1.011zM109.568 77h-7.043a.58.58 0 01.525-.38l5.532-.348c.494-.031.925.291.986.728zM130.779 76.843c-.24.101-.503.157-.779.157h-3.483a.895.895 0 01.439-.457l1.031-.506 1.26-.786a1.29 1.29 0 011.069-.125c.81.262 1.028 1.177.463 1.717zM132 73.303V58.538l-1.671-.342a5.71 5.71 0 00-2.865.151l-9.861 3.14c-.736.235-1.351.704-1.728 1.32-.522.853-1.49 1.41-2.571 1.477l-2.387.15c-.544.035-1.016-.334-1.055-.824-.032-.417.264-.799.711-.915l.765-.2c.572-.148 1.039-.521 1.27-1.015l.03-.062c.319-.68.175-1.465-.37-2.017l-2.009-2.038c.013.01.035.006.041-.01l2.064-5.064a3.56 3.56 0 01.365-.675l1.734-2.531c1.036-1.512 2.941-2.36 4.905-2.183l.605.054c.29.026.581.03.872.011l5.838-.367a4.441 4.441 0 001.471-.348l3.383-1.454c.153-.066.308-.115.463-.15V21a2 2 0 00-2-2H91.93c.011.051.026.102.044.152l.313.868c.588 1.632-.473 3.374-2.32 3.806L76.76 26.914c-1.496.35-3.088.078-4.337-.74l-3.035-1.988c-.934-.612-1.35-1.68-1.044-2.682.298-.976-.08-1.908-.802-2.504H63.57c-.635.459-1.045 1.145-1.097 1.906l-.312 4.592c-.112 1.657-1.3 3.098-3.03 3.677-1.023.341-1.88.994-2.422 1.845l-1.687 2.644a4.782 4.782 0 01-1.073 1.18l-2.702 2.132c-1.207.952-2.838 1.345-4.412 1.062l-1.467-.263a4.265 4.265 0 00-1.958.107c-2.214.656-3.277 2.916-2.258 4.801l.099.184c.19.352.315.728.372 1.116l.438 2.988c.432 2.951-2.294 5.5-5.59 5.226l-1.062-.088c-2.656-.22-5.06 1.415-5.548 3.773l-.438 2.122c-.08.386-.104.779-.073 1.17l.563 7.246c.092 1.18 1.23 2.07 2.542 1.987l.347-.022c.885-.056 1.699.437 1.975 1.195.397 1.09 1.837 1.544 2.903.914l2.058-1.215a4.11 4.11 0 011.83-.556l.611-.038c1.465-.093 2.817-.741 3.717-1.785l.329-.38a4.38 4.38 0 001.069-2.5l.079-.952c.096-1.163.676-2.25 1.623-3.046l2.853-2.396c.382-.321.631-.75.707-1.215.178-1.093 1.277-1.869 2.5-1.764l4.925.424a5.725 5.725 0 001.588-.085l1.146-.224c1.628-.319 3.327.09 4.562 1.096l6.25 5.094c.34.278.721.514 1.132.7l2.9 1.322c1.023.466 1.845 1.226 2.334 2.159l1.866 3.555c.05.097.081.201.09.308.07.91 1.457 1.113 1.845.27l.859-1.868c.063-.137.1-.281.11-.429l.1-1.44c.03-.434.316-.821.75-1.014 1.003-.446 1.004-1.732.002-2.18l-6.436-2.868a4.858 4.858 0 01-1.612-1.152l-4.04-4.42c-.813-.89-.818-2.172-.013-3.068 1.13-1.257 3.284-1.19 4.314.135l1.77 2.276c.355.457.801.85 1.315 1.161l7.297 4.411a4.818 4.818 0 011.786 1.867l2.653 5.045c.126.24.275.47.445.686l3.26 4.167c.544.694 1.451 1.082 2.393 1.023l2.427-.153c1.666-.104 2.287-2.017.945-2.91-.569-.38-.838-1.022-.687-1.644l.347-1.431c.255-1.05 1.161-1.874 2.326-2.114 1.345-.278 2.732.28 3.396 1.368l1.479 2.42 2.643 3.51c.873 1.161 2.283 1.905 3.836 2.024l9.727.744c.266.02.532.022.798.006l4.366-.275a5.706 5.706 0 011.75.16z"
		fill="var(--primary)" fill-opacity=".25" />
	<path
		d="M42.417 19h5.249c.006.24.053.481.142.715l.285.743.866 2.89c.096.32.147.65.154.982l.035 1.936c.013.687.538 1.28 1.28 1.444.708.157 1.223.708 1.274 1.363l.13 1.677c.12 1.522-.78 2.962-2.29 3.657-1.792.825-3.957 1.814-4.328 1.947-.194.062-.97.131-1.965.198-1.437.096-1.966-1.615-.695-2.225.846-.406.967-1.452.233-2.006l-.456-.343c-.702-.53-.833-1.457-.3-2.127l.925-1.162c.149-.187.273-.386.371-.598.355-.766 1.223-2.673 1.203-2.94l-.034-.432a4.349 4.349 0 00-.899-2.31l-.287-.375c-.684-.891-.996-1.965-.893-3.034zM76.543 19c1.102.977 2.735 1.429 4.354 1.047A4.688 4.688 0 0082.942 19h-6.4zM39.86 27.148a4.574 4.574 0 01-1.158 1.74l-1.355 1.285c-.53.503-1.28.769-2.05.726-1.852-.101-2.996-1.861-2.186-3.363l.636-1.178 2.021-2.783a1.483 1.483 0 011.11-.586c.497-.031.941-.29 1.176-.685l.324-.547c.255-.43.737-.71 1.278-.745.673-.042 1.3.306 1.56.866l.086.183c.181.39.193.83.032 1.228l-.646 1.6-.829 2.26zM64.316 57.705a.445.445 0 00-.227.414l.136 1.747c.038.489.586.81 1.098.642.438-.143.656-.584.48-.972l-.734-1.622c-.121-.268-.485-.369-.753-.209zM63.798 63.801c.37-.402 1.036-.45 1.471-.105l.632.501c.363.288.585.693.619 1.127l.1 1.297c.033.412-.156.813-.506 1.08-.9.683-2.283.158-2.365-.899l-.183-2.349a.864.864 0 01.232-.652zM78.695 73.3c.466.212 1.034.011 1.215-.43a.714.714 0 00.052-.326l-.07-.901c-.053-.678-.706-1.188-1.46-1.14l-2.827.177c-.397.025-.531.49-.198.685l2.35 1.491c.064.041.131.078.201.11l.737.334z"
		fill="var(--primary)" fill-opacity=".25" />
	<path
		d="M88.472 36.868a1.267 1.267 0 01-1.258-1.258c0-.672.585-1.228 1.258-1.228.672 0 1.257.556 1.257 1.228 0 .702-.585 1.258-1.257 1.258zm3.742-1.111c0-2.281-1.666-3.89-3.742-3.89s-3.743 1.609-3.743 3.89c0 1.462 1.228 3.391 3.743 5.701 2.514-2.31 3.742-4.24 3.742-5.701zm-3.742-5.117c2.631 0 5 1.988 5 5.117 0 2.046-1.667 4.503-5 7.339-3.334-2.836-5-5.293-5-7.34 0-3.128 2.368-5.116 5-5.116z"
		fill="var(--primary)" />
</svg>
`,tY=Ze({id:"map",name:"$t:interfaces.map.map",description:"$t:interfaces.map.description",icon:"map",component:KX,types:["geometry.Point","geometry.LineString","geometry.Polygon","geometry.MultiPoint","geometry.MultiLineString","geometry.MultiPolygon","geometry","json","string","text","csv"],group:"selection",options:xX,recommendedDisplays:[],preview:eY}),nY=Object.freeze(Object.defineProperty({__proto__:null,default:tY},Symbol.toStringTag,{value:"Module"}));const lY=Z({props:{color:{type:String,default:null},icon:{type:String,default:null},title:{type:String,default:null},inlineTitle:{type:Boolean,default:!1}}});function oY(e,t,n,l,o,u){const r=c("v-icon"),i=c("v-divider");return m(),F(i,{class:de({"add-margin-top":e.icon||e.title}),style:Je({"--v-divider-label-color":e.color,"--v-divider-color":"var(--border-subdued)"}),large:"","inline-title":e.inlineTitle},at({_:2},[e.icon?{name:"icon",fn:d(()=>[a(r,{name:e.icon},null,8,["name"])])}:void 0,e.title?{name:"default",fn:d(()=>[P(w(e.title),1)])}:void 0]),1032,["class","style","inline-title"])}var aY=H(lY,[["render",oY],["__scopeId","data-v-d3670a32"]]),iY=`<svg width="156" height="96" fill="none" xmlns="http://www.w3.org/2000/svg">
  <rect x="18" y="41" width="6" height="6" rx="2" fill="var(--primary)"/>
  <rect x="28" y="41" width="50" height="6" rx="2" fill="var(--primary)"/>
  <rect opacity=".25" x="18" y="53" width="120" height="2" rx="1" fill="var(--primary)"/>
</svg>
`,rY=Ze({id:"presentation-divider",name:"$t:interfaces.presentation-divider.divider",description:"$t:interfaces.presentation-divider.description",icon:"remove",component:aY,hideLabel:!0,hideLoader:!0,types:["alias"],localTypes:["presentation"],group:"presentation",options:[{field:"title",name:"$t:title",type:"string",meta:{width:"full",interface:"system-input-translated-string",options:{placeholder:"$t:interfaces.presentation-divider.title_placeholder"}}},{field:"color",name:"$t:color",type:"string",meta:{width:"half",interface:"select-color"}},{field:"icon",name:"$t:icon",type:"string",meta:{width:"half",interface:"select-icon"}},{field:"inlineTitle",name:"$t:interfaces.presentation-divider.inline_title",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:interfaces.presentation-divider.inline_title_label"}},schema:{default_value:!1}}],preview:iY}),sY=Object.freeze(Object.defineProperty({__proto__:null,default:rY},Symbol.toStringTag,{value:"Module"}));const dY=Z({props:{disabled:{type:Boolean,default:!1},links:{type:Array,default:null}},setup(e){const t=vt("values",D({}));return{linksParsed:V(()=>e.links.map(l=>{var r;const o=z.exports.omit(l,["url"]),u=Xt((r=l.url)!=null?r:"",t.value);return u.startsWith("/")?o.to=u:o.href=u,o}))}}}),uY={class:"presentation-links"},cY={key:1};function pY(e,t,n,l,o,u){const r=c("v-icon"),i=c("v-button");return m(),A("div",uY,[(m(!0),A(se,null,Ve(e.linksParsed,(s,p)=>(m(),F(i,{key:p,class:de(["action",[s.type]]),secondary:s.type!=="primary",disabled:e.disabled,icon:!s.label,href:s.href,to:s.to},{default:d(()=>[s.icon?(m(),F(r,{key:0,left:"",name:s.icon},null,8,["name"])):M("",!0),s.label?(m(),A("span",cY,w(s.label),1)):M("",!0)]),_:2},1032,["class","secondary","disabled","icon","href","to"]))),128))])}var mY=H(dY,[["render",pY],["__scopeId","data-v-406a838a"]]),fY=`<svg width="156" height="96" fill="none" xmlns="http://www.w3.org/2000/svg">
  <rect x="28" y="35" width="100" height="26" rx="6" fill="var(--primary)"/>
  <rect opacity=".5" x="65" y="45" width="40" height="6" rx="2" fill="#fff"/>
  <rect opacity=".5" x="51" y="45" width="10" height="6" rx="2" fill="#fff"/>
</svg>
`,_Y=Ze({id:"presentation-links",name:"$t:interfaces.presentation-links.presentation-links",description:"$t:interfaces.presentation-links.description",icon:"smart_button",component:mY,hideLabel:!0,hideLoader:!0,types:["alias"],localTypes:["presentation"],group:"presentation",options:({collection:e})=>[{field:"links",name:"$t:interfaces.presentation-links.links",type:"json",meta:{interface:"list",options:{fields:[{field:"label",type:"string",name:"$t:label",meta:{width:"full",interface:"system-input-translated-string",options:{placeholder:"$t:label"}}},{field:"icon",name:"$t:icon",type:"string",meta:{width:"half",interface:"select-icon"}},{field:"type",name:"$t:type",type:"string",meta:{width:"half",interface:"select-dropdown",default_value:"normal",options:{choices:[{text:"$t:primary",value:"primary"},{text:"$t:normal",value:"normal"},{text:"$t:info",value:"info"},{text:"$t:success",value:"success"},{text:"$t:warning",value:"warning"},{text:"$t:danger",value:"danger"}]}},schema:{default_value:"normal"}},{field:"url",type:"string",name:"$t:url",meta:{width:"full",interface:"system-display-template",options:{collectionName:e,font:"monospace",placeholder:"https://example.com/articles/{{ id }}/{{ slug }}"}}}]}}}],preview:fY}),vY=Object.freeze(Object.defineProperty({__proto__:null,default:_Y},Symbol.toStringTag,{value:"Module"}));const yY=Z({props:{color:{type:String,default:"normal"},icon:{type:String,default:"info"},text:{type:String,default:"No text configured..."}}}),hY={class:"presentation-notice"};function gY(e,t,n,l,o,u){const r=c("v-notice"),i=Fe("md");return m(),A("div",hY,[a(r,{icon:e.icon,type:e.color},{default:d(()=>[ie($("div",null,null,512),[[i,e.text]])]),_:1},8,["icon","type"])])}var bY=H(yY,[["render",gY],["__scopeId","data-v-c3b4635c"]]),wY=`<svg width="156" height="96" fill="none" xmlns="http://www.w3.org/2000/svg">
	<rect x="18" y="25" width="120" height="46" rx="6" fill="var(--background-page)" class="glow" />
	<rect x="46" y="35" width="50" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="46" y="45" width="74" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="46" y="55" width="30" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="100" y="35" width="20" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<path
		d="M31.426 45.074h1.148v1.176h-1.148v-1.176zm0 2.352h1.148v3.5h-1.148v-3.5zm.574-5.25A5.811 5.811 0 0026.176 48 5.811 5.811 0 0032 53.824 5.811 5.811 0 0037.824 48 5.811 5.811 0 0032 42.176zm0 10.5A4.691 4.691 0 0127.324 48 4.691 4.691 0 0132 43.324 4.691 4.691 0 0136.676 48 4.691 4.691 0 0132 52.676z"
		fill="var(--primary)" />
</svg>
`,kY=Ze({id:"presentation-notice",name:"$t:interfaces.presentation-notice.notice",description:"$t:interfaces.presentation-notice.description",icon:"info",component:bY,hideLabel:!0,hideLoader:!0,types:["alias"],localTypes:["presentation"],group:"presentation",options:[{field:"color",name:"$t:color",type:"string",meta:{width:"half",interface:"select-dropdown",options:{choices:[{text:"$t:normal",value:"normal"},{text:"$t:info",value:"info"},{text:"$t:success",value:"success"},{text:"$t:warning",value:"warning"},{text:"$t:danger",value:"danger"}]}},schema:{default_value:"normal"}},{field:"icon",name:"$t:icon",type:"string",meta:{width:"half",interface:"select-icon"}},{field:"text",name:"$t:text",type:"string",meta:{width:"full",interface:"system-input-translated-string",options:{placeholder:"$t:interfaces.presentation-notice.text"}}}],preview:wY}),$Y=Object.freeze(Object.defineProperty({__proto__:null,default:kY},Symbol.toStringTag,{value:"Module"}));const CY={key:0,class:"color-data-alphas"},SY={class:"color-data-alpha"},FY={key:1,class:"presets"},VY=Z({props:{disabled:{type:Boolean,default:!1},value:{default:()=>null},placeholder:{default:void 0},presets:{default:()=>[{name:Be.global.t("colors.purple"),color:"#6644FF"},{name:Be.global.t("colors.blue"),color:"#3399FF"},{name:Be.global.t("colors.green"),color:"#2ECDA7"},{name:Be.global.t("colors.yellow"),color:"#FFC23B"},{name:Be.global.t("colors.orange"),color:"#FFA439"},{name:Be.global.t("colors.red"),color:"#E35169"},{name:Be.global.t("colors.black"),color:"#18222F"},{name:Be.global.t("colors.gray"),color:"#A2B5CD"},{name:Be.global.t("colors.white"),color:"#FFFFFF"}]},width:null,opacity:{type:Boolean,default:!1}},emits:["input"],setup(e,{emit:t}){const n=e,{t:l}=ae(),o=V(()=>{var O;return n.value?((O=n.value)==null?void 0:O.startsWith("var(--"))?ot(n.value.substring(4,n.value.length-1)):n.value:null}),u=D(null);let r=n.opacity?D(["RGBA","HSLA"]):D(["RGB","HSL"]);const i=D(n.opacity?"RGBA":"RGB"),s=V(()=>v.value!==null&&o.value!==null),p=V(()=>{if(h.value===null)return!0;const O=ot("--background-page"),L=Mt(O);return h.value.contrast(L)<1.1}),f=O=>(O.startsWith("--")&&(O=ot(O)),Mt(O).contrast(Mt(ot("--card-face-color")))<1.1),{hsl:_,rgb:v,hex:y,alpha:g,color:h}=R();function b(O,L,q){if(O==="rgb"){const T=[...v.value];T[L]=q,v.value=T}else if(O==="hsl"){const T=[..._.value];T[L]=q,_.value=T}else g.value=q}function S(O){y.value=`${O}${y.value!==null&&y.value.length===9?y.value.slice(-2):""}`}function I(){t("input",null)}function E(){var O;((O=u.value)==null?void 0:O.$el).getElementsByTagName("input")[0].click()}function R(){const O=D(null),L=()=>{if(O.value!==null){let K=Math.round(255*O.value.alpha()).toString(16).toUpperCase();return K=K.padStart(2,"0"),O.value.rgb().array().length===4?`${O.value.hex()}${K}`:O.value.hex()}return null};he(()=>n.value,()=>{O.value=o.value!==null?Mt(o.value):null},{immediate:!0});const q=V({get(){const K=O.value!==null?O.value.rgb().array():n.opacity?[0,0,0,1]:[0,0,0];return K.length===4?[...K.slice(0,-1).map(Math.round),K[3]]:K.map(Math.round)},set(K){B(Mt.rgb(K).alpha(K.length===4?K[3]:1))}}),T=V({get(){const K=O.value!==null?O.value.hsl().array():n.opacity?[0,0,0,1]:[0,0,0];return K.length===4?[...K.slice(0,-1).map(Math.round),K[3]]:K.map(Math.round)},set(K){B(Mt.hsl(K).alpha(K.length===4?K[3]:1))}}),j=V({get(){return L()},set(K){if(K===null||K==="")I();else{if(pa(K)===!1)return;B(Mt(K))}}}),U=V({get(){var K;return O.value!==null?Math.round(((K=O==null?void 0:O.value)==null?void 0:K.alpha())*100):100},set(K){if(K===null)return;const J=O.value!==null?O.value.rgb().array():[0,0,0];B(Mt(J).alpha(K/100))}});return{rgb:q,hsl:T,hex:j,alpha:U,color:O};function B(K){O.value=K,K===null?I():t("input",L())}}return(O,L)=>{const q=c("v-input"),T=c("v-icon"),j=c("v-button"),U=c("v-select"),B=c("v-slider"),K=c("v-menu"),J=Fe("tooltip");return m(),F(K,{attached:"",disabled:e.disabled,"close-on-content-click":!1},{activator:d(({activate:Y})=>[a(q,{modelValue:C(y),"onUpdate:modelValue":L[1]||(L[1]=W=>ut(y)?y.value=W:null),disabled:e.disabled,placeholder:e.placeholder||C(l)("interfaces.select-color.placeholder"),pattern:e.opacity?/#([a-f\d]{2}){4}/i:/#([a-f\d]{2}){3}/i,class:"color-input",maxlength:e.opacity?9:7,onFocus:Y},{prepend:d(()=>[a(q,{ref:(W,G)=>{G.htmlColorInput=W,u.value=W},"model-value":C(y)?C(y).slice(0,7):null,type:"color",class:"html-color-select","onUpdate:modelValue":L[0]||(L[0]=W=>S(W))},null,8,["model-value"]),a(j,{class:"swatch",icon:!0,style:Je({"--v-button-background-color":C(s)?C(y):"transparent",border:C(p)===!1?"none":"var(--border-width) solid var(--border-normal)"}),onClick:E},{default:d(()=>[C(s)?M("",!0):(m(),F(T,{key:0,name:"colorize"}))]),_:1},8,["style"])]),append:d(()=>[a(T,{name:C(s)?"close":"palette",clickable:C(s),onClick:I},null,8,["name","clickable"])]),_:2},1032,["modelValue","disabled","placeholder","pattern","maxlength","onFocus"])]),default:d(()=>[$("div",{class:de(["color-data-inputs",{stacked:e.width.startsWith("half")}]),style:Je({"grid-template-columns":e.opacity?e.width.startsWith("half")?"repeat(4, 1fr)":"repeat(6, 1fr)":e.width.startsWith("half")?"repeat(3, 1fr)":"repeat(5, 1fr)"})},[$("div",{class:"color-data-input color-type",style:Je({"grid-column":e.opacity?e.width.startsWith("half")?"1 / span 4":"1 / span 2":e.width.startsWith("half")?"1 / span 3":"1 / span 2"})},[a(U,{modelValue:i.value,"onUpdate:modelValue":L[2]||(L[2]=Y=>i.value=Y),items:C(r)},null,8,["modelValue","items"])],4),i.value==="RGB"||i.value==="RGBA"?(m(),A(se,{key:0},[(m(!0),A(se,null,Ve(C(v).length>3?C(v).slice(0,-1):C(v),(Y,W)=>(m(),F(q,{key:W,hidden:W===3,type:"number","model-value":Y,class:"color-data-input",pattern:"\\d*",min:0,max:255,step:1,maxlength:"3","onUpdate:modelValue":G=>b("rgb",W,G)},null,8,["hidden","model-value","onUpdate:modelValue"]))),128)),e.opacity?(m(),F(q,{key:0,type:"number","model-value":C(g),class:"color-data-input",pattern:"\\d*",min:0,max:100,step:1,maxlength:"3","onUpdate:modelValue":L[3]||(L[3]=Y=>b("alpha",0,Y))},null,8,["model-value"])):M("",!0)],64)):M("",!0),i.value==="HSL"||i.value==="HSLA"?(m(),A(se,{key:1},[(m(!0),A(se,null,Ve(C(_).length>3?C(_).slice(0,-1):C(_),(Y,W)=>(m(),F(q,{key:W,type:"number","model-value":Y,class:"color-data-input",pattern:"\\d*",min:0,max:W===0?360:100,step:1,maxlength:"3","onUpdate:modelValue":G=>b("hsl",W,G)},null,8,["model-value","max","onUpdate:modelValue"]))),128)),e.opacity?(m(),F(q,{key:0,type:"number","model-value":C(g),class:"color-data-input",pattern:"\\d*",min:0,max:100,step:1,maxlength:"3","onUpdate:modelValue":L[4]||(L[4]=Y=>b("alpha",0,Y))},null,8,["model-value"])):M("",!0)],64)):M("",!0)],6),e.opacity?(m(),A("div",CY,[$("div",SY,[a(B,{"model-value":C(g),min:0,max:100,step:1,style:Je({"--v-slider-color":"none","--background-page":"none","--v-slider-fill-color":"none","--v-slider-thumb-color":"var(--foreground-normal)","--v-slider-track-background-image":"linear-gradient(to right, transparent,"+(C(y)&&C(y).length===9?C(y).slice(0,-2):C(y)?C(y):"transparent")+"), url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAMUlEQVQ4T2NkYGAQYcAP3uCTZhw1gGGYhAGBZIA/nYDCgBDAm9BGDWAAJyRCgLaBCAAgXwixzAS0pgAAAABJRU5ErkJggg==')"}),"onUpdate:modelValue":L[5]||(L[5]=Y=>b("alpha",0,Y))},null,8,["model-value","style"])])])):M("",!0),e.presets?(m(),A("div",FY,[(m(!0),A(se,null,Ve(e.presets,Y=>ie((m(),F(j,{key:Y.color,class:de(["preset",{"low-contrast":f(Y.color)}]),rounded:"",icon:"",style:Je({"--v-button-background-color":Y.color}),onClick:()=>y.value=Y.color},null,8,["class","style","onClick"])),[[J,Y.name]])),128))])):M("",!0)]),_:1},8,["disabled"])}}});var AY=H(VY,[["__scopeId","data-v-1c63ec78"]]),IY=`<svg width="156" height="96" fill="none" xmlns="http://www.w3.org/2000/svg">
	<rect x="18" y="21" width="120" height="54" rx="6" fill="var(--background-page)" />
	<rect x="19" y="22" width="118" height="52" rx="5" stroke="var(--primary)" stroke-opacity=".25" stroke-width="2" />
	<rect x="18" y="21" width="120" height="26" rx="6" fill="var(--background-page)" class="glow" />
	<rect x="19" y="22" width="118" height="24" rx="5" stroke="var(--primary)" stroke-width="2" />
	<rect x="46" y="31" width="50" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<circle cx="33" cy="34" r="7" fill="var(--primary)" />
	<circle cx="33" cy="60" r="7" fill="var(--primary)" />
	<circle cx="51" cy="60" r="7" fill="var(--primary)" fill-opacity=".75" />
	<circle cx="69" cy="60" r="7" fill="var(--primary)" fill-opacity=".5" />
	<circle cx="87" cy="60" r="7" fill="var(--primary)" fill-opacity=".25" />
	<circle cx="105" cy="60" r="7" fill="var(--primary)" fill-opacity=".1" />
	<circle cx="123" cy="60" r="6" stroke="var(--primary)" stroke-opacity=".1" stroke-width="2" />
	<path
		d="M123 39.824A5.811 5.811 0 01117.176 34 5.811 5.811 0 01123 28.176c3.227 0 5.824 2.351 5.824 5.25 0 1.914-1.558 3.5-3.5 3.5h-1.012c-.164 0-.3.11-.3.273 0 .082.027.137.082.192.218.273.355.629.355.984 0 .793-.656 1.45-1.449 1.45zm0-10.5c-2.57 0-4.676 2.106-4.676 4.676 0 2.57 2.106 4.676 4.676 4.676a.304.304 0 00.301-.301.314.314 0 00-.082-.191 1.484 1.484 0 01-.383-.985c0-.793.656-1.449 1.476-1.449h1.012c1.285 0 2.352-1.04 2.352-2.324 0-2.27-2.106-4.102-4.676-4.102zm-4.074 4.375c0-.465.383-.875.875-.875a.9.9 0 01.875.875.88.88 0 01-.875.875.864.864 0 01-.875-.875zm1.75-2.324c0-.492.383-.875.875-.875a.88.88 0 01.875.875.88.88 0 01-.875.875.864.864 0 01-.875-.875zm2.898 0a.88.88 0 01.875-.875c.492 0 .875.383.875.875a.864.864 0 01-.875.875.88.88 0 01-.875-.875zm1.75 2.324a.9.9 0 01.875-.875c.492 0 .875.41.875.875a.864.864 0 01-.875.875.88.88 0 01-.875-.875z"
		fill="var(--primary)" />
</svg>
`,EY=Ze({id:"select-color",name:"$t:interfaces.select-color.color",description:"$t:interfaces.select-color.description",icon:"palette",component:AY,types:["string"],recommendedDisplays:["color"],group:"selection",options:[{field:"opacity",name:"$t:interfaces.select-color.opacity",type:"boolean",meta:{width:"half",interface:"boolean"},schema:{default_value:!1}},{field:"presets",name:"$t:interfaces.select-color.preset_colors",type:"json",meta:{width:"full",interface:"list",options:{addLabel:"$t:interfaces.select-color.preset_colors_add_label",template:"{{ name }} - {{ color }}",fields:[{field:"name",type:"string",name:"$t:name",meta:{interface:"system-input-translated-string",width:"half",options:{placeholder:"$t:interfaces.select-color.name_placeholder"}}},{field:"color",type:"string",name:"$t:color",meta:{interface:"select-color",width:"half"}}]}}}],preview:IY}),DY=Object.freeze(Object.defineProperty({__proto__:null,default:EY},Symbol.toStringTag,{value:"Module"}));const PY=Z({props:{disabled:{type:Boolean,default:!1},value:{type:[String,Number],default:null},choices:{type:Array,default:null},icon:{type:String,default:null},allowNone:{type:Boolean,default:!1},placeholder:{type:String,default:()=>Be.global.t("select_an_item")},allowOther:{type:Boolean,default:!1}},emits:["input"],setup(){const{t:e}=ae();return{t:e}}});function TY(e,t,n,l,o,u){const r=c("v-notice"),i=c("v-icon"),s=c("v-select");return e.choices?(m(),F(s,{key:1,"model-value":e.value,items:e.choices,disabled:e.disabled,"show-deselect":e.allowNone,placeholder:e.placeholder,"allow-other":e.allowOther,"onUpdate:modelValue":t[0]||(t[0]=p=>e.$emit("input",p))},at({_:2},[e.icon?{name:"prepend",fn:d(()=>[a(i,{name:e.icon},null,8,["name"])])}:void 0]),1032,["model-value","items","disabled","show-deselect","placeholder","allow-other"])):(m(),F(r,{key:0,type:"warning"},{default:d(()=>[P(w(e.t("choices_option_configured_incorrectly")),1)]),_:1}))}var OY=H(PY,[["render",TY]]),LY=`<svg width="156" height="96" fill="none" xmlns="http://www.w3.org/2000/svg">
	<rect x="18" y="17.037" width="120" height="62" rx="6" fill="var(--background-page)" />
	<rect x="19" y="18.037" width="118" height="60" rx="5" stroke="var(--primary)" stroke-opacity=".25"
		stroke-width="2" />
	<rect x="28" y="51" width="40" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="28" y="63" width="60" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="18" y="17" width="120" height="26" rx="6" fill="var(--background-page)" class="glow" />
	<rect x="19" y="18" width="118" height="24" rx="5" stroke="var(--primary)" stroke-width="2" />
	<rect x="28" y="27" width="70" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<path d="M120.966 28a.4.4 0 00-.283.683l3.034 3.034a.4.4 0 00.566 0l3.034-3.034a.4.4 0 00-.283-.683h-6.068z"
		fill="var(--primary)" />
</svg>
`,jY=Ze({id:"select-dropdown",name:"$t:dropdown",description:"$t:interfaces.select-dropdown.description",icon:"arrow_drop_down_circle",component:OY,types:["string","integer","float","bigInteger"],group:"selection",preview:LY,options:({field:e})=>[{field:"choices",type:"json",name:"$t:choices",meta:{width:"full",interface:"list",options:{placeholder:"$t:interfaces.select-dropdown.choices_placeholder",template:"{{ text }}",fields:[{field:"text",type:"string",name:"$t:text",meta:{interface:"system-input-translated-string",width:"half",options:{placeholder:"$t:interfaces.select-dropdown.choices_name_placeholder"}}},{field:"value",type:e.type,name:"$t:value",meta:{interface:"input",options:{font:"monospace",placeholder:"$t:interfaces.select-dropdown.choices_value_placeholder"},width:"half"}}]}}},{field:"allowOther",name:"$t:interfaces.select-dropdown.allow_other",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:interfaces.select-dropdown.allow_other_label"}},schema:{default_value:!1}},{field:"allowNone",name:"$t:interfaces.select-dropdown.allow_none",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:interfaces.select-dropdown.allow_none_label"}},schema:{default_value:!1}},{field:"icon",name:"$t:icon",type:"string",meta:{width:"half",interface:"select-icon"}},{field:"placeholder",name:"$t:placeholder",type:"string",meta:{width:"half",interface:"system-input-translated-string",options:{placeholder:"$t:enter_a_placeholder"}}}],recommendedDisplays:["labels"]}),RY=Object.freeze(Object.defineProperty({__proto__:null,default:jY},Symbol.toStringTag,{value:"Module"}));const MY={key:2,class:"many-to-one"},UY={class:"preview"},NY=Z({props:{value:{default:()=>null},collection:null,field:null,template:{default:()=>null},selectMode:{default:"auto"},disabled:{type:Boolean,default:!1},filter:{default:()=>null}},emits:["input"],setup(e,{emit:t}){const n=e,l=vt("values",D({})),o=Xe(),u=V(()=>In(Nn(n.filter,J=>J&&typeof J=="string"?Xt(J,l.value):J))),{t:r}=ae(),{collection:i,field:s}=ze(n),{relationInfo:p}=fa(i,s),f=V({get:()=>{var J;return(J=n.value)!=null?J:null},set:J=>{t("input",J)}}),_=D(!1),v=D(!1),y=V(()=>{var Y,W;return n.template?n.template:p.value?((W=(Y=o.getCollection(p.value.relatedCollection.collection))==null?void 0:Y.meta)==null?void 0:W.display_template)||`{{ ${p.value.relatedPrimaryKeyField.field||""} }}`:""}),g=V(()=>{var J,Y;return!y.value||!((J=p.value)==null?void 0:J.relatedCollection.collection)?[]:tn(St(y.value),(Y=p.value)==null?void 0:Y.relatedCollection.collection)}),h=V(()=>({fields:g.value})),{update:b,remove:S,displayItem:I,loading:E}=_a(f,h,p),R=V(()=>!I.value||!n.value||!p.value?"+":typeof n.value=="number"||typeof n.value=="string"?n.value:z.exports.get(n.value,p.value.relatedPrimaryKeyField.field,"+")),O=V(()=>!n.value||typeof n.value!="object"?{}:n.value);function L(){n.disabled||(_.value=!0)}function q(J){n.disabled||b(J)}const T=V(()=>{var Y;const J=(Y=p.value)==null?void 0:Y.relatedPrimaryKeyField.field;return!n.value||!J?[]:typeof n.value=="object"&&J in n.value?[n.value[J]]:[n.value]});function j(J){J.length===0?S():b(J[0]),_.value=!1}const{hasPermission:U}=Vt(),B=V(()=>p.value?U(p.value.relatedCollection.collection,"create"):!1),K=V(()=>p.value?U(p.value.relatedCollection.collection,"update"):!1);return(J,Y)=>{var te,re;const W=c("v-notice"),G=c("v-skeleton-loader"),Q=c("render-template"),X=c("v-icon"),ee=c("v-input"),le=Fe("tooltip");return C(p)?C(y)?(m(),A("div",MY,[C(E)?(m(),F(G,{key:0,type:"input"})):(m(),F(ee,{key:1,clickable:"",placeholder:C(r)("select_an_item"),disabled:e.disabled,onClick:L},at({append:d(()=>[C(I)?(m(),A(se,{key:0},[ie(a(X,{name:"open_in_new",class:"edit",onClick:Y[0]||(Y[0]=Te(ye=>v.value=!0,["stop"]))},null,512),[[le,C(r)("edit")]]),e.disabled?M("",!0):ie((m(),F(X,{key:0,name:"close",class:"deselect",onClick:Y[1]||(Y[1]=Te(ye=>J.$emit("input",null),["stop"]))},null,512)),[[le,C(r)("deselect")]])],64)):(m(),A(se,{key:1},[C(B)?ie((m(),F(X,{key:0,class:"add",name:"add",onClick:Y[2]||(Y[2]=Te(ye=>v.value=!0,["stop"]))},null,512)),[[le,C(r)("create_item")]]):M("",!0),a(X,{class:"expand",name:"expand_more"})],64))]),_:2},[C(I)?{name:"input",fn:d(()=>[$("div",UY,[a(Q,{collection:C(p).relatedCollection.collection,item:C(I),template:C(y)},null,8,["collection","item","template"])])])}:void 0]),1032,["placeholder","disabled"])),a(C(Ht),{active:v.value,"onUpdate:active":Y[3]||(Y[3]=ye=>v.value=ye),collection:C(p).relatedCollection.collection,"primary-key":C(R),edits:C(O),"circular-field":(re=(te=C(p).relation.meta)==null?void 0:te.one_field)!=null?re:void 0,disabled:!C(K)||e.disabled,onInput:q},null,8,["active","collection","primary-key","edits","circular-field","disabled"]),e.disabled?M("",!0):(m(),F(C(mn),{key:2,active:_.value,"onUpdate:active":Y[4]||(Y[4]=ye=>_.value=ye),collection:C(p).relatedCollection.collection,selection:C(T),filter:C(u),onInput:j},null,8,["active","collection","selection","filter"]))])):(m(),F(W,{key:1,type:"warning"},{default:d(()=>[P(w(C(r)("display_template_not_setup")),1)]),_:1})):(m(),F(W,{key:0,type:"warning"},{default:d(()=>[P(w(C(r)("relationship_not_setup")),1)]),_:1}))}}});var BY=H(NY,[["__scopeId","data-v-f3663216"]]),qY=`<svg width="156" height="96" fill="none" xmlns="http://www.w3.org/2000/svg">
	<rect x="18" y="17.037" width="120" height="62" rx="6" fill="var(--background-page)" />
	<rect x="19" y="18.037" width="118" height="60" rx="5" stroke="var(--primary)" stroke-opacity=".25"
		stroke-width="2" />
	<rect x="28" y="51" width="40" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="28" y="63" width="60" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="18" y="17" width="120" height="26" rx="6" fill="var(--background-page)" class="glow" />
	<rect x="19" y="18" width="118" height="24" rx="5" stroke="var(--primary)" stroke-width="2" />
	<rect x="28" y="27" width="70" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<path d="M120.966 28a.4.4 0 00-.283.683l3.034 3.034a.4.4 0 00.566 0l3.034-3.034a.4.4 0 00-.283-.683h-6.068z"
		fill="var(--primary)" />
</svg>
`,zY=Ze({id:"select-dropdown-m2o",name:"$t:interfaces.select-dropdown-m2o.many-to-one",description:"$t:interfaces.select-dropdown-m2o.description",icon:"arrow_right_alt",component:BY,types:["uuid","string","text","integer","bigInteger"],relational:!0,localTypes:["m2o"],group:"relational",options:({relations:e})=>{var n;const t=(n=e.m2o)==null?void 0:n.related_collection;return[{field:"template",name:"$t:interfaces.select-dropdown-m2o.display_template",meta:{interface:"system-display-template",options:{collectionName:t}}},{field:"filter",name:"$t:filter",type:"json",meta:{interface:"system-filter",options:{collectionName:t}}}]},recommendedDisplays:["related-values"],preview:qY}),KY=Object.freeze(Object.defineProperty({__proto__:null,default:zY},Symbol.toStringTag,{value:"Module"})),Gs=[{name:"action",icons:["123","3d_rotation","abc","accessibility","accessibility_new","accessible","accessible_forward","account_balance","account_balance_wallet","account_box","account_circle","add_card","add_shopping_cart","add_task","add_to_drive","addchart","admin_panel_settings","ads_click","alarm","alarm_add","alarm_off","alarm_on","all_inbox","all_out","analytics","anchor","android","announcement","api","app_blocking","app_shortcut","arrow_circle_down","arrow_circle_left","arrow_circle_right","arrow_circle_up","arrow_right_alt","article","aspect_ratio","assessment","assignment","assignment_ind","assignment_late","assignment_return","assignment_returned","assignment_turned_in","assured_workload","autorenew","backup","backup_table","balance","batch_prediction","book","book_online","bookmark","bookmark_add","bookmark_added","bookmark_border","bookmark_remove","bookmarks","browse_gallery","bug_report","build","build_circle","cached","calendar_month","calendar_today","calendar_view_day","calendar_view_month","calendar_view_week","camera_enhance","cancel_schedule_send","card_giftcard","card_membership","card_travel","change_history","check_circle","check_circle_outline","chrome_reader_mode","circle_notifications","class","close_fullscreen","code","code_off","comment_bank","commit","commute","compare_arrows","compress","contact_page","contact_support","contactless","copyright","credit_card","credit_card_off","css","currency_exchange","dangerous","dashboard","dashboard_customize","data_exploration","data_thresholding","date_range","delete","delete_forever","delete_outline","density_large","density_medium","density_small","description","disabled_by_default","disabled_visible","display_settings","dns","done","done_all","done_outline","donut_large","donut_small","drag_indicator","dynamic_form","edit_calendar","edit_off","eject","euro_symbol","event","event_repeat","event_seat","exit_to_app","expand","explore","explore_off","extension","extension_off","face","fact_check","favorite","favorite_border","fax","feedback","file_present","filter_alt","filter_alt_off","find_in_page","find_replace","fingerprint","fit_screen","flaky","flight_land","flight_takeoff","flip_to_back","flip_to_front","flutter_dash","free_cancellation","g_translate","gavel","generating_tokens","get_app","gif","gif_box","grade","grading","group_work","help","help_center","help_outline","hide_source","highlight_alt","highlight_off","history","history_toggle_off","hls","hls_off","home","horizontal_split","hotel_class","hourglass_disabled","hourglass_empty","hourglass_full","html","http","https","important_devices","info","input","install_desktop","install_mobile","integration_instructions","invert_colors","javascript","join_full","join_inner","join_left","join_right","label","label_important","label_off","language","launch","leaderboard","lightbulb","line_style","line_weight","list","lock","lock_clock","lock_open","lock_reset","login","logout","loyalty","manage_accounts","mark_as_unread","markunread_mailbox","maximize","mediation","minimize","model_training","network_ping","new_label","next_plan","nightlight_round","no_accounts","not_accessible","not_started","note_add","offline_bolt","offline_pin","online_prediction","opacity","open_in_browser","open_in_full","open_in_new","open_in_new_off","open_with","outbound","outbox","outlet","output","pageview","paid","pan_tool","pan_tool_alt","payment","pending","pending_actions","percent","perm_camera_mic","perm_contact_calendar","perm_data_setting","perm_device_information","perm_identity","perm_media","perm_phone_msg","perm_scan_wifi","pets","php","picture_in_picture","picture_in_picture_alt","pin_end","pin_invoke","pinch","plagiarism","play_for_work","polymer","power_settings_new","pregnant_woman","preview","print","privacy_tip","private_connectivity","production_quantity_limits","published_with_changes","query_builder","question_answer","question_mark","quickreply","receipt","record_voice_over","redeem","remove_done","remove_shopping_cart","reorder","report_problem","request_page","restore","restore_from_trash","restore_page","rocket","rocket_launch","room","rounded_corner","rowing","rule","satellite_alt","saved_search","savings","schedule","schedule_send","search","search_off","segment","send_and_archive","sensors","sensors_off","settings","settings_accessibility","settings_applications","settings_backup_restore","settings_bluetooth","settings_brightness","settings_cell","settings_ethernet","settings_input_antenna","settings_input_component","settings_input_composite","settings_input_hdmi","settings_input_svideo","settings_overscan","settings_phone","settings_power","settings_remote","settings_voice","shop","shop_2","shop_two","shopping_bag","shopping_basket","shopping_cart","shopping_cart_checkout","smart_button","source","space_dashboard","speaker_notes","speaker_notes_off","spellcheck","star_rate","stars","sticky_note_2","store","subject","subtitles_off","supervised_user_circle","supervisor_account","support","swap_horiz","swap_horizontal_circle","swap_vert","swap_vertical_circle","swipe","swipe_down","swipe_down_alt","swipe_left","swipe_left_alt","swipe_right","swipe_right_alt","swipe_up","swipe_up_alt","swipe_vertical","switch_access_shortcut","switch_access_shortcut_add","sync_alt","system_update_alt","tab","tab_unselected","table_view","task_alt","terminal","text_rotate_up","text_rotate_vertical","text_rotation_angledown","text_rotation_angleup","text_rotation_down","text_rotation_none","theaters","thumb_down","thumb_down_off_alt","thumb_up","thumb_up_off_alt","thumbs_up_down","timeline","tips_and_updates","toc","today","token","toll","touch_app","tour","track_changes","translate","trending_down","trending_flat","trending_up","try","turned_in","turned_in_not","unpublished","update","update_disabled","upgrade","verified","verified_user","vertical_split","view_agenda","view_array","view_carousel","view_column","view_comfy_alt","view_compact_alt","view_cozy","view_day","view_headline","view_in_ar","view_kanban","view_list","view_module","view_quilt","view_sidebar","view_stream","view_timeline","view_week","visibility","visibility_off","voice_over_off","watch_later","webhook","wifi_protected_setup","work","work_off","work_outline","wysiwyg","youtube_searched_for","zoom_in","zoom_out"]},{name:"alert",icons:["add_alert","auto_delete","error","error_outline","notification_important","warning","warning_amber"]},{name:"av",icons:["10k","1k","1k_plus","2k","2k_plus","3k","3k_plus","4k","4k_plus","5g","5k","5k_plus","6k","6k_plus","7k","7k_plus","8k","8k_plus","9k","9k_plus","add_to_queue","airplay","album","art_track","audio_file","av_timer","branding_watermark","call_to_action","closed_caption","closed_caption_disabled","closed_caption_off","control_camera","equalizer","explicit","fast_forward","fast_rewind","featured_play_list","featured_video","fiber_dvr","fiber_manual_record","fiber_new","fiber_pin","fiber_smart_record","forward_10","forward_30","forward_5","games","hd","hearing","hearing_disabled","high_quality","interpreter_mode","library_add","library_add_check","library_books","library_music","loop","mic","mic_none","mic_off","missed_video_call","movie","music_video","new_releases","not_interested","note","pause","pause_circle","pause_circle_filled","pause_circle_outline","play_arrow","play_circle","play_circle_filled","play_circle_outline","play_disabled","playlist_add","playlist_add_check","playlist_add_check_circle","playlist_add_circle","playlist_play","playlist_remove","queue","queue_music","queue_play_next","radio","recent_actors","remove_from_queue","repeat","repeat_on","repeat_one","repeat_one_on","replay","replay_10","replay_30","replay_5","replay_circle_filled","sd","shuffle","shuffle_on","skip_next","skip_previous","slow_motion_video","snooze","sort_by_alpha","speed","stop","stop_circle","subscriptions","subtitles","surround_sound","video_call","video_file","video_label","video_library","video_settings","videocam","videocam_off","volume_down","volume_mute","volume_off","volume_up","web","web_asset","web_asset_off"]},{name:"communication",icons:["3p","add_ic_call","alternate_email","app_registration","business","call","call_end","call_made","call_merge","call_missed","call_missed_outgoing","call_received","call_split","cancel_presentation","cell_tower","cell_wifi","chat","chat_bubble","chat_bubble_outline","clear_all","co_present","comment","comments_disabled","contact_mail","contact_phone","contacts","desktop_access_disabled","dialer_sip","dialpad","document_scanner","domain_disabled","domain_verification","duo","email","forum","forward_to_inbox","hourglass_bottom","hourglass_top","hub","import_contacts","import_export","invert_colors_off","key","key_off","list_alt","live_help","location_off","location_on","mail_outline","mark_chat_read","mark_chat_unread","mark_email_read","mark_email_unread","mark_unread_chat_alt","message","mobile_screen_share","more_time","nat","no_sim","pause_presentation","person_add_disabled","person_search","phone","phone_disabled","phone_enabled","phonelink_erase","phonelink_lock","phonelink_ring","phonelink_setup","portable_wifi_off","present_to_all","print_disabled","qr_code","qr_code_2","qr_code_scanner","read_more","ring_volume","rss_feed","rtt","screen_share","send_time_extension","sentiment_satisfied_alt","sip","speaker_phone","spoke","stay_current_landscape","stay_current_portrait","stay_primary_landscape","stay_primary_portrait","stop_screen_share","swap_calls","textsms","unsubscribe","voicemail","vpn_key","vpn_key_off","wifi_calling"]},{name:"content",icons:["add","add_box","add_circle","add_circle_outline","add_link","archive","attribution","backspace","ballot","biotech","block","bolt","calculate","change_circle","clear","content_copy","content_cut","content_paste","content_paste_go","content_paste_off","content_paste_search","copy_all","create","delete_sweep","deselect","drafts","dynamic_feed","file_copy","filter_list","filter_list_off","flag","flag_circle","font_download","font_download_off","forward","gesture","how_to_reg","how_to_vote","inbox","insights","inventory","inventory_2","link","link_off","low_priority","mail","markunread","move_to_inbox","next_week","outlined_flag","policy","push_pin","redo","remove","remove_circle","remove_circle_outline","reply","reply_all","report","report_gmailerrorred","report_off","save","save_alt","save_as","select_all","send","shield","sort","square_foot","stacked_bar_chart","stream","tag","text_format","unarchive","undo","upcoming","waves","weekend","where_to_vote"]},{name:"device",icons:["1x_mobiledata","30fps","3g_mobiledata","4g_mobiledata","4g_plus_mobiledata","60fps","access_alarm","access_alarms","access_time","access_time_filled","ad_units","add_alarm","add_to_home_screen","air","airplane_ticket","airplanemode_active","airplanemode_inactive","aod","battery_alert","battery_charging_full","battery_full","battery_saver","battery_std","battery_unknown","bloodtype","bluetooth","bluetooth_connected","bluetooth_disabled","bluetooth_drive","bluetooth_searching","brightness_auto","brightness_high","brightness_low","brightness_medium","cable","cameraswitch","credit_score","dark_mode","data_saver_off","data_saver_on","data_usage","developer_mode","device_thermostat","devices","discount","do_not_disturb_on_total_silence","dvr","e_mobiledata","edgesensor_high","edgesensor_low","flashlight_off","flashlight_on","flourescent","fmd_bad","fmd_good","g_mobiledata","gpp_bad","gpp_good","gpp_maybe","gps_fixed","gps_not_fixed","gps_off","graphic_eq","grid_3x3","grid_4x4","grid_goldenratio","h_mobiledata","h_plus_mobiledata","hdr_auto","hdr_auto_select","hdr_off_select","hdr_on_select","lan","lens_blur","light_mode","location_disabled","location_searching","lte_mobiledata","lte_plus_mobiledata","media_bluetooth_off","media_bluetooth_on","medication","medication_liquid","mobile_friendly","mobile_off","mobiledata_off","mode_night","mode_standby","monitor_heart","monitor_weight","nearby_error","nearby_off","network_cell","network_wifi","nfc","nightlight","note_alt","password","pattern","phishing","pin","play_lesson","price_change","price_check","punch_clock","quiz","r_mobiledata","radar","remember_me","reset_tv","restart_alt","reviews","rsvp","screen_lock_landscape","screen_lock_portrait","screen_lock_rotation","screen_rotation","screen_search_desktop","screenshot","sd_storage","security_update","security_update_good","security_update_warning","sell","send_to_mobile","settings_suggest","settings_system_daydream","share_location","shortcut","signal_cellular_0_bar","signal_cellular_4_bar","signal_cellular_alt","signal_cellular_connected_no_internet_0_bar","signal_cellular_connected_no_internet_4_bar","signal_cellular_no_sim","signal_cellular_nodata","signal_cellular_null","signal_cellular_off","signal_wifi_0_bar","signal_wifi_4_bar","signal_wifi_4_bar_lock","signal_wifi_bad","signal_wifi_connected_no_internet_4","signal_wifi_off","signal_wifi_statusbar_4_bar","signal_wifi_statusbar_connected_no_internet_4","signal_wifi_statusbar_null","sim_card_download","splitscreen","sports_score","ssid_chart","storage","storm","summarize","system_security_update","system_security_update_good","system_security_update_warning","task","thermostat","timer_10_select","timer_3_select","tungsten","usb","usb_off","wallpaper","water","widgets","wifi_calling_3","wifi_channel","wifi_find","wifi_lock","wifi_password","wifi_tethering","wifi_tethering_error","wifi_tethering_off"]},{name:"editor",icons:["add_chart","add_comment","align_horizontal_center","align_horizontal_left","align_horizontal_right","align_vertical_bottom","align_vertical_center","align_vertical_top","area_chart","attach_file","attach_money","auto_graph","bar_chart","border_all","border_bottom","border_clear","border_color","border_horizontal","border_inner","border_left","border_outer","border_right","border_style","border_top","border_vertical","bubble_chart","candlestick_chart","checklist","checklist_rtl","data_array","data_object","drag_handle","draw","edit_note","format_align_center","format_align_justify","format_align_left","format_align_right","format_bold","format_clear","format_color_fill","format_color_reset","format_color_text","format_indent_decrease","format_indent_increase","format_italic","format_line_spacing","format_list_bulleted","format_list_numbered","format_list_numbered_rtl","format_paint","format_quote","format_shapes","format_size","format_strikethrough","format_textdirection_l_to_r","format_textdirection_r_to_l","format_underlined","functions","height","hexagon","highlight","horizontal_distribute","horizontal_rule","insert_chart","insert_chart_outlined","insert_comment","insert_drive_file","insert_emoticon","insert_invitation","insert_link","insert_page_break","insert_photo","line_axis","linear_scale","margin","merge_type","mode","mode_comment","mode_edit","mode_edit_outline","monetization_on","money_off","money_off_csred","move_down","move_up","multiline_chart","notes","numbers","padding","pentagon","pie_chart","pie_chart_outline","polyline","post_add","publish","query_stats","rectangle","scatter_plot","schema","score","short_text","show_chart","space_bar","square","stacked_line_chart","strikethrough_s","subscript","superscript","table_chart","table_rows","text_decrease","text_fields","text_increase","title","vertical_align_bottom","vertical_align_center","vertical_align_top","vertical_distribute","wrap_text"]},{name:"file",icons:["approval","attach_email","attachment","cloud","cloud_circle","cloud_done","cloud_download","cloud_off","cloud_queue","cloud_sync","cloud_upload","create_new_folder","difference","download","download_done","download_for_offline","downloading","drive_file_move","drive_file_move_rtl","drive_file_rename_outline","drive_folder_upload","file_download","file_download_done","file_download_off","file_open","file_upload","folder","folder_copy","folder_delete","folder_off","folder_open","folder_shared","folder_zip","format_overline","grid_view","newspaper","request_quote","rule_folder","snippet_folder","text_snippet","topic","upload","upload_file","workspaces"]},{name:"hardware",icons:["adf_scanner","browser_not_supported","browser_updated","cast","cast_connected","cast_for_education","computer","connected_tv","desktop_mac","desktop_windows","developer_board","developer_board_off","device_hub","device_unknown","devices_other","dock","earbuds","earbuds_battery","gamepad","headphones","headphones_battery","headset","headset_mic","headset_off","home_max","home_mini","keyboard","keyboard_alt","keyboard_arrow_down","keyboard_arrow_left","keyboard_arrow_right","keyboard_arrow_up","keyboard_backspace","keyboard_capslock","keyboard_command_key","keyboard_control_key","keyboard_double_arrow_down","keyboard_double_arrow_left","keyboard_double_arrow_right","keyboard_double_arrow_up","keyboard_hide","keyboard_option_key","keyboard_return","keyboard_tab","keyboard_voice","laptop","laptop_chromebook","laptop_mac","laptop_windows","memory","monitor","mouse","phone_android","phone_iphone","phonelink","phonelink_off","point_of_sale","power_input","router","scanner","security","sim_card","smart_display","smart_screen","smart_toy","smartphone","speaker","speaker_group","start","tablet","tablet_android","tablet_mac","toys","tv","videogame_asset","videogame_asset_off","watch","watch_off"]},{name:"home",icons:["sensor_door","sensor_window","shield_moon"]},{name:"image",icons:["10mp","11mp","12mp","13mp","14mp","15mp","16mp","17mp","18mp","19mp","20mp","21mp","22mp","23mp","24mp","2mp","30fps_select","3mp","4mp","5mp","60fps_select","6mp","7mp","8mp","9mp","add_a_photo","add_photo_alternate","add_to_photos","adjust","animation","assistant","assistant_photo","audiotrack","auto_awesome","auto_awesome_mosaic","auto_awesome_motion","auto_fix_high","auto_fix_normal","auto_fix_off","auto_stories","autofps_select","bedtime","bedtime_off","blur_circular","blur_linear","blur_off","blur_on","brightness_1","brightness_2","brightness_3","brightness_4","brightness_5","brightness_6","brightness_7","broken_image","brush","burst_mode","camera","camera_alt","camera_front","camera_rear","camera_roll","cases","center_focus_strong","center_focus_weak","circle","collections","collections_bookmark","color_lens","colorize","compare","contrast","control_point","control_point_duplicate","crop","crop_16_9","crop_3_2","crop_5_4","crop_7_5","crop_din","crop_free","crop_landscape","crop_original","crop_portrait","crop_rotate","crop_square","currency_bitcoin","currency_franc","currency_lira","currency_pound","currency_ruble","currency_rupee","currency_yen","currency_yuan","deblur","dehaze","details","dirty_lens","edit","euro","exposure","exposure_neg_1","exposure_neg_2","exposure_plus_1","exposure_plus_2","exposure_zero","face_retouching_natural","face_retouching_off","filter","filter_1","filter_2","filter_3","filter_4","filter_5","filter_6","filter_7","filter_8","filter_9","filter_9_plus","filter_b_and_w","filter_center_focus","filter_drama","filter_frames","filter_hdr","filter_none","filter_tilt_shift","filter_vintage","flare","flash_auto","flash_off","flash_on","flip","flip_camera_android","flip_camera_ios","gradient","grain","grid_off","grid_on","hdr_enhanced_select","hdr_off","hdr_on","hdr_plus","hdr_strong","hdr_weak","healing","hevc","hide_image","image","image_aspect_ratio","image_not_supported","image_search","incomplete_circle","iso","landscape","leak_add","leak_remove","lens","linked_camera","logo_dev","looks","looks_3","looks_4","looks_5","looks_6","looks_one","looks_two","loupe","mic_external_off","mic_external_on","monochrome_photos","motion_photos_auto","motion_photos_off","motion_photos_on","motion_photos_pause","motion_photos_paused","movie_creation","movie_filter","mp","music_note","music_off","nature","nature_people","navigate_before","navigate_next","palette","panorama","panorama_fish_eye","panorama_horizontal","panorama_horizontal_select","panorama_photosphere","panorama_photosphere_select","panorama_vertical","panorama_vertical_select","panorama_wide_angle","panorama_wide_angle_select","photo","photo_album","photo_camera","photo_camera_back","photo_camera_front","photo_filter","photo_library","photo_size_select_actual","photo_size_select_large","photo_size_select_small","picture_as_pdf","portrait","raw_off","raw_on","receipt_long","remove_red_eye","rotate_90_degrees_ccw","rotate_90_degrees_cw","rotate_left","rotate_right","shutter_speed","slideshow","straighten","style","switch_camera","switch_video","tag_faces","texture","thermostat_auto","timelapse","timer","timer_10","timer_3","timer_off","tonality","transform","tune","video_camera_back","video_camera_front","video_stable","view_comfy","view_compact","vignette","vrpano","wb_auto","wb_cloudy","wb_incandescent","wb_iridescent","wb_shade","wb_sunny","wb_twilight"]},{name:"maps",icons:["360","add_business","add_location","add_location_alt","add_road","agriculture","airline_stops","airlines","alt_route","atm","attractions","badge","bakery_dining","beenhere","bike_scooter","breakfast_dining","brunch_dining","bus_alert","car_rental","car_repair","castle","category","celebration","church","cleaning_services","compass_calibration","connecting_airports","delivery_dining","departure_board","design_services","diamond","dinner_dining","directions","directions_bike","directions_boat","directions_boat_filled","directions_bus","directions_bus_filled","directions_car","directions_car_filled","directions_railway","directions_railway_filled","directions_run","directions_subway","directions_subway_filled","directions_transit","directions_transit_filled","directions_walk","dry_cleaning","edit_attributes","edit_location","edit_location_alt","edit_road","egg","egg_alt","electric_bike","electric_car","electric_moped","electric_rickshaw","electric_scooter","electrical_services","emergency","ev_station","factory","fastfood","festival","flight","flight_class","forest","fork_left","fork_right","fort","hail","handyman","hardware","home_repair_service","hotel","hvac","icecream","kebab_dining","layers","layers_clear","liquor","local_activity","local_airport","local_atm","local_bar","local_cafe","local_car_wash","local_convenience_store","local_dining","local_drink","local_fire_department","local_florist","local_gas_station","local_grocery_store","local_hospital","local_hotel","local_laundry_service","local_library","local_mall","local_movies","local_offer","local_parking","local_pharmacy","local_phone","local_pizza","local_play","local_police","local_post_office","local_printshop","local_see","local_shipping","local_taxi","lunch_dining","map","maps_ugc","medical_services","menu_book","merge","miscellaneous_services","mode_of_travel","money","moped","mosque","moving","multiple_stop","museum","my_location","navigation","near_me","near_me_disabled","nightlife","no_meals","no_transfer","not_listed_location","park","pedal_bike","person_pin","person_pin_circle","pest_control","pest_control_rodent","pin_drop","place","plumbing","railway_alert","ramen_dining","ramp_left","ramp_right","rate_review","restaurant","restaurant_menu","roundabout_left","roundabout_right","route","run_circle","sailing","satellite","set_meal","signpost","snowmobile","soup_kitchen","stadium","store_mall_directory","straight","streetview","subway","synagogue","takeout_dining","taxi_alert","temple_buddhist","temple_hindu","terrain","theater_comedy","tire_repair","traffic","train","tram","transfer_within_a_station","transit_enterexit","trip_origin","turn_left","turn_right","turn_sharp_left","turn_sharp_right","turn_slight_left","turn_slight_right","two_wheeler","u_turn_left","u_turn_right","volunteer_activism","warehouse","wine_bar","wrong_location","zoom_in_map","zoom_out_map"]},{name:"navigation",icons:["app_settings_alt","apps","apps_outage","arrow_back","arrow_back_ios","arrow_back_ios_new","arrow_downward","arrow_drop_down","arrow_drop_down_circle","arrow_drop_up","arrow_forward","arrow_forward_ios","arrow_left","arrow_right","arrow_upward","assistant_direction","campaign","cancel","check","chevron_left","chevron_right","close","double_arrow","east","expand_circle_down","expand_less","expand_more","first_page","fullscreen","fullscreen_exit","home_work","last_page","legend_toggle","maps_home_work","menu","menu_open","more_horiz","more_vert","north","north_east","north_west","offline_share","payments","pivot_table_chart","refresh","south","south_east","south_west","subdirectory_arrow_left","subdirectory_arrow_right","switch_left","switch_right","unfold_less","unfold_more","waterfall_chart","west"]},{name:"notification",icons:["account_tree","adb","airline_seat_flat","airline_seat_flat_angled","airline_seat_individual_suite","airline_seat_legroom_extra","airline_seat_legroom_normal","airline_seat_legroom_reduced","airline_seat_recline_extra","airline_seat_recline_normal","bluetooth_audio","confirmation_number","directions_off","disc_full","do_disturb","do_disturb_alt","do_disturb_off","do_disturb_on","do_not_disturb","do_not_disturb_alt","do_not_disturb_off","do_not_disturb_on","drive_eta","enhanced_encryption","event_available","event_busy","event_note","folder_special","imagesearch_roller","live_tv","mms","more","network_check","network_locked","no_encryption","no_encryption_gmailerrorred","ondemand_video","personal_video","phone_bluetooth_speaker","phone_callback","phone_forwarded","phone_in_talk","phone_locked","phone_missed","phone_paused","power","power_off","priority_high","running_with_errors","sd_card","sd_card_alert","sim_card_alert","sms","sms_failed","support_agent","sync","sync_disabled","sync_lock","sync_problem","system_update","tap_and_play","time_to_leave","tv_off","vibration","voice_chat","vpn_lock","wc","wifi","wifi_off"]},{name:"places",icons:["ac_unit","airport_shuttle","all_inclusive","apartment","baby_changing_station","backpack","balcony","bathtub","beach_access","bento","bungalow","business_center","cabin","carpenter","casino","chalet","charging_station","checkroom","child_care","child_friendly","corporate_fare","cottage","countertops","crib","do_not_step","do_not_touch","dry","elevator","escalator","escalator_warning","family_restroom","fence","fire_extinguisher","fitness_center","food_bank","foundation","free_breakfast","gite","golf_course","grass","holiday_village","hot_tub","house","house_siding","houseboat","iron","kitchen","meeting_room","microwave","night_shelter","no_backpack","no_cell","no_drinks","no_flash","no_food","no_meeting_room","no_photography","no_stroller","other_houses","pool","rice_bowl","roofing","room_preferences","room_service","rv_hookup","smoke_free","smoking_rooms","soap","spa","sports_bar","stairs","storefront","stroller","tapas","tty","umbrella","vape_free","vaping_rooms","villa","wash","water_damage","wheelchair_pickup"]},{name:"search",icons:["bathroom","bed","bedroom_baby","bedroom_child","bedroom_parent","blender","camera_indoor","camera_outdoor","chair","chair_alt","coffee","coffee_maker","dining","door_back","door_front","door_sliding","doorbell","feed","flatware","garage","light","living","manage_search","podcasts","shower","table_bar","table_restaurant","window","yard"]},{name:"social",icons:["6_ft_apart","add_moderator","add_reaction","architecture","back_hand","boy","cake","catching_pokemon","clean_hands","co2","compost","connect_without_contact","construction","cookie","coronavirus","cruelty_free","deck","domain","domain_add","downhill_skiing","edit_notifications","elderly","elderly_woman","emoji_emotions","emoji_events","emoji_food_beverage","emoji_nature","emoji_objects","emoji_people","emoji_symbols","emoji_transportation","engineering","female","fireplace","fitbit","follow_the_signs","front_hand","girl","group","group_add","group_off","group_remove","groups","handshake","health_and_safety","heart_broken","hiking","history_edu","hive","ice_skating","interests","ios_share","kayaking","king_bed","kitesurfing","location_city","luggage","male","man","masks","military_tech","mood","mood_bad","nights_stay","no_luggage","nordic_walking","notification_add","notifications","notifications_active","notifications_none","notifications_off","notifications_paused","outdoor_grill","pages","paragliding","party_mode","people","people_alt","people_outline","person","person_add","person_add_alt","person_add_alt_1","person_off","person_outline","person_remove","person_remove_alt_1","personal_injury","piano","piano_off","pix","plus_one","poll","precision_manufacturing","psychology","public","public_off","real_estate_agent","recommend","recycling","reduce_capacity","remove_moderator","roller_skating","safety_divider","sanitizer","scale","school","science","scoreboard","scuba_diving","self_improvement","sentiment_dissatisfied","sentiment_neutral","sentiment_satisfied","sentiment_very_dissatisfied","sentiment_very_satisfied","share","sick","single_bed","skateboarding","sledding","snowboarding","snowshoeing","social_distance","south_america","sports","sports_baseball","sports_basketball","sports_cricket","sports_esports","sports_football","sports_golf","sports_gymnastics","sports_handball","sports_hockey","sports_kabaddi","sports_martial_arts","sports_mma","sports_motorsports","sports_rugby","sports_soccer","sports_tennis","sports_volleyball","surfing","switch_account","thumb_down_alt","thumb_up_alt","transgender","travel_explore","vaccines","water_drop","waving_hand","whatsapp","whatshot","woman","workspace_premium"]},{name:"toggle",icons:["check_box","check_box_outline_blank","indeterminate_check_box","radio_button_checked","radio_button_unchecked","star","star_border","star_border_purple500","star_half","star_outline","star_purple500","toggle_off","toggle_on"]}];const WY=Z({props:{value:{type:String,default:null},disabled:{type:Boolean,default:!1},width:{type:String,default:"half"}},emits:["input"],setup(e,{emit:t}){const{t:n}=ae(),l=D(""),o=V(()=>Gs.map(r=>{if(l.value.length===0)return r;const i=r.icons.filter(s=>s.includes(l.value.toLowerCase()));return Ie(ve({},r),{icons:i,length:i.length})}));return{t:n,icons:Gs,setIcon:u,searchQuery:l,filteredIcons:o,formatTitle:kt};function u(r){l.value="",t("input",r)}}}),HY={key:0,class:"icons"};function GY(e,t,n,l,o,u){const r=c("v-icon"),i=c("v-input"),s=c("v-divider"),p=c("v-menu");return m(),F(p,{attached:"",disabled:e.disabled},{activator:d(({active:f,activate:_})=>[a(i,{modelValue:e.searchQuery,"onUpdate:modelValue":t[1]||(t[1]=v=>e.searchQuery=v),disabled:e.disabled,placeholder:e.value?e.formatTitle(e.value):e.t("interfaces.select-icon.search_for_icon"),class:de({"has-value":e.value}),nullable:!1,onFocus:_},at({append:d(()=>[e.value!==null?(m(),F(r,{key:0,clickable:"",name:"close",onClick:t[0]||(t[0]=v=>e.setIcon(null))})):(m(),F(r,{key:1,clickable:"",name:"expand_more",class:de(["open-indicator",{open:f}]),onClick:_},null,8,["class","onClick"]))]),_:2},[e.value?{name:"prepend",fn:d(()=>[a(r,{clickable:"",name:e.value,class:de({active:e.value}),onClick:_},null,8,["name","class","onClick"])])}:void 0]),1032,["modelValue","disabled","placeholder","class","onFocus"])]),default:d(()=>[$("div",{class:de(["content",e.width])},[(m(!0),A(se,null,Ve(e.filteredIcons,(f,_)=>(m(),A(se,{key:f.name},[f.icons.length>0?(m(),A("div",HY,[(m(!0),A(se,null,Ve(f.icons,v=>(m(),F(r,{key:v,name:v,class:de({active:v===e.value}),clickable:"",onClick:y=>e.setIcon(v)},null,8,["name","class","onClick"]))),128))])):M("",!0),f.icons.length>0&&_!==e.filteredIcons.length-1?(m(),F(s,{key:1})):M("",!0)],64))),128))],2)]),_:1},8,["disabled"])}var ZY=H(WY,[["render",GY],["__scopeId","data-v-80080b9a"]]),JY=`<svg width="156" height="96" fill="none" xmlns="http://www.w3.org/2000/svg">
	<rect x="18" y="13" width="120" height="70" rx="6" fill="var(--background-page)" />
	<rect x="19" y="14" width="118" height="68" rx="5" stroke="var(--primary)" stroke-opacity=".25" stroke-width="2" />
	<rect x="18" y="13" width="120" height="26" rx="6" fill="var(--background-page)" class="glow" />
	<rect x="19" y="14" width="118" height="24" rx="5" stroke="var(--primary)" stroke-width="2" />
	<rect x="46" y="23" width="50" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<path
		d="M120.966 24a.4.4 0 00-.283.683l3.034 3.034a.4.4 0 00.566 0l3.034-3.034a.4.4 0 00-.283-.683h-6.068zM33 20.176A5.811 5.811 0 0027.176 26 5.811 5.811 0 0033 31.824 5.811 5.811 0 0038.824 26 5.811 5.811 0 0033 20.176zm0 10.5A4.691 4.691 0 0128.324 26 4.691 4.691 0 0133 21.324 4.691 4.691 0 0137.676 26 4.691 4.691 0 0133 30.676zm2.05-5.25a.9.9 0 00.876-.875.881.881 0 00-.875-.875.864.864 0 00-.875.875c0 .465.383.875.875.875zm-4.1 0c.491 0 .874-.41.874-.875a.864.864 0 00-.875-.875.881.881 0 00-.875.875.9.9 0 00.875.875zM33 29.199a3.2 3.2 0 002.98-2.023h-5.96A3.2 3.2 0 0033 29.199z"
		fill="var(--primary)" />
	<path
		d="M33 45.176A5.811 5.811 0 0027.176 51 5.811 5.811 0 0033 56.824 5.811 5.811 0 0038.824 51 5.811 5.811 0 0033 45.176zm0 10.5A4.691 4.691 0 0128.324 51 4.691 4.691 0 0133 46.324 4.691 4.691 0 0137.676 51 4.691 4.691 0 0133 55.676zm.3-7.602h-.874v3.5l3.062 1.86.438-.739-2.625-1.558v-3.063zM48.074 49.824c-1.285 0-2.324 1.067-2.324 2.352a2.322 2.322 0 002.324 2.324c1.285 0 2.352-1.04 2.352-2.324a2.37 2.37 0 00-2.352-2.352zm0 3.5c-.629 0-1.148-.52-1.148-1.148a1.161 1.161 0 112.324 0c0 .629-.52 1.148-1.176 1.148zm4.676-.574c-.957 0-1.75.793-1.75 1.75s.793 1.75 1.75 1.75 1.75-.793 1.75-1.75-.793-1.75-1.75-1.75zm0 2.324a.56.56 0 01-.574-.574.56.56 0 01.574-.574c.328 0 .602.246.602.574 0 .328-.274.574-.602.574zm.875-9.324c-1.777 0-3.2 1.45-3.2 3.2 0 1.777 1.423 3.226 3.2 3.226 1.777 0 3.2-1.45 3.2-3.227 0-1.75-1.423-3.199-3.2-3.199zm0 5.25a2.048 2.048 0 01-2.05-2.05c0-1.122.929-2.024 2.05-2.024 1.121 0 2.05.902 2.05 2.023 0 1.149-.929 2.051-2.05 2.051zM73.676 54.008l-.684-.684h-8.668v-7h9.352v7.684zm0-8.832h-9.352c-.629 0-1.148.52-1.148 1.148v7c0 .657.52 1.176 1.148 1.176H72.5l2.324 2.324v-10.5c0-.629-.52-1.148-1.148-1.148zM87 47.5a3.218 3.218 0 013.144 2.598l.165.875.902.054c.902.055 1.613.82 1.613 1.723 0 .957-.765 1.75-1.75 1.75H83.5a2.322 2.322 0 01-2.324-2.324c0-1.203.875-2.215 2.078-2.324l.602-.055.3-.574A3.178 3.178 0 0187 47.5zm0-1.176c-1.695 0-3.144.957-3.883 2.38-1.75.163-3.117 1.667-3.117 3.472 0 1.914 1.559 3.5 3.5 3.5h7.574A2.93 2.93 0 0094 52.75c0-1.531-1.203-2.79-2.707-2.898-.41-1.996-2.16-3.528-4.293-3.528z"
		fill="var(--primary)" fill-opacity=".25" />
	<path
		d="M105 45.176A5.811 5.811 0 0099.176 51 5.811 5.811 0 00105 56.824 5.811 5.811 0 00110.824 51 5.811 5.811 0 00105 45.176zm0 10.5c-2.57 0-4.676-2.106-4.676-4.676 0-2.57 2.106-4.676 4.676-4.676 2.57 0 4.676 2.106 4.676 4.676 0 2.57-2.106 4.676-4.676 4.676zm2.051-5.25a.9.9 0 00.875-.875.88.88 0 00-.875-.875.864.864 0 00-.875.875c0 .465.383.875.875.875zm-4.102 0c.492 0 .875-.41.875-.875a.864.864 0 00-.875-.875.88.88 0 00-.875.875.9.9 0 00.875.875zM105 54.199a3.199 3.199 0 002.98-2.023h-5.96a3.199 3.199 0 002.98 2.023z"
		fill="var(--primary)" />
	<path
		d="M123.219 47.5l.027.219.192.957h3.062v3.5h-1.969l-.027-.246-.192-.93h-4.238v-3.5h3.145zm.957-1.176h-5.25v9.926h1.148v-4.074h3.281l.219 1.148h4.102V47.5h-3.281l-.219-1.176zM31.414 63.625c-.957 4.402 2.188 7.246 4.457 8.04A4.643 4.643 0 0133 72.674 4.691 4.691 0 0128.324 68a4.623 4.623 0 013.09-4.375zM33 62.175c-3.254 0-5.824 2.653-5.824 5.825A5.811 5.811 0 0033 73.824a5.838 5.838 0 005.059-2.926c-4.375-.136-7.055-4.921-4.868-8.722H33zM55.95 62.75l-.083.027-3.117 1.203-3.5-1.23-3.281 1.121a.266.266 0 00-.219.273v8.805c0 .164.137.301.3.301l.083-.027 3.117-1.204 3.5 1.231 3.281-1.121a.266.266 0 00.219-.273V63.05c0-.164-.137-.301-.3-.301zm-6.126 1.45l2.352.82v6.78l-2.352-.82V64.2zm-2.898.573l1.75-.601v6.836l-1.75.683v-6.918zm8.148 6.454l-1.75.601v-6.836l1.75-.656v6.89zM72.856 64.856c-.848 0-1.641.328-2.215.902l-4.102 3.636c-.355.383-.848.575-1.395.575A1.96 1.96 0 0163.176 68a1.96 1.96 0 011.968-1.969c.547 0 1.04.192 1.422.602l.657.574.902-.766-.738-.656a3.143 3.143 0 00-2.243-.93A3.163 3.163 0 0062 68a3.163 3.163 0 003.144 3.144c.848 0 1.641-.328 2.215-.902l4.102-3.636c.355-.383.848-.575 1.395-.575A1.96 1.96 0 0174.824 68a1.96 1.96 0 01-1.968 1.969c-.52 0-1.04-.192-1.422-.602l-.684-.574-.875.766.738.656c.602.601 1.395.93 2.243.93A3.163 3.163 0 0076 68a3.145 3.145 0 00-3.144-3.144zM87 73.824c.629 0 1.176-.52 1.176-1.148h-2.352c0 .629.547 1.148 1.176 1.148zm3.5-3.5v-2.898c0-1.805-.957-3.309-2.625-3.692v-.41A.881.881 0 0087 62.45a.881.881 0 00-.875.875v.41c-1.668.383-2.625 1.887-2.625 3.692v2.898L82.324 71.5v.574h9.352V71.5L90.5 70.324zm-1.176.602h-4.648v-3.5c0-1.45.875-2.625 2.324-2.625 1.45 0 2.324 1.176 2.324 2.625v3.5zM110.824 66.387l-4.183-.356L105 62.176l-1.641 3.855-4.183.356 3.172 2.761-.957 4.102L105 71.062l3.609 2.188-.957-4.102 3.172-2.761zM105 69.997l-2.188 1.312.575-2.489-1.942-1.695 2.571-.219.984-2.351.984 2.351 2.571.219-1.942 1.695.575 2.489L105 69.996zM128.578 70.379l-.629-4.457a2.324 2.324 0 00-2.297-1.996h-5.304a2.324 2.324 0 00-2.297 1.996l-.629 4.457a1.463 1.463 0 001.449 1.695c.41 0 .793-.136 1.066-.437l1.313-1.313h3.5l1.312 1.313c.274.3.657.437 1.039.437.93 0 1.614-.793 1.477-1.695zm-1.203.437a.348.348 0 01-.246.11.344.344 0 01-.246-.11l-1.641-1.64h-4.484l-1.641 1.64a.348.348 0 01-.246.11.348.348 0 01-.246-.11c-.027-.054-.082-.136-.055-.273l.629-4.457a1.174 1.174 0 011.149-1.012h5.304c.574 0 1.067.438 1.149 1.012l.629 4.457c.027.137-.028.219-.055.273zm-6.125-5.14h-.574v1.148H119.5v.602h1.176v1.148h.574v-1.148h1.176v-.602h-1.176v-1.148zM125.324 68c0-.328.274-.574.602-.574.3 0 .574.246.574.574a.578.578 0 01-.574.574c-.328 0-.602-.246-.602-.574zm-1.148-1.75a.56.56 0 01.574-.574.56.56 0 01.574.574.56.56 0 01-.574.574.56.56 0 01-.574-.574z"
		fill="var(--primary)" fill-opacity=".25" />
</svg>
`,XY=Ze({id:"select-icon",name:"$t:interfaces.select-icon.icon",description:"$t:interfaces.select-icon.description",icon:"insert_emoticon",component:ZY,types:["string"],group:"selection",options:[],recommendedDisplays:["icon"],preview:JY}),YY=Object.freeze(Object.defineProperty({__proto__:null,default:XY},Symbol.toStringTag,{value:"Module"}));const QY=Z({props:{disabled:{type:Boolean,default:!1},value:{type:Array,default:null},choices:{type:Array,default:null},allowOther:{type:Boolean,default:!1},width:{type:String,default:null},iconOn:{type:String,default:"check_box"},iconOff:{type:String,default:"check_box_outline_blank"},color:{type:String,default:"var(--primary)"},itemsShown:{type:Number,default:8}},emits:["input"],setup(e,{emit:t}){const{t:n}=ae(),{choices:l,value:o}=ze(e),u=D(!1),r=V(()=>e.choices.length>e.itemsShown),i=V(()=>u.value||r.value===!1?e.choices:e.choices.slice(0,e.itemsShown)),s=V(()=>e.choices.length-e.itemsShown),p=V(()=>{var g;if(l.value===null)return null;const y=l.value.reduce((h,b)=>(b.text.length>h.length&&(h=b.text),h),"").length;return((g=e.width)==null?void 0:g.startsWith("half"))?y<=10?"grid-2":"grid-1":y<=10?"grid-4":y>10&&y<=15?"grid-3":y>15&&y<=25?"grid-2":"grid-1"}),{otherValues:f,addOtherValue:_,setOtherValue:v}=ks(o,l,y=>t("input",y));return{t:n,gridClass:p,otherValues:f,addOtherValue:_,setOtherValue:v,choicesDisplayed:i,hideChoices:r,showAll:u,hiddenCount:s}}}),xY=["disabled"];function eQ(e,t,n,l,o,u){const r=c("v-notice"),i=c("v-checkbox"),s=c("v-detail"),p=c("v-icon");return e.choices?(m(),A("div",{key:1,class:de(["checkboxes",e.gridClass]),style:Je({"--v-checkbox-color":e.color})},[(m(!0),A(se,null,Ve(e.choicesDisplayed,f=>(m(),F(i,{key:f.value,block:"",value:f.value,label:f.text,disabled:e.disabled,"icon-on":e.iconOn,"icon-off":e.iconOff,"model-value":e.value||[],"onUpdate:modelValue":t[0]||(t[0]=_=>e.$emit("input",_))},null,8,["value","label","disabled","icon-on","icon-off","model-value"]))),128)),e.hideChoices&&e.showAll===!1?(m(),F(s,{key:0,class:de(e.gridClass),label:e.t("interfaces.select-multiple-checkbox.show_more",{count:e.hiddenCount}),"onUpdate:modelValue":t[1]||(t[1]=f=>e.showAll=!0)},null,8,["class","label"])):M("",!0),e.allowOther?(m(),A(se,{key:1},[(m(!0),A(se,null,Ve(e.otherValues,f=>(m(),F(i,{key:f.key,block:"","custom-value":"",value:f.value,disabled:e.disabled,"icon-on":e.iconOn,"icon-off":e.iconOff,"model-value":e.value||[],"onUpdate:value":_=>e.setOtherValue(f.key,_),"onUpdate:modelValue":t[2]||(t[2]=_=>e.$emit("input",_))},null,8,["value","disabled","icon-on","icon-off","model-value","onUpdate:value"]))),128)),e.allowOther?(m(),A("button",{key:0,disabled:e.disabled,class:"add-new custom",align:"left",outlined:"",dashed:"",secondary:"",onClick:t[3]||(t[3]=f=>e.addOtherValue())},[a(p,{name:"add"}),P(" "+w(e.t("other")),1)],8,xY)):M("",!0)],64)):M("",!0)],6)):(m(),F(r,{key:0,type:"warning"},{default:d(()=>[P(w(e.t("choices_option_configured_incorrectly")),1)]),_:1}))}var tQ=H(QY,[["render",eQ],["__scopeId","data-v-3171edc1"]]),nQ=`<svg width="156" height="96" viewBox="0 0 156 96" fill="none" xmlns="http://www.w3.org/2000/svg">
	<rect x="54" y="36" width="70" height="6" rx="2" fill="var(--primary)" />
	<path
		d="M43.0742 33.75H34.9258C34.2695 33.75 33.75 34.2695 33.75 34.9258V43.0742C33.75 43.7305 34.2695 44.25 34.9258 44.25H43.0742C43.7305 44.25 44.25 43.7305 44.25 43.0742V34.9258C44.25 34.2695 43.7305 33.75 43.0742 33.75ZM43.0742 43.0742H34.9258V34.9258H43.0742V43.0742ZM42.5 37.25L41.6797 36.4297L37.8242 40.2578L36.3203 38.7539L35.5 39.6016L37.8242 41.9258L42.5 37.25Z"
		fill="var(--primary)" />
	<rect x="54" y="72" width="50" height="6" rx="2" fill="var(--primary)" />
	<path
		d="M43.0742 69.75H34.9258C34.2695 69.75 33.75 70.2695 33.75 70.9258V79.0742C33.75 79.7305 34.2695 80.25 34.9258 80.25H43.0742C43.7305 80.25 44.25 79.7305 44.25 79.0742V70.9258C44.25 70.2695 43.7305 69.75 43.0742 69.75ZM43.0742 79.0742H34.9258V70.9258H43.0742V79.0742ZM42.5 73.25L41.6797 72.4297L37.8242 76.2578L36.3203 74.7539L35.5 75.6016L37.8242 77.9258L42.5 73.25Z"
		fill="var(--primary)" />
	<rect x="54" y="18" width="50" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<path
		d="M43.0742 16.9258V25.0742H34.9258V16.9258H43.0742ZM43.0742 15.75H34.9258C34.2695 15.75 33.75 16.2695 33.75 16.9258V25.0742C33.75 25.7305 34.2695 26.25 34.9258 26.25H43.0742C43.7305 26.25 44.25 25.7305 44.25 25.0742V16.9258C44.25 16.2695 43.7305 15.75 43.0742 15.75Z"
		fill="var(--primary)" fill-opacity="0.25" />
	<rect x="54" y="54" width="60" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<path
		d="M43.0742 52.9258V61.0742H34.9258V52.9258H43.0742ZM43.0742 51.75H34.9258C34.2695 51.75 33.75 52.2695 33.75 52.9258V61.0742C33.75 61.7305 34.2695 62.25 34.9258 62.25H43.0742C43.7305 62.25 44.25 61.7305 44.25 61.0742V52.9258C44.25 52.2695 43.7305 51.75 43.0742 51.75Z"
		fill="var(--primary)" fill-opacity="0.25" />
</svg>
`,lQ=Ze({id:"select-multiple-checkbox",name:"$t:interfaces.select-multiple-checkbox.checkboxes",icon:"check_box",component:tQ,description:"$t:interfaces.select-multiple-checkbox.description",types:["json","csv"],group:"selection",preview:nQ,options:[{field:"choices",type:"json",name:"$t:choices",meta:{width:"full",interface:"list",options:{template:"{{ text }}",fields:[{field:"text",type:"string",name:"$t:text",meta:{width:"half",interface:"system-input-translated-string",options:{placeholder:"$t:interfaces.select-dropdown.choices_name_placeholder"}}},{field:"value",type:"string",name:"$t:value",meta:{width:"half",interface:"input",options:{font:"monospace",placeholder:"$t:interfaces.select-dropdown.choices_name_placeholder"}}}]}}},{field:"allowOther",name:"$t:interfaces.select-multiple-checkbox.allow_other",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:enable_custom_values"}},schema:{default_value:!1}},{field:"color",name:"$t:color",type:"string",meta:{width:"half",interface:"select-color"}},{field:"iconOn",name:"$t:icon_on",type:"string",meta:{width:"half",interface:"select-icon"},schema:{default_value:"check_box"}},{field:"iconOff",name:"$t:icon_off",type:"string",meta:{width:"half",interface:"select-icon"},schema:{default_value:"check_box_outline_blank"}},{field:"itemsShown",name:"$t:interfaces.select-multiple-checkbox.items_shown",type:"integer",meta:{width:"half",interface:"input"},schema:{default_value:8}}],recommendedDisplays:["labels"]}),oQ=Object.freeze(Object.defineProperty({__proto__:null,default:lQ},Symbol.toStringTag,{value:"Module"}));const aQ=Z({props:{value:{type:Array,default:()=>[]},disabled:{type:Boolean,default:!1},choices:{type:Array,default:()=>[]},valueCombining:{type:String,default:"all"}},emits:["input"],setup(){const{t:e}=ae(),t=D(""),n=D(!1),l=z.exports.debounce(u=>{o.value=u},250);he(t,l);const o=D("");return{search:t,t:e,searchDebounced:o,showSelectionOnly:n}}}),iQ={class:"select-multiple-checkbox-tree"},rQ={class:"search"},sQ={class:"footer"},dQ=P(" / ");function uQ(e,t,n,l,o,u){const r=c("v-icon"),i=c("v-input"),s=c("v-checkbox-tree");return m(),A("div",iQ,[$("div",rQ,[a(i,{modelValue:e.search,"onUpdate:modelValue":t[1]||(t[1]=p=>e.search=p),class:"input",type:"text",placeholder:e.t("search")},at({prepend:d(()=>[a(r,{name:"search"})]),_:2},[e.search?{name:"append",fn:d(()=>[a(r,{name:"clear",clickable:"",onClick:t[0]||(t[0]=p=>e.search="")})])}:void 0]),1032,["modelValue","placeholder"])]),a(s,{"model-value":e.value,search:e.searchDebounced,disabled:e.disabled,choices:e.choices,"value-combining":e.valueCombining,"show-selection-only":e.showSelectionOnly,"onUpdate:modelValue":t[2]||(t[2]=p=>e.$emit("input",p))},null,8,["model-value","search","disabled","choices","value-combining","show-selection-only"]),$("div",sQ,[$("span",{class:de({active:e.showSelectionOnly===!1}),onClick:t[3]||(t[3]=p=>e.showSelectionOnly=!1)},w(e.t("interfaces.select-multiple-checkbox-tree.show_all")),3),dQ,$("span",{class:de({active:e.showSelectionOnly===!0}),onClick:t[4]||(t[4]=p=>e.showSelectionOnly=!0)},w(e.t("interfaces.select-multiple-checkbox-tree.show_selected")),3)])])}var cQ=H(aQ,[["render",uQ],["__scopeId","data-v-4588d42a"]]),pQ=`<svg width="156" height="96" fill="none" xmlns="http://www.w3.org/2000/svg">
	<rect x="58.25" y="36" width="70" height="6" rx="2" fill="var(--primary)"/>
	<path d="M47.324 33.75h-8.148c-.657 0-1.176.52-1.176 1.176v8.148c0 .657.52 1.176 1.176 1.176h8.148c.657 0 1.176-.52 1.176-1.176v-8.148c0-.657-.52-1.176-1.176-1.176Zm0 9.324h-8.148v-8.148h8.148v8.148Zm-.574-5.824-.82-.82-3.856 3.828-1.504-1.504-.82.848 2.324 2.324 4.676-4.676Z" fill="var(--primary)"/>
	<rect x="58.25" y="72" width="50" height="6" rx="2" fill="var(--primary)"/>
	<path d="M47.324 69.75h-8.148c-.657 0-1.176.52-1.176 1.176v8.148c0 .657.52 1.176 1.176 1.176h8.148c.657 0 1.176-.52 1.176-1.176v-8.148c0-.657-.52-1.176-1.176-1.176Zm0 9.324h-8.148v-8.148h8.148v8.148Zm-.574-5.824-.82-.82-3.856 3.828-1.504-1.504-.82.848 2.324 2.324 4.676-4.676Z" fill="var(--primary)"/>
	<rect x="48.25" y="54" width="60" height="6" rx="2" fill="var(--primary)" fill-opacity=".25"/>
	<path d="M37.324 52.926v8.148h-8.148v-8.148h8.148Zm0-1.176h-8.148c-.656 0-1.176.52-1.176 1.176v8.148c0 .657.52 1.176 1.176 1.176h8.148c.657 0 1.176-.52 1.176-1.176v-8.148c0-.657-.52-1.176-1.176-1.176Z" fill="var(--primary)" fill-opacity=".25"/>
	<rect x="48.5" y="18.25" width="50" height="6" rx="2" fill="var(--primary)"/>
	<path d="M37.574 16h-8.148c-.656 0-1.176.52-1.176 1.176v8.148c0 .656.52 1.176 1.176 1.176h8.148c.657 0 1.176-.52 1.176-1.176v-8.148c0-.656-.52-1.176-1.176-1.176Zm0 9.324h-8.148v-8.148h8.148v8.148ZM37 19.5l-.82-.82-3.856 3.828-1.504-1.504-.82.848 2.324 2.324L37 19.5Z" fill="var(--primary)"/>
</svg>
`;const ba=[{field:"text",type:"string",name:"$t:text",meta:{width:"half",interface:"system-input-translated-string",options:{placeholder:"$t:interfaces.select-dropdown.choices_name_placeholder"}}},{field:"value",type:"string",name:"$t:value",meta:{width:"half",interface:"input",options:{font:"monospace",placeholder:"$t:interfaces.select-dropdown.choices_name_placeholder"}}}],Zs={field:"children",type:"json",name:"$t:children",meta:{width:"full",interface:"list",options:{fields:ba}}};function Js(e=0,t=3){return e<t?[...ba,Ie(ve({},Zs),{meta:Ie(ve({},Zs.meta),{options:{fields:Js(e+1)}})})]:ba}var mQ=Ze({id:"select-multiple-checkbox-tree",name:"$t:interfaces.select-multiple-checkbox-tree.name",icon:"account_tree",component:cQ,description:"$t:interfaces.select-multiple-checkbox-tree.description",types:["json","csv"],group:"selection",options:[{field:"choices",type:"json",name:"$t:choices",meta:{width:"full",interface:"list",options:{template:"{{ text }}",fields:Js()}}},{field:"valueCombining",type:"string",name:"$t:interfaces.select-multiple-checkbox-tree.value_combining",schema:{default_value:"all"},meta:{note:"$t:interfaces.select-multiple-checkbox-tree.value_combining_note",interface:"select-dropdown",options:{choices:[{text:"$t:all",value:"all"},{text:"$t:branch",value:"branch"},{text:"$t:leaf",value:"leaf"},{text:"$t:indeterminate",value:"indeterminate"},{text:"$t:exclusive",value:"exclusive"}]}}}],recommendedDisplays:["labels"],preview:pQ}),fQ=Object.freeze(Object.defineProperty({__proto__:null,default:mQ},Symbol.toStringTag,{value:"Module"}));const _Q=Z({props:{disabled:{type:Boolean,default:!1},value:{type:Array,default:null},choices:{type:Array,default:null},icon:{type:String,default:null},allowNone:{type:Boolean,default:!1},placeholder:{type:String,default:null},allowOther:{type:Boolean,default:!1}},emits:["input"],setup(e,{emit:t}){const{t:n}=ae();return{t:n,updateValue:l};function l(o){const u=z.exports.sortBy(o,r=>{const i=e.choices.findIndex(s=>r===s.value);return i!==-1?i:o.length});t("input",u)}}});function vQ(e,t,n,l,o,u){const r=c("v-notice"),i=c("v-icon"),s=c("v-select");return e.choices?(m(),F(s,{key:1,multiple:"","model-value":e.value,items:e.choices,disabled:e.disabled,"show-deselect":e.allowNone,placeholder:e.placeholder,"allow-other":e.allowOther,"close-on-content-click":!1,"onUpdate:modelValue":t[0]||(t[0]=p=>e.updateValue(p))},at({_:2},[e.icon?{name:"prepend",fn:d(()=>[a(i,{name:e.icon},null,8,["name"])])}:void 0]),1032,["model-value","items","disabled","show-deselect","placeholder","allow-other"])):(m(),F(r,{key:0,type:"warning"},{default:d(()=>[P(w(e.t("choices_option_configured_incorrectly")),1)]),_:1}))}var yQ=H(_Q,[["render",vQ]]),hQ=`<svg width="156" height="96" viewBox="0 0 156 96" fill="none" xmlns="http://www.w3.org/2000/svg">
	<rect x="18" y="15" width="120" height="66" rx="6" fill="var(--background-page)" class="glow" />
	<rect x="19" y="16" width="118" height="64" rx="5" stroke="var(--primary)" stroke-width="2" />
	<rect x="28" y="25" width="80" height="6" rx="2" fill="var(--primary)" />
	<rect x="28" y="45.1479" width="70" height="6" rx="2" fill="var(--primary)" />
	<rect x="28" y="55.2222" width="80" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="28" y="65.2959" width="90" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="28" y="35.0737" width="90" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
</svg>
`,gQ=Ze({id:"select-multiple-dropdown",name:"$t:interfaces.select-multiple-dropdown.select-multiple-dropdown",description:"$t:interfaces.select-multiple-dropdown.description",icon:"arrow_drop_down_circle",component:yQ,types:["json","csv"],group:"selection",preview:hQ,options:[{field:"choices",type:"json",name:"$t:choices",meta:{width:"full",interface:"list",options:{placeholder:"$t:interfaces.select-dropdown.choices_placeholder",template:"{{ text }}",fields:[{field:"text",type:"string",name:"$t:text",meta:{width:"half",interface:"system-input-translated-string",options:{placeholder:"$t:interfaces.select-dropdown.choices_name_placeholder"}}},{field:"value",type:"string",name:"$t:value",meta:{width:"half",interface:"input",options:{font:"monospace",placeholder:"$t:interfaces.select-dropdown.choices_value_placeholder"}}}]}}},{field:"allowOther",name:"$t:interfaces.select-dropdown.allow_other",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:interfaces.select-dropdown.allow_other_label"}},schema:{default_value:!1}},{field:"allowNone",name:"$t:interfaces.select-dropdown.allow_none",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:interfaces.select-dropdown.allow_none_label"}},schema:{default_value:!1}},{field:"placeholder",name:"$t:placeholder",type:"string",meta:{width:"half",interface:"system-input-translated-string",options:{placeholder:"$t:enter_a_placeholder"}}},{field:"icon",name:"$t:icon",type:"string",meta:{width:"half",interface:"select-icon"}}],recommendedDisplays:["labels"]}),bQ=Object.freeze(Object.defineProperty({__proto__:null,default:gQ},Symbol.toStringTag,{value:"Module"}));const wQ=Z({props:{disabled:{type:Boolean,default:!1},value:{type:[String,Number],default:null},choices:{type:Array,default:null},allowOther:{type:Boolean,default:!1},width:{type:String,default:null},iconOn:{type:String,default:"radio_button_checked"},iconOff:{type:String,default:"radio_button_unchecked"},color:{type:String,default:"var(--primary)"}},emits:["input"],setup(e,{emit:t}){const{t:n}=ae(),{choices:l,value:o}=ze(e),u=V(()=>{var f;if(l.value===null)return null;const p=l.value.reduce((_,v)=>(v.text.length>_.length&&(_=v.text),_),"").length;return((f=e.width)==null?void 0:f.startsWith("half"))?p<=10?"grid-2":"grid-1":p<=10?"grid-4":p>10&&p<=15?"grid-3":p>15&&p<=25?"grid-2":"grid-1"}),{otherValue:r,usesOtherValue:i}=ws(o,l,p=>t("input",p)),s=V(()=>r.value?r.value&&i.value===!0?e.iconOn:e.iconOff:"add");return{t:n,gridClass:u,otherValue:r,usesOtherValue:i,customIcon:s}}}),kQ=["placeholder","disabled"];function $Q(e,t,n,l,o,u){const r=c("v-notice"),i=c("v-radio"),s=c("v-icon");return e.choices?(m(),A("div",{key:1,class:de(["radio-buttons",e.gridClass]),style:Je({"--v-radio-color":e.color})},[(m(!0),A(se,null,Ve(e.choices,p=>(m(),F(i,{key:p.value,block:"",value:p.value,label:p.text,disabled:e.disabled,"icon-on":e.iconOn,"icon-off":e.iconOff,"model-value":e.value,"onUpdate:modelValue":t[0]||(t[0]=f=>e.$emit("input",f))},null,8,["value","label","disabled","icon-on","icon-off","model-value"]))),128)),e.allowOther?(m(),A("div",{key:0,class:de(["custom",{active:!e.disabled&&e.usesOtherValue,"has-value":!e.disabled&&e.otherValue,disabled:e.disabled}])},[a(s,{disabled:e.disabled,name:e.customIcon,clickable:"",onClick:t[1]||(t[1]=p=>e.$emit("input",e.otherValue))},null,8,["disabled","name"]),ie($("input",{"onUpdate:modelValue":t[2]||(t[2]=p=>e.otherValue=p),placeholder:e.t("other"),disabled:e.disabled,onFocus:t[3]||(t[3]=p=>e.$emit("input",e.otherValue))},null,40,kQ),[[po,e.otherValue]])],2)):M("",!0)],6)):(m(),F(r,{key:0,type:"warning"},{default:d(()=>[P(w(e.t("choices_option_configured_incorrectly")),1)]),_:1}))}var CQ=H(wQ,[["render",$Q],["__scopeId","data-v-ce2cc032"]]),SQ=`<svg width="156" height="96" viewBox="0 0 156 96" fill="none" xmlns="http://www.w3.org/2000/svg">
	<rect x="54" y="36" width="70" height="6" rx="2" fill="var(--primary)" />
	<path
		d="M39 33.1758C35.7734 33.1758 33.1758 35.7734 33.1758 39C33.1758 42.2266 35.7734 44.8242 39 44.8242C42.2266 44.8242 44.8242 42.2266 44.8242 39C44.8242 35.7734 42.2266 33.1758 39 33.1758ZM39 43.6758C36.4297 43.6758 34.3242 41.5703 34.3242 39C34.3242 36.4297 36.4297 34.3242 39 34.3242C41.5703 34.3242 43.6758 36.4297 43.6758 39C43.6758 41.5703 41.5703 43.6758 39 43.6758ZM36.0742 39C36.0742 37.3867 37.3867 36.0742 39 36.0742C40.6133 36.0742 41.9258 37.3867 41.9258 39C41.9258 40.6133 40.6133 41.9258 39 41.9258C37.3867 41.9258 36.0742 40.6133 36.0742 39Z"
		fill="var(--primary)" />
	<rect x="54" y="72" width="50" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<path
		d="M39 69.1758C35.7734 69.1758 33.1758 71.7734 33.1758 75C33.1758 78.2266 35.7734 80.8242 39 80.8242C42.2266 80.8242 44.8242 78.2266 44.8242 75C44.8242 71.7734 42.2266 69.1758 39 69.1758ZM39 79.6758C36.4297 79.6758 34.3242 77.5703 34.3242 75C34.3242 72.4297 36.4297 70.3242 39 70.3242C41.5703 70.3242 43.6758 72.4297 43.6758 75C43.6758 77.5703 41.5703 79.6758 39 79.6758Z"
		fill="var(--primary)" fill-opacity="0.25" />
	<rect x="54" y="18" width="50" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<path
		d="M39 15.1758C35.7734 15.1758 33.1758 17.7734 33.1758 21C33.1758 24.2266 35.7734 26.8242 39 26.8242C42.2266 26.8242 44.8242 24.2266 44.8242 21C44.8242 17.7734 42.2266 15.1758 39 15.1758ZM39 25.6758C36.4297 25.6758 34.3242 23.5703 34.3242 21C34.3242 18.4297 36.4297 16.3242 39 16.3242C41.5703 16.3242 43.6758 18.4297 43.6758 21C43.6758 23.5703 41.5703 25.6758 39 25.6758Z"
		fill="var(--primary)" fill-opacity="0.25" />
	<rect x="54" y="54" width="60" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<path
		d="M39 51.1758C35.7734 51.1758 33.1758 53.7734 33.1758 57C33.1758 60.2266 35.7734 62.8242 39 62.8242C42.2266 62.8242 44.8242 60.2266 44.8242 57C44.8242 53.7734 42.2266 51.1758 39 51.1758ZM39 61.6758C36.4297 61.6758 34.3242 59.5703 34.3242 57C34.3242 54.4297 36.4297 52.3242 39 52.3242C41.5703 52.3242 43.6758 54.4297 43.6758 57C43.6758 59.5703 41.5703 61.6758 39 61.6758Z"
		fill="var(--primary)" fill-opacity="0.25" />
</svg>
`,FQ=Ze({id:"select-radio",name:"$t:interfaces.select-radio.radio-buttons",description:"$t:interfaces.select-radio.description",icon:"radio_button_checked",component:CQ,types:["string","integer","float","bigInteger"],recommendedDisplays:["badge"],group:"selection",preview:SQ,options:({field:e})=>[{field:"choices",type:"json",name:"$t:choices",meta:{width:"full",interface:"list",options:{template:"{{ text }}",fields:[{field:"text",type:"string",name:"$t:text",meta:{width:"half",interface:"system-input-translated-string"}},{field:"value",type:e.type,name:"$t:value",meta:{width:"half",interface:"input",options:{font:"monospace"}}}]}}},{field:"iconOn",name:"$t:icon_on",type:"string",meta:{width:"half",interface:"select-icon"},schema:{default_value:"radio_button_checked"}},{field:"iconOff",name:"$t:icon_off",type:"string",meta:{width:"half",interface:"select-icon"},schema:{default_value:"radio_button_unchecked"}},{field:"color",name:"$t:color",type:"string",meta:{width:"half",interface:"select-color"}},{field:"allowOther",name:"$t:interfaces.select-dropdown.allow_other",type:"string",meta:{width:"half",interface:"boolean",options:{label:"$t:interfaces.select-dropdown.allow_other_label"}},schema:{default_value:!1}}]}),VQ=Object.freeze(Object.defineProperty({__proto__:null,default:FQ},Symbol.toStringTag,{value:"Module"}));const AQ=Z({props:{value:{type:Number,default:null},disabled:{type:Boolean,default:!1},minValue:{type:Number,default:0},maxValue:{type:Number,default:100},stepInterval:{type:Number,default:1},alwaysShowValue:{type:Boolean,default:!1}},emits:["input"]});function IQ(e,t,n,l,o,u){const r=c("v-slider");return m(),F(r,{"model-value":e.value,disabled:e.disabled,min:e.minValue,max:e.maxValue,step:e.stepInterval,"always-show-value":e.alwaysShowValue,"show-thumb-label":"","show-ticks":"","onUpdate:modelValue":t[0]||(t[0]=i=>e.$emit("input",i))},null,8,["model-value","disabled","min","max","step","always-show-value"])}var EQ=H(AQ,[["render",IQ],["__scopeId","data-v-26b36e86"]]),DQ=`<svg width="156" height="96" fill="none" xmlns="http://www.w3.org/2000/svg">
	<rect opacity=".25" x="103" y="52" width="6" height="6" rx="2" fill="var(--primary)"/>
	<rect opacity=".25" x="19" y="52" width="6" height="6" rx="2" fill="var(--primary)"/>
	<rect opacity=".25" x="131" y="52" width="6" height="6" rx="2" fill="var(--primary)"/>
	<rect opacity=".25" x="47" y="52" width="6" height="6" rx="2" fill="var(--primary)"/>
	<rect opacity=".25" x="75" y="52" width="6" height="6" rx="2" fill="var(--primary)"/>
	<rect opacity=".25" x="18" y="42" width="120" height="2" rx="1" fill="var(--primary)"/>
	<rect x="18" y="42" width="81" height="2" rx="1" fill="var(--primary)"/>
	<circle cx="106" cy="43" r="5" fill="var(--primary)"/>
</svg>
`,PQ=Ze({id:"slider",name:"$t:interfaces.slider.slider",description:"$t:interfaces.slider.description",icon:"linear_scale",component:EQ,types:["integer","decimal","float","bigInteger"],group:"other",options:[{field:"minValue",name:"$t:interfaces.input.minimum_value",type:"integer",meta:{width:"half",interface:"input"}},{field:"maxValue",name:"$t:interfaces.input.maximum_value",type:"integer",meta:{width:"half",interface:"input"}},{field:"stepInterval",name:"$t:interfaces.input.step_interval",type:"integer",meta:{width:"half",interface:"input"}},{field:"alwaysShowValue",name:"$t:interfaces.slider.always_show_value",type:"boolean",meta:{width:"half",interface:"boolean"}}],preview:DQ}),TQ=Object.freeze(Object.defineProperty({__proto__:null,default:PQ},Symbol.toStringTag,{value:"Module"}));const OQ=Z({props:{disabled:{type:Boolean,default:!1},value:{type:Array,default:null},placeholder:{type:String,default:null},whitespace:{type:String,default:null},capitalization:{type:String,default:null},alphabetize:{type:Boolean,default:!1},iconLeft:{type:String,default:null},iconRight:{type:String,default:"local_offer"},presets:{type:Array,default:null},allowCustom:{type:Boolean,default:!0}},emits:["input"],setup(e,{emit:t}){const{t:n}=ae(),l=V(()=>e.presets!==null?i(e.presets):[]),o=D(i(e.value||[]));he(()=>e.value,y=>{Array.isArray(y)&&(o.value=i(y)),y===null&&(o.value=[])});const u=V(()=>{let y=i(o.value);return e.allowCustom||(y=y.filter(g=>l.value.includes(g))),y}),r=V(()=>u.value.filter(y=>!l.value.includes(y)));function i(y){return y=y.map(g=>{g=g.trim(),e.capitalization==="uppercase"&&(g=g.toUpperCase()),e.capitalization==="lowercase"&&(g=g.toLowerCase());const h=e.whitespace===null?" ":e.whitespace;return e.capitalization==="auto-format"&&(g=kt(g,new RegExp(h))),g=g.replace(/ +/g,h),g}),e.alphabetize&&(y=y.concat().sort()),y=[...new Set(y)],y}return{t:n,onInput:s,addTag:f,removeTag:_,toggleTag:p,presetVals:l,customVals:r,selectedVals:u};function s(y){y.target&&(y.key==="Enter"||y.key===",")&&(y.preventDefault(),f(y.target.value),y.target.value="")}function p(y){u.value.includes(y)?_(y):f(y)}function f(y){!y||y===""||(y=y.trim(),o.value.push(y),v())}function _(y){o.value=o.value.filter(g=>g!==y),v()}function v(){t("input",u.value)}}}),LQ={class:"interface-tags"},jQ={key:1,class:"tags"},RQ={key:0,class:"presets tag-container"},MQ={key:1,class:"custom tag-container"};function UQ(e,t,n,l,o,u){const r=c("v-icon"),i=c("v-input"),s=c("v-chip");return m(),A("div",LQ,[e.allowCustom?(m(),F(i,{key:0,placeholder:e.placeholder||e.t("interfaces.tags.add_tags"),disabled:e.disabled,onKeydown:e.onInput},at({append:d(()=>[a(r,{name:e.iconRight},null,8,["name"])]),_:2},[e.iconLeft?{name:"prepend",fn:d(()=>[a(r,{name:e.iconLeft},null,8,["name"])])}:void 0]),1032,["placeholder","disabled","onKeydown"])):M("",!0),e.presetVals.length>0||e.customVals.length>0?(m(),A("div",jQ,[e.presetVals.length>0?(m(),A("span",RQ,[(m(!0),A(se,null,Ve(e.presetVals,p=>(m(),F(s,{key:p,class:de(["tag",{inactive:!e.selectedVals.includes(p)}]),disabled:e.disabled,small:"",label:"",clickable:"",onClick:f=>e.toggleTag(p)},{default:d(()=>[P(w(p),1)]),_:2},1032,["class","disabled","onClick"]))),128))])):M("",!0),e.customVals.length>0&&e.allowCustom?(m(),A("span",MQ,[e.presetVals.length>0?(m(),F(r,{key:0,class:"custom-tags-delimiter",name:"chevron_right"})):M("",!0),(m(!0),A(se,null,Ve(e.customVals,p=>(m(),F(s,{key:p,disabled:e.disabled,class:"tag",small:"",label:"",clickable:"",onClick:f=>e.removeTag(p)},{default:d(()=>[P(w(p),1)]),_:2},1032,["disabled","onClick"]))),128))])):M("",!0)])):M("",!0)])}var NQ=H(OQ,[["render",UQ],["__scopeId","data-v-343a0684"]]),BQ=`<svg width="156" height="96" fill="none" xmlns="http://www.w3.org/2000/svg">
	<rect x="18" y="23" width="120" height="26" rx="6" fill="var(--background-page)" class="glow"/>
	<rect x="19" y="24" width="118" height="24" rx="5" stroke="var(--primary)" stroke-width="2"/>
	<rect x="28" y="33" width="30" height="6" rx="2" fill="var(--primary)" fill-opacity=".25"/>
	<rect x="18" y="57" width="30" height="6" rx="2" fill="var(--primary)"/>
	<rect x="66" y="57" width="40" height="6" rx="2" fill="var(--primary)"/>
	<rect x="42" y="67" width="30" height="6" rx="2" fill="var(--primary)"/>
	<rect x="52" y="57" width="10" height="6" rx="2" fill="var(--primary)"/>
	<rect x="110" y="57" width="20" height="6" rx="2" fill="var(--primary)"/>
	<rect x="76" y="67" width="10" height="6" rx="2" fill="var(--primary)"/>
	<rect x="90" y="67" width="20" height="6" rx="2" fill="var(--primary)"/>
	<rect x="18" y="67" width="20" height="6" rx="2" fill="var(--primary)"/>
</svg>
`,qQ=Ze({id:"tags",name:"$t:interfaces.tags.tags",description:"$t:interfaces.tags.description",icon:"local_offer",component:NQ,types:["json","csv"],group:"standard",options:[{field:"presets",name:"$t:presets",type:"string",meta:{width:"full",interface:"tags"}},{field:"placeholder",name:"$t:placeholder",type:"string",meta:{width:"full",interface:"system-input-translated-string",options:{placeholder:"$t:enter_a_placeholder"}}},{field:"alphabetize",name:"$t:interfaces.tags.alphabetize",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:interfaces.tags.alphabetize_label"}},schema:{default_value:!1}},{field:"allowCustom",name:"$t:interfaces.select-dropdown.allow_other",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:interfaces.select-dropdown.allow_other_label"}},schema:{default_value:!0}},{field:"whitespace",name:"$t:interfaces.tags.whitespace",type:"string",meta:{width:"half",interface:"select-dropdown",options:{allowNone:!0,choices:[{text:"$t:interfaces.tags.hyphen",value:"-"},{text:"$t:interfaces.tags.underscore",value:"_"},{text:"$t:interfaces.tags.remove",value:""}]}}},{field:"capitalization",name:"$t:interfaces.tags.capitalization",type:"string",meta:{width:"half",interface:"select-dropdown",options:{allowNone:!0,choices:[{text:"$t:interfaces.tags.uppercase",value:"uppercase"},{text:"$t:interfaces.tags.lowercase",value:"lowercase"},{text:"$t:interfaces.tags.auto_formatter",value:"auto-format"}]}}},{field:"iconLeft",name:"$t:icon_left",type:"string",meta:{width:"half",interface:"select-icon"}},{field:"iconRight",name:"$t:icon_right",type:"string",meta:{width:"half",interface:"select-icon"}}],recommendedDisplays:["labels"],preview:BQ}),zQ=Object.freeze(Object.defineProperty({__proto__:null,default:qQ},Symbol.toStringTag,{value:"Module"}));const KQ=Z({components:{},props:{modelValue:{type:String,default:null},items:{type:Array,default:()=>[]},secondary:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e){return{displayValue:V(()=>{var l;const n=e.items.find(o=>o.value===e.modelValue);return(l=n==null?void 0:n.text)!=null?l:e.modelValue})}}}),WQ=["onClick"],HQ={class:"display-value"},GQ={class:"append-slot"},ZQ={class:"start"},JQ={class:"end"};function XQ(e,t,n,l,o,u){const r=c("v-icon"),i=c("v-progress-linear"),s=c("v-list-item"),p=c("v-list"),f=c("v-menu"),_=Fe("tooltip");return m(),F(f,{attached:"",class:de(["language-select",{secondary:e.secondary}])},{activator:d(({toggle:v,active:y})=>[$("button",{class:"toggle",onClick:v},[a(r,{class:"translate",name:"translate"}),$("span",HQ,w(e.displayValue),1),a(r,{name:"expand_more",class:de({active:y})},null,8,["class"]),$("span",GQ,[ke(e.$slots,"append",{},void 0,!0)])],8,WQ)]),default:d(()=>[a(p,null,{default:d(()=>[(m(!0),A(se,null,Ve(e.items,(v,y)=>(m(),F(s,{key:y,onClick:g=>e.$emit("update:modelValue",v.value)},{default:d(()=>[$("div",ZQ,[$("div",{class:de(["dot",{show:v.edited}])},null,2),P(" "+w(v.text),1)]),$("div",JQ,[ie(a(i,{value:v.progress,rounded:"",colorful:""},null,8,["value"]),[[_,`${Math.round(v.current/v.max*100)}%`]])])]),_:2},1032,["onClick"]))),128))]),_:1})]),_:3},8,["class"])}var Xs=H(KQ,[["render",XQ],["__scopeId","data-v-3f27fd1a"]]);const YQ=Z({props:{collection:null,field:null,primaryKey:null,languageField:{default:()=>null},value:{default:()=>[]},autofocus:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},emits:["input"],setup(e,{emit:t}){const n=e,l=V({get:()=>n.value,set:G=>{t("input",G)}}),{collection:o,field:u,primaryKey:r}=ze(n),{relationInfo:i}=ma(o,u),{t:s}=ae(),p=Me(),f=Ye(),{width:_}=Us(),v=D(!1),y=D(),g=D();he(v,G=>{const Q=h.value;G&&g.value===y.value&&(g.value=Q[0].value===y.value?Q[1].value:Q[0].value)});const{languageOptions:h}=W(),b=V(()=>i.value?p.getFieldsForCollection(i.value.junctionCollection.collection):[]),S=D({fields:["*"],limit:-1,page:1}),{create:I,update:E,displayItems:R,loading:O,fetchedItems:L}=el(l,S,i,r),q=V(()=>B(R.value,y.value)),T=V(()=>B(R.value,g.value)),j=V(()=>B(L.value,y.value)),U=V(()=>B(L.value,g.value));function B(G,Q){var le,te;const X=(le=i.value)==null?void 0:le.junctionField.field,ee=(te=i.value)==null?void 0:te.relatedPrimaryKeyField.field;if(!(!X||!ee||!Q))return G.find(re=>{var ye;return((ye=re==null?void 0:re[X])==null?void 0:ye[ee])===Q})}function K(G,Q){const X=i.value;if(!X)return;const ee=B(R.value,Q);ee?E(Ie(ve({},G),{$type:ee==null?void 0:ee.$type,$index:ee==null?void 0:ee.$index})):I(Ie(ve({},G),{[X.junctionField.field]:{[X.relatedPrimaryKeyField.field]:Q}}))}const J=V(()=>_.value>960&&h.value.length>1),Y=V(()=>J.value&&v.value);function W(){const G=D([]),Q=D(!1),X=D(null);return he(i,le,{immediate:!0}),{languageOptions:V(()=>{var fe;if(!((fe=i.value)==null?void 0:fe.junctionField.field))return[];const re=b.value.filter(ue=>{var _e;return ue.type!=="alias"&&((_e=ue.meta)==null?void 0:_e.hidden)===!1&&ue.meta.readonly===!1}),ye=re.length;return G.value.map(ue=>{var x;const _e=i.value;if(!_e)return ue;const ce=ue[_e.relatedPrimaryKeyField.field],oe=B(R.value,ce),ne=re.filter(pe=>en((oe!=null?oe:{})[pe.field])).length;return{text:ue[(x=n.languageField)!=null?x:i.value.relatedPrimaryKeyField.field],value:ce,edited:(oe==null?void 0:oe.$type)!==void 0,progress:Math.round(ne/ye*100),max:ye,current:ne}})}),loading:Q,error:X};async function le(){var ye,fe,ue,_e;if(!i.value)return;const te=new Set;n.languageField!==null&&te.add(n.languageField);const re=i.value.relatedPrimaryKeyField.field;te.add(re),Q.value=!0;try{const ce=await me.get(`/items/${i.value.relatedCollection.collection}`,{params:{fields:Array.from(te),limit:-1,sort:(ye=n.languageField)!=null?ye:re}});if(G.value=ce.data.data?Bn(ce.data.data):[],!y.value){const oe=(fe=G.value.find(ne=>f.currentUser&&"language"in f.currentUser&&ne[re]===f.currentUser.language))==null?void 0:fe[re];y.value=oe||((ue=G.value[0])==null?void 0:ue[re])}g.value||(g.value=(_e=G.value[1])==null?void 0:_e[re])}catch(ce){Pe(ce)}finally{Q.value=!1}}}return(G,Q)=>{var re,ye,fe,ue,_e,ce,oe,ne;const X=c("v-icon"),ee=c("v-form"),le=c("v-divider"),te=Fe("tooltip");return m(),A("div",{class:de(["translations",{split:C(Y)}])},[$("div",{class:de(["primary",C(Y)?"half":"full"])},[a(Xs,{modelValue:y.value,"onUpdate:modelValue":Q[1]||(Q[1]=x=>y.value=x),items:C(h)},{append:d(()=>[C(J)&&!C(Y)?ie((m(),F(X,{key:0,name:"flip",clickable:"",onClick:Q[0]||(Q[0]=Te(x=>v.value=!0,["stop"]))},null,512)),[[te,C(s)("interfaces.translations.toggle_split_view")]]):M("",!0)]),_:1},8,["modelValue","items"]),a(ee,{"primary-key":((re=C(i))==null?void 0:re.junctionPrimaryKeyField.field)?(fe=C(j))==null?void 0:fe[(ye=C(i))==null?void 0:ye.junctionPrimaryKeyField.field]:null,disabled:e.disabled,loading:C(O),fields:C(b),"model-value":C(q),"initial-values":C(j),badge:(ue=C(h).find(x=>x.value===y.value))==null?void 0:ue.text,autofocus:e.autofocus,"onUpdate:modelValue":Q[2]||(Q[2]=x=>K(x,y.value))},null,8,["primary-key","disabled","loading","fields","model-value","initial-values","badge","autofocus"]),a(le)],2),C(Y)?(m(),A("div",{key:0,class:de(["secondary",C(Y)?"half":"full"])},[a(Xs,{modelValue:g.value,"onUpdate:modelValue":Q[4]||(Q[4]=x=>g.value=x),items:C(h),secondary:""},{append:d(()=>[ie(a(X,{name:"close",clickable:"",onClick:Q[3]||(Q[3]=Te(x=>v.value=!v.value,["stop"]))},null,512),[[te,C(s)("interfaces.translations.toggle_split_view")]])]),_:1},8,["modelValue","items"]),a(ee,{"primary-key":((_e=C(i))==null?void 0:_e.junctionPrimaryKeyField.field)?(oe=C(U))==null?void 0:oe[(ce=C(i))==null?void 0:ce.junctionPrimaryKeyField.field]:null,disabled:e.disabled,loading:C(O),"initial-values":C(U),fields:C(b),badge:(ne=C(h).find(x=>x.value===g.value))==null?void 0:ne.text,"model-value":C(T),"onUpdate:modelValue":Q[5]||(Q[5]=x=>K(x,g.value))},null,8,["primary-key","disabled","loading","initial-values","fields","badge","model-value"]),a(le)],2)):M("",!0)],2)}}});var QQ=H(YQ,[["__scopeId","data-v-2541f468"]]),xQ=`<svg width="156" height="96" fill="none" xmlns="http://www.w3.org/2000/svg">
	<rect x="18" y="18" width="120" height="26" rx="6" fill="var(--background-page)" class="glow"/>
	<rect x="19" y="19" width="118" height="24" rx="5" stroke="var(--primary)" stroke-width="2"/>
	<rect x="28" y="28" width="50" height="6" rx="2" fill="var(--primary)" fill-opacity=".25"/>
	<rect x="82" y="28" width="20" height="6" rx="2" fill="var(--primary)" fill-opacity=".25"/>
	<rect opacity=".25" x="19" y="53" width="118" height="24" rx="5" fill="var(--background-page)" stroke="var(--primary)" stroke-width="2"/>
	<rect x="28" y="62" width="20" height="6" rx="2" fill="var(--primary)" fill-opacity=".25"/>
	<rect x="52" y="62" width="40" height="6" rx="2" fill="var(--primary)" fill-opacity=".25"/>
	<path d="m124.52 32.777-1.504-1.449.027-.027a9.996 9.996 0 0 0 2.16-3.801h1.723v-1.176h-4.102v-1.148h-1.148v1.148h-4.102V27.5h6.535c-.41 1.121-1.011 2.188-1.859 3.117a9.14 9.14 0 0 1-1.34-1.941h-1.176a10.89 10.89 0 0 0 1.75 2.652l-2.98 2.926.82.82 2.926-2.898 1.805 1.804.465-1.203Zm3.281-2.953h-1.176l-2.625 7h1.176l.656-1.75h2.762l.656 1.75h1.176l-2.625-7Zm-1.531 4.102.929-2.543.957 2.543h-1.886Z" fill="var(--primary)"/>
	<path opacity=".25" d="m124.52 66.777-1.504-1.449.027-.027a9.996 9.996 0 0 0 2.16-3.801h1.723v-1.176h-4.102v-1.148h-1.148v1.148h-4.102V61.5h6.535c-.41 1.121-1.011 2.188-1.859 3.117a9.14 9.14 0 0 1-1.34-1.941h-1.176a10.89 10.89 0 0 0 1.75 2.652l-2.98 2.926.82.82 2.926-2.898 1.805 1.805.465-1.204Zm3.281-2.953h-1.176l-2.625 7h1.176l.656-1.75h2.762l.656 1.75h1.176l-2.625-7Zm-1.531 4.102.929-2.543.957 2.543h-1.886Z" fill="var(--primary)"/>
</svg>
`,ex=Ze({id:"translations",name:"$t:translations",icon:"translate",types:["alias"],localTypes:["translations"],group:"relational",relational:!0,component:QQ,options:({relations:e})=>{var o;const t=Me(),n=(o=e.m2o)==null?void 0:o.related_collection;let l=[];return n&&(l=t.getFieldsForCollection(n).map(u=>({text:u.name,value:u.field}))),[{field:"languageField",type:"string",name:"$t:interfaces.translations.language_field",meta:{interface:"select-dropdown",options:{placeholder:"$t:primary_key",choices:l}}}]},preview:xQ}),tx=Object.freeze(Object.defineProperty({__proto__:null,default:ex},Symbol.toStringTag,{value:"Module"}));const nx=Z({props:{value:{type:String,default:null},disabled:{type:Boolean,default:!1},includeSystem:{type:Boolean,default:!1}},emits:["input"],setup(e){const{t}=ae(),n=Xe(),l=V(()=>[...n.collections.filter(u=>u.collection.startsWith("directus_")===!1),...e.includeSystem?n.crudSafeSystemCollections:[]]);return{items:V(()=>l.value.map(u=>({text:u.name,value:u.collection}))),t}}});function lx(e,t,n,l,o,u){const r=c("v-select");return m(),F(r,{"model-value":e.value,disabled:e.disabled,items:e.items,placeholder:e.t("select_a_collection"),"onUpdate:modelValue":t[0]||(t[0]=i=>e.$emit("input",i))},null,8,["model-value","disabled","items","placeholder"])}var ox=H(nx,[["render",lx]]),ax=Ze({id:"system-collection",name:"$t:interfaces.system-collection.collection",description:"$t:interfaces.system-collection.description",icon:"featured_play_list",component:ox,types:["string"],options:[{field:"includeSystem",name:"$t:system",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:interfaces.system-collection.include_system_collections"}},schema:{default_value:!1}}],system:!0,recommendedDisplays:["collection"]}),ix=Object.freeze(Object.defineProperty({__proto__:null,default:ax},Symbol.toStringTag,{value:"Module"}));const rx=Z({props:{value:{type:Array,default:null},disabled:{type:Boolean,default:!1},includeSystem:{type:Boolean,default:!1}},emits:["input"],setup(e){const{t}=ae(),n=Xe(),l=V(()=>e.includeSystem?n.collections:n.collections.filter(u=>u.collection.startsWith("directus_")===!1)),o=V(()=>l.value.map(u=>({text:u.name,value:u.collection})));return{t,items:o}}});function sx(e,t,n,l,o,u){const r=c("v-notice"),i=c("interface-select-multiple-checkbox");return e.items.length===0?(m(),F(r,{key:0},{default:d(()=>[P(w(e.t("no_collections")),1)]),_:1})):(m(),F(i,{key:1,choices:e.items,value:e.value,disabled:e.disabled,onInput:t[0]||(t[0]=s=>e.$emit("input",s))},null,8,["choices","value","disabled"]))}var dx=H(rx,[["render",sx]]),ux=Ze({id:"system-collections",name:"$t:interfaces.system-collections.collections",description:"$t:interfaces.system-collections.description",icon:"featured_play_list",component:dx,types:["json","csv"],options:[{field:"includeSystem",name:"$t:system",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:interfaces.system-collections.include_system_collections"}},schema:{default_value:!1}}],system:!0,recommendedDisplays:["labels"]}),cx=Object.freeze(Object.defineProperty({__proto__:null,default:ux},Symbol.toStringTag,{value:"Module"}));const px=Z({props:{disabled:{type:Boolean,default:!1},value:{type:String,default:null},collectionField:{type:String,default:null},collectionName:{type:String,default:null}},emits:["input"],setup(e){const{t}=ae(),n=Xe(),l=vt("values",D({})),o=V(()=>{if(!e.collectionField)return e.collectionName?e.collectionName:null;const u=l.value[e.collectionField];return!!n.collections.find(i=>i.collection===u)===!1?null:u});return{t,collection:o}}}),mx={class:"system-display-template"};function fx(e,t,n,l,o,u){const r=c("v-notice"),i=c("v-field-template");return m(),A("div",mx,[e.collection===null?(m(),F(r,{key:0,type:"info"},{default:d(()=>[P(w(e.t("interfaces.system-display-template.select_a_collection")),1)]),_:1})):(m(),F(i,{key:1,collection:e.collection,"model-value":e.value,disabled:e.disabled,"onUpdate:modelValue":t[0]||(t[0]=s=>e.$emit("input",s))},null,8,["collection","model-value","disabled"]))])}var _x=H(px,[["render",fx]]),vx=Ze({id:"system-display-template",name:"$t:interfaces.system-display-template.display-template",description:"$t:interfaces.system-display-template.description",icon:"arrow_drop_down_circle",component:_x,types:["string"],system:!0,options:[{field:"collectionField",name:"$t:interfaces.system-display-template.collection_field",type:"string",meta:{width:"full",interface:"input"},schema:{default_value:null}}]}),yx=Object.freeze(Object.defineProperty({__proto__:null,default:vx},Symbol.toStringTag,{value:"Module"}));const hx=Z({props:{collectionField:{type:String,default:null},collection:{type:String,default:null},typeAllowList:{type:Array,default:()=>[]},value:{type:String,default:null},disabled:{type:Boolean,default:!1},placeholder:{type:String,default:null},allowNone:{type:Boolean,default:!1},allowPrimaryKey:{type:Boolean,default:!1},allowForeignKeys:{type:Boolean,default:!0}},emits:["input"],setup(e,{emit:t}){const{t:n}=ae(),l=Me(),o=vt("values",D({})),u=V(()=>o.value[e.collectionField]||e.collection),r=V(()=>!e.collectionField&&!e.collection?[]:l.getFieldsForCollection(u.value));he(u,(s,p)=>{p!==null&&s!==p&&t("input",null)});const i=V(()=>r.value.map(s=>{var f,_;let p=!1;return e.allowPrimaryKey===!1&&((f=s==null?void 0:s.schema)==null?void 0:f.is_primary_key)===!0&&(p=!0),e.allowForeignKeys===!1&&((_=s==null?void 0:s.schema)==null?void 0:_.foreign_key_table)&&(p=!0),e.typeAllowList.length>0&&e.typeAllowList.includes(s.type)===!1&&(p=!0),{text:s.name,value:s.field,disabled:p}}));return{t:n,selectItems:i,values:o,fields:r}}});function gx(e,t,n,l,o,u){const r=c("v-notice"),i=c("v-select");return!e.collectionField&&!e.collection?(m(),F(r,{key:0,type:"warning"},{default:d(()=>[P(w(e.t("collection_field_not_setup")),1)]),_:1})):e.selectItems.length===0?(m(),F(r,{key:1,type:"warning"},{default:d(()=>[P(w(e.t("select_a_collection")),1)]),_:1})):(m(),F(i,{key:2,"show-deselect":e.allowNone,"model-value":e.value,disabled:e.disabled,items:e.selectItems,placeholder:e.placeholder||e.t("select_a_field"),"onUpdate:modelValue":t[0]||(t[0]=s=>e.$emit("input",s))},null,8,["show-deselect","model-value","disabled","items","placeholder"]))}var bx=H(hx,[["render",gx]]),wx=Ze({id:"system-field",name:"$t:field",icon:"box",component:bx,types:["string"],options:[],system:!0}),kx=Object.freeze(Object.defineProperty({__proto__:null,default:wx},Symbol.toStringTag,{value:"Module"}));const $x=Z({props:{collectionField:{type:String,default:null},collection:{type:String,default:null},value:{type:Array,default:null},disabled:{type:Boolean,default:!1},placeholder:{type:String,default:null},allowNone:{type:Boolean,default:!1}},emits:["input"],setup(e){const{t}=ae(),n=vt("values",D({})),l=V(()=>n.value[e.collectionField]||e.collection),{treeList:o,loadFieldRelations:u}=sa(l);return{t,values:n,treeList:o,chosenCollection:l,loadFieldRelations:u}}}),Cx={key:2,class:"system-field-tree"};function Sx(e,t,n,l,o,u){const r=c("v-notice"),i=c("v-checkbox-tree");return!e.collectionField&&!e.collection?(m(),F(r,{key:0,type:"warning"},{default:d(()=>[P(w(e.t("collection_field_not_setup")),1)]),_:1})):e.chosenCollection?(m(),A("div",Cx,[a(i,{"model-value":e.value,disabled:e.disabled,choices:e.treeList,"item-text":"name","item-value":"key","value-combining":"exclusive","onUpdate:modelValue":t[0]||(t[0]=s=>e.$emit("input",s)),onGroupToggle:t[1]||(t[1]=s=>e.loadFieldRelations(s.value))},null,8,["model-value","disabled","choices"])])):(m(),F(r,{key:1,type:"warning"},{default:d(()=>[P(w(e.t("select_a_collection")),1)]),_:1}))}var Fx=H($x,[["render",Sx],["__scopeId","data-v-1bd9310a"]]),Vx=Ze({id:"system-field-tree",name:"$t:field",icon:"box",component:Fx,types:["string"],options:[],system:!0}),Ax=Object.freeze(Object.defineProperty({__proto__:null,default:Vx},Symbol.toStringTag,{value:"Module"}));const Ix=e=>(xe("data-v-17e18006"),e=e(),et(),e),Ex={class:"name"},Dx=Ix(()=>$("div",{class:"spacer"},null,-1)),Px=["onClick"],Tx=Z({props:{collectionName:null,value:{default:()=>null}},emits:["input"],setup(e,{emit:t}){const n=e,l=Me(),o=V({get(){var p,f;return(f=(p=n.value)==null?void 0:p.map(_=>Ie(ve({key:_},l.getField(n.collectionName,_)),{displayName:s(_)})))!=null?f:[];function s(_){const v=_.split(".");return v.map((g,h)=>{var L;const b=g.includes("(")&&g.includes(")");let S=g,I;if(b){const{field:q,fn:T}=$l(g);I=T,S=q}const E=v.slice(0,h),R=l.getField(n.collectionName,[...E,S].join(".")),O=(L=R==null?void 0:R.name)!=null?L:S;return b?u(`functions.${I}`)+` (${O})`:O}).join(" -> ")}},set(s){const p=s.map(f=>f.key);t("input",p)}}),{t:u}=ae();function r(s){var p;t("input",[...(p=n.value)!=null?p:[],s])}function i(s){var f;const p=(f=n.value)==null?void 0:f.filter(_=>_!==s);(!p||p.length===0)&&t("input",null),t("input",p)}return(s,p)=>{const f=c("v-icon"),_=c("v-list-item"),v=c("v-list"),y=c("v-field-list"),g=c("v-menu");return m(),A(se,null,[a(v,null,{default:d(()=>[a(C(Ot),{modelValue:C(o),"onUpdate:modelValue":p[0]||(p[0]=h=>ut(o)?o.value=h:null),"force-fallback":!0,"item-key":"key",handle:".drag-handle"},{item:d(({element:h})=>[a(_,{block:""},{default:d(()=>[a(f,{name:"drag_handle",class:"drag-handle",left:""}),$("div",Ex,w(h.displayName),1),Dx,a(f,{name:"close",clickable:"",onClick:b=>i(h.key)},null,8,["onClick"])]),_:2},1024)]),_:1},8,["modelValue"])]),_:1}),a(g,{placement:"bottom-start","show-arrow":""},{activator:d(({toggle:h})=>[$("button",{class:"toggle",onClick:h},[P(w(C(u)("add_field"))+" ",1),a(f,{name:"expand_more"})],8,Px)]),default:d(()=>[a(y,{"disabled-fields":e.value,collection:e.collectionName,onSelectField:r},null,8,["disabled-fields","collection"])]),_:1})],64)}}});var Ox=H(Tx,[["__scopeId","data-v-17e18006"]]),Lx=Ze({id:"system-fields",name:"$t:interfaces.fields.name",icon:"search",component:Ox,types:["csv","json"],options:[],system:!0}),jx=Object.freeze(Object.defineProperty({__proto__:null,default:Lx},Symbol.toStringTag,{value:"Module"}));const Rx=Z({props:{is:{type:String,required:!0},type:{type:String,required:!0},value:{type:[String,Number,Object,Boolean,Array],default:null},focus:{type:Boolean,default:!0},choices:{type:Array,default:()=>[]}},emits:["input"],setup(e,{emit:t}){const n=D(),{t:l}=ae(),o=D(),u=V(()=>e.value===null||e.value===void 0?null:typeof e.value=="string"&&e.value.length>25?e.value.substring(0,22)+"...":e.value),r=V(()=>{var p;return(((p=e.value)==null?void 0:p.toString().length)||2)+1+"ch"}),i=V(()=>{switch(e.type){case"integer":case"bigInteger":return"[+-]?[0-9]+";case"decimal":case"float":return"[+-]?[0-9]+\\.?[0-9]*";case"uuid":return"[a-fA-F0-9]{8}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{12}";default:return""}});return dt(()=>{var p;e.focus&&((p=n.value)==null||p.focus())}),{displayValue:u,width:r,t:l,emitValue:s,inputEl:n,inputPattern:i,dateTimeMenu:o};function s(p){if(p==="")return t("input",null);if(typeof p=="string"&&["$NOW","$CURRENT_USER","$CURRENT_ROLE"].some(f=>p.startsWith(f))||typeof p!="string"||new RegExp(i.value).test(p))return t("input",p)}}}),Mx=["pattern","value"],Ux=["pattern","value"],Nx={class:"date-input"},Bx=["onClick"];function qx(e,t,n,l,o,u){const r=c("v-icon"),i=c("v-select"),s=c("v-date-picker"),p=c("v-menu");return e.type==="boolean"?(m(),F(r,{key:0,name:e.value===null?"indeterminate_check_box":e.value?"check_box":"check_box_outline_blank",clickable:"",class:"preview",small:"",onClick:t[0]||(t[0]=f=>e.$emit("input",!e.value))},null,8,["name"])):e.is==="interface-input"?(m(),A("input",{key:1,ref:"inputEl",type:"text",pattern:e.inputPattern,value:e.value,style:Je({width:e.width}),placeholder:"--",onInput:t[1]||(t[1]=f=>e.emitValue(f.target.value))},null,44,Mx)):e.is==="select"?(m(),F(i,{key:2,inline:"",items:e.choices,"model-value":e.value,placeholder:e.t("select"),"allow-other":"","onUpdate:modelValue":t[2]||(t[2]=f=>e.emitValue(f))},null,8,["items","model-value","placeholder"])):e.is==="interface-datetime"?(m(),A(se,{key:3},[$("input",{ref:"inputEl",type:"text",pattern:e.inputPattern,value:e.value,style:Je({width:e.width}),placeholder:"--",onInput:t[3]||(t[3]=f=>e.emitValue(f.target.value))},null,44,Ux),a(p,{ref:"dateTimeMenu","close-on-content-click":!1,"show-arrow":!0,placement:"bottom-start",seamless:"","full-height":""},{activator:d(({toggle:f})=>[a(r,{class:"preview",name:"event",small:"",onClick:f},null,8,["onClick"])]),default:d(()=>{var f;return[$("div",Nx,[a(s,{type:e.type,"model-value":e.value,"onUpdate:modelValue":e.emitValue,onClose:(f=e.dateTimeMenu)==null?void 0:f.deactivate},null,8,["type","model-value","onUpdate:modelValue","onClose"])])]}),_:1},512)],64)):(m(),F(p,{key:4,"close-on-content-click":!1,"show-arrow":!0,placement:"bottom-start"},{activator:d(({toggle:f})=>[e.type.startsWith("geometry")||e.type==="json"?(m(),F(r,{key:0,class:"preview",name:e.type==="json"?"integration_instructions":"map",small:"",onClick:f},null,8,["name","onClick"])):(m(),A("div",{key:1,class:"preview",onClick:f},w(e.displayValue),9,Bx))]),default:d(()=>[$("div",{class:de(["input",e.type])},[(m(),F(He(e.is),{class:"input-component",small:"",type:e.type,value:e.value,onInput:t[4]||(t[4]=f=>e.emitValue(f))},null,8,["type","value"]))],2)]),_:1}))}var zx=H(Rx,[["render",qx],["__scopeId","data-v-bc1d7dfe"]]);function to(e){return e?Object.keys(e)[0]:""}function jn(e){const t=to(e);if(t.startsWith("_")||!z.exports.isPlainObject(e[t]))return"";const n=jn(e[t]);return n!==""?`${t}.${n}`:t}function Cl(e){return to(z.exports.get(e,jn(e)))}function wa(e,t,n){return l(e.split("."));function l(o){const u=o.shift();return u!==void 0?{[u]:l(o)}:{[t]:n}}}const Kx=Z({components:{InputComponent:zx},props:{field:{type:Object,required:!0},collection:{type:String,required:!0}},emits:["update:field"],setup(e,{emit:t}){const n=Me(),{t:l}=ae(),o=V(()=>n.getField(e.collection,jn(e.field))),u=V(()=>{var f,_,v,y;return((v=(_=(f=o.value)==null?void 0:f.meta)==null?void 0:_.options)==null?void 0:v.choices)?"select":"interface-"+{bigInteger:"input",binary:"input",boolean:"boolean",date:"datetime",dateTime:"datetime",decimal:"input",float:"input",integer:"input",json:"input-code",string:"input",text:"input-multiline",time:"datetime",timestamp:"datetime",uuid:"input",csv:"input",hash:"input-hash",geometry:"map"}[((y=o.value)==null?void 0:y.type)||"string"]}),r=V({get(){const p=jn(e.field),f=Cl(e.field),_=z.exports.get(e.field,`${p}.${f}`);return["_in","_nin"].includes(Cl(e.field))?[..._.filter(v=>v!==null&&v!==""),null]:_},set(p){const f=jn(e.field),_=Cl(e.field);let v;["_in","_nin"].includes(_)?v=p.filter(y=>y!==null&&y!==""):v=p,t("update:field",wa(f,_,v))}}),i=V(()=>{var p,f,_,v;return Dt((v=(_=(f=(p=o.value)==null?void 0:p.meta)==null?void 0:f.options)==null?void 0:_.choices)!=null?v:[])});return{t:l,choices:i,fieldInfo:o,interfaceType:u,value:r,setValueAt:s,getComparator:Cl};function s(p,f){let _=Array.isArray(r.value)?z.exports.clone(r.value):new Array(p+1);_[p]=f,r.value=_}}}),Wx={class:"and"};function Hx(e,t,n,l,o,u){var i,s,p,f,_,v,y,g;const r=c("input-component");return["_eq","_neq","_lt","_gt","_lte","_gte"].includes(e.getComparator(e.field))?(m(),F(r,{key:0,is:e.interfaceType,choices:e.choices,type:(s=(i=e.fieldInfo)==null?void 0:i.type)!=null?s:"unknown",value:e.value,onInput:t[0]||(t[0]=h=>e.value=h)},null,8,["is","choices","type","value"])):["_contains","_ncontains","_icontains","_starts_with","_nstarts_with","_ends_with","_nends_with","_regex"].includes(e.getComparator(e.field))?(m(),F(r,{key:1,is:"interface-input",choices:e.choices,type:(f=(p=e.fieldInfo)==null?void 0:p.type)!=null?f:"unknown",value:e.value,onInput:t[1]||(t[1]=h=>e.value=h)},null,8,["choices","type","value"])):["_in","_nin"].includes(e.getComparator(e.field))?(m(),A("div",{key:2,class:de(["list",{moveComma:e.interfaceType==="interface-input"}])},[(m(!0),A(se,null,Ve(e.value,(h,b)=>{var S,I;return m(),A("div",{key:b,class:"value"},[a(r,{is:e.interfaceType,type:(I=(S=e.fieldInfo)==null?void 0:S.type)!=null?I:"unknown",value:h,focus:!1,choices:e.choices,onInput:E=>e.setValueAt(b,E)},null,8,["is","type","value","choices","onInput"])])}),128))],2)):["_between","_nbetween"].includes(e.getComparator(e.field))?(m(),A(se,{key:3},[a(r,{is:e.interfaceType,choices:e.choices,type:(v=(_=e.fieldInfo)==null?void 0:_.type)!=null?v:"unknown",value:e.value[0],onInput:t[2]||(t[2]=h=>e.setValueAt(0,h))},null,8,["is","choices","type","value"]),$("div",Wx,w(e.t("interfaces.filter.and")),1),a(r,{is:e.interfaceType,choices:e.choices,type:(g=(y=e.fieldInfo)==null?void 0:y.type)!=null?g:"unknown",value:e.value[1],onInput:t[3]||(t[3]=h=>e.setValueAt(1,h))},null,8,["is","choices","type","value"])],64)):M("",!0)}var Gx=H(Kx,[["render",Hx],["__scopeId","data-v-44121ada"]]);const Zx={class:"row"},Jx={key:0,block:"",class:"node field"},Xx=["onClick"],Yx={class:"delete"},Qx={key:1,class:"node logic"},xx=["onClick"],eee={class:"text"},tee={class:"delete"},nee=Z({props:{filter:null,collection:null,field:{default:void 0},depth:{default:1},inline:{type:Boolean,default:!1},includeValidation:{type:Boolean,default:!1}},emits:["remove-node","update:filter","change"],setup(e,{emit:t}){const n=e,{collection:l}=ze(n),o=Ge(n,"filter",t),u=Me(),{t:r}=ae(),i=V({get(){return n.filter.map((h,b)=>{const S=to(h),I=S.startsWith("_")===!1;return I?{id:b,isField:I,name:S,field:jn(h),comparator:Cl(h),node:h}:{id:b,name:S,isField:I,node:h}})},set(h){t("update:filter",h.map(b=>b.node))}});function s(h){const S=jn(h).split(".");return S.map((E,R)=>{var B;const O=E.includes("(")&&E.includes(")");let L=E,q;if(O){const{field:K,fn:J}=$l(E);q=J,L=K}const T=S.slice(0,R),j=u.getField(n.collection,[...T,L].join(".")),U=(B=j==null?void 0:j.name)!=null?B:L;return O?r(`functions.${q}`)+` (${U})`:U}).join(" -> ")}function p(h){return n.filter.findIndex(b=>b===h)}function f(h){const b=i.value[h];i.value[h].isField||("_and"in b.node?o.value=o.value.map((S,I)=>I===h?{_or:b.node._and}:S):o.value=o.value.map((S,I)=>I===h?{_and:b.node._or}:S))}function _(h,b){const S=i.value[h];if(S.isField===!1)return;const I=S.field+"."+S.comparator;let E=z.exports.get(S.node,I);switch(b){case"_in":case"_nin":R(Bn(E)||[]);break;case"_between":case"_nbetween":R((Bn(E)||[]).slice(0,2));break;case"_null":case"_nnull":case"_empty":case"_nempty":R(!0);break;case"_intersects":case"_nintersects":case"_intersects_bbox":case"_nintersects_bbox":["_intersects","_nintersects","_intersects_bbox","_nintersects_bbox"].includes(S.comparator)?R(E):R(null);break;default:["_null","_nnull","_empty","_nempty"].includes(S.comparator)?R(null):R(Array.isArray(E)?E[0]:E);break}function R(O){S.isField!==!1&&(o.value=o.value.map((L,q)=>q===h?wa(S.field,b,O):L))}}function v(h,b){const S=i.value[h],I=u.getField(n.collection,S.name),E=u.getField(n.collection,b);if(S.isField===!1)return;const R=S.field+"."+S.comparator;let O=z.exports.get(S.node,R),L=S.comparator;(I==null?void 0:I.type)!==(E==null?void 0:E.type)&&(O=null,L=g(b)[0].value),o.value=o.value.map((q,T)=>T===h?wa(b,L,O):q)}function y(h,b){o.value=o.value.map((S,I)=>I===h?b:S)}function g(h){let b;if(h.includes("(")&&h.includes(")")){const S=h.split("(")[0];b=ni(S)}else{const S=u.getField(n.collection,h);b=(S==null?void 0:S.type)||"unknown"}return ti(b,{includeValidation:n.includeValidation}).map(S=>({text:r(`operators.${S}`),value:`_${S}`}))}return(h,b)=>{const S=c("v-icon"),I=c("v-field-list"),E=c("v-menu"),R=c("v-select"),O=c("nodes",!0),L=Fe("tooltip");return m(),F(C(Ot),{tag:"ul",draggable:".row",handle:".drag-handle",class:"group",list:C(o),group:{name:"g1"},"item-key":p,"swap-threshold":.3,"force-fallback":!0,onChange:b[1]||(b[1]=q=>h.$emit("change"))},{item:d(({element:q,index:T})=>[$("li",Zx,[C(i)[T].isField?(m(),A("div",Jx,[$("div",{class:de(["header",{inline:e.inline}])},[a(S,{name:"drag_indicator",class:"drag-handle",small:""}),a(E,{placement:"bottom-start","show-arrow":""},{activator:d(({toggle:j})=>[$("button",{class:"name",onClick:j},[$("span",null,w(s(q)),1)],8,Xx)]),default:d(()=>[a(I,{collection:C(l),field:e.field,"include-functions":"",onSelectField:j=>v(T,j)},null,8,["collection","field","onSelectField"])]),_:2},1024),a(R,{inline:"",class:"comparator",placement:"bottom-start","model-value":C(i)[T].comparator,items:g(C(i)[T].field),"onUpdate:modelValue":j=>_(T,j)},null,8,["model-value","items","onUpdate:modelValue"]),a(Gx,{field:q,collection:C(l),"onUpdate:field":j=>y(T,j)},null,8,["field","collection","onUpdate:field"]),$("span",Yx,[ie(a(S,{name:"close",small:"",clickable:"",onClick:j=>h.$emit("remove-node",[T])},null,8,["onClick"]),[[L,C(r)("delete_label")]])])],2)])):(m(),A("div",Qx,[$("div",{class:de(["header",{inline:e.inline}])},[a(S,{name:"drag_indicator",class:"drag-handle",small:""}),$("div",{class:de(["logic-type",{or:C(i)[T].name==="_or"}])},[$("span",{class:"key",onClick:j=>f(T)},w(C(i)[T].name==="_and"?C(r)("interfaces.filter.logic_type_and"):C(r)("interfaces.filter.logic_type_or")),9,xx),$("span",eee,w(`\u2014 ${C(i)[T].name==="_and"?C(r)("interfaces.filter.all"):C(r)("interfaces.filter.any")} ${C(r)("interfaces.filter.of_the_following")}`),1)],2),$("span",tee,[ie(a(S,{name:"close",small:"",clickable:"",onClick:j=>h.$emit("remove-node",[T])},null,8,["onClick"]),[[L,C(r)("delete_label")]])])],2),a(O,{filter:q[C(i)[T].name],collection:C(l),depth:e.depth+1,inline:e.inline,onChange:b[0]||(b[0]=j=>h.$emit("change")),onRemoveNode:j=>h.$emit("remove-node",[`${T}.${C(i)[T].name}`,...j]),"onUpdate:filter":j=>y(T,{[C(i)[T].name]:j})},null,8,["filter","collection","depth","inline","onRemoveNode","onUpdate:filter"])]))])]),_:1},8,["list","swap-threshold"])}}});var lee=H(nee,[["__scopeId","data-v-62655a2c"]]);const oee={key:0,class:"no-rules"},aee={key:0,class:"buttons"},iee={key:1,class:"buttons"},ree=["onClick"],see=Z({props:{value:{default:void 0},disabled:{type:Boolean,default:!1},collectionName:{default:void 0},collectionField:{default:void 0},fieldName:{default:void 0},inline:{type:Boolean,default:!1},includeValidation:{type:Boolean,default:!1}},emits:["input"],setup(e,{emit:t}){const n=e,{t:l}=ae(),o=vt("values",D({})),u=V(()=>{var _;return n.collectionName?n.collectionName:(_=o.value[n.collectionField])!=null?_:null}),r=Me(),i=V({get(){return!n.value||z.exports.isEmpty(n.value)?[]:to(n.value)==="_and"?z.exports.cloneDeep(n.value._and):z.exports.cloneDeep([n.value])},set(_){_.length===0?t("input",null):t("input",{_and:_})}});function s(){i.value.length===0?t("input",null):t("input",{_and:i.value})}function p(_){var v,y;if(_==="$group")i.value=i.value.concat({_and:[]});else{let g;const h=r.getField(u.value,_);if(_.includes("(")&&_.includes(")")){const E=_.split("(")[0];g=ni(E)}else g=(h==null?void 0:h.type)||"unknown";let b=ti(g,{includeValidation:n.includeValidation});const S=((y=(v=h==null?void 0:h.meta)==null?void 0:v.options)==null?void 0:y.choices)&&b.includes("eq")?"eq":b[0],I=z.exports.set({},_,{["_"+S]:null});i.value=i.value.concat(I)}}function f(_){const v=_.pop();if(_.length===0){i.value=i.value.filter((g,h)=>h!==Number(v));return}let y=z.exports.get(i.value,_.join("."));y=y.filter((g,h)=>h!==Number(v)),i.value=z.exports.set(i.value,_.join("."),y)}return(_,v)=>{const y=c("v-notice"),g=c("v-list"),h=c("v-icon"),b=c("v-text-overflow"),S=c("v-list-item-content"),I=c("v-list-item"),E=c("v-divider"),R=c("v-field-list"),O=c("v-menu");return!e.collectionField&&!C(u)?(m(),F(y,{key:0,type:"warning"},{default:d(()=>[P(w(C(l)("collection_field_not_setup")),1)]),_:1})):C(u)?(m(),A("div",{key:2,class:de(["system-filter",{inline:e.inline,empty:C(i).length===0,field:e.fieldName!==void 0}])},[a(g,{mandatory:!0},{default:d(()=>[C(i).length===0?(m(),A("div",oee,w(C(l)("interfaces.filter.no_rules")),1)):(m(),F(lee,{key:1,filter:C(i),"onUpdate:filter":v[0]||(v[0]=L=>ut(i)?i.value=L:null),collection:C(u),field:e.fieldName,depth:1,"include-validation":e.includeValidation,onRemoveNode:v[1]||(v[1]=L=>f(L)),onChange:s},null,8,["filter","collection","field","include-validation"]))]),_:1}),e.fieldName?(m(),A("div",aee,[$("button",{onClick:v[2]||(v[2]=L=>p(e.fieldName))},w(C(l)("interfaces.filter.add_filter")),1),$("button",{onClick:v[3]||(v[3]=L=>p("$group"))},w(C(l)("interfaces.filter.add_group")),1)])):(m(),A("div",iee,[a(O,{placement:"bottom-start","show-arrow":""},{activator:d(({toggle:L,active:q})=>[$("button",{class:de(["add-filter",{active:q}]),onClick:L},[e.inline?(m(),F(h,{key:0,name:"add",class:"add",small:""})):M("",!0),$("span",null,w(C(l)("interfaces.filter.add_filter")),1),a(h,{name:"expand_more",class:"expand_more"})],10,ree)]),default:d(()=>[a(R,{collection:C(u),"include-functions":"",onSelectField:v[5]||(v[5]=L=>p(L))},{prepend:d(()=>[a(I,{clickable:"",onClick:v[4]||(v[4]=L=>p("$group"))},{default:d(()=>[a(S,null,{default:d(()=>[a(b,{text:C(l)("interfaces.filter.add_group")},null,8,["text"])]),_:1})]),_:1}),a(E)]),_:1},8,["collection"])]),_:1})]))],2)):(m(),F(y,{key:1,type:"warning"},{default:d(()=>[P(w(C(l)("select_a_collection")),1)]),_:1}))}}});var dee=H(see,[["__scopeId","data-v-82b93ed2"]]),uee=Ze({id:"system-filter",name:"$t:interfaces.filter.name",icon:"search",component:dee,types:["json"],options:[],system:!0}),cee=Object.freeze(Object.defineProperty({__proto__:null,default:uee},Symbol.toStringTag,{value:"Module"}));const pee=Z({name:"FolderListItem",props:{folder:{type:Object,required:!0},currentFolder:{type:String,default:null},disabled:{type:Boolean,default:!1},disabledFolders:{type:Array,default:()=>[]}},emits:["click"]});function mee(e,t,n,l,o,u){const r=c("v-icon"),i=c("v-list-item-icon"),s=c("v-list-item-content"),p=c("v-list-item"),f=c("folder-list-item",!0),_=c("v-list-group");return!e.folder.children||e.folder.children.length===0?(m(),F(p,{key:0,active:e.currentFolder===e.folder.id,disabled:e.disabled,clickable:"",onClick:t[0]||(t[0]=v=>e.$emit("click",e.folder.id))},{default:d(()=>[a(i,null,{default:d(()=>[a(r,{name:e.currentFolder===e.folder.id?"folder_open":"folder"},null,8,["name"])]),_:1}),a(s,null,{default:d(()=>[P(w(e.folder.name),1)]),_:1})]),_:1},8,["active","disabled"])):(m(),F(_,{key:1,clickable:"",active:e.currentFolder===e.folder.id,disabled:e.disabled,onClick:t[2]||(t[2]=v=>e.$emit("click",e.folder.id))},{activator:d(()=>[a(i,null,{default:d(()=>[a(r,{name:e.currentFolder===e.folder.id?"folder_open":"folder"},null,8,["name"])]),_:1}),a(s,null,{default:d(()=>[P(w(e.folder.name),1)]),_:1})]),default:d(()=>[(m(!0),A(se,null,Ve(e.folder.children,v=>(m(),F(f,{key:v.id,folder:v,"current-folder":e.currentFolder,disabled:e.disabledFolders.includes(v.id),"disabled-folders":e.disabledFolders,onClick:t[1]||(t[1]=y=>e.$emit("click",y))},null,8,["folder","current-folder","disabled","disabled-folders"]))),128))]),_:1},8,["active","disabled"]))}var fee=H(pee,[["render",mee]]);const _ee=Z({components:{FolderListItem:fee},props:{value:{type:String,default:void 0},disabledFolders:{type:Array,default:()=>[]},disabled:{type:Boolean,default:!1},placeholder:{type:String,default:""}},emits:["input"],setup(e,{emit:t}){const{t:n}=ae(),{nestedFolders:l,folders:o,loading:u}=dl(),r=V(()=>{if(!e.value||!o.value)return n("interfaces.system-folder.root_name");const f=o.value.find(_=>_.id===e.value);return f?s(f,o.value).map(_=>_.name).join(" / "):e.value});return{emitValue:i,loading:u,folderPath:r,nestedFolders:l,onFolderSelect:p,t:n};function i(f){return t("input",f)}function s(f,_){const v=new Map(_.map(g=>[g.id,g])),y=g=>(v.has(g.parent)?y(v.get(g.parent)):[]).concat(g);return y(f)}function p(f){e.disabled||t("input",f)}}});function vee(e,t,n,l,o,u){const r=c("v-skeleton-loader"),i=c("v-icon"),s=c("v-input"),p=c("v-list-item-icon"),f=c("v-list-item-content"),_=c("v-list-item"),v=c("v-divider"),y=c("folder-list-item"),g=c("v-list"),h=c("v-menu");return e.loading?(m(),F(r,{key:0})):(m(),F(h,{key:1,class:"v-select",attached:!0,"show-arrow":!1,disabled:e.disabled,"close-on-content-click":!0},{activator:d(({toggle:b,active:S})=>[a(s,{readonly:"",active:S,"model-value":e.folderPath,placeholder:e.placeholder,disabled:e.disabled,onClick:b},{prepend:d(()=>[a(i,{name:e.value?"folder_open":"folder_special"},null,8,["name"])]),append:d(()=>[a(i,{name:"expand_more",class:de({active:S})},null,8,["class"])]),_:2},1032,["active","model-value","placeholder","disabled","onClick"])]),default:d(()=>[a(g,null,{default:d(()=>[a(_,{clickable:"",active:!e.value,onClick:t[0]||(t[0]=b=>e.emitValue(null))},{default:d(()=>[a(p,null,{default:d(()=>[a(i,{name:"folder_special"})]),_:1}),a(f,null,{default:d(()=>[P(w(e.t("interfaces.system-folder.root_name")),1)]),_:1})]),_:1},8,["active"]),e.nestedFolders&&e.nestedFolders.length>0?(m(),F(v,{key:0})):M("",!0),(m(!0),A(se,null,Ve(e.nestedFolders,b=>(m(),F(y,{key:b.id,clickable:"",folder:b,"current-folder":e.value,disabled:e.disabledFolders.includes(b.id),"disabled-folders":e.disabledFolders,onClick:e.emitValue},null,8,["folder","current-folder","disabled","disabled-folders","onClick"]))),128))]),_:1})]),_:1},8,["disabled"]))}var yee=H(_ee,[["render",vee],["__scopeId","data-v-0de2ed2a"]]),hee=Ze({id:"system-folder",name:"$t:interfaces.system-folder.folder",description:"$t:interfaces.system-folder.description",icon:"folder",component:yee,types:["uuid"],options:[],system:!0,recommendedDisplays:["raw"]}),gee=Object.freeze(Object.defineProperty({__proto__:null,default:hee},Symbol.toStringTag,{value:"Module"}));const bee={class:"input-translated-string"},wee=["disabled"],kee={key:0,class:"search"},$ee=Z({props:{value:{default:()=>null},autofocus:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},placeholder:{default:()=>null}},emits:["input"],setup(e,{emit:t}){const n=e,l="$t:",{t:o}=ae(),u=D(),r=D(!1),i=D(!1),s=D(null),{translationStrings:p}=ol(),f=D(!1),_=D(null),v=V(()=>{var q;const L=(q=p.value)!=null?q:[];return s.value?L.filter(T=>{var j;return(j=T.key)==null?void 0:j.includes(s.value)}):L}),y=V({get(){return n.value},set(L){n.value!==L&&t("input",L)}});he(()=>n.value,L=>S(L),{immediate:!0});const g=V(()=>y.value?h(y.value):null);function h(L){return L.substring(l.length)}function b(L){S(`${l}${L}`),u.value.deactivate(),s.value=null}function S(L){(L==null?void 0:L.startsWith(l))&&(L=L.replace(/\s/g,"_")),y.value=L,i.value||E()}function I(){i.value=!1,E()}function E(){var L,q;r.value=(q=(L=y.value)==null?void 0:L.startsWith(l))!=null?q:!1}function R(){u.value.deactivate(),f.value=!0}function O(L){L||(_.value=null,f.value=L)}return(L,q)=>{const T=c("v-icon"),j=c("v-input"),U=c("v-list-item-icon"),B=c("v-highlight"),K=c("v-list-item-content"),J=c("v-list-item"),Y=c("v-list"),W=c("v-menu");return m(),A("div",bee,[a(W,{ref:(G,Q)=>{Q.menuEl=G,u.value=G},disabled:e.disabled,"close-on-content-click":!1,attached:""},{activator:d(({toggle:G,active:Q})=>[a(j,{class:"translation-input","model-value":C(y),autofocus:e.autofocus,placeholder:e.placeholder,disabled:e.disabled,active:Q,"onUpdate:modelValue":q[1]||(q[1]=X=>y.value=X),onFocus:q[2]||(q[2]=X=>i.value=!0),onBlur:I,onKeydown:Mn(E,["enter"])},at({append:d(()=>[a(T,{name:"translate",class:de(["translate-icon",{active:Q}]),clickable:"",tabindex:-1,disabled:e.disabled,onClick:G},null,8,["class","disabled","onClick"])]),_:2},[r.value?{name:"input",fn:d(()=>[$("button",{disabled:e.disabled,onClick:q[0]||(q[0]=Te(X=>S(null),["stop"]))},w(e.value&&h(e.value)),9,wee)])}:void 0]),1032,["model-value","autofocus","placeholder","disabled","active","onKeydown"])]),default:d(()=>[s.value!==null||C(v).length>=25?(m(),A("div",kee,[a(j,{class:"search-input",type:"text","model-value":s.value,autofocus:"",placeholder:C(o)("interfaces.input-translated-string.search_placeholder"),"onUpdate:modelValue":q[3]||(q[3]=G=>s.value=G)},{append:d(()=>[a(T,{name:"search",class:"search-icon"})]),_:1},8,["model-value","placeholder"])])):M("",!0),a(Y,null,{default:d(()=>[(m(!0),A(se,null,Ve(C(v),G=>(m(),F(J,{key:G.key,class:de(["translation-key",{selected:C(y)&&G.key===C(g)}]),clickable:"",onClick:Q=>b(G.key)},{default:d(()=>[a(U,null,{default:d(()=>[a(T,{name:"translate"})]),_:1}),a(K,null,{default:d(()=>[a(B,{text:G.key,query:s.value},null,8,["text","query"])]),_:2},1024),a(U,{class:"info"},{default:d(()=>[a(xr,{translations:G.translations,"hide-display-text":""},null,8,["translations"])]),_:2},1024)]),_:2},1032,["class","onClick"]))),128)),a(J,{class:"new-translation-string",clickable:"",onClick:R},{default:d(()=>[a(U,null,{default:d(()=>[a(T,{name:"add"})]),_:1}),a(K,null,{default:d(()=>[P(w(C(o)("interfaces.input-translated-string.new_translation_string")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["disabled"]),a(Qr,{"model-value":f.value,"translation-string":_.value,"onUpdate:modelValue":O,onSavedKey:q[4]||(q[4]=G=>S(`${l}${G}`))},null,8,["model-value","translation-string"])])}}});var Cee=H($ee,[["__scopeId","data-v-17e79140"]]),See=`<svg width="156" height="96" fill="none" xmlns="http://www.w3.org/2000/svg">
	<rect x="18" y="17.037" width="120" height="62" rx="6" fill="var(--background-page)" />
	<rect x="19" y="18.037" width="118" height="60" rx="5" stroke="var(--primary)" stroke-opacity=".25"
		stroke-width="2" />
	<rect x="28" y="51" width="40" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="28" y="63" width="60" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="18" y="17" width="120" height="26" rx="6" fill="var(--background-page)" class="glow" />
	<rect x="19" y="18" width="118" height="24" rx="5" stroke="var(--primary)" stroke-width="2" />
	<rect x="28" y="27" width="70" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<path d="m124.52 31.78-1.5-1.45.02-.03a10 10 0 0 0 2.16-3.8h1.73v-1.18h-4.1v-1.14h-1.15v1.14h-4.1v1.18h6.53a9.34 9.34 0 0 1-1.86 3.12 9.14 9.14 0 0 1-1.34-1.94h-1.18a10.89 10.89 0 0 0 1.75 2.65l-2.98 2.92.82.82 2.93-2.9 1.8 1.81.47-1.2zm3.28-2.96h-1.17l-2.63 7h1.18l.65-1.75h2.76l.66 1.75h1.18l-2.63-7zm-1.53 4.1.93-2.54.96 2.55h-1.89z" fill="var(--primary)"/>
</svg>
`,Fee=Ze({id:"system-input-translated-string",name:"$t:interfaces.input-translated-string.input-translated-string",description:"$t:interfaces.input-translated-string.description",icon:"translate",component:Cee,system:!0,types:["string","text"],group:"standard",preview:See,options:[{field:"placeholder",name:"$t:placeholder",type:"string",meta:{width:"half",interface:"input",options:{placeholder:"$t:enter_a_placeholder"}}}]}),Vee=Object.freeze(Object.defineProperty({__proto__:null,default:Fee},Symbol.toStringTag,{value:"Module"}));const Aee=Z({props:{value:{type:String,default:null},typeField:{type:String,default:null}},emits:["input"],setup(e,{emit:t}){const{t:n}=ae(),{interfaces:l}=$n(),o=vt("values",D({})),u=V(()=>{if(!(e.typeField===null||!o.value[e.typeField]))return o.value[e.typeField]});he(()=>o.value[e.typeField],()=>{t("input",null)});const r=V(()=>l.value.filter(i=>i.relational!==!0&&i.system!==!0).filter(i=>u.value===void 0||i.types.includes(u.value)).map(i=>({text:i.name,value:i.id})));return{t:n,items:r,selectedType:u,values:o}}});function Iee(e,t,n,l,o,u){const r=c("v-notice"),i=c("v-select");return e.selectedType===void 0?(m(),F(r,{key:0},{default:d(()=>[P(w(e.t("select_field_type")),1)]),_:1})):(m(),F(i,{key:1,items:e.items,"model-value":e.value,placeholder:e.t("interfaces.system-interface.placeholder"),"onUpdate:modelValue":t[0]||(t[0]=s=>e.$emit("input",s))},null,8,["items","model-value","placeholder"]))}var Eee=H(Aee,[["render",Iee]]),Dee=Ze({id:"system-interface",name:"$t:interfaces.system-interface.interface",description:"$t:interfaces.system-interface.description",icon:"box",component:Eee,types:["string"],system:!0,options:[]}),Pee=Object.freeze(Object.defineProperty({__proto__:null,default:Dee},Symbol.toStringTag,{value:"Module"}));const Tee=Z({props:{value:{type:Object,default:null},interfaceField:{type:String,default:null},interface:{type:String,default:null},collection:{type:String,default:null}},emits:["input"],setup(e,{emit:t}){const{t:n}=ae(),l=V({get(){return e.value},set(s){t("input",s)}}),o=vt("values",D({})),u=V(()=>{if(e.interface)return Lt(e.interface);if(!!o.value[e.interfaceField])return Lt(o.value[e.interfaceField])}),r=V(()=>u.value?u.value.options&&"render"in u.value.options:!1),i=V(()=>{if(!u.value)return[];if(!u.value.options)return[];if(r.value===!0)return[];let s;return typeof u.value.options=="function"?s=u.value.options({field:{type:"unknown"},editing:"+",collection:e.collection,relations:{o2m:void 0,m2o:void 0,m2a:void 0},collections:{related:void 0,junction:void 0},fields:{corresponding:void 0,junctionCurrent:void 0,junctionRelated:void 0,sort:void 0},items:{},localType:"standard",autoGenerateJunctionRelation:!1,saving:!1}):s=u.value.options,Array.isArray(s)?s:[...s.standard,...s.advanced]});return{t:n,selectedInterface:u,values:o,usesCustomComponent:r,optionsFields:i,options:l}}}),Oee={key:2,class:"inset"};function Lee(e,t,n,l,o,u){const r=c("v-notice"),i=c("v-form");return e.selectedInterface?e.usesCustomComponent===!1&&e.optionsFields.length===0?(m(),F(r,{key:1},{default:d(()=>[P(w(e.t("no_options_available")),1)]),_:1})):(m(),A("div",Oee,[e.usesCustomComponent===!1?(m(),F(i,{key:0,modelValue:e.options,"onUpdate:modelValue":t[0]||(t[0]=s=>e.options=s),class:"extension-options",fields:e.optionsFields,"primary-key":"+"},null,8,["modelValue","fields"])):(m(),F(He(`interface-options-${e.selectedInterface.id}`),{key:1,value:e.value,collection:e.collection,onInput:t[1]||(t[1]=s=>e.$emit("input",s))},null,8,["value","collection"]))])):(m(),F(r,{key:0},{default:d(()=>[P(w(e.t("select_interface")),1)]),_:1}))}var jee=H(Tee,[["render",Lee],["__scopeId","data-v-001458ae"]]),Ree=Ze({id:"system-interface-options",name:"$t:interfaces.system-interface-options.interface-options",description:"$t:interfaces.system-interface-options.description",icon:"box",component:jee,types:["string"],options:[],system:!0}),Mee=Object.freeze(Object.defineProperty({__proto__:null,default:Ree},Symbol.toStringTag,{value:"Module"}));const Uee=Z({props:{disabled:{type:Boolean,default:!1},value:{type:String,default:null},includeProjectDefault:{type:Boolean,default:!1}},emits:["input"],setup(e){const{t}=ae(),n=Object.entries(xa).map(([l,o])=>({text:o,value:l}));return e.includeProjectDefault&&n.splice(0,0,{text:t("fields.directus_settings.default_language"),value:null}),{t,languages:n}}});function Nee(e,t,n,l,o,u){const r=c("v-select");return m(),F(r,{"model-value":e.value,items:e.languages,disabled:e.disabled,placeholder:e.t("language_placeholder"),"onUpdate:modelValue":t[0]||(t[0]=i=>e.$emit("input",i))},null,8,["model-value","items","disabled","placeholder"])}var Bee=H(Uee,[["render",Nee]]),qee=Ze({id:"system-language",name:"$t:language",icon:"translate",component:Bee,system:!0,types:["string"],options:[]}),zee=Object.freeze(Object.defineProperty({__proto__:null,default:qee},Symbol.toStringTag,{value:"Module"}));const Kee=Z({props:{value:{type:String,default:null},primaryKey:{type:String,default:null}},setup(e){const{t}=ae(),n=Ye(),l=D(!!e.value),o=D(!1),u=D(!1),r=D(!1),i=D(!1),s=Tt(),p=D(),f=D(""),_=D(),v=D("");dt(()=>{v.value=""}),he(()=>e.value,()=>{l.value=!!e.value},{immediate:!0});const y=V(()=>{var E;return((E=n.currentUser)==null?void 0:E.id)===e.primaryKey});return{t,tfaEnabled:l,tfaGenerated:o,generateTFA:h,cancelAndClose:b,enableTFA:S,toggle:g,password:v,enableActive:u,disableActive:r,loading:i,canvasID:s,secret:p,disableTFA:I,otp:f,error:_,isCurrentUser:y};function g(){l.value===!1?u.value=!0:r.value=!0}async function h(){if(i.value!==!0){i.value=!0;try{const E=await me.post("/users/me/tfa/generate",{password:v.value}),R=E.data.data.otpauth_url;p.value=E.data.data.secret,await yu.toCanvas(document.getElementById(s),R),o.value=!0,_.value=null}catch(E){_.value=E}finally{i.value=!1}}}function b(){o.value=!1,u.value=!1,v.value="",f.value="",p.value=""}async function S(){if(i.value!==!0){i.value=!0;try{await me.post("/users/me/tfa/enable",{otp:f.value,secret:p.value}),l.value=!0,o.value=!1,u.value=!1,v.value="",f.value="",p.value="",_.value=null}catch(E){_.value=E}finally{i.value=!1}}}async function I(){i.value=!0;try{await me.post("/users/me/tfa/disable",{otp:f.value}),l.value=!1,r.value=!1,f.value=""}catch(E){_.value=E}finally{i.value=!1}}}}),Wee=e=>(xe("data-v-855b3ebc"),e=e(),et(),e),Hee=Wee(()=>$("div",{class:"spacer"},null,-1)),Gee=["id"],Zee={class:"secret selectable"};function Jee(e,t,n,l,o,u){const r=c("v-icon"),i=c("v-checkbox"),s=c("v-card-title"),p=c("v-input"),f=c("v-error"),_=c("v-card-text"),v=c("v-button"),y=c("v-card-actions"),g=c("v-progress-circular"),h=c("v-card"),b=c("v-dialog");return m(),A("div",null,[a(i,{block:"","model-value":e.tfaEnabled,disabled:!e.isCurrentUser,onClick:e.toggle},{append:d(()=>[a(r,{name:"launch",class:de(["checkbox-icon",{enabled:e.tfaEnabled}])},null,8,["class"])]),default:d(()=>[P(w(e.tfaEnabled?e.t("enabled"):e.t("disabled"))+" ",1),Hee]),_:1},8,["model-value","disabled","onClick"]),a(b,{modelValue:e.enableActive,"onUpdate:modelValue":t[4]||(t[4]=S=>e.enableActive=S),persistent:"",onEsc:e.cancelAndClose},{default:d(()=>[a(h,null,{default:d(()=>[e.tfaEnabled===!1&&e.tfaGenerated===!1&&e.loading===!1?(m(),A("form",{key:0,onSubmit:t[1]||(t[1]=Te((...S)=>e.generateTFA&&e.generateTFA(...S),["prevent"]))},[a(s,null,{default:d(()=>[P(w(e.t("enter_password_to_enable_tfa")),1)]),_:1}),a(_,null,{default:d(()=>[a(p,{modelValue:e.password,"onUpdate:modelValue":t[0]||(t[0]=S=>e.password=S),nullable:!1,type:"password",placeholder:e.t("password")},null,8,["modelValue","placeholder"]),e.error?(m(),F(f,{key:0,error:e.error},null,8,["error"])):M("",!0)]),_:1}),a(y,null,{default:d(()=>[a(v,{type:"button",secondary:"",onClick:e.cancelAndClose},{default:d(()=>[P(w(e.t("cancel")),1)]),_:1},8,["onClick"]),a(v,{type:"submit",loading:e.loading},{default:d(()=>[P(w(e.t("next")),1)]),_:1},8,["loading"])]),_:1})],32)):e.loading===!0?(m(),F(g,{key:1,class:"loader",indeterminate:""})):M("",!0),ie($("div",null,[$("form",{onSubmit:t[3]||(t[3]=Te((...S)=>e.enableTFA&&e.enableTFA(...S),["prevent"]))},[a(s,null,{default:d(()=>[P(w(e.t("tfa_scan_code")),1)]),_:1}),a(_,null,{default:d(()=>[$("canvas",{id:e.canvasID,class:"qr"},null,8,Gee),$("output",Zee,w(e.secret),1),a(p,{modelValue:e.otp,"onUpdate:modelValue":t[2]||(t[2]=S=>e.otp=S),type:"text",placeholder:e.t("otp"),nullable:!1},null,8,["modelValue","placeholder"]),e.error?(m(),F(f,{key:0,error:e.error},null,8,["error"])):M("",!0)]),_:1}),a(y,null,{default:d(()=>[a(v,{type:"button",secondary:"",onClick:e.cancelAndClose},{default:d(()=>[P(w(e.t("cancel")),1)]),_:1},8,["onClick"]),a(v,{type:"submit",disabled:e.otp.length!==6,onClick:e.enableTFA},{default:d(()=>[P(w(e.t("done")),1)]),_:1},8,["disabled","onClick"])]),_:1})],32)],512),[[Nt,e.tfaEnabled===!1&&e.tfaGenerated===!0&&e.loading===!1]])]),_:1})]),_:1},8,["modelValue","onEsc"]),a(b,{modelValue:e.disableActive,"onUpdate:modelValue":t[7]||(t[7]=S=>e.disableActive=S),onEsc:t[8]||(t[8]=S=>e.disableActive=!1)},{default:d(()=>[a(h,null,{default:d(()=>[$("form",{onSubmit:t[6]||(t[6]=Te((...S)=>e.disableTFA&&e.disableTFA(...S),["prevent"]))},[a(s,null,{default:d(()=>[P(w(e.t("enter_otp_to_disable_tfa")),1)]),_:1}),a(_,null,{default:d(()=>[a(p,{modelValue:e.otp,"onUpdate:modelValue":t[5]||(t[5]=S=>e.otp=S),type:"text",placeholder:e.t("otp"),nullable:!1},null,8,["modelValue","placeholder"]),e.error?(m(),F(f,{key:0,error:e.error},null,8,["error"])):M("",!0)]),_:1}),a(y,null,{default:d(()=>[a(v,{type:"submit",kind:"warning",loading:e.loading,disabled:e.otp.length!==6},{default:d(()=>[P(w(e.t("disable_tfa")),1)]),_:1},8,["loading","disabled"])]),_:1})],32)]),_:1})]),_:1},8,["modelValue"])])}var Xee=H(Kee,[["render",Jee],["__scopeId","data-v-855b3ebc"]]),Yee=Ze({id:"system-mfa-setup",name:"mfa-setup",icon:"box",component:Xee,types:["text"],options:[],system:!0}),Qee=Object.freeze(Object.defineProperty({__proto__:null,default:Yee},Symbol.toStringTag,{value:"Module"}));const xee=[{field:"name",name:"$t:name",meta:{required:!0,interface:"input",width:"half-left",options:{placeholder:"$t:enter_a_name"}}},{field:"icon",name:"$t:icon",meta:{required:!0,interface:"select-icon",width:"half-right"}},{field:"url",name:"$t:url",meta:{required:!0,interface:"input",options:{placeholder:"https://example.com"}}}],ete=Z({name:"SystemModules",components:{Draggable:Ot},props:{value:{type:Array,default:()=>An}},emits:["input"],setup(e,{emit:t}){const{t:n}=ae(),l=D(),o=D(),u=D(),{modules:r}=Ll(),i=V(()=>r.value.filter(h=>h.hidden!==!0).map(h=>({type:"module",id:h.id,enabled:!1}))),s=V({get(){var b,S;const h=((b=e.value)!=null?b:An).filter(I=>I.type==="module").map(I=>I.id);return p([...(S=e.value)!=null?S:An,...i.value.filter(I=>h.includes(I.id)===!1)])},set(h){t("input",f(h))}});return{t:n,editing:l,valuesWithData:s,hideDragImage:dn,updateItem:_,edit:v,linkFields:xee,save:y,values:o,remove:g,initialValues:u};function p(h){return h.filter(b=>b.type==="link"?!0:!!r.value.find(S=>S.id===b.id)).map(b=>{if(b.type==="link")return Ie(ve({},b),{to:b.url,icon:b.icon,name:b.name});const S=r.value.find(I=>I.id===b.id);return Ie(ve({},b),{to:`/${S.id}`,name:S.name,icon:S.icon})})}function f(h){return h.map(b=>{if(b.type==="link"){const{type:O,id:L,name:q,url:T,icon:j,enabled:U,locked:B}=b;return{type:O,id:L,name:q,url:T,icon:j,enabled:U,locked:B}}const{type:S,id:I,enabled:E,locked:R}=b;return{type:S,id:I,enabled:E,locked:R}})}function _(h,b){s.value=s.value.map(S=>S===h?z.exports.assign({},h,b):S)}function v(h){var S;l.value=h;let b;h!=="+"?b=((S=e.value)!=null?S:An).find(I=>I.id===h):b={id:Tt(),type:"link",enabled:!0,url:"",name:"",icon:""},o.value=b,u.value=b}function y(){var h,b;l.value==="+"?t("input",[...(h=e.value)!=null?h:An,o.value]):t("input",((b=e.value)!=null?b:An).map(S=>S.id===l.value?o.value:S)),o.value=null,l.value=null}function g(h){var b;t("input",((b=e.value)!=null?b:An).filter(S=>S.id!==h))}}}),tte=e=>(xe("data-v-006bc8b7"),e=e(),et(),e),nte={class:"system-modules"},lte={class:"info"},ote={class:"name"},ate={class:"to"},ite=tte(()=>$("div",{class:"spacer"},null,-1)),rte={class:"drawer-content"};function ste(e,t,n,l,o,u){const r=c("v-icon"),i=c("v-list-item"),s=c("draggable"),p=c("v-list"),f=c("v-button"),_=c("v-form"),v=c("v-drawer"),y=Fe("tooltip");return m(),A("div",nte,[a(p,{class:"list"},{default:d(()=>[a(s,{modelValue:e.valuesWithData,"onUpdate:modelValue":t[0]||(t[0]=g=>e.valuesWithData=g),"force-fallback":!0,"set-data":e.hideDragImage,"item-key":"id",handle:".drag-handle",animation:150},{item:d(({element:g})=>[a(i,{block:"",class:de({enabled:g.enabled}),clickable:g.type==="link",onClick:h=>g.type==="link"?e.edit(g.id):void 0},{default:d(()=>[a(r,{class:"drag-handle",name:"drag_handle"}),a(r,{class:"icon",name:g.icon},null,8,["name"]),$("div",lte,[$("div",ote,w(g.name),1),$("div",ate,w(g.to),1)]),ite,g.locked===!0?(m(),F(r,{key:0,name:"lock"})):g.type==="link"?(m(),F(r,{key:1,name:"clear",onClick:Te(h=>e.remove(g.id),["stop"])},null,8,["onClick"])):(m(),F(r,{key:2,name:g.enabled?"check_box":"check_box_outline_blank",clickable:"",onClick:Te(h=>e.updateItem(g,{enabled:!g.enabled}),["stop"])},null,8,["name","onClick"]))]),_:2},1032,["class","clickable","onClick"])]),_:1},8,["modelValue","set-data"])]),_:1}),a(f,{onClick:t[1]||(t[1]=g=>e.edit("+"))},{default:d(()=>[P(w(e.t("add_link")),1)]),_:1}),a(v,{title:e.t("custom_link"),"model-value":!!e.editing,icon:"link","onUpdate:modelValue":t[3]||(t[3]=g=>e.editing=null),onCancel:t[4]||(t[4]=g=>e.editing=null)},{actions:d(()=>[ie(a(f,{icon:"",rounded:"",onClick:e.save},{default:d(()=>[a(r,{name:"check"})]),_:1},8,["onClick"]),[[y,e.t("save"),void 0,{bottom:!0}]])]),default:d(()=>[$("div",rte,[a(_,{modelValue:e.values,"onUpdate:modelValue":t[2]||(t[2]=g=>e.values=g),"initial-values":e.initialValues,fields:e.linkFields},null,8,["modelValue","initial-values","fields"])])]),_:1},8,["title","model-value"])])}var dte=H(ete,[["render",ste],["__scopeId","data-v-006bc8b7"]]),ute=Ze({id:"system-modules",name:"$t:module_bar",icon:"arrow_drop_down_circle",component:dte,types:["json"],options:[],system:!0}),cte=Object.freeze(Object.defineProperty({__proto__:null,default:ute},Symbol.toStringTag,{value:"Module"}));const pte=Z({components:{DrawerCollection:mn},props:{value:{type:String,default:null}},emits:["input"],setup(e,{emit:t}){const{t:n}=ae(),l=D(null),o=D(null),u=D(!1),r=V(()=>e.value!==null&&(e.value.startsWith("role_")||e.value.startsWith("user_")));return he(()=>e.value,f),f(),{options:V(()=>{let _=[{text:n("global")+": "+n("all_users"),value:"all"},{text:n("user")+": "+n("select"),value:"directus_users"},{text:n("role")+": "+n("select"),value:"directus_roles"}];if(r.value){const[v,y]=e.value.split("_");_=[{text:n(v)+": "+(o.value||y),value:e.value},{divider:!0},..._]}return _}),collection:l,onSelect:s,onSelectItem:p,loading:u};function s(_){if(_==="all")return l.value=null,t("input","all");l.value=_}function p(_){if(l.value==="directus_users")return t("input","user_"+_[0]);if(l.value==="directus_roles")return t("input","role_"+_[0])}async function f(){if(!r.value){o.value=null;return}u.value=!0;const[_,v]=e.value.split("_");if(_==="role"){const y=await me.get("/roles/"+v,{params:{fields:["id","name"]}});o.value=y.data.data.name}else if(_==="user"){const y=await me.get("/users/"+v,{params:{fields:["id","first_name","last_name","email"]}});o.value=Ft(y.data.data)}u.value=!1}}});function mte(e,t,n,l,o,u){const r=c("v-skeleton-loader"),i=c("v-select"),s=c("drawer-collection");return m(),A("div",null,[e.loading?(m(),F(r,{key:0})):(m(),F(i,{key:1,"model-value":e.value,items:e.options,"onUpdate:modelValue":e.onSelect},null,8,["model-value","items","onUpdate:modelValue"])),e.collection!==null?(m(),F(s,{key:2,active:e.collection!==null,collection:e.collection,"onUpdate:active":t[0]||(t[0]=p=>e.collection=null),onInput:e.onSelectItem},null,8,["active","collection","onInput"])):M("",!0)])}var fte=H(pte,[["render",mte]]),_te=Ze({id:"system-scope",name:"$t:scope",icon:"arrow_drop_down_circle",component:fte,types:["string"],options:[],system:!0}),vte=Object.freeze(Object.defineProperty({__proto__:null,default:_te},Symbol.toStringTag,{value:"Module"}));const{interfacesRaw:Ys}=$n();async function yte(e){const n=Object.values({"./boolean/index.ts":aG,"./datetime/index.ts":cG,"./file/index.ts":bG,"./file-image/index.ts":MG,"./files/index.ts":GG,"./group-accordion/index.ts":oZ,"./group-detail/index.ts":cZ,"./group-raw/index.ts":hZ,"./input/index.ts":CZ,"./input-autocomplete-api/index.ts":DZ,"./input-code/index.ts":NZ,"./input-hash/index.ts":HZ,"./input-multiline/index.ts":QZ,"./input-rich-text-html/index.ts":nJ,"./input-rich-text-md/index.ts":kJ,"./list/index.ts":qJ,"./list-m2a/index.ts":QJ,"./list-m2m/index.ts":rX,"./list-o2m/index.ts":vX,"./list-o2m-tree-view/index.ts":PX,"./map/index.ts":nY,"./presentation-divider/index.ts":sY,"./presentation-links/index.ts":vY,"./presentation-notice/index.ts":$Y,"./select-color/index.ts":DY,"./select-dropdown/index.ts":RY,"./select-dropdown-m2o/index.ts":KY,"./select-icon/index.ts":YY,"./select-multiple-checkbox/index.ts":oQ,"./select-multiple-checkbox-tree/index.ts":fQ,"./select-multiple-dropdown/index.ts":bQ,"./select-radio/index.ts":VQ,"./slider/index.ts":TQ,"./tags/index.ts":zQ,"./translations/index.ts":tx,"./_system/system-collection/index.ts":ix,"./_system/system-collections/index.ts":cx,"./_system/system-display-template/index.ts":yx,"./_system/system-field/index.ts":kx,"./_system/system-field-tree/index.ts":Ax,"./_system/system-fields/index.ts":jx,"./_system/system-filter/index.ts":cee,"./_system/system-folder/index.ts":gee,"./_system/system-input-translated-string/index.ts":Vee,"./_system/system-interface/index.ts":Pee,"./_system/system-interface-options/index.ts":Mee,"./_system/system-language/index.ts":zee,"./_system/system-mfa-setup/index.ts":Qee,"./_system/system-modules/index.ts":cte,"./_system/system-scope/index.ts":vte}).map(l=>l.default);try{const l=await N(()=>import(`${tt()}extensions/interfaces/index.js`),[]);n.push(...l.default)}catch(l){console.warn("Couldn't load custom interfaces"),console.warn(l)}Ys.value=n,Ys.value.forEach(l=>{e.component(`interface-${l.id}`,l.component),typeof l.options!="function"&&Array.isArray(l.options)===!1&&l.options!==null&&e.component(`interface-options-${l.id}`,l.options)})}function hte(e){switch(e){case"af":return N(()=>import("./af.b15e3fdc.js").then(function(t){return t.a}),[]);case"ar-dz":return N(()=>import("./ar-dz.5481d0db.js").then(function(t){return t.a}),[]);case"ar-kw":return N(()=>import("./ar-kw.77cb7412.js").then(function(t){return t.a}),[]);case"ar-ly":return N(()=>import("./ar-ly.d2852686.js").then(function(t){return t.a}),[]);case"ar-ma":return N(()=>import("./ar-ma.6b2052c4.js").then(function(t){return t.a}),[]);case"ar-sa":return N(()=>import("./ar-sa.0ce4896b.js").then(function(t){return t.a}),[]);case"ar-tn":return N(()=>import("./ar-tn.0075ee1e.js").then(function(t){return t.a}),[]);case"ar":return N(()=>import("./ar.01c8813a.js").then(function(t){return t.a}),[]);case"az":return N(()=>import("./az.839e5437.js").then(function(t){return t.a}),[]);case"bg":return N(()=>import("./bg.71bbc37d.js").then(function(t){return t.b}),[]);case"bn":return N(()=>import("./bn.28eb3677.js").then(function(t){return t.b}),[]);case"bs":return N(()=>import("./bs.b0570362.js").then(function(t){return t.b}),[]);case"ca":return N(()=>import("./ca.d17b0b48.js").then(function(t){return t.c}),[]);case"cs":return N(()=>import("./cs.23d06f43.js").then(function(t){return t.c}),[]);case"cy":return N(()=>import("./cy.3b5a8132.js").then(function(t){return t.c}),[]);case"da":return N(()=>import("./da.18bc0ec4.js").then(function(t){return t.d}),[]);case"de-at":return N(()=>import("./de-at.a1f7dd1d.js").then(function(t){return t.d}),[]);case"de":return N(()=>import("./de.a8c4aad1.js").then(function(t){return t.d}),[]);case"el":return N(()=>import("./el.fd48dbad.js").then(function(t){return t.e}),[]);case"en-au":return N(()=>import("./en-au.1268cbf1.js").then(function(t){return t.e}),[]);case"en-gb":return N(()=>import("./en-gb.0165e0db.js").then(function(t){return t.e}),[]);case"en-nz":return N(()=>import("./en-nz.01361cd3.js").then(function(t){return t.e}),[]);case"eo":return N(()=>import("./eo.7ba085ab.js").then(function(t){return t.e}),[]);case"es-us":return N(()=>import("./es-us.8d0a5dcc.js").then(function(t){return t.e}),[]);case"es":return N(()=>import("./es.33209895.js").then(function(t){return t.e}),[]);case"et":return N(()=>import("./et.d879b698.js").then(function(t){return t.e}),[]);case"eu":return N(()=>import("./eu.bfb2c22e.js").then(function(t){return t.e}),[]);case"fa":return N(()=>import("./fa.d9f705ee.js").then(function(t){return t.f}),[]);case"fi":return N(()=>import("./fi.5a2e9662.js").then(function(t){return t.f}),[]);case"fr-ca":return N(()=>import("./fr-ca.cd8c81b9.js").then(function(t){return t.f}),[]);case"fr-ch":return N(()=>import("./fr-ch.d9522a23.js").then(function(t){return t.f}),[]);case"fr":return N(()=>import("./fr.56b3c7ac.js").then(function(t){return t.f}),[]);case"gl":return N(()=>import("./gl.addde635.js").then(function(t){return t.g}),[]);case"he":return N(()=>import("./he.343cc1d8.js").then(function(t){return t.h}),[]);case"hi":return N(()=>import("./hi.b7726273.js").then(function(t){return t.h}),[]);case"hr":return N(()=>import("./hr.2709fc3c.js").then(function(t){return t.h}),[]);case"hu":return N(()=>import("./hu.ec48b74d.js").then(function(t){return t.h}),[]);case"hy-am":return N(()=>import("./hy-am.30c58054.js").then(function(t){return t.h}),[]);case"id":return N(()=>import("./id.08bda718.js").then(function(t){return t.i}),[]);case"is":return N(()=>import("./is.b36ebc71.js").then(function(t){return t.i}),[]);case"it":return N(()=>import("./it.3cadf6ad.js").then(function(t){return t.i}),[]);case"ja":return N(()=>import("./ja.df6f4b08.js").then(function(t){return t.j}),[]);case"ka":return N(()=>import("./ka.805bf11c.js").then(function(t){return t.k}),[]);case"kk":return N(()=>import("./kk.a6e57d44.js").then(function(t){return t.k}),[]);case"ko":return N(()=>import("./ko.08fe68a9.js").then(function(t){return t.k}),[]);case"lb":return N(()=>import("./lb.e01f5df5.js").then(function(t){return t.l}),[]);case"lt":return N(()=>import("./lt.0d291ae5.js").then(function(t){return t.l}),[]);case"lv":return N(()=>import("./lv.00399f94.js").then(function(t){return t.l}),[]);case"mk":return N(()=>import("./mk.5d734698.js").then(function(t){return t.m}),[]);case"ms":return N(()=>import("./ms.d459f765.js").then(function(t){return t.m}),[]);case"nb":return N(()=>import("./nb.a3febc82.js").then(function(t){return t.n}),[]);case"ne":return N(()=>import("./ne.afdfe3bf.js").then(function(t){return t.n}),[]);case"nl":return N(()=>import("./nl.12cdd5b8.js").then(function(t){return t.n}),[]);case"nn":return N(()=>import("./nn.535723b4.js").then(function(t){return t.n}),[]);case"pl":return N(()=>import("./pl.86440e6e.js").then(function(t){return t.p}),[]);case"pt-br":return N(()=>import("./pt-br.cc4b694f.js").then(function(t){return t.p}),[]);case"pt":return N(()=>import("./pt.73886c02.js").then(function(t){return t.p}),[]);case"ro":return N(()=>import("./ro.c45ba3d9.js").then(function(t){return t.r}),[]);case"ru":return N(()=>import("./ru.638f4fa4.js").then(function(t){return t.r}),[]);case"sk":return N(()=>import("./sk.883343ad.js").then(function(t){return t.s}),[]);case"sl":return N(()=>import("./sl.9c1d7271.js").then(function(t){return t.s}),[]);case"sq":return N(()=>import("./sq.94f802c2.js").then(function(t){return t.s}),[]);case"sr-cyrl":return N(()=>import("./sr-cyrl.cf2bde33.js").then(function(t){return t.s}),[]);case"sr":return N(()=>import("./sr.ae9ed7f6.js").then(function(t){return t.s}),[]);case"sv":return N(()=>import("./sv.4d9818be.js").then(function(t){return t.s}),[]);case"ta-in":return N(()=>import("./ta-in.58b9457c.js").then(function(t){return t.t}),[]);case"th":return N(()=>import("./th.2e10ae87.js").then(function(t){return t.t}),[]);case"tr":return N(()=>import("./tr.56778c02.js").then(function(t){return t.t}),[]);case"ug":return N(()=>import("./ug.6363a215.js").then(function(t){return t.u}),[]);case"uk":return N(()=>import("./uk.5a9060bd.js").then(function(t){return t.u}),[]);case"uz":return N(()=>import("./uz.687d7fbd.js").then(function(t){return t.u}),[]);case"vi":return N(()=>import("./vi.2bf54ce7.js").then(function(t){return t.v}),[]);case"zh-cn":return N(()=>import("./zh-cn.aac76920.js").then(function(t){return t.z}),[]);case"zh-tw":return N(()=>import("./zh-tw.d89266cf.js").then(function(t){return t.z}),[]);default:return Promise.resolve()}}async function gte(e){const t=[e,e.split("-")[0],"en-US"];let n;for(const l of t)try{const o=await hte(l);n=o.default.default||o.default;break}catch{continue}return n}async function no(e,t,n){var p,f,_,v,y,g,h,b,S,I,E;const l=Me(),o={};for(const R of t)o[R]=l.getField(e,R);const u=[];for(const R of n){const O={};for(const L of t){const q=(f=(p=o[L])==null?void 0:p.name)!=null?f:L,T=z.exports.get(R,L);let j;((v=(_=o[L])==null?void 0:_.meta)==null?void 0:v.display)&&(j=yn(o[L].meta.display)),T!=null?O[q]=(j==null?void 0:j.handler)?await j.handler(T,(h=(g=(y=o[L])==null?void 0:y.meta)==null?void 0:g.display_options)!=null?h:{},{interfaceOptions:(I=(S=(b=o[L])==null?void 0:b.meta)==null?void 0:S.options)!=null?I:{},field:(E=o[L])!=null?E:void 0,collection:e}):T:O[q]=T}u.push(O)}const r=hu.exports.parse(u),i=new Date,s=`${i.getFullYear()}${(i.getMonth()+1).toString().padStart(2,"0")}${i.getDate().toString().padStart(2,"0")}`;gu.exports.saveAs(new Blob([r],{type:"text/csv;charset=utf-8"}),`${e}-${s}.csv`)}const bte=Z({inheritAttrs:!1,props:{itemCount:{type:Number,default:null},showingCount:{type:String,default:null}}}),wte={key:0,class:"item-count"};function kte(e,t,n,l,o,u){return m(),F(Bt,{name:"fade"},{default:d(()=>[e.itemCount?(m(),A("span",wte,w(e.showingCount),1)):M("",!0)]),_:1})}var $te=H(bte,[["render",kte],["__scopeId","data-v-ceefb89c"]]);const Cte=Z({inheritAttrs:!1,props:{createCalendar:{type:Function,required:!0},destroyCalendar:{type:Function,required:!0}},emits:["update:selection"],setup(e){const t=D();return dt(()=>{e.createCalendar(t.value)}),At(()=>{e.destroyCalendar()}),{calendarElement:t}}}),Ste={class:"calendar-layout"},Fte={ref:"calendarElement"};function Vte(e,t,n,l,o,u){return m(),A("div",Ste,[$("div",Fte,null,512)])}var Ate=H(Cte,[["render",Vte],["__scopeId","data-v-36b93281"]]);const Ite=Z({inheritAttrs:!1,props:{collection:{type:String,required:!0},template:{type:String,default:null},dateFields:{type:Array,required:!0},startDateField:{type:String,default:null},endDateField:{type:String,default:null},firstDay:{type:Number,default:0}},emits:["update:template","update:startDateField","update:endDateField","update:firstDay"],setup(e,{emit:t}){const{t:n}=ae(),l=Ge(e,"template",t),o=Ge(e,"startDateField",t),u=Ge(e,"endDateField",t),r=Ge(e,"firstDay",t),i=D([]);return dt(async()=>{const s=Ua(new Date);i.value=await Promise.all([...Array(7).keys()].map(async(p,f)=>({text:await wt(mo(s,{days:f}),"EEEE"),value:f})))}),{t:n,templateWritable:l,startDateFieldWritable:o,endDateFieldWritable:u,firstDayWritable:r,firstDayOptions:i}}}),Ete={class:"field"},Dte={class:"type-label"},Pte={class:"field"},Tte={class:"type-label"},Ote={class:"field"},Lte={class:"type-label"},jte={class:"field"},Rte={class:"type-label"};function Mte(e,t,n,l,o,u){const r=c("v-field-template"),i=c("v-select");return m(),A(se,null,[$("div",Ete,[$("div",Dte,w(e.t("display_template")),1),a(r,{modelValue:e.templateWritable,"onUpdate:modelValue":t[0]||(t[0]=s=>e.templateWritable=s),collection:e.collection},null,8,["modelValue","collection"])]),$("div",Pte,[$("div",Tte,w(e.t("layouts.calendar.start_date_field")),1),a(i,{modelValue:e.startDateFieldWritable,"onUpdate:modelValue":t[1]||(t[1]=s=>e.startDateFieldWritable=s),"show-deselect":"",items:e.dateFields,"item-text":"name","item-value":"field"},null,8,["modelValue","items"])]),$("div",Ote,[$("div",Lte,w(e.t("layouts.calendar.end_date_field")),1),a(i,{modelValue:e.endDateFieldWritable,"onUpdate:modelValue":t[2]||(t[2]=s=>e.endDateFieldWritable=s),"show-deselect":"",placeholder:e.t("layouts.calendar.optional"),items:e.dateFields,"item-text":"name","item-value":"field"},null,8,["modelValue","placeholder","items"])]),$("div",jte,[$("div",Rte,w(e.t("layouts.calendar.first_day")),1),a(i,{modelValue:e.firstDayWritable,"onUpdate:modelValue":t[3]||(t[3]=s=>e.firstDayWritable=s),items:e.firstDayOptions},null,8,["modelValue","items"])])],64)}var Ute=H(Ite,[["render",Mte]]),Nte=Pl({id:"calendar",name:"$t:layouts.calendar.calendar",icon:"event",component:Ate,slots:{options:Ute,sidebar:()=>{},actions:$te},setup(e,{emit:t}){const{t:n,locale:l}=ae(),o=D(),u=Et(),r=Ge(e,"selection",t),i=Ge(e,"layoutOptions",t),{collection:s,filter:p,search:f}=ze(e),{primaryKeyField:_,fields:v}=_t(s),y=V(()=>v.value.filter(ue=>["timestamp","dateTime","date"].includes(ue.type))),g=V(()=>{if(!o.value||!I.value)return;const ue=tl(o.value.view.activeStart),_e=tl(o.value.view.activeEnd),ce={[I.value]:{_between:[ue,_e]}};if(!R.value)return ce;const oe={[R.value]:{_between:[ue,_e]}},ne={[I.value]:{_lte:ue}},x={[R.value]:{_gte:_e}};return{_or:[ce,oe,{_and:[ne,x]}]}}),h=V(()=>g.value?p.value?{_and:[p.value,g.value]}:null:p.value),b=ht(i,"template",void 0),S=ht(i,"viewInfo",void 0),I=ht(i,"startDateField",void 0),E=V(()=>v.value.find(ue=>ue.field===I.value)),R=ht(i,"endDateField",void 0),O=V(()=>v.value.find(ue=>ue.field===R.value)),L=ht(i,"firstDay",void 0),q=V(()=>{if(!_.value)return[];const ue=[_.value.field];return b.value&&ue.push(...St(b.value)),I.value&&ue.push(I.value),R.value&&ue.push(R.value),ue}),{items:T,loading:j,error:U,totalPages:B,itemCount:K,totalCount:J,changeManualSort:Y,getItems:W}=Tl(s,{sort:V(()=>{var ue;return[((ue=_.value)==null?void 0:ue.field)||""]}),page:D(1),limit:D(-1),fields:q,filter:h,search:f},!1),G=V(()=>T.value.map(ue=>ye(ue)).filter(ue=>ue)||[]),Q=V(()=>{var _e,ce,oe,ne,x,pe,ge;const ue={editable:!0,eventStartEditable:!0,eventResizableFromStart:!0,eventDurationEditable:!0,dayMaxEventRows:!0,height:"100%",firstDay:(_e=L.value)!=null?_e:0,nextDayThreshold:"01:00:00",plugins:[bu,wu,ku,$u],initialView:(oe=(ce=S.value)==null?void 0:ce.type)!=null?oe:"dayGridMonth",headerToolbar:{left:"prevYear,prev,next,nextYear today",center:"title",right:"dayGridMonth,dayGridWeek,dayGridDay,listWeek"},views:{dayGridMonth:{eventTimeFormat:{hour:"numeric",minute:"2-digit",meridiem:"narrow"}}},events:G.value,initialDate:(x=(ne=S.value)==null?void 0:ne.startDateStr)!=null?x:tl(new Date),eventClick($e){var we;if(!!s.value)if(e.selectMode||((we=r.value)==null?void 0:we.length)>0){const be=T.value.find(De=>De[_.value.field]==$e.event.id);if(be){const De=be[_.value.field];r.value.includes(De)?r.value=r.value.filter(qe=>qe!==De):r.value=[...r.value,De],le()}}else{const be=$e.event.id,De=s.value.startsWith("directus")?s.value.substring(9):`content/${s.value}`;Gt.push(`/${De}/${be}`)}},async eventChange($e){if(!s.value||!I.value||!E.value)return;const we={[I.value]:fe($e.event.startStr,E.value.type)};R.value&&O.value&&$e.event.endStr&&(we[R.value]=fe($e.event.endStr,O.value.type));const be=s.value.startsWith("directus")?s.value.substring(9):`/items/${s.value}`;try{await me.patch(`${be}/${$e.event.id}`,we)}catch(De){Pe(De)}}};return(((pe=E.value)==null?void 0:pe.type)==="dateTime"||((ge=E.value)==null?void 0:ge.type)==="timestamp")&&(ue.headerToolbar=Ie(ve({},ue.headerToolbar),{right:"dayGridMonth,timeGridWeek,timeGridDay,listWeek"})),ue});he(()=>u.sidebarOpen,()=>setTimeout(()=>{var ue;return(ue=o.value)==null?void 0:ue.updateSize()},300)),he(Q,()=>le(),{deep:!0,immediate:!0}),he([o,l],async()=>{if(o.value){const ue=await gte(l.value);o.value.setOption("locale",ue)}},{immediate:!0});const X=V(()=>K.value?n("item_count",K.value):null);return{items:T,loading:j,error:U,totalPages:B,itemCount:K,totalCount:J,changeManualSort:Y,getItems:W,filterWithCalendarView:h,template:b,dateFields:y,startDateField:I,endDateField:R,firstDay:L,showingCount:X,createCalendar:te,destroyCalendar:re,download:ee};function ee(){!s.value||no(s.value,q.value,T.value)}function le(){o.value&&(o.value.pauseRendering(),o.value.resetOptions(Q.value),o.value.resumeRendering(),o.value.render())}function te(ue){o.value=new Cu(ue,Q.value),o.value.on("datesSet",_e=>{S.value={type:_e.view.type,startDateStr:tl(_e.view.currentStart)}}),o.value.render()}function re(){var ue;(ue=o.value)==null||ue.destroy()}function ye(ue){if(!I.value||!_.value)return null;let _e;const ce=O.value&&O.value.type==="date";if(R.value)if(ce&&qa(ue[R.value])){const ne=Yt(ue[R.value],"yyyy-MM-dd",new Date);ne.setDate(ne.getDate()+1),_e=_n(ne,"yyyy-MM-dd")}else _e=ue[R.value];const oe=ue[_.value.field];return{id:oe,title:Po(b.value||`{{ ${_.value.field} }}`,ue)||void 0,start:ue[I.value],end:_e,allDay:ce,className:r.value.includes(oe)?"selected":void 0}}function fe(ue,_e){return _e==="dateTime"?ue.substring(0,19):ue}}}),Bte=Object.freeze(Object.defineProperty({__proto__:null,default:Nte},Symbol.toStringTag,{value:"Module"}));const qte=Z({inheritAttrs:!1,props:{itemCount:{type:Number,default:null},showingCount:{type:String,required:!0}}}),zte={key:0,class:"item-count"};function Kte(e,t,n,l,o,u){return m(),F(Bt,{name:"fade"},{default:d(()=>[e.itemCount?(m(),A("span",zte,w(e.showingCount),1)):M("",!0)]),_:1})}var Wte=H(qte,[["render",Kte],["__scopeId","data-v-4039d1ee"]]);const Hte=Z({props:{icon:{type:String,default:"box"},file:{type:Object,default:null},crop:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},item:{type:Object,default:null},modelValue:{type:Array,default:()=>[]},selectMode:{type:Boolean,default:!1},to:{type:String,default:""},readonly:{type:Boolean,default:!1},itemKey:{type:String,required:!0}},emits:["update:modelValue"],setup(e,{emit:t}){const n=it(),l=D(!1),o=V(()=>!e.file||!e.file.type||!l.value&&e.file.type.startsWith("image")?null:an(e.file.type,!0)),u=V(()=>{if(!e.file||!e.file.type||e.file.type.startsWith("image")===!1||e.file.type.includes("svg"))return null;let f="system-medium-cover";e.crop===!1&&(f="system-medium-contain");const _=tt()+`assets/${e.file.id}?key=${f}&modified=${e.file.modified_on}`;return ct(_)}),r=V(()=>{if(!e.file||!e.file.type||e.file.type.startsWith("image")===!1||e.file.type.includes("svg")===!1)return null;const f=tt()+`assets/${e.file.id}?modified=${e.file.modified_on}`;return ct(f)}),i=V(()=>e.item&&e.modelValue.includes(e.item[e.itemKey])?"check_circle":"radio_button_unchecked");return{imageSource:u,svgSource:r,type:o,selectionIcon:i,toggleSelection:s,handleClick:p,imgError:l};function s(){if(!e.item)return null;e.modelValue.includes(e.item[e.itemKey])?t("update:modelValue",e.modelValue.filter(f=>f!==e.item[e.itemKey])):t("update:modelValue",[...e.modelValue,e.item[e.itemKey]])}function p(){e.selectMode===!0?s():n.push(e.to)}}}),Gte=e=>(xe("data-v-2e8a51cf"),e=e(),et(),e),Zte={class:"header"},Jte=Gte(()=>$("div",{class:"selection-fade"},null,-1)),Xte=["src"],Yte=["src"],Qte={key:0,class:"title"},xte={key:1,class:"subtitle"};function ene(e,t,n,l,o,u){const r=c("v-icon"),i=c("v-skeleton-loader"),s=c("v-icon-file");return m(),A("div",{class:de(["card",{loading:e.loading,readonly:e.readonly,selected:e.item&&e.modelValue.includes(e.item[e.itemKey]),"select-mode":e.selectMode}]),onClick:t[2]||(t[2]=(...p)=>e.handleClick&&e.handleClick(...p))},[a(r,{class:"selector",name:e.selectionIcon,onClick:Te(e.toggleSelection,["stop"])},null,8,["name","onClick"]),$("div",Zte,[Jte,e.loading?(m(),F(i,{key:0})):(m(),A(se,{key:1},[e.type||e.imgError?(m(),F(s,{key:0,ext:e.type},null,8,["ext"])):(m(),A(se,{key:1},[e.imageSource?(m(),A("img",{key:0,class:"image",loading:"lazy",src:e.imageSource,alt:"",role:"presentation",onError:t[0]||(t[0]=p=>e.imgError=!0)},null,40,Xte)):e.svgSource?(m(),A("img",{key:1,class:"svg",src:e.svgSource,alt:"",role:"presentation",onError:t[1]||(t[1]=p=>e.imgError=!0)},null,40,Yte)):(m(),F(r,{key:2,large:"",name:e.icon},null,8,["name"]))],64))],64))]),e.loading?(m(),F(i,{key:0,type:"text"})):(m(),A(se,{key:1},[e.$slots.title?(m(),A("div",Qte,[ke(e.$slots,"title",{},void 0,!0)])):M("",!0),e.$slots.subtitle?(m(),A("div",xte,[ke(e.$slots,"subtitle",{},void 0,!0)])):M("",!0)],64))],2)}var tne=H(Hte,[["render",ene],["__scopeId","data-v-2e8a51cf"]]);const nne=Z({props:{fields:{type:Array,required:!0},size:{type:Number,required:!0},sort:{type:Array,required:!0},showSelect:{type:String,default:"multiple"},selection:{type:Array,default:()=>[]}},emits:["select-all","update:size","update:sort","update:selection"],setup(e,{emit:t}){const{t:n}=ae(),l=Ge(e,"size",t),o=Ge(e,"sort",t),u=Ge(e,"selection",t),r=V(()=>e.sort[0].startsWith("-")),i=V(()=>e.sort[0].startsWith("-")?e.sort[0].substring(1):e.sort[0]),s=V(()=>e.fields.find(v=>v.field===i.value)),p=V(()=>e.fields.filter(v=>v.field.startsWith("$")===!1).map(v=>({field:v.field,name:v.name,disabled:["json","o2m","m2o","m2a","file","files","alias","presentation"].includes(v.type)})));return{t:n,toggleSize:f,descending:r,toggleDescending:_,sortField:s,sizeSync:l,sortSync:o,selectionSync:u,sortKey:i,fieldsWithoutFake:p};function f(){e.size>=2&&e.size<5?l.value++:l.value=2}function _(){r.value===!0?o.value=[o.value[0].substring(1)]:o.value=["-"+o.value]}}}),lne={class:"cards-header"},one={class:"start"},ane={class:"label"},ine={class:"label"},rne={class:"end"},sne=["onClick"];function dne(e,t,n,l,o,u){const r=c("v-icon"),i=c("v-list-item-content"),s=c("v-list-item"),p=c("v-list"),f=c("v-menu"),_=Fe("tooltip");return m(),A("div",lne,[$("div",one,[e.selectionSync.length>0?(m(),A("div",{key:0,class:"selected",onClick:t[0]||(t[0]=v=>e.selectionSync=[])},[a(r,{name:"cancel",outline:""}),$("span",ane,w(e.t("n_items_selected",e.selectionSync.length)),1)])):(m(),A("button",{key:1,class:"select-all",onClick:t[1]||(t[1]=v=>e.showSelect==="multiple"?e.$emit("select-all"):void 0)},[a(r,{name:"check_circle",outline:""}),$("span",ine,w(e.t(e.showSelect==="multiple"?"select_all":"select_an_item")),1)]))]),$("div",rne,[ie(a(r,{class:"size-selector",name:`grid_${7-e.size}`,clickable:"",onClick:e.toggleSize},null,8,["name","onClick"]),[[_,e.t("card_size"),void 0,{top:!0}]]),a(f,{"show-arrow":"",placement:"bottom"},{activator:d(({toggle:v})=>[ie($("div",{class:"sort-selector",onClick:v},[P(w(e.sortField&&e.sortField.name),1)],8,sne),[[_,e.t("sort_field"),void 0,{top:!0}]])]),default:d(()=>[a(p,null,{default:d(()=>[(m(!0),A(se,null,Ve(e.fieldsWithoutFake,v=>(m(),F(s,{key:v.field,disabled:v.disabled,active:v.field===e.sortKey,clickable:"",onClick:y=>e.sortSync=[v.field]},{default:d(()=>[a(i,null,{default:d(()=>[P(w(v.name),1)]),_:2},1024)]),_:2},1032,["disabled","active","onClick"]))),128))]),_:1})]),_:1}),ie(a(r,{class:de(["sort-direction",{descending:e.descending}]),name:"sort",clickable:"",onClick:e.toggleDescending},null,8,["class","onClick"]),[[_,e.t("sort_direction"),void 0,{top:!0}]])])])}var une=H(nne,[["render",dne],["__scopeId","data-v-e1acf4b8"]]);const cne=Z({components:{Card:tne,CardsHeader:une},inheritAttrs:!1,props:{collection:{type:String,required:!0},selection:{type:Array,required:!0},showSelect:{type:String,default:"multiple"},selectMode:{type:Boolean,required:!0},readonly:{type:Boolean,required:!0},items:{type:Array,required:!0},loading:{type:Boolean,required:!0},error:{type:Object,default:null},totalPages:{type:Number,required:!0},page:{type:Number,required:!0},toPage:{type:Function,required:!0},itemCount:{type:Number,default:null},fieldsInCollection:{type:Array,required:!0},limit:{type:Number,required:!0},size:{type:Number,required:!0},primaryKeyField:{type:Object,default:null},icon:{type:String,required:!0},imageSource:{type:String,default:null},title:{type:String,default:null},subtitle:{type:String,default:null},getLinkForItem:{type:Function,required:!0},imageFit:{type:String,required:!0},sort:{type:Array,required:!0},info:{type:Object,default:null},isSingleRow:{type:Boolean,required:!0},width:{type:Number,required:!0},selectAll:{type:Function,required:!0},resetPresetAndRefresh:{type:Function,required:!0},filter:{type:Object,default:null},search:{type:String,default:null}},emits:["update:selection","update:limit","update:size","update:sort","update:width"],setup(e,{emit:t}){const{t:n}=ae(),l=Ge(e,"selection",t),o=Ge(e,"limit",t),u=Ge(e,"size",t),r=Ge(e,"sort",t),i=vt("main-element"),s=D(),{width:p}=Sn(s);return he(()=>e.page,()=>{var f;return(f=i.value)==null?void 0:f.scrollTo({top:0,behavior:"smooth"})}),he(p,()=>{t("update:width",p.value)}),{t:n,selectionWritable:l,limitWritable:o,sizeWritable:u,sortWritable:r,layoutElement:s}}}),pne={class:"footer"},mne={class:"pagination"},fne={key:0,class:"per-page"};function _ne(e,t,n,l,o,u){const r=c("cards-header"),i=c("render-template"),s=c("card"),p=c("v-pagination"),f=c("v-select"),_=c("v-error"),v=c("v-button"),y=c("v-info");return m(),A("div",{ref:"layoutElement",class:"layout-cards",style:Je({"--size":e.size*40+"px"})},[e.loading||e.itemCount>0?(m(),A(se,{key:0},[a(r,{size:e.sizeWritable,"onUpdate:size":t[0]||(t[0]=g=>e.sizeWritable=g),selection:e.selectionWritable,"onUpdate:selection":t[1]||(t[1]=g=>e.selectionWritable=g),sort:e.sortWritable,"onUpdate:sort":t[2]||(t[2]=g=>e.sortWritable=g),fields:e.fieldsInCollection,"show-select":e.showSelect,onSelectAll:e.selectAll},null,8,["size","selection","sort","fields","show-select","onSelectAll"]),$("div",{class:de(["grid",{"single-row":e.isSingleRow}])},[(m(!0),A(se,null,Ve(e.items,g=>(m(),F(s,{key:g[e.primaryKeyField.field],modelValue:e.selectionWritable,"onUpdate:modelValue":t[3]||(t[3]=h=>e.selectionWritable=h),"item-key":e.primaryKeyField.field,crop:e.imageFit==="crop",icon:e.icon,file:e.imageSource?g[e.imageSource]:null,item:g,"select-mode":e.selectMode||e.selection&&e.selection.length>0,to:e.getLinkForItem(g),readonly:e.readonly},at({_:2},[e.title?{name:"title",fn:d(()=>[a(i,{collection:e.collection,item:g,template:e.title},null,8,["collection","item","template"])])}:void 0,e.subtitle?{name:"subtitle",fn:d(()=>[a(i,{collection:e.collection,item:g,template:e.subtitle},null,8,["collection","item","template"])])}:void 0]),1032,["modelValue","item-key","crop","icon","file","item","select-mode","to","readonly"]))),128))],2),$("div",pne,[$("div",mne,[e.totalPages>1?(m(),F(p,{key:0,length:e.totalPages,"total-visible":7,"show-first-last":"","model-value":e.page,"onUpdate:modelValue":e.toPage},null,8,["length","model-value","onUpdate:modelValue"])):M("",!0)]),e.loading===!1&&e.items.length>=25?(m(),A("div",fne,[$("span",null,w(e.t("per_page")),1),a(f,{"model-value":`${e.limit}`,items:["25","50","100","250","500","1000"],inline:"","onUpdate:modelValue":t[4]||(t[4]=g=>e.limitWritable=+g)},null,8,["model-value"])])):M("",!0)])],64)):e.error?(m(),F(y,{key:1,type:"danger",title:e.t("unexpected_error"),icon:"error",center:""},{append:d(()=>[a(_,{error:e.error},null,8,["error"]),a(v,{small:"",class:"reset-preset",onClick:e.resetPresetAndRefresh},{default:d(()=>[P(w(e.t("reset_page_preferences")),1)]),_:1},8,["onClick"])]),default:d(()=>[P(w(e.t("unexpected_error_copy"))+" ",1)]),_:1},8,["title"])):e.itemCount===0&&(e.filter||e.search)?ke(e.$slots,"no-results",{key:2},void 0,!0):e.itemCount===0?ke(e.$slots,"no-items",{key:3},void 0,!0):M("",!0)],4)}var vne=H(cne,[["render",_ne],["__scopeId","data-v-49bc126c"]]);const yne=Z({inheritAttrs:!1,props:{collection:{type:String,required:!0},icon:{type:String,required:!0},fileFields:{type:Array,required:!0},imageSource:{type:String,default:null},title:{type:String,default:null},subtitle:{type:String,default:null},imageFit:{type:String,required:!0}},emits:["update:icon","update:imageSource","update:title","update:subtitle","update:imageFit"],setup(e,{emit:t}){const{t:n}=ae(),l=Ge(e,"icon",t),o=Ge(e,"imageSource",t),u=Ge(e,"title",t),r=Ge(e,"subtitle",t),i=Ge(e,"imageFit",t);return{t:n,iconWritable:l,imageSourceWritable:o,titleWritable:u,subtitleWritable:r,imageFitWritable:i}}}),hne={class:"field"},gne={class:"type-label"},bne={class:"field"},wne={class:"type-label"},kne={class:"field"},$ne={class:"type-label"},Cne={class:"nested-options"},Sne={class:"field"},Fne={class:"type-label"},Vne={class:"field"},Ane={class:"type-label"};function Ine(e,t,n,l,o,u){const r=c("v-select"),i=c("v-field-template"),s=c("interface-select-icon"),p=c("v-detail");return m(),A(se,null,[$("div",hne,[$("div",gne,w(e.t("layouts.cards.image_source")),1),a(r,{modelValue:e.imageSourceWritable,"onUpdate:modelValue":t[0]||(t[0]=f=>e.imageSourceWritable=f),"show-deselect":"","item-value":"field","item-text":"name",items:e.fileFields},null,8,["modelValue","items"])]),$("div",bne,[$("div",wne,w(e.t("layouts.cards.title")),1),a(i,{modelValue:e.titleWritable,"onUpdate:modelValue":t[1]||(t[1]=f=>e.titleWritable=f),collection:e.collection},null,8,["modelValue","collection"])]),$("div",kne,[$("div",$ne,w(e.t("layouts.cards.subtitle")),1),a(i,{modelValue:e.subtitleWritable,"onUpdate:modelValue":t[2]||(t[2]=f=>e.subtitleWritable=f),collection:e.collection},null,8,["modelValue","collection"])]),a(p,{class:"field"},{title:d(()=>[P(w(e.t("advanced")),1)]),default:d(()=>[$("div",Cne,[$("div",Sne,[$("div",Fne,w(e.t("layouts.cards.image_fit")),1),a(r,{modelValue:e.imageFitWritable,"onUpdate:modelValue":t[3]||(t[3]=f=>e.imageFitWritable=f),disabled:e.imageSource===null,items:[{text:e.t("layouts.cards.crop"),value:"crop"},{text:e.t("layouts.cards.contain"),value:"contain"}]},null,8,["modelValue","disabled","items"])]),$("div",Vne,[$("div",Ane,w(e.t("fallback_icon")),1),a(s,{value:e.icon,onInput:t[4]||(t[4]=f=>e.iconWritable=f)},null,8,["value"])])])]),_:1})],64)}var Ene=H(yne,[["render",Ine],["__scopeId","data-v-04d20ce4"]]),Dne=Pl({id:"cards",name:"$t:layouts.cards.cards",icon:"grid_4",component:vne,slots:{options:Ene,sidebar:()=>{},actions:Wte},setup(e,{emit:t}){const{t:n,n:l}=ae(),o=mt(),u=Ge(e,"selection",t),r=Ge(e,"layoutOptions",t),i=Ge(e,"layoutQuery",t),{collection:s,filter:p,search:f,filterUser:_}=ze(e),{info:v,primaryKeyField:y,fields:g}=_t(s),h=V(()=>g.value.filter(oe=>oe.field==="$thumbnail"?!0:!!o.relations.find(x=>x.collection===e.collection&&x.field===oe.field&&x.related_collection==="directus_files"))),{size:b,icon:S,imageSource:I,title:E,subtitle:R,imageFit:O}=fe(),{sort:L,limit:q,page:T,fields:j}=ue(),{items:U,loading:B,error:K,totalPages:J,itemCount:Y,totalCount:W,getItems:G}=Tl(s,{sort:L,limit:q,page:T,fields:j,filter:p,search:f}),Q=V(()=>(Y.value||0)<(W.value||0)&&_.value?Y.value===1?n("one_filtered_item"):n("start_end_of_count_filtered_items",{start:l((+T.value-1)*q.value+1),end:l(Math.min(T.value*q.value,Y.value||0)),count:l(Y.value||0)}):Y.value===1?n("one_item"):n("start_end_of_count_items",{start:l((+T.value-1)*q.value+1),end:l(Math.min(T.value*q.value,Y.value||0)),count:l(Y.value||0)})),X=D(0),ee=V(()=>U.value.length*(b.value*40)+(U.value.length-1)*24<=X.value);return{items:U,loading:B,error:K,totalPages:J,page:T,toPage:ye,itemCount:Y,totalCount:W,fieldsInCollection:g,limit:q,size:b,primaryKeyField:y,icon:S,fileFields:h,imageSource:I,title:E,subtitle:R,getLinkForItem:_e,imageFit:O,sort:L,info:v,showingCount:Q,isSingleRow:ee,width:X,refresh:te,selectAll:ce,resetPresetAndRefresh:le,filter:p,search:f,download:re};async function le(){var oe;await((oe=e==null?void 0:e.resetPreset)==null?void 0:oe.call(e)),te()}function te(){G()}function re(){!s.value||no(s.value,j.value,U.value)}function ye(oe){T.value=oe}function fe(){var be,De;const oe=we("size",4),ne=we("icon","box"),x=we("title",null),pe=we("subtitle",null),ge=we("imageSource",(De=(be=h.value[0])==null?void 0:be.field)!=null?De:null),$e=we("imageFit","crop");return{size:oe,icon:ne,imageSource:ge,title:x,subtitle:pe,imageFit:$e};function we(qe,Ke){return V({get(){var je,Ue;return((je=r.value)==null?void 0:je[qe])!==void 0?(Ue=r.value)==null?void 0:Ue[qe]:Ke},set(je){r.value=Ie(ve({},r.value),{[qe]:je})}})}}function ue(){const oe=ht(i,"page",1),ne=ht(i,"limit",25),x=V(()=>{var $e;return y.value?[($e=y.value)==null?void 0:$e.field]:[]}),pe=ht(i,"sort",x),ge=V(()=>{if(!y.value||!e.collection)return[];const $e=[y.value.field];I.value&&($e.push(`${I.value}.modified_on`),$e.push(`${I.value}.type`),$e.push(`${I.value}.filename_disk`),$e.push(`${I.value}.storage`),$e.push(`${I.value}.id`)),e.collection==="directus_files"&&I.value==="$thumbnail"&&($e.push("modified_on"),$e.push("type"));const we=[];return E.value&&we.push(...St(E.value)),R.value&&we.push(...St(R.value)),[...$e,...tn(we,e.collection)]});return{sort:pe,limit:ne,page:oe,fields:ge}}function _e(oe){if(!!y.value)return`/content/${e.collection}/${encodeURIComponent(oe[y.value.field])}`}function ce(){if(!y.value)return;const oe=y.value;u.value=z.exports.clone(U.value).map(ne=>ne[oe.field])}}}),Pne=Object.freeze(Object.defineProperty({__proto__:null,default:Dne},Symbol.toStringTag,{value:"Module"}));const Tne=Z({inheritAttrs:!1,props:{itemCount:{type:Number,default:null},showingCount:{type:String,required:!0}}}),One={key:0,class:"item-count"};function Lne(e,t,n,l,o,u){return m(),F(Bt,{name:"fade"},{default:d(()=>[e.itemCount?(m(),A("span",One,w(e.showingCount),1)):M("",!0)]),_:1})}var jne=H(Tne,[["render",Lne],["__scopeId","data-v-08898882"]]);const Rne=Z({components:{},props:{data:{type:Object,required:!0},source:{type:Object,required:!0},layers:{type:Array,default:()=>[]},camera:{type:Object,default:()=>({})},bounds:{type:Array,default:void 0},featureId:{type:String,default:void 0},selection:{type:Array,default:()=>[]},showSelect:{type:String,default:"multiple"}},emits:["moveend","featureclick","featureselect","fitdata","updateitempopup"],setup(e,{emit:t}){const{t:n}=ae(),l=Et();let o;const u=D(),r=D(),i=D(),s=D(),p=[],{sidebarOpen:f,basemap:_}=ze(l),v=Xn("mapbox_key"),y=_l(),g=V(()=>{var ee;const X=(ee=y.find(le=>le.name===_.value))!=null?ee:y[0];return ea(X)}),h=new Qt.exports.AttributionControl,b=new Qt.exports.NavigationControl({showCompass:!1}),S=new Qt.exports.GeolocateControl,I=new ha("mapboxgl-ctrl-fitdata",()=>{t("fitdata")}),E=new TX({boxElementClass:"map-selection-box",selectButtonClass:"mapboxgl-ctrl-select",layers:["__directus_polygons","__directus_points","__directus_lines"]});let R;if(v){const X=document.createElement("div");X.className="mapboxgl-user-location-dot mapboxgl-search-location-dot",R=new Ka({accessToken:v,collapsed:!0,marker:{element:X},flyTo:{speed:1.4},mapboxgl:uo,placeholder:n("layouts.map.find_location")})}return dt(()=>{O()}),At(()=>{o.remove()}),{container:s,hoveredFeature:u,hoveredCluster:r,selectMode:i};function O(){o=new Qt.exports.Map(ve(ve({container:"map-container",style:g.value,dragRotate:!1,attributionControl:!1},e.camera),v?{accessToken:v}:{})),R&&o.addControl(R,"top-right"),o.addControl(h,"bottom-left"),o.addControl(b,"top-left"),o.addControl(S,"top-left"),o.addControl(I,"top-left"),o.addControl(E,"top-left"),o.on("load",()=>{he(()=>g.value,q),he(()=>e.bounds,L);const X=["__directus_polygons","__directus_points","__directus_lines"];for(const ee of X)o.on("click",ee,J),o.on("mousemove",ee,Y),o.on("mouseleave",ee,Y);o.on("move",W),o.on("click","__directus_clusters",G),o.on("mousemove","__directus_clusters",Q),o.on("mouseleave","__directus_clusters",Q),o.on("select.enable",()=>i.value=!0),o.on("select.disable",()=>i.value=!1),o.on("select.end",ee=>{var te;const le=(te=ee.features)==null?void 0:te.map(re=>re.id);t("featureselect",{ids:le,replace:!ee.alt})}),o.on("moveend",ee=>{!ee.originalEvent||t("moveend",{center:o.getCenter(),zoom:o.getZoom(),bearing:o.getBearing(),pitch:o.getPitch(),bbox:o.getBounds().toArray().flat()})}),T()}),he(()=>f.value,X=>{X||setTimeout(()=>o.resize(),300)}),setTimeout(()=>o.resize(),300)}function L(){const X=e.data.bbox;o&&X&&o.fitBounds(X,{padding:100,speed:1.3,maxZoom:14})}function q(X){p.forEach(ee=>ee()),p.length=0,o.setStyle(X,{diff:!1}),o.once("styledata",T)}function T(){p.push(he(()=>e.source,U,{immediate:!0}),he(()=>e.selection,K,{immediate:!0}),he(()=>e.layers,B),he(()=>e.data,j))}function j(X){o.getSource("__directus").setData(X),K(e.selection,void 0)}function U(X){var le,te;const ee=new Set((le=o.getStyle().layers)==null?void 0:le.map(({id:re})=>re));for(const re of e.layers)ee.has(re.id)&&o.removeLayer(re.id);e.featureId?X.promoteId=e.featureId:X.generateId=!0,((te=o.getStyle().sources)==null?void 0:te.__directus)&&o.removeSource("__directus"),o.addSource("__directus",Ie(ve({},X),{data:e.data})),o.once("sourcedata",()=>{setTimeout(()=>e.layers.forEach(re=>o.addLayer(re)))})}function B(X,ee){var te;const le=new Set((te=o.getStyle().layers)==null?void 0:te.map(({id:re})=>re));ee==null||ee.forEach(re=>{le.has(re.id)&&o.removeLayer(re.id)}),X==null||X.forEach(re=>{o.addLayer(re)})}function K(X,ee){ee==null||ee.forEach(le=>{o.setFeatureState({id:le,source:"__directus"},{selected:!1}),o.removeFeatureState({id:le,source:"__directus"})}),X==null||X.forEach(le=>{o.setFeatureState({id:le,source:"__directus"},{selected:!0})})}function J(X){var te;const ee=(te=X.features)==null?void 0:te[0],le=e.showSelect==="multiple"?!1:!X.originalEvent.altKey;ee&&e.featureId&&(E.active()?t("featureselect",{ids:[ee.id],replace:le}):t("featureclick",{id:ee.id,replace:le}))}function Y(X){var re;const ee=o.queryRenderedFeatures(X.point,{layers:["__directus_polygons","__directus_points","__directus_lines"]})[0],le=(re=u.value)==null?void 0:re.id,te=le!==(ee==null?void 0:ee.id);if(le&&te&&o.setFeatureState({id:le,source:"__directus"},{hovered:!1}),ee&&ee.properties){if(ee.geometry.type==="Point"){const{x:ye,y:fe}=o.project(ee.geometry.coordinates),ue=o.getContainer().getBoundingClientRect();t("updateitempopup",{position:{x:ue.x+ye,y:ue.y+fe}})}else{const{clientX:ye,clientY:fe}=X.originalEvent;t("updateitempopup",{position:{x:ye,y:fe}})}te&&(o.setFeatureState({id:ee.id,source:"__directus"},{hovered:!0}),u.value=ee,t("updateitempopup",{item:ee.id}))}else te&&(u.value=ee,t("updateitempopup",{item:null}))}function W(X){if(u.value&&X.originalEvent){const{x:ee,y:le}=X.originalEvent;t("updateitempopup",{position:{x:ee,y:le}})}}function G(X){var re,ye;const ee=o.queryRenderedFeatures(X.point,{layers:["__directus_clusters"]}),le=(ye=(re=ee[0])==null?void 0:re.properties)==null?void 0:ye.cluster_id;o.getSource("__directus").getClusterExpansionZoom(le,(fe,ue)=>{fe||o.flyTo({center:ee[0].geometry.coordinates,zoom:ue,speed:1.3})})}function Q(X){X.type=="mousemove"?r.value=!0:r.value=!1}}});function Mne(e,t,n,l,o,u){return m(),A("div",{id:"map-container",ref:"container",class:de({select:e.selectMode,hover:e.hoveredFeature||e.hoveredCluster})},null,2)}var Une=H(Rne,[["render",Mne],["__scopeId","data-v-79e17d14"]]);const Nne=Z({components:{MapComponent:Une},inheritAttrs:!1,props:{collection:{type:String,required:!0},selection:{type:Array,default:()=>[]},loading:{type:Boolean,required:!0},error:{type:Object,default:null},geojsonError:{type:String,default:null},geometryOptions:{type:Object,default:void 0},geojson:{type:Object,required:!0},featureId:{type:String,default:null},geojsonBounds:{type:Object,default:void 0},directusSource:{type:Object,required:!0},directusLayers:{type:Array,required:!0},handleClick:{type:Function,required:!0},handleSelect:{type:Function,required:!0},cameraOptions:{type:Object,default:void 0},resetPresetAndRefresh:{type:Function,required:!0},geojsonLoading:{type:Boolean,required:!0},itemCount:{type:Number,default:null},totalPages:{type:Number,required:!0},page:{type:Number,required:!0},toPage:{type:Function,required:!0},limit:{type:Number,required:!0},autoLocationFilter:{type:Boolean,default:void 0},fitDataBounds:{type:Function,required:!0},template:{type:String,default:()=>{}},itemPopup:{type:Object,default:()=>{}},updateItemPopup:{type:Function,required:!0}},emits:["update:cameraOptions","update:limit"],setup(e,{emit:t}){const{t:n,n:l}=ae(),o=Ge(e,"cameraOptions",t),u=Ge(e,"limit",t);return{t:n,n:l,cameraOptionsWritable:o,limitWritable:u}}}),Bne={class:"layout-map"},qne={key:0,class:"footer"},zne={key:0,class:"pagination"},Kne={class:"mapboxgl-ctrl-dropdown"};function Wne(e,t,n,l,o,u){const r=c("map-component"),i=c("render-template"),s=c("v-error"),p=c("v-button"),f=c("v-info"),_=c("v-progress-circular"),v=c("v-pagination"),y=c("v-select");return m(),A("div",Bne,[a(r,{ref:"map",class:de(["mapboxgl-map",{loading:e.loading,error:e.error||e.geojsonError||!e.geometryOptions}]),data:e.geojson,"feature-id":e.featureId,selection:e.selection,camera:e.cameraOptions,bounds:e.geojsonBounds,source:e.directusSource,layers:e.directusLayers,onFeatureclick:e.handleClick,onFeatureselect:e.handleSelect,onMoveend:t[0]||(t[0]=g=>e.cameraOptionsWritable=g),onFitdata:e.fitDataBounds,onUpdateitempopup:e.updateItemPopup},null,8,["class","data","feature-id","selection","camera","bounds","source","layers","onFeatureclick","onFeatureselect","onFitdata","onUpdateitempopup"]),a(Bt,{name:"fade"},{default:d(()=>[e.itemPopup.item?(m(),A("div",{key:0,class:"popup",style:Je({top:e.itemPopup.position.y+"px",left:e.itemPopup.position.x+"px"})},[a(i,{template:e.template,item:e.itemPopup.item,collection:e.collection},null,8,["template","item","collection"])],4)):M("",!0)]),_:1}),a(Bt,{name:"fade"},{default:d(()=>[e.error?(m(),F(f,{key:0,type:"danger",title:e.t("unexpected_error"),icon:"error",center:""},{append:d(()=>[a(s,{error:e.error},null,8,["error"]),a(p,{small:"",class:"reset-preset",onClick:e.resetPresetAndRefresh},{default:d(()=>[P(w(e.t("reset_page_preferences")),1)]),_:1},8,["onClick"])]),default:d(()=>[P(w(e.t("unexpected_error_copy"))+" ",1)]),_:1},8,["title"])):e.geojsonError?(m(),F(f,{key:1,type:"warning",icon:"wrong_location",center:"",title:e.t("layouts.map.invalid_geometry")},{default:d(()=>[P(w(e.geojsonError),1)]),_:1},8,["title"])):e.loading||e.geojsonLoading?(m(),F(_,{key:2,indeterminate:"","x-large":"",class:"center"})):M("",!0)]),_:1}),e.loading||e.itemCount>0?(m(),A("div",qne,[e.totalPages>1?(m(),A("div",zne,[a(v,{length:e.totalPages,"total-visible":7,"show-first-last":"","model-value":e.page,"onUpdate:modelValue":e.toPage},null,8,["length","model-value","onUpdate:modelValue"])])):M("",!0),$("div",Kne,[$("span",null,w(e.t("limit")),1),a(y,{"model-value":e.limit,items:[{text:e.n(100),value:100},{text:e.n(1e3),value:1e3},{text:e.n(1e4),value:1e4},{text:e.n(1e5),value:1e5}],inline:"","onUpdate:modelValue":t[1]||(t[1]=g=>e.limitWritable=+g)},null,8,["model-value","items"])])])):M("",!0)])}var Hne=H(Nne,[["render",Wne],["__scopeId","data-v-36f76c2e"]]);const Gne=Z({inheritAttrs:!1,props:{collection:{type:String,required:!0},geometryFields:{type:Array,required:!0},geometryField:{type:String,default:void 0},geometryOptions:{type:Object,default:void 0},clusterData:{type:Boolean,default:void 0},displayTemplate:{type:String,default:void 0}},emits:["update:geometryField","update:autoLocationFilter","update:clusterData"],setup(e,{emit:t}){const{t:n}=ae(),l=Et(),o=Ge(e,"geometryField",t),u=Ge(e,"clusterData",t),r=Ge(e,"displayTemplate",t),i=_l(),{basemap:s}=ze(l);return{t:n,geometryFieldWritable:o,clusterDataWritable:u,displayTemplateWritable:r,basemaps:i,basemap:s}}}),Zne={class:"field"},Jne={class:"type-label"},Xne={key:0,class:"field"},Yne={key:1,class:"field"},Qne={class:"type-label"},xne={class:"field"},ele={class:"type-label"},tle={class:"field"};function nle(e,t,n,l,o,u){const r=c("v-select"),i=c("v-input"),s=c("v-field-template"),p=c("v-checkbox");return m(),A(se,null,[$("div",Zne,[$("div",Jne,w(e.t("layouts.map.basemap")),1),a(r,{modelValue:e.basemap,"onUpdate:modelValue":t[0]||(t[0]=f=>e.basemap=f),items:e.basemaps.map(f=>({text:f.name,value:f.name}))},null,8,["modelValue","items"])]),e.geometryFields.length==0?(m(),A("div",Xne,[a(i,{type:"text",disabled:"",prefix:e.t("layouts.map.no_compatible_fields")},null,8,["prefix"])])):(m(),A("div",Yne,[$("div",Qne,w(e.t("layouts.map.field")),1),a(r,{modelValue:e.geometryFieldWritable,"onUpdate:modelValue":t[1]||(t[1]=f=>e.geometryFieldWritable=f),items:e.geometryFields.map(({name:f,field:_})=>({text:f,value:_}))},null,8,["modelValue","items"])])),$("div",xne,[$("div",ele,w(e.t("display_template")),1),a(s,{modelValue:e.displayTemplateWritable,"onUpdate:modelValue":t[2]||(t[2]=f=>e.displayTemplateWritable=f),collection:e.collection,placeholder:e.t("layouts.map.default_template")},null,8,["modelValue","collection","placeholder"])]),$("div",tle,[a(p,{modelValue:e.clusterDataWritable,"onUpdate:modelValue":t[3]||(t[3]=f=>e.clusterDataWritable=f),label:e.t("layouts.map.cluster"),disabled:e.geometryOptions&&e.geometryOptions.geometryType!=="Point"},null,8,["modelValue","label","disabled"])])],64)}var lle=H(Gne,[["render",nle]]);function ole(){return[{id:"__directus_polygons_outline",type:"line",source:"__directus",filter:["all",["!has","point_count"],["==","$type","Polygon"]],paint:{"line-color":["case",["boolean",["feature-state","selected"],!1],ot("--secondary"),["boolean",["feature-state","hovered"],!1],ot("--secondary"),ot("--primary")],"line-width":2},layout:{"line-join":"round"}},{id:"__directus_polygons",type:"fill",source:"__directus",filter:["all",["!has","point_count"],["==","$type","Polygon"]],paint:{"fill-color":["case",["boolean",["feature-state","selected"],!1],ot("--secondary"),["boolean",["feature-state","hovered"],!1],ot("--secondary"),ot("--primary")],"fill-opacity":.15}},{id:"__directus_lines",type:"line",source:"__directus",filter:["all",["!has","point_count"],["==","$type","LineString"]],paint:{"line-color":["case",["boolean",["feature-state","selected"],!1],ot("--secondary"),["boolean",["feature-state","hovered"],!1],ot("--secondary"),ot("--primary")],"line-width":2}},{id:"__directus_points_shadow",type:"circle",source:"__directus",filter:["all",["!has","point_count"],["==","$type","Point"]],layout:{},paint:{"circle-radius":10,"circle-blur":1,"circle-opacity":.9,"circle-color":ot("--black")}},{id:"__directus_points",type:"circle",source:"__directus",filter:["all",["!has","point_count"],["==","$type","Point"]],layout:{},paint:{"circle-radius":6,"circle-color":["case",["boolean",["feature-state","selected"],!1],ot("--secondary"),["boolean",["feature-state","hovered"],!1],ot("--secondary"),ot("--primary")],"circle-stroke-color":ot("--white"),"circle-stroke-width":2}},{id:"__directus_clusters",type:"circle",source:"__directus",filter:["has","point_count"],paint:{"circle-radius":["step",["get","point_count"],20,100,30,750,40],"circle-color":["step",["get","point_count"],"#7fe3ca",100,"#fde2a7",750,"#f0a7b3"],"circle-opacity":.7}},{id:"__directus_cluster_count",type:"symbol",source:"__directus",filter:["has","point_count"],layout:{"text-field":"{point_count_abbreviated}","text-font":["Open Sans Semibold"],"text-size":["step",["get","point_count"],15,100,17,750,19]},paint:{"text-opacity":.85}}]}var ale=Pl({id:"map",name:"$t:layouts.map.map",icon:"map",smallHeader:!0,component:Hne,slots:{options:lle,sidebar:()=>{},actions:jne},setup(e,{emit:t}){const{t:n,n:l}=ae(),o=it(),u=Ge(e,"selection",t),r=Ge(e,"layoutOptions",t),i=Ge(e,"layoutQuery",t),{collection:s,filter:p,filterUser:f,search:_}=ze(e),{info:v,primaryKeyField:y,fields:g}=_t(s),h=ht(i,"page",1),b=ht(i,"limit",1e3),S=V(()=>{var Se;return y.value?[(Se=y.value)==null?void 0:Se.field]:[]}),I=ht(i,"sort",S),E=D(),R=V(()=>E.value?p.value?{_and:[p.value,E.value]}:E.value:p.value),O=ht(r,"displayTemplate",void 0),L=ht(r,"cameraOptions",void 0),q=ht(r,"clusterData",!1),T=ht(r,"geometryField",void 0),j=V(()=>g.value.find(Se=>Se.field==T.value)),U=V(()=>g.value.filter(({type:Se,meta:Ae})=>Se.startsWith("geometry")||(Ae==null?void 0:Ae.interface)=="map"));he(U,Se=>{!T.value&&Se.length>0&&(T.value=Se[0].field),T.value&&E.value&&!Object.keys(E.value).includes(T.value)&&(E.value=void 0)},{immediate:!0});const B=V(()=>{var We,st,gt;const Se=j.value;if(!Se)return;const Ae=Se.field,Oe=Ks(Se.type),Qe=(gt=Se.type.split(".")[1])!=null?gt:(st=(We=Se.meta)==null?void 0:We.options)==null?void 0:st.geometryType;if(!!Oe)return{geometryField:Ae,geometryFormat:Oe,geometryType:Qe}}),K=V(()=>{var Se;return((Se=B.value)==null?void 0:Se.geometryFormat)==="native"}),J=V(()=>{var Se,Ae,Oe;return O.value||((Ae=(Se=v.value)==null?void 0:Se.meta)==null?void 0:Ae.display_template)||`{{ ${(Oe=y.value)==null?void 0:Oe.field} }}`}),Y=V(()=>{var Se;return[T.value,...St(J.value)].concat((Se=y.value)==null?void 0:Se.field).filter(Ae=>!!Ae)});function W(){if(!K.value||!L.value||!T.value)return;const Se=L.value.bbox,Ae=[[Se[0],Se[1]],[Se[2],Se[1]],[Se[2],Se[3]],[Se[0],Se[3]],[Se[0],Se[1]]];return{[T.value]:{_intersects_bbox:{type:"Polygon",coordinates:[Ae]}}}}const G=D(!1);function Q(){var Se;if(G.value=!0,K.value){E.value=void 0;return}((Se=ue.value)==null?void 0:Se.features.length)&&(_e.value=z.exports.cloneDeep(ue.value.bbox))}he(L,()=>{G.value=!1,E.value=W()});const{items:X,loading:ee,error:le,totalPages:te,itemCount:re,totalCount:ye,getItems:fe}=Tl(s,{sort:I,limit:b,page:h,search:_,filter:R,fields:Y}),ue=D({type:"FeatureCollection",features:[]}),_e=D(),ce=D(null),oe=D(!1);he([_,s,b,I],ne),he(X,x),he(T,()=>G.value=!0);function ne(){G.value=!0,oe.value=!1}function x(){if(B.value)try{ue.value={type:"FeatureCollection",features:[]},oe.value=!0,ce.value=null,ue.value=jX(X.value,B.value),oe.value=!1,(!L.value||G.value)&&(_e.value=ue.value.bbox)}catch(Se){oe.value=!1,ce.value=Se,ue.value={type:"FeatureCollection",features:[]}}else ue.value={type:"FeatureCollection",features:[]}}const pe=D({type:"geojson",data:{type:"FeatureCollection",features:[]}});he(q,ge,{immediate:!0});function ge(){pe.value=z.exports.merge({},pe.value,{cluster:q.value})}function $e(Se){u.value=Array.from(new Set(Se))}function we(Se){u.value=Array.from(new Set(u.value.concat(Se)))}function be({ids:Se,replace:Ae}){Ae?$e(Se):we(Se)}function De({id:Se,replace:Ae}){e.selectMode?be({ids:[Se],replace:Ae}):o.push(`/content/${s.value}/${Se}`)}const qe=V(()=>{var Se,Ae;return e.readonly?null:(Ae=(Se=y.value)==null?void 0:Se.field)!=null?Ae:null}),Ke=V(()=>(re.value||0)<(ye.value||0)&&f.value?re.value===1?n("one_filtered_item"):n("start_end_of_count_filtered_items",{start:l((+h.value-1)*b.value+1),end:l(Math.min(h.value*b.value,re.value||0)),count:l(re.value||0)}):re.value===1?n("one_item"):n("start_end_of_count_items",{start:l((+h.value-1)*b.value+1),end:l(Math.min(h.value*b.value,re.value||0)),count:l(re.value||0)})),je=D({item:null});function Ue(Se){var Ae,Oe;if("item"in Se){const Qe=(Ae=y.value)==null?void 0:Ae.field;Se.item=Qe&&(Oe=X.value.find(We=>We[Qe]===Se.item))!=null?Oe:null}je.value=z.exports.merge({},je.value,Se)}return{collection:s,geojson:ue,directusSource:pe,directusLayers:ole(),featureId:qe,geojsonBounds:_e,geojsonLoading:oe,geojsonError:ce,geometryOptions:B,handleClick:De,handleSelect:be,geometryField:T,displayTemplate:O,isGeometryFieldNative:K,cameraOptions:L,clusterData:q,items:X,loading:ee,error:le,totalPages:te,page:h,toPage:Ne,itemCount:re,fieldsInCollection:g,limit:b,filter:p,primaryKeyField:y,sort:I,info:v,showingCount:Ke,refresh:Ee,resetPresetAndRefresh:Le,geometryFields:U,fitDataBounds:Q,template:J,itemPopup:je,updateItemPopup:Ue,download:Ce};async function Le(){var Se;await((Se=e==null?void 0:e.resetPreset)==null?void 0:Se.call(e)),Ee()}function Ee(){fe()}function Ce(){!s.value||no(s.value,Y.value,X.value)}function Ne(Se){h.value=Se}}}),ile=Object.freeze(Object.defineProperty({__proto__:null,default:ale},Symbol.toStringTag,{value:"Module"}));const rle=Z({inheritAttrs:!1,props:{itemCount:{type:Number,default:null},showingCount:{type:String,required:!0}}}),sle={key:0,class:"item-count"};function dle(e,t,n,l,o,u){return m(),F(Bt,{name:"fade"},{default:d(()=>[e.itemCount?(m(),A("span",sle,w(e.showingCount),1)):M("",!0)]),_:1})}var ule=H(rle,[["render",dle],["__scopeId","data-v-34941803"]]);const cle={class:"field"},ple={class:"type-label"},mle={inheritAttrs:!1};function fle(e,{emit:t}){const n=e,{t:l}=ae(),o=Ge(n,"tableSpacing",t);return(u,r)=>{const i=c("v-select");return m(),A("div",cle,[$("div",ple,w(C(l)("layouts.tabular.spacing")),1),a(i,{modelValue:C(o),"onUpdate:modelValue":r[0]||(r[0]=s=>ut(o)?o.value=s:null),items:[{text:C(l)("layouts.tabular.compact"),value:"compact"},{text:C(l)("layouts.tabular.cozy"),value:"cozy"},{text:C(l)("layouts.tabular.comfortable"),value:"comfortable"}]},null,8,["modelValue","items"])])}}const _le=Z(Ie(ve({},mle),{props:{fields:null,activeFields:null,tableSpacing:null},emits:["update:tableSpacing","update:activeFields","update:fields"],setup:fle}));var vle=H(_le,[["__scopeId","data-v-7553a5af"]]);function Qs(e,t,n){const[l,...o]=t.split("."),u=Array.isArray(e)?e.map(r=>r[l]):e==null?void 0:e[l];return o.length>0?Qs(u,o.join("."),n):u!=null?u:n}const yle={class:"layout-tabular"},hle={class:"footer"},gle={class:"pagination"},ble={key:0,class:"per-page"},wle={inheritAttrs:!1};function kle(e,{emit:t}){const n=e,{t:l}=ae(),o=Ge(n,"selection",t),u=Ge(n,"tableHeaders",t),r=Ge(n,"limit",t),i=vt("main-element"),s=D();he(()=>n.page,()=>{var v;return(v=i==null?void 0:i.value)==null?void 0:v.scrollTo({top:0,behavior:"smooth"})}),rt("meta+a",()=>{n.selectAll()},s);const p=Ge(n,"fields",t);function f(v){p.value=[...p.value,v]}function _(v){p.value=p.value.filter(y=>y!==v)}return(v,y)=>{var Y;const g=c("render-display"),h=c("v-icon"),b=c("v-list-item-icon"),S=c("v-list-item-content"),I=c("v-list-item"),E=c("v-divider"),R=c("v-list"),O=c("v-field-list"),L=c("v-menu"),q=c("v-pagination"),T=c("v-select"),j=c("v-table"),U=c("v-error"),B=c("v-button"),K=c("v-info"),J=Fe("tooltip");return m(),A("div",yle,[e.loading||e.itemCount&&e.itemCount>0?(m(),F(j,{key:0,ref:(W,G)=>{G.table=W,s.value=W},modelValue:C(o),"onUpdate:modelValue":y[1]||(y[1]=W=>ut(o)?o.value=W:null),headers:C(u),"onUpdate:headers":y[2]||(y[2]=W=>ut(u)?u.value=W:null),class:"table","fixed-header":"","show-select":e.showSelect?e.showSelect:e.selection!==void 0,"show-resize":"","must-sort":"",sort:e.tableSort,items:e.items,loading:e.loading,"row-height":e.tableRowHeight,"server-sort":e.itemCount===e.limit||e.totalPages>1,"item-key":(Y=e.primaryKeyField)==null?void 0:Y.field,"show-manual-sort":e.sortField!==null,"manual-sort-key":e.sortField,"allow-header-reorder":"","selection-use-keys":"","onClick:row":e.onRowClick,"onUpdate:sort":e.onSortChange,onManualSort:e.changeManualSort},at({"header-context-menu":d(({header:W})=>[a(R,null,{default:d(()=>{var G,Q,X,ee;return[a(I,{disabled:!W.sortable,active:((G=e.tableSort)==null?void 0:G.by)===W.value&&((Q=e.tableSort)==null?void 0:Q.desc)===!1,clickable:"",onClick:le=>{var te;return(te=e.onSortChange)==null?void 0:te.call(e,{by:W.value,desc:!1})}},{default:d(()=>[a(b,null,{default:d(()=>[a(h,{name:"sort",class:"flip"})]),_:1}),a(S,null,{default:d(()=>[P(w(C(l)("sort_asc")),1)]),_:1})]),_:2},1032,["disabled","active","onClick"]),a(I,{active:((X=e.tableSort)==null?void 0:X.by)===W.value&&((ee=e.tableSort)==null?void 0:ee.desc)===!0,disabled:!W.sortable,clickable:"",onClick:le=>{var te;return(te=e.onSortChange)==null?void 0:te.call(e,{by:W.value,desc:!0})}},{default:d(()=>[a(b,null,{default:d(()=>[a(h,{name:"sort"})]),_:1}),a(S,null,{default:d(()=>[P(w(C(l)("sort_desc")),1)]),_:1})]),_:2},1032,["active","disabled","onClick"]),a(E),a(I,{active:W.align==="left",clickable:"",onClick:le=>{var te;return(te=e.onAlignChange)==null?void 0:te.call(e,W.value,"left")}},{default:d(()=>[a(b,null,{default:d(()=>[a(h,{name:"format_align_left"})]),_:1}),a(S,null,{default:d(()=>[P(w(C(l)("left_align")),1)]),_:1})]),_:2},1032,["active","onClick"]),a(I,{active:W.align==="center",clickable:"",onClick:le=>{var te;return(te=e.onAlignChange)==null?void 0:te.call(e,W.value,"center")}},{default:d(()=>[a(b,null,{default:d(()=>[a(h,{name:"format_align_center"})]),_:1}),a(S,null,{default:d(()=>[P(w(C(l)("center_align")),1)]),_:1})]),_:2},1032,["active","onClick"]),a(I,{active:W.align==="right",clickable:"",onClick:le=>{var te;return(te=e.onAlignChange)==null?void 0:te.call(e,W.value,"right")}},{default:d(()=>[a(b,null,{default:d(()=>[a(h,{name:"format_align_right"})]),_:1}),a(S,null,{default:d(()=>[P(w(C(l)("right_align")),1)]),_:1})]),_:2},1032,["active","onClick"]),a(E),a(I,{active:W.align==="right",clickable:"",onClick:le=>_(W.value)},{default:d(()=>[a(b,null,{default:d(()=>[a(h,{name:"remove"})]),_:1}),a(S,null,{default:d(()=>[P(w(C(l)("hide_field")),1)]),_:1})]),_:2},1032,["active","onClick"])]}),_:2},1024)]),"header-append":d(()=>[a(L,{placement:"bottom-end","show-arrow":"","close-on-content-click":!1},{activator:d(({toggle:W,active:G})=>[ie(a(h,{class:de(["add-field",{active:G}]),name:"add",clickable:"",onClick:W},null,8,["class","onClick"]),[[J,C(l)("add_field")]])]),default:d(()=>[a(O,{collection:e.collection,"disabled-fields":e.fields,onSelectField:f},null,8,["collection","disabled-fields"])]),_:1})]),footer:d(()=>[$("div",hle,[$("div",gle,[e.totalPages>1?(m(),F(q,{key:0,length:e.totalPages,"total-visible":7,"show-first-last":"","model-value":e.page,"onUpdate:modelValue":e.toPage},null,8,["length","model-value","onUpdate:modelValue"])):M("",!0)]),e.loading===!1&&e.items.length>=25?(m(),A("div",ble,[$("span",null,w(C(l)("per_page")),1),a(T,{"model-value":`${e.limit}`,items:["25","50","100","250","500"," 1000"],inline:"","onUpdate:modelValue":y[0]||(y[0]=W=>r.value=+W)},null,8,["model-value"])])):M("",!0)])]),_:2},[Ve(e.tableHeaders,W=>({name:`item.${W.value}`,fn:d(({item:G})=>[a(g,{value:C(Qs)(G,W.value),display:W.field.display,options:W.field.displayOptions,interface:W.field.interface,"interface-options":W.field.interfaceOptions,type:W.field.type,collection:W.field.collection,field:W.value},null,8,["value","display","options","interface","interface-options","type","collection","field"])])}))]),1032,["modelValue","headers","show-select","sort","items","loading","row-height","server-sort","item-key","show-manual-sort","manual-sort-key","onClick:row","onUpdate:sort","onManualSort"])):e.error?(m(),F(K,{key:1,type:"danger",title:C(l)("unexpected_error"),icon:"error",center:""},{append:d(()=>[a(U,{error:e.error},null,8,["error"]),a(B,{small:"",class:"reset-preset",onClick:e.resetPresetAndRefresh},{default:d(()=>[P(w(C(l)("reset_page_preferences")),1)]),_:1},8,["onClick"])]),default:d(()=>[P(w(C(l)("unexpected_error_copy"))+" ",1)]),_:1},8,["title"])):e.itemCount===0&&(e.filterUser||e.search)?ke(v.$slots,"no-results",{key:2},void 0,!0):e.itemCount===0?ke(v.$slots,"no-items",{key:3},void 0,!0):M("",!0)])}}const $le=Z(Ie(ve({},wle),{props:{collection:null,selection:{default:()=>[]},readonly:{type:Boolean},tableHeaders:null,showSelect:{default:"none"},items:null,loading:{type:Boolean},error:{default:null},totalPages:null,tableSort:{default:void 0},onRowClick:null,tableRowHeight:null,page:null,toPage:null,itemCount:{default:void 0},fields:null,limit:null,primaryKeyField:{default:void 0},info:{default:void 0},sortField:{default:void 0},changeManualSort:null,resetPresetAndRefresh:null,selectAll:null,filterUser:{default:void 0},search:{default:void 0},onSortChange:{type:Function,default:()=>{}},onAlignChange:{type:Function,default:()=>{}}},emits:["update:selection","update:tableHeaders","update:limit","update:fields"],setup:kle}));var Cle=H($le,[["__scopeId","data-v-757d3890"]]),Sle=Pl({id:"tabular",name:"$t:layouts.tabular.tabular",icon:"reorder",component:Cle,slots:{options:vle,sidebar:()=>{},actions:ule},setup(e,{emit:t}){const{t:n,n:l}=ae(),o=it(),u=Me(),r=Ge(e,"selection",t),i=Ge(e,"layoutOptions",t),s=Ge(e,"layoutQuery",t),{collection:p,filter:f,filterUser:_,search:v}=ze(e),{info:y,primaryKeyField:g,fields:h,sortField:b}=_t(p),{sort:S,limit:I,page:E,fields:R,fieldsWithRelational:O}=oe(),{items:L,loading:q,error:T,totalPages:j,itemCount:U,totalCount:B,changeManualSort:K,getItems:J}=Tl(p,{sort:S,limit:I,page:E,fields:O,filter:f,search:v}),{tableSort:Y,tableHeaders:W,tableRowHeight:G,onRowClick:Q,onSortChange:X,onAlignChange:ee,activeFields:le,tableSpacing:te}=ne(),re=V(()=>(U.value||0)<(B.value||0)&&_.value?U.value===1?n("one_filtered_item"):n("start_end_of_count_filtered_items",{start:l((+E.value-1)*I.value+1),end:l(Math.min(E.value*I.value,U.value||0)),count:l(U.value||0)}):U.value===1?n("one_item"):n("start_end_of_count_items",{start:l((+E.value-1)*I.value+1),end:l(Math.min(E.value*I.value,U.value||0)),count:l(U.value||0)}));return{tableHeaders:W,items:L,loading:q,error:T,totalPages:j,tableSort:Y,onRowClick:Q,onSortChange:X,onAlignChange:ee,tableRowHeight:G,page:E,toPage:_e,itemCount:U,totalCount:B,fieldsInCollection:h,fields:R,limit:I,activeFields:le,tableSpacing:te,primaryKeyField:g,info:y,showingCount:re,sortField:b,changeManualSort:K,hideDragImage:dn,refresh:fe,resetPresetAndRefresh:ye,selectAll:ce,filter:f,search:v,download:ue};async function ye(){var x;await((x=e==null?void 0:e.resetPreset)==null?void 0:x.call(e)),fe()}function fe(){J()}function ue(){!p.value||no(p.value,R.value,L.value)}function _e(x){E.value=x}function ce(){if(!g.value)return;const x=g.value;r.value=z.exports.clone(L.value).map(pe=>pe[x.field])}function oe(){const x=ht(s,"page",1),pe=ht(s,"limit",25),ge=V(()=>{var qe;return g.value?[(qe=g.value)==null?void 0:qe.field]:[]}),$e=ht(s,"sort",ge),we=V(()=>h.value.filter(qe=>{var Ke;return!((Ke=qe.meta)==null?void 0:Ke.hidden)}).slice(0,4).map(({field:qe})=>qe).sort()),be=ht(s,"fields",we),De=V(()=>e.collection?tn(be.value,e.collection):[]);return{sort:$e,limit:pe,page:x,fields:be,fieldsWithRelational:De}}function ne(){const x=V(()=>{var Le,Ee;return((Le=S.value)==null?void 0:Le[0])?((Ee=S.value)==null?void 0:Ee[0].startsWith("-"))?{by:S.value[0].substring(1),desc:!0}:{by:S.value[0],desc:!1}:null}),pe=D({});he(()=>i.value,()=>{pe.value={}});const ge=z.exports.debounce(()=>{i.value=Object.assign({},i.value,{widths:pe.value})},350),$e=V({get(){return p.value?R.value.map(Le=>Ie(ve({},u.getField(p.value,Le)),{key:Le})).filter(Le=>{var Ee,Ce;return Le&&((Ce=(Ee=Le.meta)==null?void 0:Ee.special)==null?void 0:Ce.includes("no-data"))!==!0}):[]},set(Le){R.value=Le.map(Ee=>Ee.field)}}),we=V({get(){return $e.value.map(Le=>{var Ne,Se,Ae,Oe,Qe,We,st,gt;let Ee=null;const Ce=Le.key.split(".");return Ce.length>1&&(Ee=Ce.map((Zt,ed)=>{var ka;const td=Ce.slice(0,ed),lo=u.getField(p.value,[...td,Zt].join("."));return(ka=lo==null?void 0:lo.name)!=null?ka:Zt}).join(" -> ")),{text:Le.name,value:Le.key,description:Ee,width:pe.value[Le.key]||((Se=(Ne=i.value)==null?void 0:Ne.widths)==null?void 0:Se[Le.key])||null,align:((Oe=(Ae=i.value)==null?void 0:Ae.align)==null?void 0:Oe[Le.key])||"left",field:{display:((Qe=Le.meta)==null?void 0:Qe.display)||hs(Le.type),displayOptions:(We=Le.meta)==null?void 0:We.display_options,interface:(st=Le.meta)==null?void 0:st.interface,interfaceOptions:(gt=Le.meta)==null?void 0:gt.options,type:Le.type,field:Le.field,collection:Le.collection},sortable:["json","alias","presentation","translations"].includes(Le.type)===!1}})},set(Le){const Ee={};Le.forEach(Ce=>{Ce.width&&(Ee[Ce.value]=Ce.width)}),pe.value=Ee,ge(),R.value=Le.map(Ce=>Ce.value)}}),be=ht(i,"spacing","cozy"),De=V(()=>{switch(be.value){case"compact":return 32;case"cozy":default:return 48;case"comfortable":return 64}});return{tableSort:x,tableHeaders:we,tableSpacing:be,tableRowHeight:De,onRowClick:qe,onSortChange:Ke,onAlignChange:je,activeFields:$e,getFieldDisplay:Ue};function qe({item:Le,event:Ee}){var Ne,Se;if(e.readonly===!0||!g.value)return;const Ce=Le[g.value.field];if(e.selectMode||((Ne=r.value)==null?void 0:Ne.length)>0)((Se=r.value)==null?void 0:Se.includes(Ce))===!1?r.value=r.value.concat(Ce):r.value=r.value.filter(Ae=>Ae!==Ce);else{const Ae=o.resolve(`/content/${p.value}/${encodeURIComponent(Ce)}`);Ee.ctrlKey||Ee.metaKey?window.open(Ae.href,"_blank"):o.push(Ae)}}function Ke(Le){let Ee=Le.by;if(!Le.by){S.value=[];return}Le.desc===!0&&(Ee="-"+Ee),S.value=[Ee]}function je(Le,Ee){var Ce,Ne;i.value=Object.assign({},i.value,{align:Ie(ve({},(Ne=(Ce=i.value)==null?void 0:Ce.align)!=null?Ne:{}),{[Le]:Ee})})}function Ue(Le){var Ce;const Ee=h.value.find(Ne=>Ne.field===Le);return((Ce=Ee==null?void 0:Ee.meta)==null?void 0:Ce.display)?{display:Ee.meta.display,options:Ee.meta.display_options}:null}}}}),Fle=Object.freeze(Object.defineProperty({__proto__:null,default:Sle},Symbol.toStringTag,{value:"Module"}));const{layoutsRaw:xs}=Cn();async function Vle(e){const n=Object.values({"./calendar/index.ts":Bte,"./cards/index.ts":Pne,"./map/index.ts":ile,"./tabular/index.ts":Fle}).map(l=>l.default);try{const l=await N(()=>import(`${tt()}extensions/layouts/index.js`),[]);n.push(...l.default)}catch(l){console.warn("Couldn't load custom layouts"),console.warn(l)}xs.value=n,xs.value.forEach(l=>{e.component(`layout-${l.id}`,l.component),e.component(`layout-options-${l.id}`,l.slots.options),e.component(`layout-sidebar-${l.id}`,l.slots.sidebar),e.component(`layout-actions-${l.id}`,l.slots.actions)})}var Ale="assets/logo-light.7a327cdd.svg";const Ile=e=>(xe("data-v-3a37fa47"),e=e(),et(),e),Ele={class:"title-box"},Dle=["src","alt"],Ple=Ile(()=>$("img",{src:Ale,alt:"Directus",class:"directus-logo"},null,-1)),Tle=[Ple],Ole={class:"title"},Lle={class:"type-title"},jle={class:"subtitle"},Rle={class:"content"},Mle={class:"notice"},Ule={key:0,viewBox:"0 0 1152 1152",preserveAspectRatio:"none",fill:"none",class:"fallback"},Nle=["fill"],Ble=["fill"],qle=["fill"],zle=["fill"],Kle=["fill"],Wle=["fill"],Hle=["src","alt"],Gle={class:"note-container"},Zle={key:0,class:"note"},Jle=Z({props:{wide:{type:Boolean,default:!1}},setup(e){const{t}=ae(),n=pn(),{info:l}=bt(n),o=V(()=>{var b,S;const f=((S=(b=l.value)==null?void 0:b.project)==null?void 0:S.project_color)||"var(--primary)",_=f.startsWith("var(--")?ot(f.substring(4,f.length-1)):f,v=Mt(_),y=v.hsl(),g=Mt({h:y.color[0]+69.1,s:y.color[1]+0,l:y.color[2]+16.7}),h=[];for(let I=1;I<6;I++){const E=Mt(v).mix(g,I/10);h.push(E.hex().toString())}return{primary:v.hex().toString(),secondary:g.hex().toString(),shades:h}}),u=V(()=>{var f,_;return!!((_=(f=l.value)==null?void 0:f.project)==null?void 0:_.project_color)}),r=V(()=>{var f,_;return!!((_=(f=l.value)==null?void 0:f.project)==null?void 0:_.public_background)}),i=V(()=>{var _;return r.value?{background:`url(${tt()+`assets/${(_=l.value.project)==null?void 0:_.public_background}`})`,backgroundSize:"cover",backgroundPosition:"center center"}:null}),s=V(()=>{var f,_,v;return((_=(f=l.value)==null?void 0:f.project)==null?void 0:_.public_foreground)?tt()+`assets/${(v=l.value.project)==null?void 0:v.public_foreground}`:null}),p=V(()=>{var f,_,v;return((_=(f=l.value)==null?void 0:f.project)==null?void 0:_.project_logo)?tt()+`assets/${(v=l.value.project)==null?void 0:v.project_logo}`:null});return(f,_)=>{var y,g,h,b,S,I,E,R,O,L,q,T,j,U;const v=Fe("md");return m(),A("div",{class:de(["public-view",{branded:C(u)}])},[$("div",{class:de(["container",{wide:e.wide}])},[$("div",Ele,[((g=(y=C(l))==null?void 0:y.project)==null?void 0:g.project_logo)?(m(),A("div",{key:0,class:"logo",style:Je({backgroundColor:(h=C(l))==null?void 0:h.project.project_color})},[$("img",{src:C(p),alt:((b=C(l))==null?void 0:b.project.project_name)||"Logo"},null,8,Dle)],4)):(m(),A("div",{key:1,class:"logo",style:Je({backgroundColor:(I=(S=C(l))==null?void 0:S.project)==null?void 0:I.project_color})},Tle,4)),$("div",Ole,[$("h1",Lle,w((R=(E=C(l))==null?void 0:E.project)==null?void 0:R.project_name),1),$("p",jle,w((q=(L=(O=C(l))==null?void 0:O.project)==null?void 0:L.project_descriptor)!=null?q:C(t)("application")),1)])]),$("div",Rle,[ke(f.$slots,"default")]),$("div",Mle,[ke(f.$slots,"notice")])],2),$("div",{class:"art",style:Je(C(i))},[C(r)?M("",!0):(m(),A("svg",Ule,[$("rect",{width:"1152",height:"1152",fill:C(o).primary},null,8,Nle),$("path",{d:"M1152 409.138C1148.61 406.92 1146.7 405.765 1146.7 405.765L6.87761e-07 958.424L-7.3277e-07 1152L506.681 1152C558.985 1126.93 614.88 1101.25 672.113 1074.95C839.401 998.085 1018.12 915.967 1152 828.591L1152 409.138Z",fill:C(o).shades[0]},null,8,Ble),$("path",{d:"M1152 159.866C1130.19 146.319 1114.45 138.98 1114.45 138.98L-6.09246e-07 759.421L-3.66364e-07 1152L88.7501 1152C131.867 1108.8 194.289 1054.33 281.936 993.927C371.847 931.97 507.23 864.306 651.138 792.382C828.097 703.939 1017.95 609.052 1152 510.407L1152 159.866Z",fill:C(o).shades[1]},null,8,qle),$("path",{d:"M772.894 -0.000472457L-4.49523e-07 457.782L-5.22658e-07 953.071C22.142 919.082 94.6279 821.1 262.854 696.786C351.427 631.334 485.624 558.338 628.272 480.744C816.642 378.28 1019.75 267.8 1152 156.087L1152 -0.000477328L772.894 -0.000472457Z",fill:C(o).shades[2]},null,8,zle),$("path",{d:"M286.365 -0.000483108L-1.73191e-07 176.373L2.43255e-06 662.21C33.488 615.87 106.028 529.959 243.326 424.909C331.205 357.671 464.771 281.956 606.749 201.473C720.914 136.756 840.519 68.9554 946.182 -0.000479285L286.365 -0.000483108Z",fill:C(o).shades[3]},null,8,Kle),$("path",{d:"M0.00195277 363.139C37.1564 313.499 107.096 233.66 228.181 137.623C281.94 94.9838 353.09 48.7594 432.872 9.43526e-06L0.00195595 0L0.00195277 363.139Z",fill:C(o).shades[4]},null,8,Wle)])),a(Bt,{name:"scale"},{default:d(()=>{var B,K;return[C(s)?(m(),A("img",{key:0,class:"foreground",src:C(s),alt:(K=(B=C(l))==null?void 0:B.project)==null?void 0:K.project_name},null,8,Hle)):M("",!0)]}),_:1}),$("div",Gle,[((j=(T=C(l))==null?void 0:T.project)==null?void 0:j.public_note)?ie((m(),A("div",Zle,null,512)),[[v,(U=C(l))==null?void 0:U.project.public_note]]):M("",!0)])],4)],2)}}});var Xle=H(Jle,[["__scopeId","data-v-3a37fa47"]]),Yle="assets/logo.eba1b355.svg";const Qle=Z({name:"SharedView",props:{title:{type:String,default:null},inline:{type:Boolean,default:!1}},setup(){const e=pn(),{info:t}=bt(e),{t:n}=ae(),l=V(()=>{var o,u,r;return((u=(o=e.info)==null?void 0:o.project)==null?void 0:u.project_logo)?tt()+`assets/${(r=e.info.project)==null?void 0:r.project_logo}`:null});return{serverInfo:t,t:n,logoURL:l}}}),xle=e=>(xe("data-v-6d8a8b35"),e=e(),et(),e),eoe={class:"inline-container"},toe={class:"container"},noe={class:"title-box"},loe=["src","alt"],ooe=xle(()=>$("img",{src:Yle,alt:"Directus",class:"directus-logo"},null,-1)),aoe=[ooe],ioe={class:"title"},roe={class:"subtitle"},soe={class:"type-title"},doe={class:"container"},uoe={class:"content"};function coe(e,t,n,l,o,u){var r,i,s,p,f;return m(),A("div",{class:de(["shared",{inline:e.inline}])},[$("div",eoe,[$("header",null,[$("div",toe,[$("div",noe,[((r=e.serverInfo)==null?void 0:r.project.project_logo)?(m(),A("div",{key:0,class:"logo",style:Je({backgroundColor:(i=e.serverInfo)==null?void 0:i.project.project_color})},[$("img",{src:e.logoURL,alt:((s=e.serverInfo)==null?void 0:s.project.project_name)||"Logo"},null,8,loe)],4)):(m(),A("div",{key:1,class:"logo",style:Je({backgroundColor:(p=e.serverInfo)==null?void 0:p.project.project_color})},aoe,4)),$("div",ioe,[$("p",roe,w((f=e.serverInfo)==null?void 0:f.project.project_name),1),ke(e.$slots,"title",{},()=>{var _;return[$("h1",soe,w((_=e.title)!=null?_:e.t("share_access_page")),1)]},!0)])])])]),$("div",doe,[$("div",uoe,[ke(e.$slots,"default",{},void 0,!0)])])])],2)}var poe=H(Qle,[["render",coe],["__scopeId","data-v-6d8a8b35"]]);const moe=za(()=>N(()=>import("./index.9a16f1fd.js"),["assets/index.9a16f1fd.js","assets/index.895a297f.css","assets/vendor.3b903562.js","assets/vendor.9387af12.css","assets/use-sync.c510d0f0.js"]));function foe(e){e.component("PublicView",Xle),e.component("PrivateView",moe),e.component("SharedView",poe)}_oe();async function _oe(){console.log(f4),console.info(`Hey! Interested in helping build this open-source data management platform?
If so, join our growing team of contributors at: https://directus.chat`),console.info("%c\u{1F430} Starting Directus...","color:Green"),console.time("\u{1F553} Application Loaded");const e=Su(xL);e.use(Gt),e.use(Be),e.use(Fu()),IK(e),vK(e),foe(e),await Promise.all([yte(e),aW(e),xH(e),Vle(e),AL()]),e.mount("#app"),console.timeEnd("\u{1F553} Application Loaded"),console.group("%c\u2728 Project Information","color:DodgerBlue"),console.info("%cEnvironment: production","color:DodgerBlue"),console.groupEnd(),window.addEventListener("dragover",t=>t.preventDefault(),!1),window.addEventListener("drop",t=>t.preventDefault(),!1)}export{sR as H,An as M,H as _,Xl as a,ct as b,Et as c,gl as d,Ye as e,Ll as f,tt as g,Br as h,Xe as i,me as j,ia as k,Ls as l,pn as m,Us as n,Sn as o,Gn as p,hi as q,gC as r,Be as s,Dt as t,bl as u,KL as v,$3 as w,$o as x,aJ as y};
